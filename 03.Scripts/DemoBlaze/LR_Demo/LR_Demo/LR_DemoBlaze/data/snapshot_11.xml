<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="11">
  <HTTPTask id="62" hostname="www.demoblaze.com" path="https://www.demoblaze.com/node_modules/video.js/dist/video.min.js" url="https://www.demoblaze.com/node_modules/video.js/dist/video.min.js" ip="142.250.71.19" port="443" connectionId="13" origin="Primary" frame="1" startDateTime="2024-12-12T15:49:26.085+05:30" startTime="78412171" endTime="78412171">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzMS4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjEzMSIsICJDaHJvbWl1bSI7dj0iMTMxIiwgIk5vdF9BIEJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cuZGVtb2JsYXplLmNvbS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgenN0ZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tR0IsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmRlbW9ibGF6ZS5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHBzOi8vd3d3LmRlbW9ibGF6ZS5jb20vbm9kZV9tb2R1bGVzL3ZpZGVvLmpzL2Rpc3QvdmlkZW8ubWluLmpzIEhUVFAvMS4xDQpzZWMtY2gtdWEtcGxhdGZvcm06ICJXaW5kb3dzIg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzMS4wLjAuMCBTYWZhcmkvNTM3LjM2DQpzZWMtY2gtdWE6ICJHb29nbGUgQ2hyb21lIjt2PSIxMzEiLCAiQ2hyb21pdW0iO3Y9IjEzMSIsICJOb3RfQSBCcmFuZCI7dj0iMjQiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0KQWNjZXB0OiAqLyoNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLU1vZGU6IG5vLWNvcnMNClNlYy1GZXRjaC1EZXN0OiBzY3JpcHQNClJlZmVyZXI6IGh0dHBzOi8vd3d3LmRlbW9ibGF6ZS5jb20vDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHpzdGQNCkFjY2VwdC1MYW5ndWFnZTogZW4tR0IsZW47cT0wLjkNCkhvc3Q6IHd3dy5kZW1vYmxhemUuY29tDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="X-Cloud-Trace-Context" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTFkMDg1NmE1NzdlMjZhNjBkZjAwMWY5N2Q4YzljZjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R29vZ2xlIEZyb250ZW5k</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo0OSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo1OSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTEw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IlRUbzhwQSI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpYLUNsb3VkLVRyYWNlLUNvbnRleHQ6IDUxZDA4NTZhNTc3ZTI2YTYwZGYwMDFmOTdkOGM5Y2Y0DQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpTZXJ2ZXI6IEdvb2dsZSBGcm9udGVuZA0KRGF0ZTogVGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo0OSBHTVQNCkV4cGlyZXM6IFRodSwgMTIgRGVjIDIwMjQgMTA6MTY6NTkgR01UDQpDYWNoZS1Db250cm9sOiBwdWJsaWMsIG1heC1hZ2U9MTANCkVUYWc6ICJUVG84cEEiDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkFnZTogMA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyoqCiAqIEBsaWNlbnNlCiAqIFZpZGVvLmpzIDcuNi41IDxodHRwOi8vdmlkZW9qcy5jb20vPgogKiBDb3B5cmlnaHQgQnJpZ2h0Y292ZSwgSW5jLiA8aHR0cHM6Ly93d3cuYnJpZ2h0Y292ZS5jb20vPgogKiBBdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAKICogPGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0U+CiAqCiAqIEluY2x1ZGVzIHZ0dC5qcyA8aHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzPgogKiBBdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAKICogPGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3Z0dC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFPgogKi8KIWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoImdsb2JhbC93aW5kb3ciKSxyZXF1aXJlKCJnbG9iYWwvZG9jdW1lbnQiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJnbG9iYWwvd2luZG93IiwiZ2xvYmFsL2RvY3VtZW50Il0sdCk6KGU9ZXx8c2VsZikudmlkZW9qcz10KGUud2luZG93LGUuZG9jdW1lbnQpfSh0aGlzLGZ1bmN0aW9uKHYsaCl7dj12JiZ2Lmhhc093blByb3BlcnR5KCJkZWZhdWx0Iik/di5kZWZhdWx0OnYsaD1oJiZoLmhhc093blByb3BlcnR5KCJkZWZhdWx0Iik/aC5kZWZhdWx0Omg7dmFyIGQ9IjcuNi41Iix1PVtdLGU9ZnVuY3Rpb24ocyxvKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW8ubGV2ZWxzW3RdLHI9bmV3IFJlZ0V4cCgiXigiK24rIikkIik7aWYoImxvZyIhPT1lJiZpLnVuc2hpZnQoZS50b1VwcGVyQ2FzZSgpKyI6IiksaS51bnNoaWZ0KHMrIjoiKSx1JiZ1LnB1c2goW10uY29uY2F0KGkpKSx2LmNvbnNvbGUpe3ZhciBhPXYuY29uc29sZVtlXTthfHwiZGVidWciIT09ZXx8KGE9di5jb25zb2xlLmluZm98fHYuY29uc29sZS5sb2cpLGEmJm4mJnIudGVzdChlKSYmYVtBcnJheS5pc0FycmF5KGkpPyJhcHBseSI6ImNhbGwiXSh2LmNvbnNvbGUsaSl9fX07dmFyIHA9ZnVuY3Rpb24gdChpKXtmdW5jdGlvbiBuKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cigibG9nIixhLHQpfXZhciByLGE9ImluZm8iO3JldHVybiByPWUoaSxuKSxuLmNyZWF0ZUxvZ2dlcj1mdW5jdGlvbihlKXtyZXR1cm4gdChpKyI6ICIrZSl9LG4ubGV2ZWxzPXthbGw6ImRlYnVnfGxvZ3x3YXJufGVycm9yIixvZmY6IiIsZGVidWc6ImRlYnVnfGxvZ3x3YXJufGVycm9yIixpbmZvOiJsb2d8d2FybnxlcnJvciIsd2Fybjoid2FybnxlcnJvciIsZXJyb3I6ImVycm9yIixERUZBVUxUOmF9LG4ubGV2ZWw9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZighbi5sZXZlbHMuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCciJytlKyciIGluIG5vdCBhIHZhbGlkIGxvZyBsZXZlbCcpO2E9ZX1yZXR1cm4gYX0sKG4uaGlzdG9yeT1mdW5jdGlvbigpe3JldHVybiB1P1tdLmNvbmNhdCh1KTpbXX0pLmZpbHRlcj1mdW5jdGlvbih0KXtyZXR1cm4odXx8W10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFJlZ0V4cCgiLioiK3QrIi4qIikudGVzdChlWzBdKX0pfSxuLmhpc3RvcnkuY2xlYXI9ZnVuY3Rpb24oKXt1JiYodS5sZW5ndGg9MCl9LG4uaGlzdG9yeS5kaXNhYmxlPWZ1bmN0aW9uKCl7bnVsbCE9PXUmJih1Lmxlbmd0aD0wLHU9bnVsbCl9LG4uaGlzdG9yeS5lbmFibGU9ZnVuY3Rpb24oKXtudWxsPT09dSYmKHU9W10pfSxuLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07cmV0dXJuIHIoImVycm9yIixhLHQpfSxuLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gcigid2FybiIsYSx0KX0sbi5kZWJ1Zz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3JldHVybiByKCJkZWJ1ZyIsYSx0KX0sbn0oIlZJREVPSlMiKSxmPXAuY3JlYXRlTG9nZ2VyLHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPWZ1bmN0aW9uKGUpe3JldHVybiBzKGUpP09iamVjdC5rZXlzKGUpOltdfTtmdW5jdGlvbiByKHQsaSl7YSh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBpKHRbZV0sZSl9KX1mdW5jdGlvbiBtKGkpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KDE8ZT9lLTE6MCksbj0xO248ZTtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCxbaV0uY29uY2F0KHQpKToodC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UmJnIoZSxmdW5jdGlvbihlLHQpe2lbdF09ZX0pfSksaSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4hIWUmJiJvYmplY3QiPT10eXBlb2YgZX1mdW5jdGlvbiBvKGUpe3JldHVybiBzKGUpJiYiW29iamVjdCBPYmplY3RdIj09PXQuY2FsbChlKSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiBuKGUsdCl7aWYoIWV8fCF0KXJldHVybiIiO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB2LmdldENvbXB1dGVkU3R5bGUpcmV0dXJuIiI7dmFyIGk9di5nZXRDb21wdXRlZFN0eWxlKGUpO3JldHVybiBpP2kuZ2V0UHJvcGVydHlWYWx1ZSh0KXx8aVt0XToiIn1mdW5jdGlvbiBsKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmL1xTLy50ZXN0KGUpfWZ1bmN0aW9uIGkoZSl7aWYoL1xzLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcigiY2xhc3MgaGFzIGlsbGVnYWwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIil9ZnVuY3Rpb24gYygpe3JldHVybiBoPT09di5kb2N1bWVudH1mdW5jdGlvbiBnKGUpe3JldHVybiBzKGUpJiYxPT09ZS5ub2RlVHlwZX1mdW5jdGlvbiB5KCl7dHJ5e3JldHVybiB2LnBhcmVudCE9PXYuc2VsZn1jYXRjaChlKXtyZXR1cm4hMH19ZnVuY3Rpb24gXyhuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighbChlKSlyZXR1cm4gaFtuXShudWxsKTtsKHQpJiYodD1oLnF1ZXJ5U2VsZWN0b3IodCkpO3ZhciBpPWcodCk/dDpoO3JldHVybiBpW25dJiZpW25dKGUpfX1mdW5jdGlvbiBiKGUsaSx0LG4pe3ZvaWQgMD09PWUmJihlPSJkaXYiKSx2b2lkIDA9PT1pJiYoaT17fSksdm9pZCAwPT09dCYmKHQ9e30pO3ZhciByPWguY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pW2VdOy0xIT09ZS5pbmRleE9mKCJhcmlhLSIpfHwicm9sZSI9PT1lfHwidHlwZSI9PT1lPyhwLndhcm4oIlNldHRpbmcgYXR0cmlidXRlcyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIGNyZWF0ZUVsKClcbmhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgdGhpcmQgYXJndW1lbnQgaW5zdGVhZC5cbmNyZWF0ZUVsKHR5cGUsIHByb3BlcnRpZXMsIGF0dHJpYnV0ZXMpLiBBdHRlbXB0aW5nIHRvIHNldCAiK2UrIiB0byAiK3QrIi4iKSxyLnNldEF0dHJpYnV0ZShlLHQpKToidGV4dENvbnRlbnQiPT09ZT9UKHIsdCk6cltlXT10fSksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtyLnNldEF0dHJpYnV0ZShlLHRbZV0pfSksbiYmRihyLG4pLHJ9ZnVuY3Rpb24gVChlLHQpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS50ZXh0Q29udGVudD9lLmlubmVyVGV4dD10OmUudGV4dENvbnRlbnQ9dCxlfWZ1bmN0aW9uIFMoZSx0KXt0LmZpcnN0Q2hpbGQ/dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpOnQuYXBwZW5kQ2hpbGQoZSl9ZnVuY3Rpb24gayhlLHQpe3JldHVybiBpKHQpLGUuY2xhc3NMaXN0P2UuY2xhc3NMaXN0LmNvbnRhaW5zKHQpOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKCIoXnxcXHMpIitlKyIoJHxcXHMpIil9KHQpLnRlc3QoZS5jbGFzc05hbWUpfWZ1bmN0aW9uIEMoZSx0KXtyZXR1cm4gZS5jbGFzc0xpc3Q/ZS5jbGFzc0xpc3QuYWRkKHQpOmsoZSx0KXx8KGUuY2xhc3NOYW1lPShlLmNsYXNzTmFtZSsiICIrdCkudHJpbSgpKSxlfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZS5jbGFzc0xpc3Q/ZS5jbGFzc0xpc3QucmVtb3ZlKHQpOihpKHQpLGUuY2xhc3NOYW1lPWUuY2xhc3NOYW1lLnNwbGl0KC9ccysvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkuam9pbigiICIpKSxlfWZ1bmN0aW9uIHcoZSx0LGkpe3ZhciBuPWsoZSx0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgaSYmKGk9aShlLHQpKSwiYm9vbGVhbiIhPXR5cGVvZiBpJiYoaT0hbiksaSE9PW4pcmV0dXJuIGk/QyhlLHQpOkUoZSx0KSxlfWZ1bmN0aW9uIEEoaSxuKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07bnVsbD09PXR8fCJ1bmRlZmluZWQiPT10eXBlb2YgdHx8ITE9PT10P2kucmVtb3ZlQXR0cmlidXRlKGUpOmkuc2V0QXR0cmlidXRlKGUsITA9PT10PyIiOnQpfSl9ZnVuY3Rpb24gUChlKXt2YXIgdD17fSxpPSIsYXV0b3BsYXksY29udHJvbHMscGxheXNpbmxpbmUsbG9vcCxtdXRlZCxkZWZhdWx0LGRlZmF1bHRNdXRlZCwiO2lmKGUmJmUuYXR0cmlidXRlcyYmMDxlLmF0dHJpYnV0ZXMubGVuZ3RoKWZvcih2YXIgbj1lLmF0dHJpYnV0ZXMscj1uLmxlbmd0aC0xOzA8PXI7ci0tKXt2YXIgYT1uW3JdLm5hbWUscz1uW3JdLnZhbHVlOyJib29sZWFuIiE9dHlwZW9mIGVbYV0mJi0xPT09aS5pbmRleE9mKCIsIithKyIsIil8fChzPW51bGwhPT1zKSx0W2FdPXN9cmV0dXJuIHR9ZnVuY3Rpb24gSShlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBMKGUsdCxpKXtlLnNldEF0dHJpYnV0ZSh0LGkpfWZ1bmN0aW9uIE8oZSx0KXtlLnJlbW92ZUF0dHJpYnV0ZSh0KX1mdW5jdGlvbiB4KCl7aC5ib2R5LmZvY3VzKCksaC5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITF9fWZ1bmN0aW9uIEQoKXtoLm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH19ZnVuY3Rpb24gVShlKXtpZihlJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmZS5wYXJlbnROb2RlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9e307cmV0dXJuWyJib3R0b20iLCJoZWlnaHQiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJ3aWR0aCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT09dFtlXSYmKGlbZV09dFtlXSl9KSxpLmhlaWdodHx8KGkuaGVpZ2h0PXBhcnNlRmxvYXQobihlLCJoZWlnaHQiKSkpLGkud2lkdGh8fChpLndpZHRoPXBhcnNlRmxvYXQobihlLCJ3aWR0aCIpKSksaX19ZnVuY3Rpb24gUihlKXt2YXIgdDtpZihlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmZS5wYXJlbnROb2RlJiYodD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSwhdClyZXR1cm57bGVmdDowLHRvcDowfTt2YXIgaT1oLmRvY3VtZW50RWxlbWVudCxuPWguYm9keSxyPWkuY2xpZW50TGVmdHx8bi5jbGllbnRMZWZ0fHwwLGE9di5wYWdlWE9mZnNldHx8bi5zY3JvbGxMZWZ0LHM9dC5sZWZ0K2EtcixvPWkuY2xpZW50VG9wfHxuLmNsaWVudFRvcHx8MCx1PXYucGFnZVlPZmZzZXR8fG4uc2Nyb2xsVG9wLGw9dC50b3ArdS1vO3JldHVybntsZWZ0Ok1hdGgucm91bmQocyksdG9wOk1hdGgucm91bmQobCl9fWZ1bmN0aW9uIE0oZSx0KXt2YXIgaT17fSxuPVIoZSkscj1lLm9mZnNldFdpZHRoLGE9ZS5vZmZzZXRIZWlnaHQscz1uLnRvcCxvPW4ubGVmdCx1PXQucGFnZVksbD10LnBhZ2VYO3JldHVybiB0LmNoYW5nZWRUb3VjaGVzJiYobD10LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLHU9dC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWSksaS55PU1hdGgubWF4KDAsTWF0aC5taW4oMSwocy11K2EpL2EpKSxpLng9TWF0aC5tYXgoMCxNYXRoLm1pbigxLChsLW8pL3IpKSxpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIHMoZSkmJjM9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIEIoZSl7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gZX1mdW5jdGlvbiBqKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKCkpLChBcnJheS5pc0FycmF5KGUpP2U6W2VdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPWUoKSksZyhlKXx8TihlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmL1xTLy50ZXN0KGUpP2guY3JlYXRlVGV4dE5vZGUoZSk6dm9pZCAwfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9ZnVuY3Rpb24gRih0LGUpe3JldHVybiBqKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSl9KSx0fWZ1bmN0aW9uIEgoZSx0KXtyZXR1cm4gRihCKGUpLHQpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uJiZ2b2lkIDA9PT1lLmJ1dHRvbnN8fCgwPT09ZS5idXR0b24mJnZvaWQgMD09PWUuYnV0dG9uc3x8KCJtb3VzZXVwIj09PWUudHlwZSYmMD09PWUuYnV0dG9uJiYwPT09ZS5idXR0b25zfHwwPT09ZS5idXR0b24mJjE9PT1lLmJ1dHRvbnMpKX12YXIgcSxXPV8oInF1ZXJ5U2VsZWN0b3IiKSx6PV8oInF1ZXJ5U2VsZWN0b3JBbGwiKSwkPU9iamVjdC5mcmVlemUoe2lzUmVhbDpjLGlzRWw6Zyxpc0luRnJhbWU6eSxjcmVhdGVFbDpiLHRleHRDb250ZW50OlQscHJlcGVuZFRvOlMsaGFzQ2xhc3M6ayxhZGRDbGFzczpDLHJlbW92ZUNsYXNzOkUsdG9nZ2xlQ2xhc3M6dyxzZXRBdHRyaWJ1dGVzOkEsZ2V0QXR0cmlidXRlczpQLGdldEF0dHJpYnV0ZTpJLHNldEF0dHJpYnV0ZTpMLHJlbW92ZUF0dHJpYnV0ZTpPLGJsb2NrVGV4dFNlbGVjdGlvbjp4LHVuYmxvY2tUZXh0U2VsZWN0aW9uOkQsZ2V0Qm91bmRpbmdDbGllbnRSZWN0OlUsZmluZFBvc2l0aW9uOlIsZ2V0UG9pbnRlclBvc2l0aW9uOk0saXNUZXh0Tm9kZTpOLGVtcHR5RWw6Qixub3JtYWxpemVDb250ZW50OmosYXBwZW5kQ29udGVudDpGLGluc2VydENvbnRlbnQ6SCxpc1NpbmdsZUxlZnRDbGljazpWLCQ6VywkJDp6fSksRz0hMSxYPWZ1bmN0aW9uKCl7aWYoYygpJiYhMSE9PXEub3B0aW9ucy5hdXRvU2V0dXApe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGguZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZpZGVvIikpLHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYXVkaW8iKSksaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChoLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ2aWRlby1qcyIpKSxuPWUuY29uY2F0KHQsaSk7aWYobiYmMDxuLmxlbmd0aClmb3IodmFyIHI9MCxhPW4ubGVuZ3RoO3I8YTtyKyspe3ZhciBzPW5bcl07aWYoIXN8fCFzLmdldEF0dHJpYnV0ZSl7SygxKTticmVha312b2lkIDA9PT1zLnBsYXllciYmbnVsbCE9PXMuZ2V0QXR0cmlidXRlKCJkYXRhLXNldHVwIikmJnEocyl9ZWxzZSBHfHxLKDEpfX07ZnVuY3Rpb24gSyhlLHQpe3QmJihxPXQpLHYuc2V0VGltZW91dChYLGUpfWZ1bmN0aW9uIFkoKXtHPSEwLHYucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsWSl9YygpJiYoImNvbXBsZXRlIj09PWgucmVhZHlTdGF0ZT9ZKCk6di5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixZKSk7ZnVuY3Rpb24gUShlKXt2YXIgdD1oLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIHQuY2xhc3NOYW1lPWUsdH1mdW5jdGlvbiBKKGUsdCl7ZS5zdHlsZVNoZWV0P2Uuc3R5bGVTaGVldC5jc3NUZXh0PXQ6ZS50ZXh0Q29udGVudD10fXZhciBaPW5ldyBXZWFrTWFwLGVlPTM7ZnVuY3Rpb24gdGUoKXtyZXR1cm4gZWUrK31mdW5jdGlvbiBpZShlLHQpe2lmKFouaGFzKGUpKXt2YXIgaT1aLmdldChlKTswPT09aS5oYW5kbGVyc1t0XS5sZW5ndGgmJihkZWxldGUgaS5oYW5kbGVyc1t0XSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsaS5kaXNwYXRjaGVyLCExKTplLmRldGFjaEV2ZW50JiZlLmRldGFjaEV2ZW50KCJvbiIrdCxpLmRpc3BhdGNoZXIpKSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpLmhhbmRsZXJzKS5sZW5ndGg8PTAmJihkZWxldGUgaS5oYW5kbGVycyxkZWxldGUgaS5kaXNwYXRjaGVyLGRlbGV0ZSBpLmRpc2FibGVkKSwwPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkubGVuZ3RoJiZaLmRlbGV0ZShlKX19ZnVuY3Rpb24gbmUodCxpLGUsbil7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoaSxlLG4pfSl9ZnVuY3Rpb24gcmUoZSl7ZnVuY3Rpb24gdCgpe3JldHVybiEwfWZ1bmN0aW9uIGkoKXtyZXR1cm4hMX1pZighZXx8IWUuaXNQcm9wYWdhdGlvblN0b3BwZWQpe3ZhciBuPWV8fHYuZXZlbnQ7Zm9yKHZhciByIGluIGU9e30sbikibGF5ZXJYIiE9PXImJiJsYXllclkiIT09ciYmImtleUxvY2F0aW9uIiE9PXImJiJ3ZWJraXRNb3ZlbWVudFgiIT09ciYmIndlYmtpdE1vdmVtZW50WSIhPT1yJiYoInJldHVyblZhbHVlIj09PXImJm4ucHJldmVudERlZmF1bHR8fChlW3JdPW5bcl0pKTtpZihlLnRhcmdldHx8KGUudGFyZ2V0PWUuc3JjRWxlbWVudHx8aCksZS5yZWxhdGVkVGFyZ2V0fHwoZS5yZWxhdGVkVGFyZ2V0PWUuZnJvbUVsZW1lbnQ9PT1lLnRhcmdldD9lLnRvRWxlbWVudDplLmZyb21FbGVtZW50KSxlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7bi5wcmV2ZW50RGVmYXVsdCYmbi5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITEsbi5yZXR1cm5WYWx1ZT0hMSxlLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGUuZGVmYXVsdFByZXZlbnRlZD0hMSxlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe24uc3RvcFByb3BhZ2F0aW9uJiZuLnN0b3BQcm9wYWdhdGlvbigpLGUuY2FuY2VsQnViYmxlPSEwLG4uY2FuY2VsQnViYmxlPSEwLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dH0sZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJm4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD10LGUuc3RvcFByb3BhZ2F0aW9uKCl9LGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9aSxudWxsIT09ZS5jbGllbnRYJiZ2b2lkIDAhPT1lLmNsaWVudFgpe3ZhciBhPWguZG9jdW1lbnRFbGVtZW50LHM9aC5ib2R5O2UucGFnZVg9ZS5jbGllbnRYKyhhJiZhLnNjcm9sbExlZnR8fHMmJnMuc2Nyb2xsTGVmdHx8MCktKGEmJmEuY2xpZW50TGVmdHx8cyYmcy5jbGllbnRMZWZ0fHwwKSxlLnBhZ2VZPWUuY2xpZW50WSsoYSYmYS5zY3JvbGxUb3B8fHMmJnMuc2Nyb2xsVG9wfHwwKS0oYSYmYS5jbGllbnRUb3B8fHMmJnMuY2xpZW50VG9wfHwwKX1lLndoaWNoPWUuY2hhckNvZGV8fGUua2V5Q29kZSxudWxsIT09ZS5idXR0b24mJnZvaWQgMCE9PWUuYnV0dG9uJiYoZS5idXR0b249MSZlLmJ1dHRvbj8wOjQmZS5idXR0b24/MToyJmUuYnV0dG9uPzI6MCl9cmV0dXJuIGV9dmFyIGFlPSExOyFmdW5jdGlvbigpe3RyeXt2YXIgZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXthZT0hMH19KTt2LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLG51bGwsZSksdi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixudWxsLGUpfWNhdGNoKGUpe319KCk7dmFyIHNlPVsidG91Y2hzdGFydCIsInRvdWNobW92ZSJdO2Z1bmN0aW9uIG9lKHMsZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBuZShvZSxzLGUsdCk7Wi5oYXMocyl8fFouc2V0KHMse30pO3ZhciBvPVouZ2V0KHMpO2lmKG8uaGFuZGxlcnN8fChvLmhhbmRsZXJzPXt9KSxvLmhhbmRsZXJzW2VdfHwoby5oYW5kbGVyc1tlXT1bXSksdC5ndWlkfHwodC5ndWlkPXRlKCkpLG8uaGFuZGxlcnNbZV0ucHVzaCh0KSxvLmRpc3BhdGNoZXJ8fChvLmRpc2FibGVkPSExLG8uZGlzcGF0Y2hlcj1mdW5jdGlvbihlLHQpe2lmKCFvLmRpc2FibGVkKXtlPXJlKGUpO3ZhciBpPW8uaGFuZGxlcnNbZS50eXBlXTtpZihpKWZvcih2YXIgbj1pLnNsaWNlKDApLHI9MCxhPW4ubGVuZ3RoO3I8YSYmIWUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTtyKyspdHJ5e25bcl0uY2FsbChzLGUsdCl9Y2F0Y2goZSl7cC5lcnJvcihlKX19fSksMT09PW8uaGFuZGxlcnNbZV0ubGVuZ3RoKWlmKHMuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGk9ITE7YWUmJi0xPHNlLmluZGV4T2YoZSkmJihpPXtwYXNzaXZlOiEwfSkscy5hZGRFdmVudExpc3RlbmVyKGUsby5kaXNwYXRjaGVyLGkpfWVsc2Ugcy5hdHRhY2hFdmVudCYmcy5hdHRhY2hFdmVudCgib24iK2Usby5kaXNwYXRjaGVyKX1mdW5jdGlvbiB1ZShlLHQsaSl7aWYoWi5oYXMoZSkpe3ZhciBuPVouZ2V0KGUpO2lmKG4uaGFuZGxlcnMpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG5lKHVlLGUsdCxpKTtmdW5jdGlvbiByKGUsdCl7bi5oYW5kbGVyc1t0XT1bXSxpZShlLHQpfWlmKHZvaWQgMCE9PXQpe3ZhciBhPW4uaGFuZGxlcnNbdF07aWYoYSlpZihpKXtpZihpLmd1aWQpZm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspYVtzXS5ndWlkPT09aS5ndWlkJiZhLnNwbGljZShzLS0sMSk7aWUoZSx0KX1lbHNlIHIoZSx0KX1lbHNlIGZvcih2YXIgbyBpbiBuLmhhbmRsZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmhhbmRsZXJzfHx7fSxvKSYmcihlLG8pfX19ZnVuY3Rpb24gbGUoZSx0LGkpe3ZhciBuPVouaGFzKGUpP1ouZ2V0KGUpOnt9LHI9ZS5wYXJlbnROb2RlfHxlLm93bmVyRG9jdW1lbnQ7aWYoInN0cmluZyI9PXR5cGVvZiB0P3Q9e3R5cGU6dCx0YXJnZXQ6ZX06dC50YXJnZXR8fCh0LnRhcmdldD1lKSx0PXJlKHQpLG4uZGlzcGF0Y2hlciYmbi5kaXNwYXRjaGVyLmNhbGwoZSx0LGkpLHImJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJiEwPT09dC5idWJibGVzKWxlLmNhbGwobnVsbCxyLHQsaSk7ZWxzZSBpZighciYmIXQuZGVmYXVsdFByZXZlbnRlZCYmdC50YXJnZXQmJnQudGFyZ2V0W3QudHlwZV0pe1ouaGFzKHQudGFyZ2V0KXx8Wi5zZXQodC50YXJnZXQse30pO3ZhciBhPVouZ2V0KHQudGFyZ2V0KTt0LnRhcmdldFt0LnR5cGVdJiYoYS5kaXNhYmxlZD0hMCwiZnVuY3Rpb24iPT10eXBlb2YgdC50YXJnZXRbdC50eXBlXSYmdC50YXJnZXRbdC50eXBlXSgpLGEuZGlzYWJsZWQ9ITEpfXJldHVybiF0LmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gY2UoZSx0LGkpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG5lKGNlLGUsdCxpKTtmdW5jdGlvbiBuKCl7dWUoZSx0LG4pLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZ3VpZD1pLmd1aWQ9aS5ndWlkfHx0ZSgpLG9lKGUsdCxuKX1mdW5jdGlvbiBoZShlLHQsaSl7ZnVuY3Rpb24gbigpe3VlKGUsdCxuKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmd1aWQ9aS5ndWlkPWkuZ3VpZHx8dGUoKSxvZShlLHQsbil9ZnVuY3Rpb24gZGUoZSx0LGkpe3QuZ3VpZHx8KHQuZ3VpZD10ZSgpKTt2YXIgbj10LmJpbmQoZSk7cmV0dXJuIG4uZ3VpZD1pP2krIl8iK3QuZ3VpZDp0Lmd1aWQsbn1mdW5jdGlvbiBwZSh0LGkpe3ZhciBuPXYucGVyZm9ybWFuY2Uubm93KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9di5wZXJmb3JtYW5jZS5ub3coKTtpPD1lLW4mJih0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpLG49ZSl9fWZ1bmN0aW9uIGZlKCl7fXZhciBtZSxnZT1PYmplY3QuZnJlZXplKHtmaXhFdmVudDpyZSxvbjpvZSxvZmY6dWUsdHJpZ2dlcjpsZSxvbmU6Y2UsYW55OmhlfSk7ZmUucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfPXt9LGZlLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuYWRkRXZlbnRMaXN0ZW5lcjt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXt9LG9lKHRoaXMsZSx0KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9aX0sZmUucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZmUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3VlKHRoaXMsZSx0KX0sZmUucHJvdG90eXBlLm9uZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuYWRkRXZlbnRMaXN0ZW5lcjt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXt9LGNlKHRoaXMsZSx0KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9aX0sZmUucHJvdG90eXBlLmFueT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuYWRkRXZlbnRMaXN0ZW5lcjt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXt9LGhlKHRoaXMsZSx0KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9aX0sZmUucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZmUucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlfHxlOyJzdHJpbmciPT10eXBlb2YgZSYmKGU9e3R5cGU6dH0pLGU9cmUoZSksdGhpcy5hbGxvd2VkRXZlbnRzX1t0XSYmdGhpc1sib24iK3RdJiZ0aGlzWyJvbiIrdF0oZSksbGUodGhpcyxlKX0sZmUucHJvdG90eXBlLnF1ZXVlVHJpZ2dlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO21lPW1lfHxuZXcgTWFwO3ZhciBpPWUudHlwZXx8ZSxuPW1lLmdldCh0aGlzKTtufHwobj1uZXcgTWFwLG1lLnNldCh0aGlzLG4pKTt2YXIgcj1uLmdldChpKTtuLmRlbGV0ZShpKSx2LmNsZWFyVGltZW91dChyKTt2YXIgYT12LnNldFRpbWVvdXQoZnVuY3Rpb24oKXswPT09bi5zaXplJiYobj1udWxsLG1lLmRlbGV0ZSh0KSksdC50cmlnZ2VyKGUpfSwwKTtuLnNldChpLGEpfTtmdW5jdGlvbiB5ZShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJi9cUy8udGVzdChlKXx8QXJyYXkuaXNBcnJheShlKSYmISFlLmxlbmd0aH1mdW5jdGlvbiB2ZShlKXtpZighZS5ub2RlTmFtZSYmIWtlKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YXJnZXQ7IG11c3QgYmUgYSBET00gbm9kZSBvciBldmVudGVkIG9iamVjdC4iKX1mdW5jdGlvbiBfZShlKXtpZigheWUoZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGV2ZW50IHR5cGU7IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIG9yIGFycmF5LiIpfWZ1bmN0aW9uIGJlKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBsaXN0ZW5lcjsgbXVzdCBiZSBhIGZ1bmN0aW9uLiIpfWZ1bmN0aW9uIFRlKGUsdCl7dmFyIGksbixyLGE9dC5sZW5ndGg8M3x8dFswXT09PWV8fHRbMF09PT1lLmV2ZW50QnVzRWxfO3JldHVybiByPWE/KGk9ZS5ldmVudEJ1c0VsXywzPD10Lmxlbmd0aCYmdC5zaGlmdCgpLG49dFswXSx0WzFdKTooaT10WzBdLG49dFsxXSx0WzJdKSx2ZShpKSxfZShuKSxiZShyKSx7aXNUYXJnZXRpbmdTZWxmOmEsdGFyZ2V0OmksdHlwZTpuLGxpc3RlbmVyOnI9ZGUoZSxyKX19ZnVuY3Rpb24gU2UoZSx0LGksbil7dmUoZSksZS5ub2RlTmFtZT9nZVt0XShlLGksbik6ZVt0XShpLG4pfXZhciBrZT1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZlfHwhIXQuZXZlbnRCdXNFbF8mJlsib24iLCJvbmUiLCJvZmYiLCJ0cmlnZ2VyIl0uZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbZV19KX0sQ2U9e29uOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWlbbl09YXJndW1lbnRzW25dO3ZhciByPVRlKHRoaXMsaSksYT1yLmlzVGFyZ2V0aW5nU2VsZixzPXIudGFyZ2V0LG89ci50eXBlLHU9ci5saXN0ZW5lcjtpZihTZShzLCJvbiIsbyx1KSwhYSl7ZnVuY3Rpb24gbCgpe3JldHVybiBlLm9mZihzLG8sdSl9bC5ndWlkPXUuZ3VpZDtmdW5jdGlvbiBjKCl7cmV0dXJuIGUub2ZmKCJkaXNwb3NlIixsKX1jLmd1aWQ9dS5ndWlkLFNlKHRoaXMsIm9uIiwiZGlzcG9zZSIsbCksU2Uocywib24iLCJkaXNwb3NlIixjKX19LG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt2YXIgcj1UZSh0aGlzLHQpLGE9ci5pc1RhcmdldGluZ1NlbGYscz1yLnRhcmdldCxvPXIudHlwZSx1PXIubGlzdGVuZXI7aWYoYSlTZShzLCJvbmUiLG8sdSk7ZWxzZXtmdW5jdGlvbiBsKCl7bi5vZmYocyxvLGwpO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3UuYXBwbHkobnVsbCx0KX1sLmd1aWQ9dS5ndWlkLFNlKHMsIm9uZSIsbyxsKX19LGFueTpmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt2YXIgcj1UZSh0aGlzLHQpLGE9ci5pc1RhcmdldGluZ1NlbGYscz1yLnRhcmdldCxvPXIudHlwZSx1PXIubGlzdGVuZXI7aWYoYSlTZShzLCJhbnkiLG8sdSk7ZWxzZXtmdW5jdGlvbiBsKCl7bi5vZmYocyxvLGwpO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3UuYXBwbHkobnVsbCx0KX1sLmd1aWQ9dS5ndWlkLFNlKHMsImFueSIsbyxsKX19LG9mZjpmdW5jdGlvbihlLHQsaSl7aWYoIWV8fHllKGUpKXVlKHRoaXMuZXZlbnRCdXNFbF8sZSx0KTtlbHNle3ZhciBuPWUscj10O3ZlKG4pLF9lKHIpLGJlKGkpLGk9ZGUodGhpcyxpKSx0aGlzLm9mZigiZGlzcG9zZSIsaSksbi5ub2RlTmFtZT8odWUobixyLGkpLHVlKG4sImRpc3Bvc2UiLGkpKTprZShuKSYmKG4ub2ZmKHIsaSksbi5vZmYoImRpc3Bvc2UiLGkpKX19LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbGUodGhpcy5ldmVudEJ1c0VsXyxlLHQpfX07ZnVuY3Rpb24gRWUoZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9dC5ldmVudEJ1c0tleTtpZihpKXtpZighZVtpXS5ub2RlTmFtZSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBldmVudEJ1c0tleSAiJytpKyciIGRvZXMgbm90IHJlZmVyIHRvIGFuIGVsZW1lbnQuJyk7ZS5ldmVudEJ1c0VsXz1lW2ldfWVsc2UgZS5ldmVudEJ1c0VsXz1iKCJzcGFuIix7Y2xhc3NOYW1lOiJ2anMtZXZlbnQtYnVzIn0pO3JldHVybiBtKGUsQ2UpLGUuZXZlbnRlZENhbGxiYWNrcyYmZS5ldmVudGVkQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oZSl7ZSgpfSksZS5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtlLm9mZigpLHYuc2V0VGltZW91dChmdW5jdGlvbigpe2UuZXZlbnRCdXNFbF89bnVsbH0sMCl9KSxlfXZhciB3ZT17c3RhdGU6e30sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7dmFyIGksbj10aGlzO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKCkpLHIoZSxmdW5jdGlvbihlLHQpe24uc3RhdGVbdF0hPT1lJiYoKGk9aXx8e30pW3RdPXtmcm9tOm4uc3RhdGVbdF0sdG86ZX0pLG4uc3RhdGVbdF09ZX0pLGkmJmtlKHRoaXMpJiZ0aGlzLnRyaWdnZXIoe2NoYW5nZXM6aSx0eXBlOiJzdGF0ZWNoYW5nZWQifSksaX19O2Z1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIG0oZSx3ZSksZS5zdGF0ZT1tKHt9LGUuc3RhdGUsdCksImZ1bmN0aW9uIj09dHlwZW9mIGUuaGFuZGxlU3RhdGVDaGFuZ2VkJiZrZShlKSYmZS5vbigic3RhdGVjaGFuZ2VkIixlLmhhbmRsZVN0YXRlQ2hhbmdlZCksZX1mdW5jdGlvbiBQZShlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/ZTplLnJlcGxhY2UoLy4vLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBJZShlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/ZTplLnJlcGxhY2UoLy4vLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KX1mdW5jdGlvbiBMZSgpe2Zvcih2YXIgaT17fSxlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlJiZyKGUsZnVuY3Rpb24oZSx0KXtvKGUpPyhvKGlbdF0pfHwoaVt0XT17fSksaVt0XT1MZShpW3RdLGUpKTppW3RdPWV9KX0pLGl9dmFyIE9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChlLHQsaSl7aWYoIWUmJnRoaXMucGxheT90aGlzLnBsYXllcl89ZT10aGlzOnRoaXMucGxheWVyXz1lLHRoaXMucGFyZW50Q29tcG9uZW50Xz1udWxsLHRoaXMub3B0aW9uc189TGUoe30sdGhpcy5vcHRpb25zXyksdD10aGlzLm9wdGlvbnNfPUxlKHRoaXMub3B0aW9uc18sdCksdGhpcy5pZF89dC5pZHx8dC5lbCYmdC5lbC5pZCwhdGhpcy5pZF8pe3ZhciBuPWUmJmUuaWQmJmUuaWQoKXx8Im5vX3BsYXllciI7dGhpcy5pZF89bisiX2NvbXBvbmVudF8iK3RlKCl9dGhpcy5uYW1lXz10Lm5hbWV8fG51bGwsdC5lbD90aGlzLmVsXz10LmVsOiExIT09dC5jcmVhdGVFbCYmKHRoaXMuZWxfPXRoaXMuY3JlYXRlRWwoKSksITEhPT10LmV2ZW50ZWQmJkVlKHRoaXMse2V2ZW50QnVzS2V5OnRoaXMuZWxfPyJlbF8iOm51bGx9KSxBZSh0aGlzLHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdFN0YXRlKSx0aGlzLmNoaWxkcmVuXz1bXSx0aGlzLmNoaWxkSW5kZXhfPXt9LHRoaXMuY2hpbGROYW1lSW5kZXhfPXt9LHRoaXMuc2V0VGltZW91dElkc189bmV3IFNldCx0aGlzLnNldEludGVydmFsSWRzXz1uZXcgU2V0LHRoaXMucmFmSWRzXz1uZXcgU2V0LCh0aGlzLmNsZWFyaW5nVGltZXJzT25EaXNwb3NlXz0hMSkhPT10LmluaXRDaGlsZHJlbiYmdGhpcy5pbml0Q2hpbGRyZW4oKSx0aGlzLnJlYWR5KGkpLCExIT09dC5yZXBvcnRUb3VjaEFjdGl2aXR5JiZ0aGlzLmVuYWJsZVRvdWNoQWN0aXZpdHkoKX12YXIgZT1sLnByb3RvdHlwZTtyZXR1cm4gZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy50cmlnZ2VyKHt0eXBlOiJkaXNwb3NlIixidWJibGVzOiExfSksdGhpcy5jaGlsZHJlbl8pZm9yKHZhciBlPXRoaXMuY2hpbGRyZW5fLmxlbmd0aC0xOzA8PWU7ZS0tKXRoaXMuY2hpbGRyZW5fW2VdLmRpc3Bvc2UmJnRoaXMuY2hpbGRyZW5fW2VdLmRpc3Bvc2UoKTt0aGlzLmNoaWxkcmVuXz1udWxsLHRoaXMuY2hpbGRJbmRleF89bnVsbCx0aGlzLmNoaWxkTmFtZUluZGV4Xz1udWxsLHRoaXMucGFyZW50Q29tcG9uZW50Xz1udWxsLHRoaXMuZWxfJiYodGhpcy5lbF8ucGFyZW50Tm9kZSYmdGhpcy5lbF8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsXyksWi5oYXModGhpcy5lbF8pJiZaLmRlbGV0ZSh0aGlzLmVsXyksdGhpcy5lbF89bnVsbCksdGhpcy5wbGF5ZXJfPW51bGx9LGUucGxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyX30sZS5vcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYodGhpcy5vcHRpb25zXz1MZSh0aGlzLm9wdGlvbnNfLGUpKSx0aGlzLm9wdGlvbnNffSxlLmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxffSxlLmNyZWF0ZUVsPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gYihlLHQsaSl9LGUubG9jYWxpemU9ZnVuY3Rpb24oZSxyLHQpe3ZvaWQgMD09PXQmJih0PWUpO3ZhciBpPXRoaXMucGxheWVyXy5sYW5ndWFnZSYmdGhpcy5wbGF5ZXJfLmxhbmd1YWdlKCksbj10aGlzLnBsYXllcl8ubGFuZ3VhZ2VzJiZ0aGlzLnBsYXllcl8ubGFuZ3VhZ2VzKCksYT1uJiZuW2ldLHM9aSYmaS5zcGxpdCgiLSIpWzBdLG89biYmbltzXSx1PXQ7cmV0dXJuIGEmJmFbZV0/dT1hW2VdOm8mJm9bZV0mJih1PW9bZV0pLHImJih1PXUucmVwbGFjZSgvXHsoXGQrKVx9L2csZnVuY3Rpb24oZSx0KXt2YXIgaT1yW3QtMV0sbj1pO3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgaSYmKG49ZSksbn0pKSx1fSxlLmNvbnRlbnRFbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRFbF98fHRoaXMuZWxffSxlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWRffSxlLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lX30sZS5jaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuX30sZS5nZXRDaGlsZEJ5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hpbGRJbmRleF9bZV19LGUuZ2V0Q2hpbGQ9ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gdGhpcy5jaGlsZE5hbWVJbmRleF9bZV19LGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI7aWYodm9pZCAwPT09dCYmKHQ9e30pLHZvaWQgMD09PWkmJihpPXRoaXMuY2hpbGRyZW5fLmxlbmd0aCksInN0cmluZyI9PXR5cGVvZiBlKXtyPUllKGUpO3ZhciBhPXQuY29tcG9uZW50Q2xhc3N8fHI7dC5uYW1lPXI7dmFyIHM9bC5nZXRDb21wb25lbnQoYSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJDb21wb25lbnQgIithKyIgZG9lcyBub3QgZXhpc3QiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgcylyZXR1cm4gbnVsbDtuPW5ldyBzKHRoaXMucGxheWVyX3x8dGhpcyx0KX1lbHNlIG49ZTtpZihuLnBhcmVudENvbXBvbmVudF8mJm4ucGFyZW50Q29tcG9uZW50Xy5yZW1vdmVDaGlsZChuKSx0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaSwwLG4pLG4ucGFyZW50Q29tcG9uZW50Xz10aGlzLCJmdW5jdGlvbiI9PXR5cGVvZiBuLmlkJiYodGhpcy5jaGlsZEluZGV4X1tuLmlkKCldPW4pLChyPXJ8fG4ubmFtZSYmSWUobi5uYW1lKCkpKSYmKHRoaXMuY2hpbGROYW1lSW5kZXhfW3JdPW4sdGhpcy5jaGlsZE5hbWVJbmRleF9bUGUocildPW4pLCJmdW5jdGlvbiI9PXR5cGVvZiBuLmVsJiZuLmVsKCkpe3ZhciBvPXRoaXMuY29udGVudEVsKCkuY2hpbGRyZW5baV18fG51bGw7dGhpcy5jb250ZW50RWwoKS5pbnNlcnRCZWZvcmUobi5lbCgpLG8pfXJldHVybiBufSxlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9dGhpcy5nZXRDaGlsZChlKSksZSYmdGhpcy5jaGlsZHJlbl8pe2Zvcih2YXIgdD0hMSxpPXRoaXMuY2hpbGRyZW5fLmxlbmd0aC0xOzA8PWk7aS0tKWlmKHRoaXMuY2hpbGRyZW5fW2ldPT09ZSl7dD0hMCx0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaSwxKTticmVha31pZih0KXtlLnBhcmVudENvbXBvbmVudF89bnVsbCx0aGlzLmNoaWxkSW5kZXhfW2UuaWQoKV09bnVsbCx0aGlzLmNoaWxkTmFtZUluZGV4X1tJZShlLm5hbWUoKSldPW51bGwsdGhpcy5jaGlsZE5hbWVJbmRleF9bUGUoZS5uYW1lKCkpXT1udWxsO3ZhciBuPWUuZWwoKTtuJiZuLnBhcmVudE5vZGU9PT10aGlzLmNvbnRlbnRFbCgpJiZ0aGlzLmNvbnRlbnRFbCgpLnJlbW92ZUNoaWxkKGUuZWwoKSl9fX0sZS5pbml0Q2hpbGRyZW49ZnVuY3Rpb24oKXt2YXIgcj10aGlzLG49dGhpcy5vcHRpb25zXy5jaGlsZHJlbjtpZihuKXt2YXIgZSxhPXRoaXMub3B0aW9uc18saT1sLmdldENvbXBvbmVudCgiVGVjaCIpOyhlPUFycmF5LmlzQXJyYXkobik/bjpPYmplY3Qua2V5cyhuKSkuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMub3B0aW9uc18pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90PT09ZTp0PT09ZS5uYW1lfSl9KSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0LGk7cmV0dXJuIGk9InN0cmluZyI9PXR5cGVvZiBlP25bdD1lXXx8ci5vcHRpb25zX1t0XXx8e306KHQ9ZS5uYW1lLGUpLHtuYW1lOnQsb3B0czppfX0pLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1sLmdldENvbXBvbmVudChlLm9wdHMuY29tcG9uZW50Q2xhc3N8fEllKGUubmFtZSkpO3JldHVybiB0JiYhaS5pc1RlY2godCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxpPWUub3B0cztpZih2b2lkIDAhPT1hW3RdJiYoaT1hW3RdKSwhMSE9PWkpeyEwPT09aSYmKGk9e30pLGkucGxheWVyT3B0aW9ucz1yLm9wdGlvbnNfLnBsYXllck9wdGlvbnM7dmFyIG49ci5hZGRDaGlsZCh0LGkpO24mJihyW3RdPW4pfX0pfX0sZS5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9LGUucmVhZHk9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMSksZSlyZXR1cm4gdGhpcy5pc1JlYWR5Xz92b2lkKHQ/ZS5jYWxsKHRoaXMpOnRoaXMuc2V0VGltZW91dChlLDEpKToodGhpcy5yZWFkeVF1ZXVlXz10aGlzLnJlYWR5UXVldWVffHxbXSx2b2lkIHRoaXMucmVhZHlRdWV1ZV8ucHVzaChlKSl9LGUudHJpZ2dlclJlYWR5PWZ1bmN0aW9uKCl7dGhpcy5pc1JlYWR5Xz0hMCx0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWR5UXVldWVfO3RoaXMucmVhZHlRdWV1ZV89W10sZSYmMDxlLmxlbmd0aCYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2FsbCh0aGlzKX0sdGhpcyksdGhpcy50cmlnZ2VyKCJyZWFkeSIpfSwxKX0sZS4kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcoZSx0fHx0aGlzLmNvbnRlbnRFbCgpKX0sZS4kJD1mdW5jdGlvbihlLHQpe3JldHVybiB6KGUsdHx8dGhpcy5jb250ZW50RWwoKSl9LGUuaGFzQ2xhc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGsodGhpcy5lbF8sZSl9LGUuYWRkQ2xhc3M9ZnVuY3Rpb24oZSl7Qyh0aGlzLmVsXyxlKX0sZS5yZW1vdmVDbGFzcz1mdW5jdGlvbihlKXtFKHRoaXMuZWxfLGUpfSxlLnRvZ2dsZUNsYXNzPWZ1bmN0aW9uKGUsdCl7dyh0aGlzLmVsXyxlLHQpfSxlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUNsYXNzKCJ2anMtaGlkZGVuIil9LGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuYWRkQ2xhc3MoInZqcy1oaWRkZW4iKX0sZS5sb2NrU2hvd2luZz1mdW5jdGlvbigpe3RoaXMuYWRkQ2xhc3MoInZqcy1sb2NrLXNob3dpbmciKX0sZS51bmxvY2tTaG93aW5nPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLWxvY2stc2hvd2luZyIpfSxlLmdldEF0dHJpYnV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gSSh0aGlzLmVsXyxlKX0sZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtMKHRoaXMuZWxfLGUsdCl9LGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe08odGhpcy5lbF8sZSl9LGUud2lkdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kaW1lbnNpb24oIndpZHRoIixlLHQpfSxlLmhlaWdodD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRpbWVuc2lvbigiaGVpZ2h0IixlLHQpfSxlLmRpbWVuc2lvbnM9ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoKGUsITApLHRoaXMuaGVpZ2h0KHQpfSxlLmRpbWVuc2lvbj1mdW5jdGlvbihlLHQsaSl7aWYodm9pZCAwIT09dClyZXR1cm4gbnVsbCE9PXQmJnQ9PXR8fCh0PTApLC0xIT09KCIiK3QpLmluZGV4T2YoIiUiKXx8LTEhPT0oIiIrdCkuaW5kZXhPZigicHgiKT90aGlzLmVsXy5zdHlsZVtlXT10OnRoaXMuZWxfLnN0eWxlW2VdPSJhdXRvIj09PXQ/IiI6dCsicHgiLHZvaWQoaXx8dGhpcy50cmlnZ2VyKCJjb21wb25lbnRyZXNpemUiKSk7aWYoIXRoaXMuZWxfKXJldHVybiAwO3ZhciBuPXRoaXMuZWxfLnN0eWxlW2VdLHI9bi5pbmRleE9mKCJweCIpO3JldHVybi0xIT09cj9wYXJzZUludChuLnNsaWNlKDAsciksMTApOnBhcnNlSW50KHRoaXMuZWxfWyJvZmZzZXQiK0llKGUpXSwxMCl9LGUuY3VycmVudERpbWVuc2lvbj1mdW5jdGlvbihlKXt2YXIgdD0wO2lmKCJ3aWR0aCIhPT1lJiYiaGVpZ2h0IiE9PWUpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50RGltZW5zaW9uIG9ubHkgYWNjZXB0cyB3aWR0aCBvciBoZWlnaHQgdmFsdWUiKTtpZih0PW4odGhpcy5lbF8sZSksMD09PSh0PXBhcnNlRmxvYXQodCkpfHxpc05hTih0KSl7dmFyIGk9Im9mZnNldCIrSWUoZSk7dD10aGlzLmVsX1tpXX1yZXR1cm4gdH0sZS5jdXJyZW50RGltZW5zaW9ucz1mdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLmN1cnJlbnREaW1lbnNpb24oIndpZHRoIiksaGVpZ2h0OnRoaXMuY3VycmVudERpbWVuc2lvbigiaGVpZ2h0Iil9fSxlLmN1cnJlbnRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnREaW1lbnNpb24oIndpZHRoIil9LGUuY3VycmVudEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnREaW1lbnNpb24oImhlaWdodCIpfSxlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5lbF8uZm9jdXMoKX0sZS5ibHVyPWZ1bmN0aW9uKCl7dGhpcy5lbF8uYmx1cigpfSxlLmhhbmRsZUtleURvd249ZnVuY3Rpb24oZSl7dGhpcy5wbGF5ZXJfJiYoZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnBsYXllcl8uaGFuZGxlS2V5RG93bihlKSl9LGUuaGFuZGxlS2V5UHJlc3M9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVLZXlEb3duKGUpfSxlLmVtaXRUYXBFdmVudHM9ZnVuY3Rpb24oKXt2YXIgbix0PTAscj1udWxsO3RoaXMub24oInRvdWNoc3RhcnQiLGZ1bmN0aW9uKGUpezE9PT1lLnRvdWNoZXMubGVuZ3RoJiYocj17cGFnZVg6ZS50b3VjaGVzWzBdLnBhZ2VYLHBhZ2VZOmUudG91Y2hlc1swXS5wYWdlWX0sdD12LnBlcmZvcm1hbmNlLm5vdygpLG49ITApfSksdGhpcy5vbigidG91Y2htb3ZlIixmdW5jdGlvbihlKXtpZigxPGUudG91Y2hlcy5sZW5ndGgpbj0hMTtlbHNlIGlmKHIpe3ZhciB0PWUudG91Y2hlc1swXS5wYWdlWC1yLnBhZ2VYLGk9ZS50b3VjaGVzWzBdLnBhZ2VZLXIucGFnZVk7MTA8TWF0aC5zcXJ0KHQqdCtpKmkpJiYobj0hMSl9fSk7ZnVuY3Rpb24gZSgpe249ITF9dGhpcy5vbigidG91Y2hsZWF2ZSIsZSksdGhpcy5vbigidG91Y2hjYW5jZWwiLGUpLHRoaXMub24oInRvdWNoZW5kIixmdW5jdGlvbihlKXshKHI9bnVsbCk9PT1uJiZ2LnBlcmZvcm1hbmNlLm5vdygpLXQ8MjAwJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudHJpZ2dlcigidGFwIikpfSl9LGUuZW5hYmxlVG91Y2hBY3Rpdml0eT1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKCkmJnRoaXMucGxheWVyKCkucmVwb3J0VXNlckFjdGl2aXR5KXt2YXIgdCxpPWRlKHRoaXMucGxheWVyKCksdGhpcy5wbGF5ZXIoKS5yZXBvcnRVc2VyQWN0aXZpdHkpO3RoaXMub24oInRvdWNoc3RhcnQiLGZ1bmN0aW9uKCl7aSgpLHRoaXMuY2xlYXJJbnRlcnZhbCh0KSx0PXRoaXMuc2V0SW50ZXJ2YWwoaSwyNTApfSk7ZnVuY3Rpb24gZShlKXtpKCksdGhpcy5jbGVhckludGVydmFsKHQpfXRoaXMub24oInRvdWNobW92ZSIsaSksdGhpcy5vbigidG91Y2hlbmQiLGUpLHRoaXMub24oInRvdWNoY2FuY2VsIixlKX19LGUuc2V0VGltZW91dD1mdW5jdGlvbihlLHQpe3ZhciBpLG49dGhpcztyZXR1cm4gZT1kZSh0aGlzLGUpLHRoaXMuY2xlYXJUaW1lcnNPbkRpc3Bvc2VfKCksaT12LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnNldFRpbWVvdXRJZHNfLmhhcyhpKSYmbi5zZXRUaW1lb3V0SWRzXy5kZWxldGUoaSksZSgpfSx0KSx0aGlzLnNldFRpbWVvdXRJZHNfLmFkZChpKSxpfSxlLmNsZWFyVGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUaW1lb3V0SWRzXy5oYXMoZSkmJih0aGlzLnNldFRpbWVvdXRJZHNfLmRlbGV0ZShlKSx2LmNsZWFyVGltZW91dChlKSksZX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbihlLHQpe2U9ZGUodGhpcyxlKSx0aGlzLmNsZWFyVGltZXJzT25EaXNwb3NlXygpO3ZhciBpPXYuc2V0SW50ZXJ2YWwoZSx0KTtyZXR1cm4gdGhpcy5zZXRJbnRlcnZhbElkc18uYWRkKGkpLGl9LGUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRJbnRlcnZhbElkc18uaGFzKGUpJiYodGhpcy5zZXRJbnRlcnZhbElkc18uZGVsZXRlKGUpLHYuY2xlYXJJbnRlcnZhbChlKSksZX0sZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7dmFyIHQsaT10aGlzO3JldHVybiB0aGlzLnN1cHBvcnRzUmFmXz8odGhpcy5jbGVhclRpbWVyc09uRGlzcG9zZV8oKSxlPWRlKHRoaXMsZSksdD12LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2kucmFmSWRzXy5oYXModCkmJmkucmFmSWRzXy5kZWxldGUodCksZSgpfSksdGhpcy5yYWZJZHNfLmFkZCh0KSx0KTp0aGlzLnNldFRpbWVvdXQoZSwxZTMvNjApfSxlLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1cHBvcnRzUmFmXz8odGhpcy5yYWZJZHNfLmhhcyhlKSYmKHRoaXMucmFmSWRzXy5kZWxldGUoZSksdi5jYW5jZWxBbmltYXRpb25GcmFtZShlKSksZSk6dGhpcy5jbGVhclRpbWVvdXQoZSl9LGUuY2xlYXJUaW1lcnNPbkRpc3Bvc2VfPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmNsZWFyaW5nVGltZXJzT25EaXNwb3NlX3x8KHRoaXMuY2xlYXJpbmdUaW1lcnNPbkRpc3Bvc2VfPSEwLHRoaXMub25lKCJkaXNwb3NlIixmdW5jdGlvbigpe1tbInJhZklkc18iLCJjYW5jZWxBbmltYXRpb25GcmFtZSJdLFsic2V0VGltZW91dElkc18iLCJjbGVhclRpbWVvdXQiXSxbInNldEludGVydmFsSWRzXyIsImNsZWFySW50ZXJ2YWwiXV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLGk9ZVsxXTtuW3RdLmZvckVhY2gobltpXSxuKX0pLG4uY2xlYXJpbmdUaW1lcnNPbkRpc3Bvc2VfPSExfSkpfSxsLnJlZ2lzdGVyQ29tcG9uZW50PWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhZSl0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgY29tcG9uZW50IG5hbWUsICInK2UrJyI7IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLicpO3ZhciBpLG49bC5nZXRDb21wb25lbnQoIlRlY2giKSxyPW4mJm4uaXNUZWNoKHQpLGE9bD09PXR8fGwucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodC5wcm90b3R5cGUpO2lmKHJ8fCFhKXRocm93IGk9cj8idGVjaHMgbXVzdCBiZSByZWdpc3RlcmVkIHVzaW5nIFRlY2gucmVnaXN0ZXJUZWNoKCkiOiJtdXN0IGJlIGEgQ29tcG9uZW50IHN1YmNsYXNzIixuZXcgRXJyb3IoJ0lsbGVnYWwgY29tcG9uZW50LCAiJytlKyciOyAnK2krIi4iKTtlPUllKGUpLGwuY29tcG9uZW50c198fChsLmNvbXBvbmVudHNfPXt9KTt2YXIgcz1sLmdldENvbXBvbmVudCgiUGxheWVyIik7aWYoIlBsYXllciI9PT1lJiZzJiZzLnBsYXllcnMpe3ZhciBvPXMucGxheWVycyx1PU9iamVjdC5rZXlzKG8pO2lmKG8mJjA8dS5sZW5ndGgmJnUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfSkuZXZlcnkoQm9vbGVhbikpdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IHJlZ2lzdGVyIFBsYXllciBjb21wb25lbnQgYWZ0ZXIgcGxheWVyIGhhcyBiZWVuIGNyZWF0ZWQuIil9cmV0dXJuIGwuY29tcG9uZW50c19bZV09dCxsLmNvbXBvbmVudHNfW1BlKGUpXT10fSxsLmdldENvbXBvbmVudD1mdW5jdGlvbihlKXtpZihlJiZsLmNvbXBvbmVudHNfKXJldHVybiBsLmNvbXBvbmVudHNfW2VdfSxsfSgpO2Z1bmN0aW9uIHhlKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksKGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUpLl9fcHJvdG9fXz10fWZ1bmN0aW9uIERlKGUsdCl7cmV0dXJuKERlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX1mdW5jdGlvbiBVZShlLHQsaSl7cmV0dXJuKFVlPWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sZnVuY3Rpb24oKXt9KSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP1JlZmxlY3QuY29uc3RydWN0OmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1bbnVsbF07bi5wdXNoLmFwcGx5KG4sdCk7dmFyIHI9bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkoZSxuKSk7cmV0dXJuIGkmJkRlKHIsaS5wcm90b3R5cGUpLHJ9KS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUmUoZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfU9lLnByb3RvdHlwZS5zdXBwb3J0c1JhZl89ImZ1bmN0aW9uIj09dHlwZW9mIHYucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiYiZnVuY3Rpb24iPT10eXBlb2Ygdi5jYW5jZWxBbmltYXRpb25GcmFtZSxPZS5yZWdpc3RlckNvbXBvbmVudCgiQ29tcG9uZW50IixPZSk7dmFyIE1lLE5lLEJlLGplLEZlPXYubmF2aWdhdG9yJiZ2Lm5hdmlnYXRvci51c2VyQWdlbnR8fCIiLEhlPS9BcHBsZVdlYktpdFwvKFtcZC5dKykvaS5leGVjKEZlKSxWZT1IZT9wYXJzZUZsb2F0KEhlLnBvcCgpKTpudWxsLHFlPS9pUGFkL2kudGVzdChGZSksV2U9L2lQaG9uZS9pLnRlc3QoRmUpJiYhcWUsemU9L2lQb2QvaS50ZXN0KEZlKSwkZT1XZXx8cWV8fHplLEdlPShNZT1GZS5tYXRjaCgvT1MgKFxkKylfL2kpKSYmTWVbMV0/TWVbMV06bnVsbCxYZT0vQW5kcm9pZC9pLnRlc3QoRmUpLEtlPWZ1bmN0aW9uKCl7dmFyIGU9RmUubWF0Y2goL0FuZHJvaWQgKFxkKykoPzpcLihcZCspKT8oPzpcLihcZCspKSovaSk7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZVsxXSYmcGFyc2VGbG9hdChlWzFdKSxpPWVbMl0mJnBhcnNlRmxvYXQoZVsyXSk7cmV0dXJuIHQmJmk/cGFyc2VGbG9hdChlWzFdKyIuIitlWzJdKTp0fHxudWxsfSgpLFllPVhlJiZLZTw1JiZWZTw1MzcsUWU9L0ZpcmVmb3gvaS50ZXN0KEZlKSxKZT0vRWRnZS9pLnRlc3QoRmUpLFplPSFKZSYmKC9DaHJvbWUvaS50ZXN0KEZlKXx8L0NyaU9TL2kudGVzdChGZSkpLGV0PShOZT1GZS5tYXRjaCgvKENocm9tZXxDcmlPUylcLyhcZCspLykpJiZOZVsyXT9wYXJzZUZsb2F0KE5lWzJdKTpudWxsLHR0PShCZT0vTVNJRVxzKFxkKylcLlxkLy5leGVjKEZlKSwhKGplPUJlJiZwYXJzZUZsb2F0KEJlWzFdKSkmJi9UcmlkZW50XC83LjAvaS50ZXN0KEZlKSYmL3J2OjExLjAvLnRlc3QoRmUpJiYoamU9MTEpLGplKSxpdD0vU2FmYXJpL2kudGVzdChGZSkmJiFaZSYmIVhlJiYhSmUsbnQ9KGl0fHwkZSkmJiFaZSxydD0vV2luZG93cy9pLnRlc3QoRmUpLGF0PWMoKSYmKCJvbnRvdWNoc3RhcnQiaW4gdnx8di5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fHYuRG9jdW1lbnRUb3VjaCYmdi5kb2N1bWVudCBpbnN0YW5jZW9mIHYuRG9jdW1lbnRUb3VjaCksc3Q9T2JqZWN0LmZyZWV6ZSh7SVNfSVBBRDpxZSxJU19JUEhPTkU6V2UsSVNfSVBPRDp6ZSxJU19JT1M6JGUsSU9TX1ZFUlNJT046R2UsSVNfQU5EUk9JRDpYZSxBTkRST0lEX1ZFUlNJT046S2UsSVNfTkFUSVZFX0FORFJPSUQ6WWUsSVNfRklSRUZPWDpRZSxJU19FREdFOkplLElTX0NIUk9NRTpaZSxDSFJPTUVfVkVSU0lPTjpldCxJRV9WRVJTSU9OOnR0LElTX1NBRkFSSTppdCxJU19BTllfU0FGQVJJOm50LElTX1dJTkRPV1M6cnQsVE9VQ0hfRU5BQkxFRDphdH0pO2Z1bmN0aW9uIG90KGUsdCxpLG4pe3JldHVybiBmdW5jdGlvbihlLHQsaSl7aWYoIm51bWJlciIhPXR5cGVvZiB0fHx0PDB8fGk8dCl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICciK2UrIicgb24gJ1RpbWVSYW5nZXMnOiBUaGUgaW5kZXggcHJvdmlkZWQgKCIrdCsiKSBpcyBub24tbnVtZXJpYyBvciBvdXQgb2YgYm91bmRzICgwLSIraSsiKS4iKX0oZSxuLGkubGVuZ3RoLTEpLGlbbl1bdF19ZnVuY3Rpb24gdXQoZSl7cmV0dXJuIHZvaWQgMD09PWV8fDA9PT1lLmxlbmd0aD97bGVuZ3RoOjAsc3RhcnQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgVGltZVJhbmdlcyBvYmplY3QgaXMgZW1wdHkiKX0sZW5kOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIFRpbWVSYW5nZXMgb2JqZWN0IGlzIGVtcHR5Iil9fTp7bGVuZ3RoOmUubGVuZ3RoLHN0YXJ0Om90LmJpbmQobnVsbCwic3RhcnQiLDAsZSksZW5kOm90LmJpbmQobnVsbCwiZW5kIiwxLGUpfX1mdW5jdGlvbiBsdChlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3V0KGUpOnZvaWQgMD09PWV8fHZvaWQgMD09PXQ/dXQoKTp1dChbW2UsdF1dKX1mdW5jdGlvbiBjdChlLHQpe3ZhciBpLG4scj0wO2lmKCF0KXJldHVybiAwO2UmJmUubGVuZ3RofHwoZT1sdCgwLDApKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylpPWUuc3RhcnQoYSksdDwobj1lLmVuZChhKSkmJihuPXQpLHIrPW4taTtyZXR1cm4gci90fWZvcih2YXIgaHQsZHQ9e3ByZWZpeGVkOiEwfSxwdD1bWyJyZXF1ZXN0RnVsbHNjcmVlbiIsImV4aXRGdWxsc2NyZWVuIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJmdWxsc2NyZWVuRW5hYmxlZCIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJmdWxsc2NyZWVuIl0sWyJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLCItd2Via2l0LWZ1bGwtc2NyZWVuIl0sWyJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIm1vekNhbmNlbEZ1bGxTY3JlZW4iLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbmFibGVkIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIm1vemZ1bGxzY3JlZW5lcnJvciIsIi1tb3otZnVsbC1zY3JlZW4iXSxbIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwibXNGdWxsc2NyZWVuRWxlbWVudCIsIm1zRnVsbHNjcmVlbkVuYWJsZWQiLCJNU0Z1bGxzY3JlZW5DaGFuZ2UiLCJNU0Z1bGxzY3JlZW5FcnJvciIsIi1tcy1mdWxsc2NyZWVuIl1dLGZ0PXB0WzBdLG10PTA7bXQ8cHQubGVuZ3RoO210KyspaWYocHRbbXRdWzFdaW4gaCl7aHQ9cHRbbXRdO2JyZWFrfWlmKGh0KXtmb3IodmFyIGd0PTA7Z3Q8aHQubGVuZ3RoO2d0KyspZHRbZnRbZ3RdXT1odFtndF07ZHQucHJlZml4ZWQ9aHRbMF0hPT1mdFswXX1mdW5jdGlvbiB5dChlKXtpZihlIGluc3RhbmNlb2YgeXQpcmV0dXJuIGU7Im51bWJlciI9PXR5cGVvZiBlP3RoaXMuY29kZT1lOiJzdHJpbmciPT10eXBlb2YgZT90aGlzLm1lc3NhZ2U9ZTpzKGUpJiYoIm51bWJlciI9PXR5cGVvZiBlLmNvZGUmJih0aGlzLmNvZGU9ZS5jb2RlKSxtKHRoaXMsZSkpLHRoaXMubWVzc2FnZXx8KHRoaXMubWVzc2FnZT15dC5kZWZhdWx0TWVzc2FnZXNbdGhpcy5jb2RlXXx8IiIpfXl0LnByb3RvdHlwZS5jb2RlPTAseXQucHJvdG90eXBlLm1lc3NhZ2U9IiIseXQucHJvdG90eXBlLnN0YXR1cz1udWxsLHl0LmVycm9yVHlwZXM9WyJNRURJQV9FUlJfQ1VTVE9NIiwiTUVESUFfRVJSX0FCT1JURUQiLCJNRURJQV9FUlJfTkVUV09SSyIsIk1FRElBX0VSUl9ERUNPREUiLCJNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQiLCJNRURJQV9FUlJfRU5DUllQVEVEIl0seXQuZGVmYXVsdE1lc3NhZ2VzPXsxOiJZb3UgYWJvcnRlZCB0aGUgbWVkaWEgcGxheWJhY2siLDI6IkEgbmV0d29yayBlcnJvciBjYXVzZWQgdGhlIG1lZGlhIGRvd25sb2FkIHRvIGZhaWwgcGFydC13YXkuIiwzOiJUaGUgbWVkaWEgcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIG1lZGlhIHVzZWQgZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC4iLDQ6IlRoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLiIsNToiVGhlIG1lZGlhIGlzIGVuY3J5cHRlZCBhbmQgd2UgZG8gbm90IGhhdmUgdGhlIGtleXMgdG8gZGVjcnlwdCBpdC4ifTtmb3IodmFyIHZ0PTA7dnQ8eXQuZXJyb3JUeXBlcy5sZW5ndGg7dnQrKyl5dFt5dC5lcnJvclR5cGVzW3Z0XV09dnQseXQucHJvdG90eXBlW3l0LmVycm9yVHlwZXNbdnRdXT12dDt2YXIgX3Q9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuPW51bGw7dHJ5e2k9SlNPTi5wYXJzZShlLHQpfWNhdGNoKGUpe249ZX1yZXR1cm5bbixpXX07ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRoZW59ZnVuY3Rpb24gVHQoZSl7YnQoZSkmJmUudGhlbihudWxsLGZ1bmN0aW9uKGUpe30pfWZ1bmN0aW9uIFN0KG4pe3JldHVyblsia2luZCIsImxhYmVsIiwibGFuZ3VhZ2UiLCJpZCIsImluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGUiLCJtb2RlIiwic3JjIl0ucmVkdWNlKGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gblt0XSYmKGVbdF09blt0XSksZX0se2N1ZXM6bi5jdWVzJiZBcnJheS5wcm90b3R5cGUubWFwLmNhbGwobi5jdWVzLGZ1bmN0aW9uKGUpe3JldHVybntzdGFydFRpbWU6ZS5zdGFydFRpbWUsZW5kVGltZTplLmVuZFRpbWUsdGV4dDplLnRleHQsaWQ6ZS5pZH19KX0pfXZhciBrdD1mdW5jdGlvbihlKXt2YXIgdD1lLiQkKCJ0cmFjayIpLGk9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhY2t9KTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZnVuY3Rpb24oZSl7dmFyIHQ9U3QoZS50cmFjayk7cmV0dXJuIGUuc3JjJiYodC5zcmM9ZS5zcmMpLHR9KS5jb25jYXQoQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGUudGV4dFRyYWNrcygpLGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkubWFwKFN0KSl9LEN0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pLmFkZFJlbW90ZVRleHRUcmFjayhlKS50cmFjazshZS5zcmMmJmUuY3VlcyYmZS5jdWVzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuYWRkQ3VlKGUpfSl9KSxpLnRleHRUcmFja3MoKX07ZnVuY3Rpb24gRXQoZSx0KXtyZXR1cm4gZSh0PXtleHBvcnRzOnt9fSx0LmV4cG9ydHMpLHQuZXhwb3J0c312YXIgd3Q9RXQoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe2lmKGUmJiJvYmplY3QiPT10eXBlb2YgZSl7dmFyIHQ9ZS53aGljaHx8ZS5rZXlDb2RlfHxlLmNoYXJDb2RlO3QmJihlPXQpfWlmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gc1tlXTt2YXIgaSxuPVN0cmluZyhlKTtyZXR1cm4oaT1yW24udG9Mb3dlckNhc2UoKV0pP2k6KGk9YVtuLnRvTG93ZXJDYXNlKCldKXx8KDE9PT1uLmxlbmd0aD9uLmNoYXJDb2RlQXQoMCk6dm9pZCAwKX1pLmlzRXZlbnRLZXk9ZnVuY3Rpb24oZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpe3ZhciBpPWUud2hpY2h8fGUua2V5Q29kZXx8ZS5jaGFyQ29kZTtpZihudWxsPT1pKXJldHVybiExO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIG47aWYobj1yW3QudG9Mb3dlckNhc2UoKV0pcmV0dXJuIG49PT1pO2lmKG49YVt0LnRvTG93ZXJDYXNlKCldKXJldHVybiBuPT09aX1lbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gdD09PWk7cmV0dXJuITF9fTt2YXIgcj0odD1lLmV4cG9ydHM9aSkuY29kZT10LmNvZGVzPXtiYWNrc3BhY2U6OCx0YWI6OSxlbnRlcjoxMyxzaGlmdDoxNixjdHJsOjE3LGFsdDoxOCwicGF1c2UvYnJlYWsiOjE5LCJjYXBzIGxvY2siOjIwLGVzYzoyNyxzcGFjZTozMiwicGFnZSB1cCI6MzMsInBhZ2UgZG93biI6MzQsZW5kOjM1LGhvbWU6MzYsbGVmdDozNyx1cDozOCxyaWdodDozOSxkb3duOjQwLGluc2VydDo0NSxkZWxldGU6NDYsY29tbWFuZDo5MSwibGVmdCBjb21tYW5kIjo5MSwicmlnaHQgY29tbWFuZCI6OTMsIm51bXBhZCAqIjoxMDYsIm51bXBhZCArIjoxMDcsIm51bXBhZCAtIjoxMDksIm51bXBhZCAuIjoxMTAsIm51bXBhZCAvIjoxMTEsIm51bSBsb2NrIjoxNDQsInNjcm9sbCBsb2NrIjoxNDUsIm15IGNvbXB1dGVyIjoxODIsIm15IGNhbGN1bGF0b3IiOjE4MywiOyI6MTg2LCI9IjoxODcsIiwiOjE4OCwiLSI6MTg5LCIuIjoxOTAsIi8iOjE5MSwiYCI6MTkyLCJbIjoyMTksIlxcIjoyMjAsIl0iOjIyMSwiJyI6MjIyfSxhPXQuYWxpYXNlcz17d2luZG93czo5MSwi4oenIjoxNiwi4oylIjoxOCwi4oyDIjoxNywi4oyYIjo5MSxjdGw6MTcsY29udHJvbDoxNyxvcHRpb246MTgscGF1c2U6MTksYnJlYWs6MTksY2FwczoyMCxyZXR1cm46MTMsZXNjYXBlOjI3LHNwYzozMixzcGFjZWJhcjozMixwZ3VwOjMzLHBnZG46MzQsaW5zOjQ1LGRlbDo0NixjbWQ6OTF9O2ZvcihuPTk3O248MTIzO24rKylyW1N0cmluZy5mcm9tQ2hhckNvZGUobildPW4tMzI7Zm9yKHZhciBuPTQ4O248NTg7bisrKXJbbi00OF09bjtmb3Iobj0xO248MTM7bisrKXJbImYiK25dPW4rMTExO2ZvcihuPTA7bjwxMDtuKyspclsibnVtcGFkICIrbl09bis5Njt2YXIgcz10Lm5hbWVzPXQudGl0bGU9e307Zm9yKG4gaW4gcilzW3Jbbl1dPW47Zm9yKHZhciBvIGluIGEpcltvXT1hW29dfSksQXQ9KHd0LmNvZGUsd3QuY29kZXMsd3QuYWxpYXNlcyx3dC5uYW1lcyx3dC50aXRsZSwidmpzLW1vZGFsLWRpYWxvZyIpLFB0PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5vcGVuZWRfPWkuaGFzQmVlbk9wZW5lZF89aS5oYXNCZWVuRmlsbGVkXz0hMSxpLmNsb3NlYWJsZSghaS5vcHRpb25zXy51bmNsb3NlYWJsZSksaS5jb250ZW50KGkub3B0aW9uc18uY29udGVudCksaS5jb250ZW50RWxfPWIoImRpdiIse2NsYXNzTmFtZTpBdCsiLWNvbnRlbnQifSx7cm9sZToiZG9jdW1lbnQifSksaS5kZXNjRWxfPWIoInAiLHtjbGFzc05hbWU6QXQrIi1kZXNjcmlwdGlvbiB2anMtY29udHJvbC10ZXh0IixpZDppLmVsKCkuZ2V0QXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZGJ5Iil9KSxUKGkuZGVzY0VsXyxpLmRlc2NyaXB0aW9uKCkpLGkuZWxfLmFwcGVuZENoaWxkKGkuZGVzY0VsXyksaS5lbF8uYXBwZW5kQ2hpbGQoaS5jb250ZW50RWxfKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6dGhpcy5idWlsZENTU0NsYXNzKCksdGFiSW5kZXg6LTF9LHsiYXJpYS1kZXNjcmliZWRieSI6dGhpcy5pZCgpKyJfZGVzY3JpcHRpb24iLCJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsIjp0aGlzLmxhYmVsKCkscm9sZToiZGlhbG9nIn0pfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRlbnRFbF89bnVsbCx0aGlzLmRlc2NFbF89bnVsbCx0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF89bnVsbCxuLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiBBdCsiIHZqcy1oaWRkZW4gIituLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyl9LHQubGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsfHwiTW9kYWwgV2luZG93Iil9LHQuZGVzY3JpcHRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnNfLmRlc2NyaXB0aW9ufHx0aGlzLmxvY2FsaXplKCJUaGlzIGlzIGEgbW9kYWwgd2luZG93LiIpO3JldHVybiB0aGlzLmNsb3NlYWJsZSgpJiYoZSs9IiAiK3RoaXMubG9jYWxpemUoIlRoaXMgbW9kYWwgY2FuIGJlIGNsb3NlZCBieSBwcmVzc2luZyB0aGUgRXNjYXBlIGtleSBvciBhY3RpdmF0aW5nIHRoZSBjbG9zZSBidXR0b24uIikpLGV9LHQub3Blbj1mdW5jdGlvbigpe2lmKCF0aGlzLm9wZW5lZF8pe3ZhciBlPXRoaXMucGxheWVyKCk7dGhpcy50cmlnZ2VyKCJiZWZvcmVtb2RhbG9wZW4iKSx0aGlzLm9wZW5lZF89ITAsIXRoaXMub3B0aW9uc18uZmlsbEFsd2F5cyYmKHRoaXMuaGFzQmVlbk9wZW5lZF98fHRoaXMuaGFzQmVlbkZpbGxlZF8pfHx0aGlzLmZpbGwoKSx0aGlzLndhc1BsYXlpbmdfPSFlLnBhdXNlZCgpLHRoaXMub3B0aW9uc18ucGF1c2VPbk9wZW4mJnRoaXMud2FzUGxheWluZ18mJmUucGF1c2UoKSx0aGlzLm9uKCJrZXlkb3duIix0aGlzLmhhbmRsZUtleURvd24pLHRoaXMuaGFkQ29udHJvbHNfPWUuY29udHJvbHMoKSxlLmNvbnRyb2xzKCExKSx0aGlzLnNob3coKSx0aGlzLmNvbmRpdGlvbmFsRm9jdXNfKCksdGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLHRoaXMudHJpZ2dlcigibW9kYWxvcGVuIiksdGhpcy5oYXNCZWVuT3BlbmVkXz0hMH19LHQub3BlbmVkPWZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGUmJnRoaXNbZT8ib3BlbiI6ImNsb3NlIl0oKSx0aGlzLm9wZW5lZF99LHQuY2xvc2U9ZnVuY3Rpb24oKXtpZih0aGlzLm9wZW5lZF8pe3ZhciBlPXRoaXMucGxheWVyKCk7dGhpcy50cmlnZ2VyKCJiZWZvcmVtb2RhbGNsb3NlIiksdGhpcy5vcGVuZWRfPSExLHRoaXMud2FzUGxheWluZ18mJnRoaXMub3B0aW9uc18ucGF1c2VPbk9wZW4mJmUucGxheSgpLHRoaXMub2ZmKCJrZXlkb3duIix0aGlzLmhhbmRsZUtleURvd24pLHRoaXMuaGFkQ29udHJvbHNfJiZlLmNvbnRyb2xzKCEwKSx0aGlzLmhpZGUoKSx0aGlzLmVsKCkuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKSx0aGlzLnRyaWdnZXIoIm1vZGFsY2xvc2UiKSx0aGlzLmNvbmRpdGlvbmFsQmx1cl8oKSx0aGlzLm9wdGlvbnNfLnRlbXBvcmFyeSYmdGhpcy5kaXNwb3NlKCl9fSx0LmNsb3NlYWJsZT1mdW5jdGlvbihlKXtpZigiYm9vbGVhbiI9PXR5cGVvZiBlKXt2YXIgdD10aGlzLmNsb3NlYWJsZV89ISFlLGk9dGhpcy5nZXRDaGlsZCgiY2xvc2VCdXR0b24iKTtpZih0JiYhaSl7dmFyIG49dGhpcy5jb250ZW50RWxfO3RoaXMuY29udGVudEVsXz10aGlzLmVsXyxpPXRoaXMuYWRkQ2hpbGQoImNsb3NlQnV0dG9uIix7Y29udHJvbFRleHQ6IkNsb3NlIE1vZGFsIERpYWxvZyJ9KSx0aGlzLmNvbnRlbnRFbF89bix0aGlzLm9uKGksImNsb3NlIix0aGlzLmNsb3NlKX0hdCYmaSYmKHRoaXMub2ZmKGksImNsb3NlIix0aGlzLmNsb3NlKSx0aGlzLnJlbW92ZUNoaWxkKGkpLGkuZGlzcG9zZSgpKX1yZXR1cm4gdGhpcy5jbG9zZWFibGVffSx0LmZpbGw9ZnVuY3Rpb24oKXt0aGlzLmZpbGxXaXRoKHRoaXMuY29udGVudCgpKX0sdC5maWxsV2l0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRlbnRFbCgpLGk9dC5wYXJlbnROb2RlLG49dC5uZXh0U2libGluZzt0aGlzLnRyaWdnZXIoImJlZm9yZW1vZGFsZmlsbCIpLHRoaXMuaGFzQmVlbkZpbGxlZF89ITAsaS5yZW1vdmVDaGlsZCh0KSx0aGlzLmVtcHR5KCksSCh0LGUpLHRoaXMudHJpZ2dlcigibW9kYWxmaWxsIiksbj9pLmluc2VydEJlZm9yZSh0LG4pOmkuYXBwZW5kQ2hpbGQodCk7dmFyIHI9dGhpcy5nZXRDaGlsZCgiY2xvc2VCdXR0b24iKTtyJiZpLmFwcGVuZENoaWxkKHIuZWxfKX0sdC5lbXB0eT1mdW5jdGlvbigpe3RoaXMudHJpZ2dlcigiYmVmb3JlbW9kYWxlbXB0eSIpLEIodGhpcy5jb250ZW50RWwoKSksdGhpcy50cmlnZ2VyKCJtb2RhbGVtcHR5Iil9LHQuY29udGVudD1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGUmJih0aGlzLmNvbnRlbnRfPWUpLHRoaXMuY29udGVudF99LHQuY29uZGl0aW9uYWxGb2N1c189ZnVuY3Rpb24oKXt2YXIgZT1oLmFjdGl2ZUVsZW1lbnQsdD10aGlzLnBsYXllcl8uZWxfO3RoaXMucHJldmlvdXNseUFjdGl2ZUVsXz1udWxsLCF0LmNvbnRhaW5zKGUpJiZ0IT09ZXx8KHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXz1lLHRoaXMuZm9jdXMoKSl9LHQuY29uZGl0aW9uYWxCbHVyXz1mdW5jdGlvbigpe3RoaXMucHJldmlvdXNseUFjdGl2ZUVsXyYmKHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXy5mb2N1cygpLHRoaXMucHJldmlvdXNseUFjdGl2ZUVsXz1udWxsKX0sdC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGUpe2lmKGUuc3RvcFByb3BhZ2F0aW9uKCksd3QuaXNFdmVudEtleShlLCJFc2NhcGUiKSYmdGhpcy5jbG9zZWFibGUoKSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdGhpcy5jbG9zZSgpO2lmKHd0LmlzRXZlbnRLZXkoZSwiVGFiIikpe2Zvcih2YXIgdCxpPXRoaXMuZm9jdXNhYmxlRWxzXygpLG49dGhpcy5lbF8ucXVlcnlTZWxlY3RvcigiOmZvY3VzIikscj0wO3I8aS5sZW5ndGg7cisrKWlmKG49PT1pW3JdKXt0PXI7YnJlYWt9aC5hY3RpdmVFbGVtZW50PT09dGhpcy5lbF8mJih0PTApLGUuc2hpZnRLZXkmJjA9PT10PyhpW2kubGVuZ3RoLTFdLmZvY3VzKCksZS5wcmV2ZW50RGVmYXVsdCgpKTplLnNoaWZ0S2V5fHx0IT09aS5sZW5ndGgtMXx8KGlbMF0uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCkpfX0sdC5mb2N1c2FibGVFbHNfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbF8ucXVlcnlTZWxlY3RvckFsbCgiKiIpO3JldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZSxmdW5jdGlvbihlKXtyZXR1cm4oZSBpbnN0YW5jZW9mIHYuSFRNTEFuY2hvckVsZW1lbnR8fGUgaW5zdGFuY2VvZiB2LkhUTUxBcmVhRWxlbWVudCkmJmUuaGFzQXR0cmlidXRlKCJocmVmIil8fChlIGluc3RhbmNlb2Ygdi5IVE1MSW5wdXRFbGVtZW50fHxlIGluc3RhbmNlb2Ygdi5IVE1MU2VsZWN0RWxlbWVudHx8ZSBpbnN0YW5jZW9mIHYuSFRNTFRleHRBcmVhRWxlbWVudHx8ZSBpbnN0YW5jZW9mIHYuSFRNTEJ1dHRvbkVsZW1lbnQpJiYhZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIil8fGUgaW5zdGFuY2VvZiB2LkhUTUxJRnJhbWVFbGVtZW50fHxlIGluc3RhbmNlb2Ygdi5IVE1MT2JqZWN0RWxlbWVudHx8ZSBpbnN0YW5jZW9mIHYuSFRNTEVtYmVkRWxlbWVudHx8ZS5oYXNBdHRyaWJ1dGUoInRhYmluZGV4IikmJi0xIT09ZS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iil8fGUuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKX0pfSxlfShPZSk7UHQucHJvdG90eXBlLm9wdGlvbnNfPXtwYXVzZU9uT3BlbjohMCx0ZW1wb3Jhcnk6ITB9LE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJNb2RhbERpYWxvZyIsUHQpO3ZhciBJdD1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUpe3ZhciB0O3ZvaWQgMD09PWUmJihlPVtdKSwodD1uLmNhbGwodGhpcyl8fHRoaXMpLnRyYWNrc189W10sT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlKHQpLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFja3NfLmxlbmd0aH19KTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LmFkZFRyYWNrKGVbaV0pO3JldHVybiB0fXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYWRkVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFja3NfLmxlbmd0aDsiIit0IGluIHRoaXN8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWNrc19bdF19fSksLTE9PT10aGlzLnRyYWNrc18uaW5kZXhPZihlKSYmKHRoaXMudHJhY2tzXy5wdXNoKGUpLHRoaXMudHJpZ2dlcih7dHJhY2s6ZSx0eXBlOiJhZGR0cmFjayIsdGFyZ2V0OnRoaXN9KSl9LHQucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9MCxuPXRoaXMubGVuZ3RoO2k8bjtpKyspaWYodGhpc1tpXT09PWUpeyh0PXRoaXNbaV0pLm9mZiYmdC5vZmYoKSx0aGlzLnRyYWNrc18uc3BsaWNlKGksMSk7YnJlYWt9dCYmdGhpcy50cmlnZ2VyKHt0cmFjazp0LHR5cGU6InJlbW92ZXRyYWNrIix0YXJnZXQ6dGhpc30pfSx0LmdldFRyYWNrQnlJZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxpPTAsbj10aGlzLmxlbmd0aDtpPG47aSsrKXt2YXIgcj10aGlzW2ldO2lmKHIuaWQ9PT1lKXt0PXI7YnJlYWt9fXJldHVybiB0fSxlfShmZSk7Zm9yKHZhciBMdCBpbiBJdC5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c189e2NoYW5nZToiY2hhbmdlIixhZGR0cmFjazoiYWRkdHJhY2siLHJlbW92ZXRyYWNrOiJyZW1vdmV0cmFjayJ9LEl0LnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXylJdC5wcm90b3R5cGVbIm9uIitMdF09bnVsbDtmdW5jdGlvbiBPdChlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKU9iamVjdC5rZXlzKGVbaV0pLmxlbmd0aCYmdC5pZCE9PWVbaV0uaWQmJihlW2ldLmVuYWJsZWQ9ITEpfWZ1bmN0aW9uIHh0KGUsdCl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspT2JqZWN0LmtleXMoZVtpXSkubGVuZ3RoJiZ0LmlkIT09ZVtpXS5pZCYmKGVbaV0uc2VsZWN0ZWQ9ITEpfWZ1bmN0aW9uIER0KGUpe3ZhciB0PVsicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJob3N0Il0saT1oLmNyZWF0ZUVsZW1lbnQoImEiKTtpLmhyZWY9ZTt2YXIgbixyPSIiPT09aS5ob3N0JiYiZmlsZToiIT09aS5wcm90b2NvbDtyJiYoKG49aC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPSc8YSBocmVmPSInK2UrJyI+PC9hPicsaT1uLmZpcnN0Q2hpbGQsbi5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiZGlzcGxheTpub25lOyBwb3NpdGlvbjphYnNvbHV0ZTsiKSxoLmJvZHkuYXBwZW5kQ2hpbGQobikpO2Zvcih2YXIgYT17fSxzPTA7czx0Lmxlbmd0aDtzKyspYVt0W3NdXT1pW3Rbc11dO3JldHVybiJodHRwOiI9PT1hLnByb3RvY29sJiYoYS5ob3N0PWEuaG9zdC5yZXBsYWNlKC86ODAkLywiIikpLCJodHRwczoiPT09YS5wcm90b2NvbCYmKGEuaG9zdD1hLmhvc3QucmVwbGFjZSgvOjQ0MyQvLCIiKSksYS5wcm90b2NvbHx8KGEucHJvdG9jb2w9di5sb2NhdGlvbi5wcm90b2NvbCksciYmaC5ib2R5LnJlbW92ZUNoaWxkKG4pLGF9ZnVuY3Rpb24gVXQoZSl7aWYoIWUubWF0Y2goL15odHRwcz86XC9cLy8pKXt2YXIgdD1oLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaW5uZXJIVE1MPSc8YSBocmVmPSInK2UrJyI+eDwvYT4nLGU9dC5maXJzdENoaWxkLmhyZWZ9cmV0dXJuIGV9ZnVuY3Rpb24gUnQoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgdD0vXihcLz8pKFtcc1xTXSo/KSgoPzpcLnsxLDJ9fFteXC9dKz8pKFwuKFteXC5cL1w/XSspKSkoPzpbXC9dKnxbXD9dLiopJC8uZXhlYyhlKTtpZih0KXJldHVybiB0LnBvcCgpLnRvTG93ZXJDYXNlKCl9cmV0dXJuIiJ9ZnVuY3Rpb24gTXQoZSl7dmFyIHQ9di5sb2NhdGlvbixpPUR0KGUpO3JldHVybigiOiI9PT1pLnByb3RvY29sP3QucHJvdG9jb2w6aS5wcm90b2NvbCkraS5ob3N0IT09dC5wcm90b2NvbCt0Lmhvc3R9dmFyIE50PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSl7dmFyIHQ7dm9pZCAwPT09ZSYmKGU9W10pO2Zvcih2YXIgaT1lLmxlbmd0aC0xOzA8PWk7aS0tKWlmKGVbaV0uZW5hYmxlZCl7T3QoZSxlW2ldKTticmVha31yZXR1cm4odD1uLmNhbGwodGhpcyxlKXx8dGhpcykuY2hhbmdpbmdfPSExLHR9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5hZGRUcmFjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuZW5hYmxlZCYmT3QodGhpcyxlKSxuLnByb3RvdHlwZS5hZGRUcmFjay5jYWxsKHRoaXMsZSksZS5hZGRFdmVudExpc3RlbmVyJiYoZS5lbmFibGVkQ2hhbmdlXz1mdW5jdGlvbigpe3QuY2hhbmdpbmdffHwodC5jaGFuZ2luZ189ITAsT3QodCxlKSx0LmNoYW5naW5nXz0hMSx0LnRyaWdnZXIoImNoYW5nZSIpKX0sZS5hZGRFdmVudExpc3RlbmVyKCJlbmFibGVkY2hhbmdlIixlLmVuYWJsZWRDaGFuZ2VfKSl9LHQucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7bi5wcm90b3R5cGUucmVtb3ZlVHJhY2suY2FsbCh0aGlzLGUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5lbmFibGVkQ2hhbmdlXyYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZW5hYmxlZGNoYW5nZSIsZS5lbmFibGVkQ2hhbmdlXyksZS5lbmFibGVkQ2hhbmdlXz1udWxsKX0sZX0oSXQpLEJ0PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSl7dmFyIHQ7dm9pZCAwPT09ZSYmKGU9W10pO2Zvcih2YXIgaT1lLmxlbmd0aC0xOzA8PWk7aS0tKWlmKGVbaV0uc2VsZWN0ZWQpe3h0KGUsZVtpXSk7YnJlYWt9cmV0dXJuKHQ9bi5jYWxsKHRoaXMsZSl8fHRoaXMpLmNoYW5naW5nXz0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUmUodCksInNlbGVjdGVkSW5kZXgiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZih0aGlzW2VdLnNlbGVjdGVkKXJldHVybiBlO3JldHVybi0xfSxzZXQ6ZnVuY3Rpb24oKXt9fSksdH14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmFkZFRyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5zZWxlY3RlZCYmeHQodGhpcyxlKSxuLnByb3RvdHlwZS5hZGRUcmFjay5jYWxsKHRoaXMsZSksZS5hZGRFdmVudExpc3RlbmVyJiYoZS5zZWxlY3RlZENoYW5nZV89ZnVuY3Rpb24oKXt0LmNoYW5naW5nX3x8KHQuY2hhbmdpbmdfPSEwLHh0KHQsZSksdC5jaGFuZ2luZ189ITEsdC50cmlnZ2VyKCJjaGFuZ2UiKSl9LGUuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0ZWRjaGFuZ2UiLGUuc2VsZWN0ZWRDaGFuZ2VfKSl9LHQucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7bi5wcm90b3R5cGUucmVtb3ZlVHJhY2suY2FsbCh0aGlzLGUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5zZWxlY3RlZENoYW5nZV8mJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlbGVjdGVkY2hhbmdlIixlLnNlbGVjdGVkQ2hhbmdlXyksZS5zZWxlY3RlZENoYW5nZV89bnVsbCl9LGV9KEl0KSxqdD1mdW5jdGlvbihpKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXhlKGUsaSk7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYWRkVHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpLnByb3RvdHlwZS5hZGRUcmFjay5jYWxsKHRoaXMsZSksdGhpcy5xdWV1ZUNoYW5nZV98fCh0aGlzLnF1ZXVlQ2hhbmdlXz1mdW5jdGlvbigpe3JldHVybiB0LnF1ZXVlVHJpZ2dlcigiY2hhbmdlIil9KSx0aGlzLnRyaWdnZXJTZWxlY3RlZGxhbmd1YWdlY2hhbmdlfHwodGhpcy50cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZV89ZnVuY3Rpb24oKXtyZXR1cm4gdC50cmlnZ2VyKCJzZWxlY3RlZGxhbmd1YWdlY2hhbmdlIil9KSxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vZGVjaGFuZ2UiLHRoaXMucXVldWVDaGFuZ2VfKTstMT09PVsibWV0YWRhdGEiLCJjaGFwdGVycyJdLmluZGV4T2YoZS5raW5kKSYmZS5hZGRFdmVudExpc3RlbmVyKCJtb2RlY2hhbmdlIix0aGlzLnRyaWdnZXJTZWxlY3RlZGxhbmd1YWdlY2hhbmdlXyl9LHQucmVtb3ZlVHJhY2s9ZnVuY3Rpb24oZSl7aS5wcm90b3R5cGUucmVtb3ZlVHJhY2suY2FsbCh0aGlzLGUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lciYmKHRoaXMucXVldWVDaGFuZ2VfJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vZGVjaGFuZ2UiLHRoaXMucXVldWVDaGFuZ2VfKSx0aGlzLnNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vZGVjaGFuZ2UiLHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKSl9LGV9KEl0KSxGdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9W10pLHRoaXMudHJhY2tFbGVtZW50c189W10sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aH19KTtmb3IodmFyIHQ9MCxpPWUubGVuZ3RoO3Q8aTt0KyspdGhpcy5hZGRUcmFja0VsZW1lbnRfKGVbdF0pfXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmFkZFRyYWNrRWxlbWVudF89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFja0VsZW1lbnRzXy5sZW5ndGg7IiIrdCBpbiB0aGlzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFja0VsZW1lbnRzX1t0XX19KSwtMT09PXRoaXMudHJhY2tFbGVtZW50c18uaW5kZXhPZihlKSYmdGhpcy50cmFja0VsZW1lbnRzXy5wdXNoKGUpfSx0LmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTAsbj10aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDtpPG47aSsrKWlmKGU9PT10aGlzLnRyYWNrRWxlbWVudHNfW2ldLnRyYWNrKXt0PXRoaXMudHJhY2tFbGVtZW50c19baV07YnJlYWt9cmV0dXJuIHR9LHQucmVtb3ZlVHJhY2tFbGVtZW50Xz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPXRoaXMudHJhY2tFbGVtZW50c18ubGVuZ3RoO3Q8aTt0KyspaWYoZT09PXRoaXMudHJhY2tFbGVtZW50c19bdF0pe3RoaXMudHJhY2tFbGVtZW50c19bdF0udHJhY2smJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLnRyYWNrRWxlbWVudHNfW3RdLnRyYWNrLm9mZiYmdGhpcy50cmFja0VsZW1lbnRzX1t0XS50cmFjay5vZmYoKSwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy50cmFja0VsZW1lbnRzX1t0XS5vZmYmJnRoaXMudHJhY2tFbGVtZW50c19bdF0ub2ZmKCksdGhpcy50cmFja0VsZW1lbnRzXy5zcGxpY2UodCwxKTticmVha319LGV9KCksSHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3QucHJvdG90eXBlLnNldEN1ZXNfLmNhbGwodGhpcyxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoX319KX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXRDdWVzXz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aHx8MCxpPTAsbj1lLmxlbmd0aDt0aGlzLmN1ZXNfPWUsdGhpcy5sZW5ndGhfPWUubGVuZ3RoO2Z1bmN0aW9uIHIoZSl7IiIrZSBpbiB0aGlzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiIitlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdWVzX1tlXX19KX1pZih0PG4pZm9yKGk9dDtpPG47aSsrKXIuY2FsbCh0aGlzLGkpfSxlLmdldEN1ZUJ5SWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW51bGwsaT0wLG49dGhpcy5sZW5ndGg7aTxuO2krKyl7dmFyIHI9dGhpc1tpXTtpZihyLmlkPT09ZSl7dD1yO2JyZWFrfX1yZXR1cm4gdH0sdH0oKSxWdD17YWx0ZXJuYXRpdmU6ImFsdGVybmF0aXZlIixjYXB0aW9uczoiY2FwdGlvbnMiLG1haW46Im1haW4iLHNpZ246InNpZ24iLHN1YnRpdGxlczoic3VidGl0bGVzIixjb21tZW50YXJ5OiJjb21tZW50YXJ5In0scXQ9e2FsdGVybmF0aXZlOiJhbHRlcm5hdGl2ZSIsZGVzY3JpcHRpb25zOiJkZXNjcmlwdGlvbnMiLG1haW46Im1haW4iLCJtYWluLWRlc2MiOiJtYWluLWRlc2MiLHRyYW5zbGF0aW9uOiJ0cmFuc2xhdGlvbiIsY29tbWVudGFyeToiY29tbWVudGFyeSJ9LFd0PXtzdWJ0aXRsZXM6InN1YnRpdGxlcyIsY2FwdGlvbnM6ImNhcHRpb25zIixkZXNjcmlwdGlvbnM6ImRlc2NyaXB0aW9ucyIsY2hhcHRlcnM6ImNoYXB0ZXJzIixtZXRhZGF0YToibWV0YWRhdGEifSx6dD17ZGlzYWJsZWQ6ImRpc2FibGVkIixoaWRkZW46ImhpZGRlbiIsc2hvd2luZzoic2hvd2luZyJ9LCR0PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ7dm9pZCAwPT09ZSYmKGU9e30pLHQ9YS5jYWxsKHRoaXMpfHx0aGlzO2Z1bmN0aW9uIGkoZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFJlKHQpLGUse2dldDpmdW5jdGlvbigpe3JldHVybiBuW2VdfSxzZXQ6ZnVuY3Rpb24oKXt9fSl9dmFyIG49e2lkOmUuaWR8fCJ2anNfdHJhY2tfIit0ZSgpLGtpbmQ6ZS5raW5kfHwiIixsYWJlbDplLmxhYmVsfHwiIixsYW5ndWFnZTplLmxhbmd1YWdlfHwiIn07Zm9yKHZhciByIGluIG4paShyKTtyZXR1cm4gdH1yZXR1cm4geGUoZSxhKSxlfShmZSksR3Q9T2JqZWN0LmZyZWV6ZSh7cGFyc2VVcmw6RHQsZ2V0QWJzb2x1dGVVUkw6VXQsZ2V0RmlsZUV4dGVuc2lvbjpSdCxpc0Nyb3NzT3JpZ2luOk10fSksWHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9S3QuY2FsbChlKTtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09dHx8ImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJbb2JqZWN0IFJlZ0V4cF0iIT09dHx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJihlPT09d2luZG93LnNldFRpbWVvdXR8fGU9PT13aW5kb3cuYWxlcnR8fGU9PT13aW5kb3cuY29uZmlybXx8ZT09PXdpbmRvdy5wcm9tcHQpfSxLdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIFl0KGUpe3ZhciB0PXRpLmNhbGwoZSksaT0iW29iamVjdCBBcmd1bWVudHNdIj09PXQ7cmV0dXJuIGk9aXx8IltvYmplY3QgQXJyYXldIiE9PXQmJm51bGwhPT1lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgmJjA8PWUubGVuZ3RoJiYiW29iamVjdCBGdW5jdGlvbl0iPT09dGkuY2FsbChlLmNhbGxlZSl9dmFyIFF0LEp0PUFycmF5LnByb3RvdHlwZS5zbGljZSxadD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGVpPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxmdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBpfHwiW29iamVjdCBGdW5jdGlvbl0iIT09WnQuY2FsbChpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIraSk7Zm9yKHZhciBuLHI9SnQuY2FsbChhcmd1bWVudHMsMSksZT1NYXRoLm1heCgwLGkubGVuZ3RoLXIubGVuZ3RoKSxhPVtdLHM9MDtzPGU7cysrKWEucHVzaCgiJCIrcyk7aWYobj1GdW5jdGlvbigiYmluZGVyIiwicmV0dXJuIGZ1bmN0aW9uICgiK2Euam9pbigiLCIpKyIpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfSIpKGZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIG4pe3ZhciBlPWkuYXBwbHkodGhpcyxyLmNvbmNhdChKdC5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOnRoaXN9cmV0dXJuIGkuYXBwbHkodCxyLmNvbmNhdChKdC5jYWxsKGFyZ3VtZW50cykpKX0pLGkucHJvdG90eXBlKXtmdW5jdGlvbiBvKCl7fW8ucHJvdG90eXBlPWkucHJvdG90eXBlLG4ucHJvdG90eXBlPW5ldyBvLG8ucHJvdG90eXBlPW51bGx9cmV0dXJuIG59LHRpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7aWYoIU9iamVjdC5rZXlzKXtmdW5jdGlvbiBpaShlKXt2YXIgdD1lLmNvbnN0cnVjdG9yO3JldHVybiB0JiZ0LnByb3RvdHlwZT09PWV9dmFyIG5pPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscmk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhaT1ZdCxzaT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLG9pPSFzaS5jYWxsKHt0b1N0cmluZzpudWxsfSwidG9TdHJpbmciKSx1aT1zaS5jYWxsKGZ1bmN0aW9uKCl7fSwicHJvdG90eXBlIiksbGk9WyJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc3RydWN0b3IiXSxjaT17JGFwcGxpY2F0aW9uQ2FjaGU6ITAsJGNvbnNvbGU6ITAsJGV4dGVybmFsOiEwLCRmcmFtZTohMCwkZnJhbWVFbGVtZW50OiEwLCRmcmFtZXM6ITAsJGlubmVySGVpZ2h0OiEwLCRpbm5lcldpZHRoOiEwLCRvbm1vemZ1bGxzY3JlZW5jaGFuZ2U6ITAsJG9ubW96ZnVsbHNjcmVlbmVycm9yOiEwLCRvdXRlckhlaWdodDohMCwkb3V0ZXJXaWR0aDohMCwkcGFnZVhPZmZzZXQ6ITAsJHBhZ2VZT2Zmc2V0OiEwLCRwYXJlbnQ6ITAsJHNjcm9sbExlZnQ6ITAsJHNjcm9sbFRvcDohMCwkc2Nyb2xsWDohMCwkc2Nyb2xsWTohMCwkc2VsZjohMCwkd2Via2l0SW5kZXhlZERCOiEwLCR3ZWJraXRTdG9yYWdlSW5mbzohMCwkd2luZG93OiEwfSxoaT1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93KXJldHVybiExO2Zvcih2YXIgZSBpbiB3aW5kb3cpdHJ5e2lmKCFjaVsiJCIrZV0mJm5pLmNhbGwod2luZG93LGUpJiZudWxsIT09d2luZG93W2VdJiYib2JqZWN0Ij09dHlwZW9mIHdpbmRvd1tlXSl0cnl7aWkod2luZG93W2VdKX1jYXRjaChlKXtyZXR1cm4hMH19Y2F0Y2goZSl7cmV0dXJuITB9cmV0dXJuITF9KCk7UXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCE9PWUmJiJvYmplY3QiPT10eXBlb2YgZSxpPSJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1yaS5jYWxsKGUpLG49YWkoZSkscj10JiYiW29iamVjdCBTdHJpbmddIj09PXJpLmNhbGwoZSksYT1bXTtpZighdCYmIWkmJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgcz11aSYmaTtpZihyJiYwPGUubGVuZ3RoJiYhbmkuY2FsbChlLDApKWZvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKWEucHVzaChTdHJpbmcobykpO2lmKG4mJjA8ZS5sZW5ndGgpZm9yKHZhciB1PTA7dTxlLmxlbmd0aDsrK3UpYS5wdXNoKFN0cmluZyh1KSk7ZWxzZSBmb3IodmFyIGwgaW4gZSlzJiYicHJvdG90eXBlIj09PWx8fCFuaS5jYWxsKGUsbCl8fGEucHVzaChTdHJpbmcobCkpO2lmKG9pKWZvcih2YXIgYz1mdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IWhpKXJldHVybiBpaShlKTt0cnl7cmV0dXJuIGlpKGUpfWNhdGNoKGUpe3JldHVybiExfX0oZSksaD0wO2g8bGkubGVuZ3RoOysraCljJiYiY29uc3RydWN0b3IiPT09bGlbaF18fCFuaS5jYWxsKGUsbGlbaF0pfHxhLnB1c2gobGlbaF0pO3JldHVybiBhfX12YXIgZGk9UXQscGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLGZpPU9iamVjdC5rZXlzLG1pPWZpP2Z1bmN0aW9uKGUpe3JldHVybiBmaShlKX06ZGksZ2k9T2JqZWN0LmtleXM7bWkuc2hpbT1mdW5jdGlvbigpe09iamVjdC5rZXlzP2Z1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LmtleXMoYXJndW1lbnRzKTtyZXR1cm4gZSYmZS5sZW5ndGg9PT1hcmd1bWVudHMubGVuZ3RofSgxLDIpfHwoT2JqZWN0LmtleXM9ZnVuY3Rpb24oZSl7cmV0dXJuIFl0KGUpP2dpKHBpLmNhbGwoZSkpOmdpKGUpfSk6T2JqZWN0LmtleXM9bWk7cmV0dXJuIE9iamVjdC5rZXlzfHxtaX07ZnVuY3Rpb24geWkoZSx0LGksbil7dCBpbiBlJiYoIWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYiW29iamVjdCBGdW5jdGlvbl0iPT09VGkuY2FsbChlKX0obil8fCFuKCkpfHwoQ2k/a2koZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTppLHdyaXRhYmxlOiEwfSk6ZVt0XT1pKX1mdW5jdGlvbiB2aShlLHQsaSl7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoP2k6e30scj1faSh0KTtiaSYmKHI9U2kuY2FsbChyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpKTtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErPTEpeWkoZSxyW2FdLHRbclthXV0sbltyW2FdXSl9dmFyIF9pPW1pLGJpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sKCJmb28iKSxUaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFNpPUFycmF5LnByb3RvdHlwZS5jb25jYXQsa2k9T2JqZWN0LmRlZmluZVByb3BlcnR5LENpPWtpJiZmdW5jdGlvbigpe3ZhciBlPXt9O3RyeXtmb3IodmFyIHQgaW4ga2koZSwieCIse2VudW1lcmFibGU6ITEsdmFsdWU6ZX0pLGUpcmV0dXJuITE7cmV0dXJuIGUueD09PWV9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3ZpLnN1cHBvcnRzRGVzY3JpcHRvcnM9ISFDaTtmdW5jdGlvbiBFaShlLHQpe2lmKDE8YXJndW1lbnRzLmxlbmd0aCYmImJvb2xlYW4iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCciYWxsb3dNaXNzaW5nIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO3ZhciBpPSIkICIrZTtpZighKGkgaW4gamkpKXRocm93IG5ldyBTeW50YXhFcnJvcigiaW50cmluc2ljICIrZSsiIGRvZXMgbm90IGV4aXN0ISIpO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgamlbaV0mJiF0KXRocm93IG5ldyBUeXBlRXJyb3IoImludHJpbnNpYyAiK2UrIiBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEiKTtyZXR1cm4gamlbaV19ZnVuY3Rpb24gd2koZSx0LGksbil7dmFyIHI9cWlbdF07aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFZpKCJ1bmtub3duIHJlY29yZCB0eXBlOiAiK3QpO2lmKCFyKGUsbikpdGhyb3cgbmV3IEhpKGkrIiBtdXN0IGJlIGEgIit0KX1mdW5jdGlvbiBBaShlKXtyZXR1cm4gMDw9ZT8xOi0xfWZ1bmN0aW9uIFBpKGUpe3RyeXt2YXIgdD1HaS5jYWxsKGUpO3JldHVybiBYaS50ZXN0KHQpfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBJaShlKXtpZighZSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmIm9iamVjdCIhPXR5cGVvZiBlKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYhZS5wcm90b3R5cGUpcmV0dXJuITA7aWYoWWkpcmV0dXJuIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hUGkoZSkmJihHaS5jYWxsKGUpLCEwKX1jYXRjaChlKXtyZXR1cm4hMX19KGUpO2lmKFBpKGUpKXJldHVybiExO3ZhciB0PUtpLmNhbGwoZSk7cmV0dXJuIltvYmplY3QgRnVuY3Rpb25dIj09PXR8fCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSI9PT10fWZ1bmN0aW9uIExpKGUpe3JldHVybiBudWxsPT09ZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUmJiJvYmplY3QiIT10eXBlb2YgZX1mdW5jdGlvbiBPaSgpe3ZhciBlPW5uLlRvU3RyaW5nKG5uLkNoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXMpKTtyZXR1cm4gcm4ocm4oZSxhbiwiIiksc24sIiIpfWZ1bmN0aW9uIHhpKCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbSYmIuKAiyI9PT0i4oCLIi50cmltKCk/U3RyaW5nLnByb3RvdHlwZS50cmltOk9pfXZhciBEaSxVaT12aSxSaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yP2Z1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXJndW1lbnRzLCJjYWxsZWUiKS5nZXR9KCk6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yfSxNaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixOaT1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX30sQmk9InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50OEFycmF5P0RpOk5pKFVpbnQ4QXJyYXkpLGppPXsiJCAlQXJyYXklIjpBcnJheSwiJCAlQXJyYXlCdWZmZXIlIjoidW5kZWZpbmVkIj09dHlwZW9mIEFycmF5QnVmZmVyP0RpOkFycmF5QnVmZmVyLCIkICVBcnJheUJ1ZmZlclByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgQXJyYXlCdWZmZXI/RGk6QXJyYXlCdWZmZXIucHJvdG90eXBlLCIkICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSI6TWk/TmkoW11bU3ltYm9sLml0ZXJhdG9yXSgpKTpEaSwiJCAlQXJyYXlQcm90b3R5cGUlIjpBcnJheS5wcm90b3R5cGUsIiQgJUFycmF5UHJvdG9fZW50cmllcyUiOkFycmF5LnByb3RvdHlwZS5lbnRyaWVzLCIkICVBcnJheVByb3RvX2ZvckVhY2glIjpBcnJheS5wcm90b3R5cGUuZm9yRWFjaCwiJCAlQXJyYXlQcm90b19rZXlzJSI6QXJyYXkucHJvdG90eXBlLmtleXMsIiQgJUFycmF5UHJvdG9fdmFsdWVzJSI6QXJyYXkucHJvdG90eXBlLnZhbHVlcywiJCAlQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSI6RGksIiQgJUFzeW5jRnVuY3Rpb24lIjp2b2lkIDAsIiQgJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlIjpEaSwiJCAlQXN5bmNHZW5lcmF0b3IlIjpEaSwiJCAlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiOnZvaWQgMCwiJCAlQXN5bmNHZW5lcmF0b3JQcm90b3R5cGUlIjpEaSwiJCAlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiOkRpLCIkICVBdG9taWNzJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBBdG9taWNzP0RpOkF0b21pY3MsIiQgJUJvb2xlYW4lIjpCb29sZWFuLCIkICVCb29sZWFuUHJvdG90eXBlJSI6Qm9vbGVhbi5wcm90b3R5cGUsIiQgJURhdGFWaWV3JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBEYXRhVmlldz9EaTpEYXRhVmlldywiJCAlRGF0YVZpZXdQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09dHlwZW9mIERhdGFWaWV3P0RpOkRhdGFWaWV3LnByb3RvdHlwZSwiJCAlRGF0ZSUiOkRhdGUsIiQgJURhdGVQcm90b3R5cGUlIjpEYXRlLnByb3RvdHlwZSwiJCAlZGVjb2RlVVJJJSI6ZGVjb2RlVVJJLCIkICVkZWNvZGVVUklDb21wb25lbnQlIjpkZWNvZGVVUklDb21wb25lbnQsIiQgJWVuY29kZVVSSSUiOmVuY29kZVVSSSwiJCAlZW5jb2RlVVJJQ29tcG9uZW50JSI6ZW5jb2RlVVJJQ29tcG9uZW50LCIkICVFcnJvciUiOkVycm9yLCIkICVFcnJvclByb3RvdHlwZSUiOkVycm9yLnByb3RvdHlwZSwiJCAlZXZhbCUiOmV2YWwsIiQgJUV2YWxFcnJvciUiOkV2YWxFcnJvciwiJCAlRXZhbEVycm9yUHJvdG90eXBlJSI6RXZhbEVycm9yLnByb3RvdHlwZSwiJCAlRmxvYXQzMkFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/RGk6RmxvYXQzMkFycmF5LCIkICVGbG9hdDMyQXJyYXlQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0MzJBcnJheT9EaTpGbG9hdDMyQXJyYXkucHJvdG90eXBlLCIkICVGbG9hdDY0QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIEZsb2F0NjRBcnJheT9EaTpGbG9hdDY0QXJyYXksIiQgJUZsb2F0NjRBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgRmxvYXQ2NEFycmF5P0RpOkZsb2F0NjRBcnJheS5wcm90b3R5cGUsIiQgJUZ1bmN0aW9uJSI6RnVuY3Rpb24sIiQgJUZ1bmN0aW9uUHJvdG90eXBlJSI6RnVuY3Rpb24ucHJvdG90eXBlLCIkICVHZW5lcmF0b3IlIjpEaSwiJCAlR2VuZXJhdG9yRnVuY3Rpb24lIjp2b2lkIDAsIiQgJUdlbmVyYXRvclByb3RvdHlwZSUiOkRpLCIkICVJbnQ4QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIEludDhBcnJheT9EaTpJbnQ4QXJyYXksIiQgJUludDhBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgSW50OEFycmF5P0RpOkludDhBcnJheS5wcm90b3R5cGUsIiQgJUludDE2QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIEludDE2QXJyYXk/RGk6SW50MTZBcnJheSwiJCAlSW50MTZBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgSW50MTZBcnJheT9EaTpJbnQ4QXJyYXkucHJvdG90eXBlLCIkICVJbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBJbnQzMkFycmF5P0RpOkludDMyQXJyYXksIiQgJUludDMyQXJyYXlQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09dHlwZW9mIEludDMyQXJyYXk/RGk6SW50MzJBcnJheS5wcm90b3R5cGUsIiQgJWlzRmluaXRlJSI6aXNGaW5pdGUsIiQgJWlzTmFOJSI6aXNOYU4sIiQgJUl0ZXJhdG9yUHJvdG90eXBlJSI6TWk/TmkoTmkoW11bU3ltYm9sLml0ZXJhdG9yXSgpKSk6RGksIiQgJUpTT04lIjpKU09OLCIkICVKU09OUGFyc2UlIjpKU09OLnBhcnNlLCIkICVNYXAlIjoidW5kZWZpbmVkIj09dHlwZW9mIE1hcD9EaTpNYXAsIiQgJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSI6InVuZGVmaW5lZCIhPXR5cGVvZiBNYXAmJk1pP05pKChuZXcgTWFwKVtTeW1ib2wuaXRlcmF0b3JdKCkpOkRpLCIkICVNYXBQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09dHlwZW9mIE1hcD9EaTpNYXAucHJvdG90eXBlLCIkICVNYXRoJSI6TWF0aCwiJCAlTnVtYmVyJSI6TnVtYmVyLCIkICVOdW1iZXJQcm90b3R5cGUlIjpOdW1iZXIucHJvdG90eXBlLCIkICVPYmplY3QlIjpPYmplY3QsIiQgJU9iamVjdFByb3RvdHlwZSUiOk9iamVjdC5wcm90b3R5cGUsIiQgJU9ialByb3RvX3RvU3RyaW5nJSI6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywiJCAlT2JqUHJvdG9fdmFsdWVPZiUiOk9iamVjdC5wcm90b3R5cGUudmFsdWVPZiwiJCAlcGFyc2VGbG9hdCUiOnBhcnNlRmxvYXQsIiQgJXBhcnNlSW50JSI6cGFyc2VJbnQsIiQgJVByb21pc2UlIjoidW5kZWZpbmVkIj09dHlwZW9mIFByb21pc2U/RGk6UHJvbWlzZSwiJCAlUHJvbWlzZVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgUHJvbWlzZT9EaTpQcm9taXNlLnByb3RvdHlwZSwiJCAlUHJvbWlzZVByb3RvX3RoZW4lIjoidW5kZWZpbmVkIj09dHlwZW9mIFByb21pc2U/RGk6UHJvbWlzZS5wcm90b3R5cGUudGhlbiwiJCAlUHJvbWlzZV9hbGwlIjoidW5kZWZpbmVkIj09dHlwZW9mIFByb21pc2U/RGk6UHJvbWlzZS5hbGwsIiQgJVByb21pc2VfcmVqZWN0JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBQcm9taXNlP0RpOlByb21pc2UucmVqZWN0LCIkICVQcm9taXNlX3Jlc29sdmUlIjoidW5kZWZpbmVkIj09dHlwZW9mIFByb21pc2U/RGk6UHJvbWlzZS5yZXNvbHZlLCIkICVQcm94eSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgUHJveHk/RGk6UHJveHksIiQgJVJhbmdlRXJyb3IlIjpSYW5nZUVycm9yLCIkICVSYW5nZUVycm9yUHJvdG90eXBlJSI6UmFuZ2VFcnJvci5wcm90b3R5cGUsIiQgJVJlZmVyZW5jZUVycm9yJSI6UmVmZXJlbmNlRXJyb3IsIiQgJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSI6UmVmZXJlbmNlRXJyb3IucHJvdG90eXBlLCIkICVSZWZsZWN0JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0P0RpOlJlZmxlY3QsIiQgJVJlZ0V4cCUiOlJlZ0V4cCwiJCAlUmVnRXhwUHJvdG90eXBlJSI6UmVnRXhwLnByb3RvdHlwZSwiJCAlU2V0JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBTZXQ/RGk6U2V0LCIkICVTZXRJdGVyYXRvclByb3RvdHlwZSUiOiJ1bmRlZmluZWQiIT10eXBlb2YgU2V0JiZNaT9OaSgobmV3IFNldClbU3ltYm9sLml0ZXJhdG9yXSgpKTpEaSwiJCAlU2V0UHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBTZXQ/RGk6U2V0LnByb3RvdHlwZSwiJCAlU2hhcmVkQXJyYXlCdWZmZXIlIjoidW5kZWZpbmVkIj09dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyP0RpOlNoYXJlZEFycmF5QnVmZmVyLCIkICVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI/RGk6U2hhcmVkQXJyYXlCdWZmZXIucHJvdG90eXBlLCIkICVTdHJpbmclIjpTdHJpbmcsIiQgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSI6TWk/TmkoIiJbU3ltYm9sLml0ZXJhdG9yXSgpKTpEaSwiJCAlU3RyaW5nUHJvdG90eXBlJSI6U3RyaW5nLnByb3RvdHlwZSwiJCAlU3ltYm9sJSI6TWk/U3ltYm9sOkRpLCIkICVTeW1ib2xQcm90b3R5cGUlIjpNaT9TeW1ib2wucHJvdG90eXBlOkRpLCIkICVTeW50YXhFcnJvciUiOlN5bnRheEVycm9yLCIkICVTeW50YXhFcnJvclByb3RvdHlwZSUiOlN5bnRheEVycm9yLnByb3RvdHlwZSwiJCAlVGhyb3dUeXBlRXJyb3IlIjpSaSwiJCAlVHlwZWRBcnJheSUiOkJpLCIkICVUeXBlZEFycmF5UHJvdG90eXBlJSI6Qmk/QmkucHJvdG90eXBlOkRpLCIkICVUeXBlRXJyb3IlIjpUeXBlRXJyb3IsIiQgJVR5cGVFcnJvclByb3RvdHlwZSUiOlR5cGVFcnJvci5wcm90b3R5cGUsIiQgJVVpbnQ4QXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIFVpbnQ4QXJyYXk/RGk6VWludDhBcnJheSwiJCAlVWludDhBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgVWludDhBcnJheT9EaTpVaW50OEFycmF5LnByb3RvdHlwZSwiJCAlVWludDhDbGFtcGVkQXJyYXklIjoidW5kZWZpbmVkIj09dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P0RpOlVpbnQ4Q2xhbXBlZEFycmF5LCIkICVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgVWludDhDbGFtcGVkQXJyYXk/RGk6VWludDhDbGFtcGVkQXJyYXkucHJvdG90eXBlLCIkICVVaW50MTZBcnJheSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgVWludDE2QXJyYXk/RGk6VWludDE2QXJyYXksIiQgJVVpbnQxNkFycmF5UHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MTZBcnJheT9EaTpVaW50MTZBcnJheS5wcm90b3R5cGUsIiQgJVVpbnQzMkFycmF5JSI6InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50MzJBcnJheT9EaTpVaW50MzJBcnJheSwiJCAlVWludDMyQXJyYXlQcm90b3R5cGUlIjoidW5kZWZpbmVkIj09dHlwZW9mIFVpbnQzMkFycmF5P0RpOlVpbnQzMkFycmF5LnByb3RvdHlwZSwiJCAlVVJJRXJyb3IlIjpVUklFcnJvciwiJCAlVVJJRXJyb3JQcm90b3R5cGUlIjpVUklFcnJvci5wcm90b3R5cGUsIiQgJVdlYWtNYXAlIjoidW5kZWZpbmVkIj09dHlwZW9mIFdlYWtNYXA/RGk6V2Vha01hcCwiJCAlV2Vha01hcFByb3RvdHlwZSUiOiJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcD9EaTpXZWFrTWFwLnByb3RvdHlwZSwiJCAlV2Vha1NldCUiOiJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha1NldD9EaTpXZWFrU2V0LCIkICVXZWFrU2V0UHJvdG90eXBlJSI6InVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrU2V0P0RpOldlYWtTZXQucHJvdG90eXBlfSxGaT1laS5jYWxsKEZ1bmN0aW9uLmNhbGwsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSksSGk9RWkoIiVUeXBlRXJyb3IlIiksVmk9RWkoIiVTeW50YXhFcnJvciUiKSxxaT17IlByb3BlcnR5IERlc2NyaXB0b3IiOmZ1bmN0aW9uKGUsdCl7aWYoIk9iamVjdCIhPT1lLlR5cGUodCkpcmV0dXJuITE7dmFyIGk9eyJbW0NvbmZpZ3VyYWJsZV1dIjohMCwiW1tFbnVtZXJhYmxlXV0iOiEwLCJbW0dldF1dIjohMCwiW1tTZXRdXSI6ITAsIltbVmFsdWVdXSI6ITAsIltbV3JpdGFibGVdXSI6ITB9O2Zvcih2YXIgbiBpbiB0KWlmKEZpKHQsbikmJiFpW25dKXJldHVybiExO3ZhciByPUZpKHQsIltbVmFsdWVdXSIpLGE9RmkodCwiW1tHZXRdXSIpfHxGaSh0LCJbW1NldF1dIik7aWYociYmYSl0aHJvdyBuZXcgSGkoIlByb3BlcnR5IERlc2NyaXB0b3JzIG1heSBub3QgYmUgYm90aCBhY2Nlc3NvciBhbmQgZGF0YSBkZXNjcmlwdG9ycyIpO3JldHVybiEwfX0sV2k9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX0semk9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX0sJGk9TnVtYmVyLmlzRmluaXRlfHxmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJiF6aShlKSYmZSE9PTEvMCYmZSE9PS0xLzB9LEdpPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxYaT0vXlxzKmNsYXNzXGIvLEtpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsWWk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcsUWk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxKaT1mdW5jdGlvbihlLHQpe3ZhciBpO2lmKChpPTE8YXJndW1lbnRzLmxlbmd0aD90OiJbb2JqZWN0IERhdGVdIj09PVFpLmNhbGwoZSk/U3RyaW5nOk51bWJlcikhPT1TdHJpbmcmJmkhPT1OdW1iZXIpdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBbW0RlZmF1bHRWYWx1ZV1dIGhpbnQgc3VwcGxpZWQiKTt2YXIgbixyLGE9aT09PVN0cmluZz9bInRvU3RyaW5nIiwidmFsdWVPZiJdOlsidmFsdWVPZiIsInRvU3RyaW5nIl07Zm9yKHI9MDtyPGEubGVuZ3RoOysrcilpZihJaShlW2Fbcl1dKSYmKG49ZVthW3JdXSgpLExpKG4pKSlyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKCJObyBkZWZhdWx0IHZhbHVlIil9LFppPUVpKCIlT2JqZWN0JSIpLGVuPUVpKCIlVHlwZUVycm9yJSIpLHRuPUVpKCIlU3RyaW5nJSIpLG5uPXtUb1ByaW1pdGl2ZTpmdW5jdGlvbihlLHQpe3JldHVybiBMaShlKT9lOjE8YXJndW1lbnRzLmxlbmd0aD9KaShlLHQpOkppKGUpfSxUb0Jvb2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuISFlfSxUb051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm4rZX0sVG9JbnRlZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuVG9OdW1iZXIoZSk7cmV0dXJuIFdpKHQpPzA6MCE9PXQmJiRpKHQpP0FpKHQpKk1hdGguZmxvb3IoTWF0aC5hYnModCkpOnR9LFRvSW50MzI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVG9OdW1iZXIoZSk+PjB9LFRvVWludDMyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlRvTnVtYmVyKGUpPj4+MH0sVG9VaW50MTY6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5Ub051bWJlcihlKTtyZXR1cm4gV2kodCl8fDA9PT10fHwhJGkodCk/MDpmdW5jdGlvbihlLHQpe3ZhciBpPWUldDtyZXR1cm4gTWF0aC5mbG9vcigwPD1pP2k6aSt0KX0oQWkodCkqTWF0aC5mbG9vcihNYXRoLmFicyh0KSksNjU1MzYpfSxUb1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gdG4oZSl9LFRvT2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkNoZWNrT2JqZWN0Q29lcmNpYmxlKGUpLFppKGUpfSxDaGVja09iamVjdENvZXJjaWJsZTpmdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpdGhyb3cgbmV3IGVuKHR8fCJDYW5ub3QgY2FsbCBtZXRob2Qgb24gIitlKTtyZXR1cm4gZX0sSXNDYWxsYWJsZTpJaSxTYW1lVmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09MS90OldpKGUpJiZXaSh0KX0sVHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWU/Ik51bGwiOiJ1bmRlZmluZWQiPT10eXBlb2YgZT8iVW5kZWZpbmVkIjoiZnVuY3Rpb24iPT10eXBlb2YgZXx8Im9iamVjdCI9PXR5cGVvZiBlPyJPYmplY3QiOiJudW1iZXIiPT10eXBlb2YgZT8iTnVtYmVyIjoiYm9vbGVhbiI9PXR5cGVvZiBlPyJCb29sZWFuIjoic3RyaW5nIj09dHlwZW9mIGU/IlN0cmluZyI6dm9pZCAwfSxJc1Byb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbihlKXtpZigiT2JqZWN0IiE9PXRoaXMuVHlwZShlKSlyZXR1cm4hMTt2YXIgdD17IltbQ29uZmlndXJhYmxlXV0iOiEwLCJbW0VudW1lcmFibGVdXSI6ITAsIltbR2V0XV0iOiEwLCJbW1NldF1dIjohMCwiW1tWYWx1ZV1dIjohMCwiW1tXcml0YWJsZV1dIjohMH07Zm9yKHZhciBpIGluIGUpaWYoRmkoZSxpKSYmIXRbaV0pcmV0dXJuITE7dmFyIG49RmkoZSwiW1tWYWx1ZV1dIikscj1GaShlLCJbW0dldF1dIil8fEZpKGUsIltbU2V0XV0iKTtpZihuJiZyKXRocm93IG5ldyBlbigiUHJvcGVydHkgRGVzY3JpcHRvcnMgbWF5IG5vdCBiZSBib3RoIGFjY2Vzc29yIGFuZCBkYXRhIGRlc2NyaXB0b3JzIik7cmV0dXJuITB9LElzQWNjZXNzb3JEZXNjcmlwdG9yOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKHdpKHRoaXMsIlByb3BlcnR5IERlc2NyaXB0b3IiLCJEZXNjIixlKSwhKCFGaShlLCJbW0dldF1dIikmJiFGaShlLCJbW1NldF1dIikpKX0sSXNEYXRhRGVzY3JpcHRvcjpmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGUmJih3aSh0aGlzLCJQcm9wZXJ0eSBEZXNjcmlwdG9yIiwiRGVzYyIsZSksISghRmkoZSwiW1tWYWx1ZV1dIikmJiFGaShlLCJbW1dyaXRhYmxlXV0iKSkpfSxJc0dlbmVyaWNEZXNjcmlwdG9yOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKHdpKHRoaXMsIlByb3BlcnR5IERlc2NyaXB0b3IiLCJEZXNjIixlKSwhdGhpcy5Jc0FjY2Vzc29yRGVzY3JpcHRvcihlKSYmIXRoaXMuSXNEYXRhRGVzY3JpcHRvcihlKSl9LEZyb21Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKHdpKHRoaXMsIlByb3BlcnR5IERlc2NyaXB0b3IiLCJEZXNjIixlKSx0aGlzLklzRGF0YURlc2NyaXB0b3IoZSkpcmV0dXJue3ZhbHVlOmVbIltbVmFsdWVdXSJdLHdyaXRhYmxlOiEhZVsiW1tXcml0YWJsZV1dIl0sZW51bWVyYWJsZTohIWVbIltbRW51bWVyYWJsZV1dIl0sY29uZmlndXJhYmxlOiEhZVsiW1tDb25maWd1cmFibGVdXSJdfTtpZih0aGlzLklzQWNjZXNzb3JEZXNjcmlwdG9yKGUpKXJldHVybntnZXQ6ZVsiW1tHZXRdXSJdLHNldDplWyJbW1NldF1dIl0sZW51bWVyYWJsZTohIWVbIltbRW51bWVyYWJsZV1dIl0sY29uZmlndXJhYmxlOiEhZVsiW1tDb25maWd1cmFibGVdXSJdfTt0aHJvdyBuZXcgZW4oIkZyb21Qcm9wZXJ0eURlc2NyaXB0b3IgbXVzdCBiZSBjYWxsZWQgd2l0aCBhIGZ1bGx5IHBvcHVsYXRlZCBQcm9wZXJ0eSBEZXNjcmlwdG9yIil9LFRvUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKGUpe2lmKCJPYmplY3QiIT09dGhpcy5UeXBlKGUpKXRocm93IG5ldyBlbigiVG9Qcm9wZXJ0eURlc2NyaXB0b3IgcmVxdWlyZXMgYW4gb2JqZWN0Iik7dmFyIHQ9e307aWYoRmkoZSwiZW51bWVyYWJsZSIpJiYodFsiW1tFbnVtZXJhYmxlXV0iXT10aGlzLlRvQm9vbGVhbihlLmVudW1lcmFibGUpKSxGaShlLCJjb25maWd1cmFibGUiKSYmKHRbIltbQ29uZmlndXJhYmxlXV0iXT10aGlzLlRvQm9vbGVhbihlLmNvbmZpZ3VyYWJsZSkpLEZpKGUsInZhbHVlIikmJih0WyJbW1ZhbHVlXV0iXT1lLnZhbHVlKSxGaShlLCJ3cml0YWJsZSIpJiYodFsiW1tXcml0YWJsZV1dIl09dGhpcy5Ub0Jvb2xlYW4oZS53cml0YWJsZSkpLEZpKGUsImdldCIpKXt2YXIgaT1lLmdldDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGkmJiF0aGlzLklzQ2FsbGFibGUoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiZ2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3RbIltbR2V0XV0iXT1pfWlmKEZpKGUsInNldCIpKXt2YXIgbj1lLnNldDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG4mJiF0aGlzLklzQ2FsbGFibGUobikpdGhyb3cgbmV3IGVuKCJzZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dFsiW1tTZXRdXSJdPW59aWYoKEZpKHQsIltbR2V0XV0iKXx8RmkodCwiW1tTZXRdXSIpKSYmKEZpKHQsIltbVmFsdWVdXSIpfHxGaSh0LCJbW1dyaXRhYmxlXV0iKSkpdGhyb3cgbmV3IGVuKCJJbnZhbGlkIHByb3BlcnR5IGRlc2NyaXB0b3IuIENhbm5vdCBib3RoIHNwZWNpZnkgYWNjZXNzb3JzIGFuZCBhIHZhbHVlIG9yIHdyaXRhYmxlIGF0dHJpYnV0ZSIpO3JldHVybiB0fX0scm49ZWkuY2FsbChGdW5jdGlvbi5jYWxsLFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSksYW49L15bXHgwOVx4MEFceDBCXHgwQ1x4MERceDIwXHhBMFx1MTY4MFx1MTgwRVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwQVx1MjAyRlx1MjA1Rlx1MzAwMFx1MjAyOFx1MjAyOVx1RkVGRl0rLyxzbj0vW1x4MDlceDBBXHgwQlx4MENceDBEXHgyMFx4QTBcdTE2ODBcdTE4MEVcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDNcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMEFcdTIwMkZcdTIwNUZcdTMwMDBcdTIwMjhcdTIwMjlcdUZFRkZdKyQvLG9uPWVpLmNhbGwoRnVuY3Rpb24uY2FsbCx4aSgpKTtVaShvbix7Z2V0UG9seWZpbGw6eGksaW1wbGVtZW50YXRpb246T2ksc2hpbTpmdW5jdGlvbigpe3ZhciBlPXhpKCk7cmV0dXJuIFVpKFN0cmluZy5wcm90b3R5cGUse3RyaW06ZX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltIT09ZX19KSxlfX0pO3ZhciB1bj1vbixsbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGNuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaG49ZnVuY3Rpb24oZSx0LGkpe2lmKCFJaSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgbjszPD1hcmd1bWVudHMubGVuZ3RoJiYobj1pKSwiW29iamVjdCBBcnJheV0iPT09bG4uY2FsbChlKT9mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWNuLmNhbGwoZSxuKSYmKG51bGw9PWk/dChlW25dLG4sZSk6dC5jYWxsKGksZVtuXSxuLGUpKX0oZSx0LG4pOiJzdHJpbmciPT10eXBlb2YgZT9mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKW51bGw9PWk/dChlLmNoYXJBdChuKSxuLGUpOnQuY2FsbChpLGUuY2hhckF0KG4pLG4sZSl9KGUsdCxuKTpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuIGluIGUpY24uY2FsbChlLG4pJiYobnVsbD09aT90KGVbbl0sbixlKTp0LmNhbGwoaSxlW25dLG4sZSkpfShlLHQsbil9LGRuPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybnt9O3ZhciByPXt9O3JldHVybiBobih1bihlKS5zcGxpdCgiXG4iKSxmdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoIjoiKSxpPXVuKGUuc2xpY2UoMCx0KSkudG9Mb3dlckNhc2UoKSxuPXVuKGUuc2xpY2UodCsxKSk7InVuZGVmaW5lZCI9PXR5cGVvZiByW2ldP3JbaV09bjohZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0ocltpXSk/cltpXT1bcltpXSxuXTpyW2ldLnB1c2gobil9KSxyfSxwbj1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiBpKWZuLmNhbGwoaSxuKSYmKGVbbl09aVtuXSl9cmV0dXJuIGV9LGZuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIG1uPXluO2Z1bmN0aW9uIGduKGUsdCxpKXt2YXIgbj1lO3JldHVybiBYdCh0KT8oaT10LCJzdHJpbmciPT10eXBlb2YgZSYmKG49e3VyaTplfSkpOm49cG4odCx7dXJpOmV9KSxuLmNhbGxiYWNrPWksbn1mdW5jdGlvbiB5bihlLHQsaSl7cmV0dXJuIHZuKHQ9Z24oZSx0LGkpKX1mdW5jdGlvbiB2bihuKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIG4uY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nIik7dmFyIHI9ITEsYT1mdW5jdGlvbihlLHQsaSl7cnx8KHI9ITAsbi5jYWxsYmFjayhlLHQsaSkpfTtmdW5jdGlvbiB0KGUpe3JldHVybiBjbGVhclRpbWVvdXQobyksZSBpbnN0YW5jZW9mIEVycm9yfHwoZT1uZXcgRXJyb3IoIiIrKGV8fCJVbmtub3duIFhNTEh0dHBSZXF1ZXN0IEVycm9yIikpKSxlLnN0YXR1c0NvZGU9MCxhKGUsbSl9ZnVuY3Rpb24gZSgpe2lmKCFzKXt2YXIgZTtjbGVhclRpbWVvdXQobyksZT1uLnVzZVhEUiYmdm9pZCAwPT09dS5zdGF0dXM/MjAwOjEyMjM9PT11LnN0YXR1cz8yMDQ6dS5zdGF0dXM7dmFyIHQ9bSxpPW51bGw7cmV0dXJuIDAhPT1lPyh0PXtib2R5OmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO2lmKGU9dS5yZXNwb25zZT91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0fHxmdW5jdGlvbihlKXtpZigiZG9jdW1lbnQiPT09ZS5yZXNwb25zZVR5cGUpcmV0dXJuIGUucmVzcG9uc2VYTUw7dmFyIHQ9ZS5yZXNwb25zZVhNTCYmInBhcnNlcmVycm9yIj09PWUucmVzcG9uc2VYTUwuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lO3JldHVybiIiIT09ZS5yZXNwb25zZVR5cGV8fHQ/bnVsbDplLnJlc3BvbnNlWE1MfSh1KSxmKXRyeXtlPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7fXJldHVybiBlfSgpLHN0YXR1c0NvZGU6ZSxtZXRob2Q6YyxoZWFkZXJzOnt9LHVybDpsLHJhd1JlcXVlc3Q6dX0sdS5nZXRBbGxSZXNwb25zZUhlYWRlcnMmJih0LmhlYWRlcnM9ZG4odS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpKTppPW5ldyBFcnJvcigiSW50ZXJuYWwgWE1MSHR0cFJlcXVlc3QgRXJyb3IiKSxhKGksdCx0LmJvZHkpfX12YXIgaSxzLG8sdT1uLnhocnx8bnVsbCxsPSh1PXV8fChuLmNvcnN8fG4udXNlWERSP25ldyB5bi5YRG9tYWluUmVxdWVzdDpuZXcgeW4uWE1MSHR0cFJlcXVlc3QpKS51cmw9bi51cml8fG4udXJsLGM9dS5tZXRob2Q9bi5tZXRob2R8fCJHRVQiLGg9bi5ib2R5fHxuLmRhdGEsZD11LmhlYWRlcnM9bi5oZWFkZXJzfHx7fSxwPSEhbi5zeW5jLGY9ITEsbT17Ym9keTp2b2lkIDAsaGVhZGVyczp7fSxzdGF0dXNDb2RlOjAsbWV0aG9kOmMsdXJsOmwscmF3UmVxdWVzdDp1fTtpZigianNvbiJpbiBuJiYhMSE9PW4uanNvbiYmKGY9ITAsZC5hY2NlcHR8fGQuQWNjZXB0fHwoZC5BY2NlcHQ9ImFwcGxpY2F0aW9uL2pzb24iKSwiR0VUIiE9PWMmJiJIRUFEIiE9PWMmJihkWyJjb250ZW50LXR5cGUiXXx8ZFsiQ29udGVudC1UeXBlIl18fChkWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24vanNvbiIpLGg9SlNPTi5zdHJpbmdpZnkoITA9PT1uLmpzb24/aDpuLmpzb24pKSksdS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dS5yZWFkeVN0YXRlJiZzZXRUaW1lb3V0KGUsMCl9LHUub25sb2FkPWUsdS5vbmVycm9yPXQsdS5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSx1Lm9uYWJvcnQ9ZnVuY3Rpb24oKXtzPSEwfSx1Lm9udGltZW91dD10LHUub3BlbihjLGwsIXAsbi51c2VybmFtZSxuLnBhc3N3b3JkKSxwfHwodS53aXRoQ3JlZGVudGlhbHM9ISFuLndpdGhDcmVkZW50aWFscyksIXAmJjA8bi50aW1lb3V0JiYobz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIXMpe3M9ITAsdS5hYm9ydCgidGltZW91dCIpO3ZhciBlPW5ldyBFcnJvcigiWE1MSHR0cFJlcXVlc3QgdGltZW91dCIpO2UuY29kZT0iRVRJTUVET1VUIix0KGUpfX0sbi50aW1lb3V0KSksdS5zZXRSZXF1ZXN0SGVhZGVyKWZvcihpIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShpKSYmdS5zZXRSZXF1ZXN0SGVhZGVyKGksZFtpXSk7ZWxzZSBpZihuLmhlYWRlcnMmJiFmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXJldHVybiExO3JldHVybiEwfShuLmhlYWRlcnMpKXRocm93IG5ldyBFcnJvcigiSGVhZGVycyBjYW5ub3QgYmUgc2V0IG9uIGFuIFhEb21haW5SZXF1ZXN0IG9iamVjdCIpO3JldHVybiJyZXNwb25zZVR5cGUiaW4gbiYmKHUucmVzcG9uc2VUeXBlPW4ucmVzcG9uc2VUeXBlKSwiYmVmb3JlU2VuZCJpbiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5iZWZvcmVTZW5kJiZuLmJlZm9yZVNlbmQodSksdS5zZW5kKGh8fG51bGwpLHV9eW4uWE1MSHR0cFJlcXVlc3Q9di5YTUxIdHRwUmVxdWVzdHx8ZnVuY3Rpb24oKXt9LHluLlhEb21haW5SZXF1ZXN0PSJ3aXRoQ3JlZGVudGlhbHMiaW4gbmV3IHluLlhNTEh0dHBSZXF1ZXN0P3luLlhNTEh0dHBSZXF1ZXN0OnYuWERvbWFpblJlcXVlc3QsZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0KGVbaV0pfShbImdldCIsInB1dCIsInBvc3QiLCJwYXRjaCIsImhlYWQiLCJkZWxldGUiXSxmdW5jdGlvbihuKXt5blsiZGVsZXRlIj09PW4/ImRlbCI6bl09ZnVuY3Rpb24oZSx0LGkpe3JldHVybih0PWduKGUsdCxpKSkubWV0aG9kPW4udG9VcHBlckNhc2UoKSx2bih0KX19KTtmdW5jdGlvbiBfbihlLHQpe3ZhciBpPW5ldyB2LldlYlZUVC5QYXJzZXIodix2LnZ0dGpzLHYuV2ViVlRULlN0cmluZ0RlY29kZXIoKSksbj1bXTtpLm9uY3VlPWZ1bmN0aW9uKGUpe3QuYWRkQ3VlKGUpfSxpLm9ucGFyc2luZ2Vycm9yPWZ1bmN0aW9uKGUpe24ucHVzaChlKX0saS5vbmZsdXNoPWZ1bmN0aW9uKCl7dC50cmlnZ2VyKHt0eXBlOiJsb2FkZWRkYXRhIix0YXJnZXQ6dH0pfSxpLnBhcnNlKGUpLDA8bi5sZW5ndGgmJih2LmNvbnNvbGUmJnYuY29uc29sZS5ncm91cENvbGxhcHNlZCYmdi5jb25zb2xlLmdyb3VwQ29sbGFwc2VkKCJUZXh0IFRyYWNrIHBhcnNpbmcgZXJyb3JzIGZvciAiK3Quc3JjKSxuLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHAuZXJyb3IoZSl9KSx2LmNvbnNvbGUmJnYuY29uc29sZS5ncm91cEVuZCYmdi5jb25zb2xlLmdyb3VwRW5kKCkpLGkuZmx1c2goKX12YXIgYm49ZnVuY3Rpb24obCl7ZnVuY3Rpb24gZShlKXt2YXIgdDtpZih2b2lkIDA9PT1lJiYoZT17fSksIWUudGVjaCl0aHJvdyBuZXcgRXJyb3IoIkEgdGVjaCB3YXMgbm90IHByb3ZpZGVkLiIpO3ZhciBpPUxlKGUse2tpbmQ6V3RbZS5raW5kXXx8InN1YnRpdGxlcyIsbGFuZ3VhZ2U6ZS5sYW5ndWFnZXx8ZS5zcmNsYW5nfHwiIn0pLG49enRbaS5tb2RlXXx8ImRpc2FibGVkIixyPWkuZGVmYXVsdDsibWV0YWRhdGEiIT09aS5raW5kJiYiY2hhcHRlcnMiIT09aS5raW5kfHwobj0iaGlkZGVuIiksKHQ9bC5jYWxsKHRoaXMsaSl8fHRoaXMpLnRlY2hfPWkudGVjaCx0LmN1ZXNfPVtdLHQuYWN0aXZlQ3Vlc189W107dmFyIGE9bmV3IEh0KHQuY3Vlc18pLHM9bmV3IEh0KHQuYWN0aXZlQ3Vlc18pLG89ITEsdT1kZShSZSh0KSxmdW5jdGlvbigpe3RoaXMuYWN0aXZlQ3Vlcz10aGlzLmFjdGl2ZUN1ZXMsbyYmKHRoaXMudHJpZ2dlcigiY3VlY2hhbmdlIiksbz0hMSl9KTtyZXR1cm4iZGlzYWJsZWQiIT09biYmdC50ZWNoXy5yZWFkeShmdW5jdGlvbigpe3QudGVjaF8ub24oInRpbWV1cGRhdGUiLHUpfSwhMCksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmUodCkse2RlZmF1bHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24oKXt9fSxtb2RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7enRbZV0mJigiZGlzYWJsZWQiIT09KG49ZSk/dGhpcy50ZWNoXy5yZWFkeShmdW5jdGlvbigpe3QudGVjaF8ub24oInRpbWV1cGRhdGUiLHUpfSwhMCk6dGhpcy50ZWNoXy5vZmYoInRpbWV1cGRhdGUiLHUpLHRoaXMudHJpZ2dlcigibW9kZWNoYW5nZSIpKX19LGN1ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvYWRlZF8/YTpudWxsfSxzZXQ6ZnVuY3Rpb24oKXt9fSxhY3RpdmVDdWVzOntnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWRfKXJldHVybiBudWxsO2lmKDA9PT10aGlzLmN1ZXMubGVuZ3RoKXJldHVybiBzO2Zvcih2YXIgZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksdD1bXSxpPTAsbj10aGlzLmN1ZXMubGVuZ3RoO2k8bjtpKyspe3ZhciByPXRoaXMuY3Vlc1tpXTtyLnN0YXJ0VGltZTw9ZSYmci5lbmRUaW1lPj1lP3QucHVzaChyKTpyLnN0YXJ0VGltZT09PXIuZW5kVGltZSYmci5zdGFydFRpbWU8PWUmJnIuc3RhcnRUaW1lKy41Pj1lJiZ0LnB1c2gocil9aWYobz0hMSx0Lmxlbmd0aCE9PXRoaXMuYWN0aXZlQ3Vlc18ubGVuZ3RoKW89ITA7ZWxzZSBmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyktMT09PXRoaXMuYWN0aXZlQ3Vlc18uaW5kZXhPZih0W2FdKSYmKG89ITApO3JldHVybiB0aGlzLmFjdGl2ZUN1ZXNfPXQscy5zZXRDdWVzXyh0aGlzLmFjdGl2ZUN1ZXNfKSxzfSxzZXQ6ZnVuY3Rpb24oKXt9fX0pLGkuc3JjPyh0LnNyYz1pLnNyYyxmdW5jdGlvbihlLG4pe3ZhciB0PXt1cmk6ZX0saT1NdChlKTtpJiYodC5jb3JzPWkpLG1uKHQsZGUodGhpcyxmdW5jdGlvbihlLHQsaSl7aWYoZSlyZXR1cm4gcC5lcnJvcihlLHQpO24ubG9hZGVkXz0hMCwiZnVuY3Rpb24iIT10eXBlb2Ygdi5XZWJWVFQ/bi50ZWNoXyYmbi50ZWNoXy5hbnkoWyJ2dHRqc2xvYWRlZCIsInZ0dGpzZXJyb3IiXSxmdW5jdGlvbihlKXtpZigidnR0anNlcnJvciIhPT1lLnR5cGUpcmV0dXJuIF9uKGksbik7cC5lcnJvcigidnR0anMgZmFpbGVkIHRvIGxvYWQsIHN0b3BwaW5nIHRyeWluZyB0byBwcm9jZXNzICIrbi5zcmMpfSk6X24oaSxuKX0pKX0oaS5zcmMsUmUodCkpKTp0LmxvYWRlZF89ITAsdH14ZShlLGwpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmFkZEN1ZT1mdW5jdGlvbihlKXt2YXIgdD1lO2lmKHYudnR0anMmJiEoZSBpbnN0YW5jZW9mIHYudnR0anMuVlRUQ3VlKSl7Zm9yKHZhciBpIGluIHQ9bmV3IHYudnR0anMuVlRUQ3VlKGUuc3RhcnRUaW1lLGUuZW5kVGltZSxlLnRleHQpLGUpaSBpbiB0fHwodFtpXT1lW2ldKTt0LmlkPWUuaWQsdC5vcmlnaW5hbEN1ZV89ZX1mb3IodmFyIG49dGhpcy50ZWNoXy50ZXh0VHJhY2tzKCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl0hPT10aGlzJiZuW3JdLnJlbW92ZUN1ZSh0KTt0aGlzLmN1ZXNfLnB1c2godCksdGhpcy5jdWVzLnNldEN1ZXNfKHRoaXMuY3Vlc18pfSx0LnJlbW92ZUN1ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5jdWVzXy5sZW5ndGg7dC0tOyl7dmFyIGk9dGhpcy5jdWVzX1t0XTtpZihpPT09ZXx8aS5vcmlnaW5hbEN1ZV8mJmkub3JpZ2luYWxDdWVfPT09ZSl7dGhpcy5jdWVzXy5zcGxpY2UodCwxKSx0aGlzLmN1ZXMuc2V0Q3Vlc18odGhpcy5jdWVzXyk7YnJlYWt9fX0sZX0oJHQpO2JuLnByb3RvdHlwZS5hbGxvd2VkRXZlbnRzXz17Y3VlY2hhbmdlOiJjdWVjaGFuZ2UifTt2YXIgVG49ZnVuY3Rpb24ocil7ZnVuY3Rpb24gZShlKXt2YXIgdDt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIGk9TGUoZSx7a2luZDpxdFtlLmtpbmRdfHwiIn0pO3Q9ci5jYWxsKHRoaXMsaSl8fHRoaXM7dmFyIG49ITE7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZSh0KSwiZW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24oZSl7ImJvb2xlYW4iPT10eXBlb2YgZSYmZSE9PW4mJihuPWUsdGhpcy50cmlnZ2VyKCJlbmFibGVkY2hhbmdlIikpfX0pLGkuZW5hYmxlZCYmKHQuZW5hYmxlZD1pLmVuYWJsZWQpLHQubG9hZGVkXz0hMCx0fXJldHVybiB4ZShlLHIpLGV9KCR0KSxTbj1mdW5jdGlvbihyKXtmdW5jdGlvbiBlKGUpe3ZhciB0O3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgaT1MZShlLHtraW5kOlZ0W2Uua2luZF18fCIifSk7dD1yLmNhbGwodGhpcyxpKXx8dGhpczt2YXIgbj0hMTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlKHQpLCJzZWxlY3RlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24oZSl7ImJvb2xlYW4iPT10eXBlb2YgZSYmZSE9PW4mJihuPWUsdGhpcy50cmlnZ2VyKCJzZWxlY3RlZGNoYW5nZSIpKX19KSxpLnNlbGVjdGVkJiYodC5zZWxlY3RlZD1pLnNlbGVjdGVkKSx0fXJldHVybiB4ZShlLHIpLGV9KCR0KSxrbj1mdW5jdGlvbihyKXtmdW5jdGlvbiBlKGUpe3ZhciB0LGk7dm9pZCAwPT09ZSYmKGU9e30pLHQ9ci5jYWxsKHRoaXMpfHx0aGlzO3ZhciBuPW5ldyBibihlKTtyZXR1cm4gdC5raW5kPW4ua2luZCx0LnNyYz1uLnNyYyx0LnNyY2xhbmc9bi5sYW5ndWFnZSx0LmxhYmVsPW4ubGFiZWwsdC5kZWZhdWx0PW4uZGVmYXVsdCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZSh0KSx7cmVhZHlTdGF0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSx0cmFjazp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59fX0pLGk9MCxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlZGRhdGEiLGZ1bmN0aW9uKCl7aT0yLHQudHJpZ2dlcih7dHlwZToibG9hZCIsdGFyZ2V0OlJlKHQpfSl9KSx0fXJldHVybiB4ZShlLHIpLGV9KGZlKTtrbi5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c189e2xvYWQ6ImxvYWQifSxrbi5OT05FPTAsa24uTE9BRElORz0xLGtuLkxPQURFRD0yLGtuLkVSUk9SPTM7dmFyIENuPXthdWRpbzp7TGlzdENsYXNzOk50LFRyYWNrQ2xhc3M6VG4sY2FwaXRhbE5hbWU6IkF1ZGlvIn0sdmlkZW86e0xpc3RDbGFzczpCdCxUcmFja0NsYXNzOlNuLGNhcGl0YWxOYW1lOiJWaWRlbyJ9LHRleHQ6e0xpc3RDbGFzczpqdCxUcmFja0NsYXNzOmJuLGNhcGl0YWxOYW1lOiJUZXh0In19O09iamVjdC5rZXlzKENuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe0NuW2VdLmdldHRlck5hbWU9ZSsiVHJhY2tzIixDbltlXS5wcml2YXRlTmFtZT1lKyJUcmFja3NfIn0pO3ZhciBFbj17cmVtb3RlVGV4dDp7TGlzdENsYXNzOmp0LFRyYWNrQ2xhc3M6Ym4sY2FwaXRhbE5hbWU6IlJlbW90ZVRleHQiLGdldHRlck5hbWU6InJlbW90ZVRleHRUcmFja3MiLHByaXZhdGVOYW1lOiJyZW1vdGVUZXh0VHJhY2tzXyJ9LHJlbW90ZVRleHRFbDp7TGlzdENsYXNzOkZ0LFRyYWNrQ2xhc3M6a24sY2FwaXRhbE5hbWU6IlJlbW90ZVRleHRUcmFja0VscyIsZ2V0dGVyTmFtZToicmVtb3RlVGV4dFRyYWNrRWxzIixwcml2YXRlTmFtZToicmVtb3RlVGV4dFRyYWNrRWxzXyJ9fSx3bj1MZShDbixFbik7RW4ubmFtZXM9T2JqZWN0LmtleXMoRW4pLENuLm5hbWVzPU9iamVjdC5rZXlzKENuKSx3bi5uYW1lcz1bXS5jb25jYXQoRW4ubmFtZXMpLmNvbmNhdChDbi5uYW1lcyk7dmFyIEFuPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiT2JqZWN0LmNyZWF0ZSBzaGltIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLiIpO3JldHVybiBQbi5wcm90b3R5cGU9ZSxuZXcgUG59O2Z1bmN0aW9uIFBuKCl7fWZ1bmN0aW9uIEluKGUsdCl7dGhpcy5uYW1lPSJQYXJzaW5nRXJyb3IiLHRoaXMuY29kZT1lLmNvZGUsdGhpcy5tZXNzYWdlPXR8fGUubWVzc2FnZX1mdW5jdGlvbiBMbihlKXtmdW5jdGlvbiB0KGUsdCxpLG4pe3JldHVybiAzNjAwKigwfGUpKzYwKigwfHQpKygwfGkpKygwfG4pLzFlM312YXIgaT1lLm1hdGNoKC9eKFxkKyk6KFxkezJ9KSg6XGR7Mn0pP1wuKFxkezN9KS8pO3JldHVybiBpP2lbM10/dChpWzFdLGlbMl0saVszXS5yZXBsYWNlKCI6IiwiIiksaVs0XSk6NTk8aVsxXT90KGlbMV0saVsyXSwwLGlbNF0pOnQoMCxpWzFdLGlbMl0saVs0XSk6bnVsbH1mdW5jdGlvbiBPbigpe3RoaXMudmFsdWVzPUFuKG51bGwpfWZ1bmN0aW9uIHhuKGUsdCxpLG4pe3ZhciByPW4/ZS5zcGxpdChuKTpbZV07Zm9yKHZhciBhIGluIHIpaWYoInN0cmluZyI9PXR5cGVvZiByW2FdKXt2YXIgcz1yW2FdLnNwbGl0KGkpO2lmKDI9PT1zLmxlbmd0aCl0KHNbMF0sc1sxXSl9fWZ1bmN0aW9uIERuKHQsZSxhKXt2YXIgaSxuLHMscj10O2Z1bmN0aW9uIG8oKXt2YXIgZT1Mbih0KTtpZihudWxsPT09ZSl0aHJvdyBuZXcgSW4oSW4uRXJyb3JzLkJhZFRpbWVTdGFtcCwiTWFsZm9ybWVkIHRpbWVzdGFtcDogIityKTtyZXR1cm4gdD10LnJlcGxhY2UoL15bXlxzYS16QS1aLV0rLywiIiksZX1mdW5jdGlvbiB1KCl7dD10LnJlcGxhY2UoL15ccysvLCIiKX1pZih1KCksZS5zdGFydFRpbWU9bygpLHUoKSwiLS1ceDNlIiE9PXQuc3Vic3RyKDAsMykpdGhyb3cgbmV3IEluKEluLkVycm9ycy5CYWRUaW1lU3RhbXAsIk1hbGZvcm1lZCB0aW1lIHN0YW1wICh0aW1lIHN0YW1wcyBtdXN0IGJlIHNlcGFyYXRlZCBieSAnLS1ceDNlJyk6ICIrcik7dD10LnN1YnN0cigzKSx1KCksZS5lbmRUaW1lPW8oKSx1KCksaT10LG49ZSxzPW5ldyBPbix4bihpLGZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2UicmVnaW9uIjpmb3IodmFyIGk9YS5sZW5ndGgtMTswPD1pO2ktLSlpZihhW2ldLmlkPT09dCl7cy5zZXQoZSxhW2ldLnJlZ2lvbik7YnJlYWt9YnJlYWs7Y2FzZSJ2ZXJ0aWNhbCI6cy5hbHQoZSx0LFsicmwiLCJsciJdKTticmVhaztjYXNlImxpbmUiOnZhciBuPXQuc3BsaXQoIiwiKSxyPW5bMF07cy5pbnRlZ2VyKGUscikscy5wZXJjZW50KGUscikmJnMuc2V0KCJzbmFwVG9MaW5lcyIsITEpLHMuYWx0KGUscixbImF1dG8iXSksMj09PW4ubGVuZ3RoJiZzLmFsdCgibGluZUFsaWduIixuWzFdLFsic3RhcnQiLCJtaWRkbGUiLCJlbmQiXSk7YnJlYWs7Y2FzZSJwb3NpdGlvbiI6bj10LnNwbGl0KCIsIikscy5wZXJjZW50KGUsblswXSksMj09PW4ubGVuZ3RoJiZzLmFsdCgicG9zaXRpb25BbGlnbiIsblsxXSxbInN0YXJ0IiwibWlkZGxlIiwiZW5kIl0pO2JyZWFrO2Nhc2Uic2l6ZSI6cy5wZXJjZW50KGUsdCk7YnJlYWs7Y2FzZSJhbGlnbiI6cy5hbHQoZSx0LFsic3RhcnQiLCJtaWRkbGUiLCJlbmQiLCJsZWZ0IiwicmlnaHQiXSl9fSwvOi8sL1xzLyksbi5yZWdpb249cy5nZXQoInJlZ2lvbiIsbnVsbCksbi52ZXJ0aWNhbD1zLmdldCgidmVydGljYWwiLCIiKSxuLmxpbmU9cy5nZXQoImxpbmUiLCJhdXRvIiksbi5saW5lQWxpZ249cy5nZXQoImxpbmVBbGlnbiIsInN0YXJ0Iiksbi5zbmFwVG9MaW5lcz1zLmdldCgic25hcFRvTGluZXMiLCEwKSxuLnNpemU9cy5nZXQoInNpemUiLDEwMCksbi5hbGlnbj1zLmdldCgiYWxpZ24iLCJtaWRkbGUiKSxuLnBvc2l0aW9uPXMuZ2V0KCJwb3NpdGlvbiIse3N0YXJ0OjAsbGVmdDowLG1pZGRsZTo1MCxlbmQ6MTAwLHJpZ2h0OjEwMH0sbi5hbGlnbiksbi5wb3NpdGlvbkFsaWduPXMuZ2V0KCJwb3NpdGlvbkFsaWduIix7c3RhcnQ6InN0YXJ0IixsZWZ0OiJzdGFydCIsbWlkZGxlOiJtaWRkbGUiLGVuZDoiZW5kIixyaWdodDoiZW5kIn0sbi5hbGlnbil9KChJbi5wcm90b3R5cGU9QW4oRXJyb3IucHJvdG90eXBlKSkuY29uc3RydWN0b3I9SW4pLkVycm9ycz17QmFkU2lnbmF0dXJlOntjb2RlOjAsbWVzc2FnZToiTWFsZm9ybWVkIFdlYlZUVCBzaWduYXR1cmUuIn0sQmFkVGltZVN0YW1wOntjb2RlOjEsbWVzc2FnZToiTWFsZm9ybWVkIHRpbWUgc3RhbXAuIn19LE9uLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGUsdCl7dGhpcy5nZXQoZSl8fCIiPT09dHx8KHRoaXMudmFsdWVzW2VdPXQpfSxnZXQ6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBpP3RoaXMuaGFzKGUpP3RoaXMudmFsdWVzW2VdOnRbaV06dGhpcy5oYXMoZSk/dGhpcy52YWx1ZXNbZV06dH0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHRoaXMudmFsdWVzfSxhbHQ6ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj0wO248aS5sZW5ndGg7KytuKWlmKHQ9PT1pW25dKXt0aGlzLnNldChlLHQpO2JyZWFrfX0saW50ZWdlcjpmdW5jdGlvbihlLHQpey9eLT9cZCskLy50ZXN0KHQpJiZ0aGlzLnNldChlLHBhcnNlSW50KHQsMTApKX0scGVyY2VudDpmdW5jdGlvbihlLHQpe3JldHVybiEhKHQubWF0Y2goL14oW1xkXXsxLDN9KShcLltcZF0qKT8lJC8pJiYwPD0odD1wYXJzZUZsb2F0KHQpKSYmdDw9MTAwKSYmKHRoaXMuc2V0KGUsdCksITApfX07dmFyIFVuPXsiJmFtcDsiOiImIiwiJmx0OyI6IjwiLCImZ3Q7IjoiPiIsIiZscm07Ijoi4oCOIiwiJnJsbTsiOiLigI8iLCImbmJzcDsiOiLCoCJ9LFJuPXtjOiJzcGFuIixpOiJpIixiOiJiIix1OiJ1IixydWJ5OiJydWJ5IixydDoicnQiLHY6InNwYW4iLGxhbmc6InNwYW4ifSxNbj17djoidGl0bGUiLGxhbmc6ImxhbmcifSxObj17cnQ6InJ1YnkifTtmdW5jdGlvbiBCbihhLGkpe2Z1bmN0aW9uIGUoKXtpZighaSlyZXR1cm4gbnVsbDt2YXIgZSx0PWkubWF0Y2goL14oW148XSopKDxbXj5dKj4/KT8vKTtyZXR1cm4gZT10WzFdP3RbMV06dFsyXSxpPWkuc3Vic3RyKGUubGVuZ3RoKSxlfWZ1bmN0aW9uIHQoZSl7cmV0dXJuIFVuW2VdfWZ1bmN0aW9uIG4oZSl7Zm9yKDtmPWUubWF0Y2goLyYoYW1wfGx0fGd0fGxybXxybG18bmJzcCk7Lyk7KWU9ZS5yZXBsYWNlKGZbMF0sdCk7cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQpe3ZhciBpPVJuW2VdO2lmKCFpKXJldHVybiBudWxsO3ZhciBuPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpKTtuLmxvY2FsTmFtZT1pO3ZhciByPU1uW2VdO3JldHVybiByJiZ0JiYobltyXT10LnRyaW0oKSksbn1mb3IodmFyIHMsbyx1LGw9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWwsaD1bXTtudWxsIT09KHM9ZSgpKTspaWYoIjwiIT09c1swXSljLmFwcGVuZENoaWxkKGEuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobihzKSkpO2Vsc2V7aWYoIi8iPT09c1sxXSl7aC5sZW5ndGgmJmhbaC5sZW5ndGgtMV09PT1zLnN1YnN0cigyKS5yZXBsYWNlKCI+IiwiIikmJihoLnBvcCgpLGM9Yy5wYXJlbnROb2RlKTtjb250aW51ZX12YXIgZCxwPUxuKHMuc3Vic3RyKDEscy5sZW5ndGgtMikpO2lmKHApe2Q9YS5kb2N1bWVudC5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oInRpbWVzdGFtcCIscCksYy5hcHBlbmRDaGlsZChkKTtjb250aW51ZX12YXIgZj1zLm1hdGNoKC9ePChbXi5ccy8wLTk+XSspKFwuW15cc1xcPl0rKT8oW14+XFxdKyk/KFxcPyk+PyQvKTtpZighZiljb250aW51ZTtpZighKGQ9cihmWzFdLGZbM10pKSljb250aW51ZTtpZihvPWMsTm5bKHU9ZCkubG9jYWxOYW1lXSYmTm5bdS5sb2NhbE5hbWVdIT09by5sb2NhbE5hbWUpY29udGludWU7ZlsyXSYmKGQuY2xhc3NOYW1lPWZbMl0uc3Vic3RyKDEpLnJlcGxhY2UoIi4iLCIgIikpLGgucHVzaChmWzFdKSxjLmFwcGVuZENoaWxkKGQpLGM9ZH1yZXR1cm4gbH12YXIgam49W1sxNDcwLDE0NzBdLFsxNDcyLDE0NzJdLFsxNDc1LDE0NzVdLFsxNDc4LDE0NzhdLFsxNDg4LDE1MTRdLFsxNTIwLDE1MjRdLFsxNTQ0LDE1NDRdLFsxNTQ3LDE1NDddLFsxNTQ5LDE1NDldLFsxNTYzLDE1NjNdLFsxNTY2LDE2MTBdLFsxNjQ1LDE2NDddLFsxNjQ5LDE3NDldLFsxNzY1LDE3NjZdLFsxNzc0LDE3NzVdLFsxNzg2LDE4MDVdLFsxODA3LDE4MDhdLFsxODEwLDE4MzldLFsxODY5LDE5NTddLFsxOTY5LDE5NjldLFsxOTg0LDIwMjZdLFsyMDM2LDIwMzddLFsyMDQyLDIwNDJdLFsyMDQ4LDIwNjldLFsyMDc0LDIwNzRdLFsyMDg0LDIwODRdLFsyMDg4LDIwODhdLFsyMDk2LDIxMTBdLFsyMTEyLDIxMzZdLFsyMTQyLDIxNDJdLFsyMjA4LDIyMDhdLFsyMjEwLDIyMjBdLFs4MjA3LDgyMDddLFs2NDI4NSw2NDI4NV0sWzY0Mjg3LDY0Mjk2XSxbNjQyOTgsNjQzMTBdLFs2NDMxMiw2NDMxNl0sWzY0MzE4LDY0MzE4XSxbNjQzMjAsNjQzMjFdLFs2NDMyMyw2NDMyNF0sWzY0MzI2LDY0NDQ5XSxbNjQ0NjcsNjQ4MjldLFs2NDg0OCw2NDkxMV0sWzY0OTE0LDY0OTY3XSxbNjUwMDgsNjUwMjBdLFs2NTEzNiw2NTE0MF0sWzY1MTQyLDY1Mjc2XSxbNjc1ODQsNjc1ODldLFs2NzU5Miw2NzU5Ml0sWzY3NTk0LDY3NjM3XSxbNjc2MzksNjc2NDBdLFs2NzY0NCw2NzY0NF0sWzY3NjQ3LDY3NjY5XSxbNjc2NzEsNjc2NzldLFs2Nzg0MCw2Nzg2N10sWzY3ODcyLDY3ODk3XSxbNjc5MDMsNjc5MDNdLFs2Nzk2OCw2ODAyM10sWzY4MDMwLDY4MDMxXSxbNjgwOTYsNjgwOTZdLFs2ODExMiw2ODExNV0sWzY4MTE3LDY4MTE5XSxbNjgxMjEsNjgxNDddLFs2ODE2MCw2ODE2N10sWzY4MTc2LDY4MTg0XSxbNjgxOTIsNjgyMjNdLFs2ODM1Miw2ODQwNV0sWzY4NDE2LDY4NDM3XSxbNjg0NDAsNjg0NjZdLFs2ODQ3Miw2ODQ3OV0sWzY4NjA4LDY4NjgwXSxbMTI2NDY0LDEyNjQ2N10sWzEyNjQ2OSwxMjY0OTVdLFsxMjY0OTcsMTI2NDk4XSxbMTI2NTAwLDEyNjUwMF0sWzEyNjUwMywxMjY1MDNdLFsxMjY1MDUsMTI2NTE0XSxbMTI2NTE2LDEyNjUxOV0sWzEyNjUyMSwxMjY1MjFdLFsxMjY1MjMsMTI2NTIzXSxbMTI2NTMwLDEyNjUzMF0sWzEyNjUzNSwxMjY1MzVdLFsxMjY1MzcsMTI2NTM3XSxbMTI2NTM5LDEyNjUzOV0sWzEyNjU0MSwxMjY1NDNdLFsxMjY1NDUsMTI2NTQ2XSxbMTI2NTQ4LDEyNjU0OF0sWzEyNjU1MSwxMjY1NTFdLFsxMjY1NTMsMTI2NTUzXSxbMTI2NTU1LDEyNjU1NV0sWzEyNjU1NywxMjY1NTddLFsxMjY1NTksMTI2NTU5XSxbMTI2NTYxLDEyNjU2Ml0sWzEyNjU2NCwxMjY1NjRdLFsxMjY1NjcsMTI2NTcwXSxbMTI2NTcyLDEyNjU3OF0sWzEyNjU4MCwxMjY1ODNdLFsxMjY1ODUsMTI2NTg4XSxbMTI2NTkwLDEyNjU5MF0sWzEyNjU5MiwxMjY2MDFdLFsxMjY2MDMsMTI2NjE5XSxbMTI2NjI1LDEyNjYyN10sWzEyNjYyOSwxMjY2MzNdLFsxMjY2MzUsMTI2NjUxXSxbMTExNDEwOSwxMTE0MTA5XV07ZnVuY3Rpb24gRm4oZSl7Zm9yKHZhciB0PTA7dDxqbi5sZW5ndGg7dCsrKXt2YXIgaT1qblt0XTtpZihlPj1pWzBdJiZlPD1pWzFdKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEhuKCl7fWZ1bmN0aW9uIFZuKGUsdCxpKXtIbi5jYWxsKHRoaXMpLHRoaXMuY3VlPXQsdGhpcy5jdWVEaXY9Qm4oZSx0LnRleHQpO3ZhciBuPXtjb2xvcjoicmdiYSgyNTUsIDI1NSwgMjU1LCAxKSIsYmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsIDAsIDAsIDAuOCkiLHBvc2l0aW9uOiJyZWxhdGl2ZSIsbGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjAsZGlzcGxheToiaW5saW5lIix3cml0aW5nTW9kZToiIj09PXQudmVydGljYWw/Imhvcml6b250YWwtdGIiOiJsciI9PT10LnZlcnRpY2FsPyJ2ZXJ0aWNhbC1sciI6InZlcnRpY2FsLXJsIix1bmljb2RlQmlkaToicGxhaW50ZXh0In07dGhpcy5hcHBseVN0eWxlcyhuLHRoaXMuY3VlRGl2KSx0aGlzLmRpdj1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49e2RpcmVjdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1bXSxpPSIiO2lmKCFlfHwhZS5jaGlsZE5vZGVzKXJldHVybiJsdHIiO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIGk9dC5jaGlsZE5vZGVzLmxlbmd0aC0xOzA8PWk7aS0tKWUucHVzaCh0LmNoaWxkTm9kZXNbaV0pfWZ1bmN0aW9uIGEoZSl7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgdD1lLnBvcCgpLGk9dC50ZXh0Q29udGVudHx8dC5pbm5lclRleHQ7aWYoaSl7dmFyIG49aS5tYXRjaCgvXi4qKFxufFxyKS8pO3JldHVybiBuP25bZS5sZW5ndGg9MF06aX1yZXR1cm4icnVieSI9PT10LnRhZ05hbWU/YShlKTp0LmNoaWxkTm9kZXM/KHIoZSx0KSxhKGUpKTp2b2lkIDB9Zm9yKHIodCxlKTtpPWEodCk7KWZvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKWlmKEZuKGkuY2hhckNvZGVBdChuKSkpcmV0dXJuInJ0bCI7cmV0dXJuImx0ciJ9KHRoaXMuY3VlRGl2KSx3cml0aW5nTW9kZToiIj09PXQudmVydGljYWw/Imhvcml6b250YWwtdGIiOiJsciI9PT10LnZlcnRpY2FsPyJ2ZXJ0aWNhbC1sciI6InZlcnRpY2FsLXJsIix1bmljb2RlQmlkaToicGxhaW50ZXh0Iix0ZXh0QWxpZ246Im1pZGRsZSI9PT10LmFsaWduPyJjZW50ZXIiOnQuYWxpZ24sZm9udDppLmZvbnQsd2hpdGVTcGFjZToicHJlLWxpbmUiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9LHRoaXMuYXBwbHlTdHlsZXMobiksdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5jdWVEaXYpO3ZhciByPTA7c3dpdGNoKHQucG9zaXRpb25BbGlnbil7Y2FzZSJzdGFydCI6cj10LnBvc2l0aW9uO2JyZWFrO2Nhc2UibWlkZGxlIjpyPXQucG9zaXRpb24tdC5zaXplLzI7YnJlYWs7Y2FzZSJlbmQiOnI9dC5wb3NpdGlvbi10LnNpemV9IiI9PT10LnZlcnRpY2FsP3RoaXMuYXBwbHlTdHlsZXMoe2xlZnQ6dGhpcy5mb3JtYXRTdHlsZShyLCIlIiksd2lkdGg6dGhpcy5mb3JtYXRTdHlsZSh0LnNpemUsIiUiKX0pOnRoaXMuYXBwbHlTdHlsZXMoe3RvcDp0aGlzLmZvcm1hdFN0eWxlKHIsIiUiKSxoZWlnaHQ6dGhpcy5mb3JtYXRTdHlsZSh0LnNpemUsIiUiKX0pLHRoaXMubW92ZT1mdW5jdGlvbihlKXt0aGlzLmFwcGx5U3R5bGVzKHt0b3A6dGhpcy5mb3JtYXRTdHlsZShlLnRvcCwicHgiKSxib3R0b206dGhpcy5mb3JtYXRTdHlsZShlLmJvdHRvbSwicHgiKSxsZWZ0OnRoaXMuZm9ybWF0U3R5bGUoZS5sZWZ0LCJweCIpLHJpZ2h0OnRoaXMuZm9ybWF0U3R5bGUoZS5yaWdodCwicHgiKSxoZWlnaHQ6dGhpcy5mb3JtYXRTdHlsZShlLmhlaWdodCwicHgiKSx3aWR0aDp0aGlzLmZvcm1hdFN0eWxlKGUud2lkdGgsInB4Iil9KX19ZnVuY3Rpb24gcW4oZSl7dmFyIHQsaSxuLHI7aWYoZS5kaXYpe2k9ZS5kaXYub2Zmc2V0SGVpZ2h0LG49ZS5kaXYub2Zmc2V0V2lkdGgscj1lLmRpdi5vZmZzZXRUb3A7dmFyIGE9KGE9ZS5kaXYuY2hpbGROb2RlcykmJihhPWFbMF0pJiZhLmdldENsaWVudFJlY3RzJiZhLmdldENsaWVudFJlY3RzKCk7ZT1lLmRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0PWE/TWF0aC5tYXgoYVswXSYmYVswXS5oZWlnaHR8fDAsZS5oZWlnaHQvYS5sZW5ndGgpOjB9dGhpcy5sZWZ0PWUubGVmdCx0aGlzLnJpZ2h0PWUucmlnaHQsdGhpcy50b3A9ZS50b3B8fHIsdGhpcy5oZWlnaHQ9ZS5oZWlnaHR8fGksdGhpcy5ib3R0b209ZS5ib3R0b218fHIrKGUuaGVpZ2h0fHxpKSx0aGlzLndpZHRoPWUud2lkdGh8fG4sdGhpcy5saW5lSGVpZ2h0PXZvaWQgMCE9PXQ/dDplLmxpbmVIZWlnaHR9ZnVuY3Rpb24gV24oZSx0LG8sdSl7dmFyIGk9bmV3IHFuKHQpLG49dC5jdWUscj1mdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUubGluZSYmKGUuc25hcFRvTGluZXN8fDA8PWUubGluZSYmZS5saW5lPD0xMDApKXJldHVybiBlLmxpbmU7aWYoIWUudHJhY2t8fCFlLnRyYWNrLnRleHRUcmFja0xpc3R8fCFlLnRyYWNrLnRleHRUcmFja0xpc3QubWVkaWFFbGVtZW50KXJldHVybi0xO2Zvcih2YXIgdD1lLnRyYWNrLGk9dC50ZXh0VHJhY2tMaXN0LG49MCxyPTA7cjxpLmxlbmd0aCYmaVtyXSE9PXQ7cisrKSJzaG93aW5nIj09PWlbcl0ubW9kZSYmbisrO3JldHVybi0xKisrbn0obiksYT1bXTtpZihuLnNuYXBUb0xpbmVzKXt2YXIgcztzd2l0Y2gobi52ZXJ0aWNhbCl7Y2FzZSIiOmE9WyIreSIsIi15Il0scz0iaGVpZ2h0IjticmVhaztjYXNlInJsIjphPVsiK3giLCIteCJdLHM9IndpZHRoIjticmVhaztjYXNlImxyIjphPVsiLXgiLCIreCJdLHM9IndpZHRoIn12YXIgbD1pLmxpbmVIZWlnaHQsYz1sKk1hdGgucm91bmQociksaD1vW3NdK2wsZD1hWzBdO01hdGguYWJzKGMpPmgmJihjPWM8MD8tMToxLGMqPU1hdGguY2VpbChoL2wpKmwpLHI8MCYmKGMrPSIiPT09bi52ZXJ0aWNhbD9vLmhlaWdodDpvLndpZHRoLGE9YS5yZXZlcnNlKCkpLGkubW92ZShkLGMpfWVsc2V7dmFyIHA9aS5saW5lSGVpZ2h0L28uaGVpZ2h0KjEwMDtzd2l0Y2gobi5saW5lQWxpZ24pe2Nhc2UibWlkZGxlIjpyLT1wLzI7YnJlYWs7Y2FzZSJlbmQiOnItPXB9c3dpdGNoKG4udmVydGljYWwpe2Nhc2UiIjp0LmFwcGx5U3R5bGVzKHt0b3A6dC5mb3JtYXRTdHlsZShyLCIlIil9KTticmVhaztjYXNlInJsIjp0LmFwcGx5U3R5bGVzKHtsZWZ0OnQuZm9ybWF0U3R5bGUociwiJSIpfSk7YnJlYWs7Y2FzZSJsciI6dC5hcHBseVN0eWxlcyh7cmlnaHQ6dC5mb3JtYXRTdHlsZShyLCIlIil9KX1hPVsiK3kiLCIteCIsIit4IiwiLXkiXSxpPW5ldyBxbih0KX12YXIgZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxuPW5ldyBxbihlKSxyPTEsYT0wO2E8dC5sZW5ndGg7YSsrKXtmb3IoO2Uub3ZlcmxhcHNPcHBvc2l0ZUF4aXMobyx0W2FdKXx8ZS53aXRoaW4obykmJmUub3ZlcmxhcHNBbnkodSk7KWUubW92ZSh0W2FdKTtpZihlLndpdGhpbihvKSlyZXR1cm4gZTt2YXIgcz1lLmludGVyc2VjdFBlcmNlbnRhZ2Uobyk7czxyJiYoaT1uZXcgcW4oZSkscj1zKSxlPW5ldyBxbihuKX1yZXR1cm4gaXx8bn0oaSxhKTt0Lm1vdmUoZi50b0NTU0NvbXBhdFZhbHVlcyhvKSl9ZnVuY3Rpb24gem4oKXt9SG4ucHJvdG90eXBlLmFwcGx5U3R5bGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQ9dHx8dGhpcy5kaXYsZSllLmhhc093blByb3BlcnR5KGkpJiYodC5zdHlsZVtpXT1lW2ldKX0sSG4ucHJvdG90eXBlLmZvcm1hdFN0eWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lPzA6ZSt0fSwoVm4ucHJvdG90eXBlPUFuKEhuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVZuLHFuLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHQ9dm9pZCAwIT09dD90OnRoaXMubGluZUhlaWdodCxlKXtjYXNlIit4Ijp0aGlzLmxlZnQrPXQsdGhpcy5yaWdodCs9dDticmVhaztjYXNlIi14Ijp0aGlzLmxlZnQtPXQsdGhpcy5yaWdodC09dDticmVhaztjYXNlIit5Ijp0aGlzLnRvcCs9dCx0aGlzLmJvdHRvbSs9dDticmVhaztjYXNlIi15Ijp0aGlzLnRvcC09dCx0aGlzLmJvdHRvbS09dH19LHFuLnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sZWZ0PGUucmlnaHQmJnRoaXMucmlnaHQ+ZS5sZWZ0JiZ0aGlzLnRvcDxlLmJvdHRvbSYmdGhpcy5ib3R0b20+ZS50b3B9LHFuLnByb3RvdHlwZS5vdmVybGFwc0FueT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZih0aGlzLm92ZXJsYXBzKGVbdF0pKXJldHVybiEwO3JldHVybiExfSxxbi5wcm90b3R5cGUud2l0aGluPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvcD49ZS50b3AmJnRoaXMuYm90dG9tPD1lLmJvdHRvbSYmdGhpcy5sZWZ0Pj1lLmxlZnQmJnRoaXMucmlnaHQ8PWUucmlnaHR9LHFuLnByb3RvdHlwZS5vdmVybGFwc09wcG9zaXRlQXhpcz1mdW5jdGlvbihlLHQpe3N3aXRjaCh0KXtjYXNlIit4IjpyZXR1cm4gdGhpcy5sZWZ0PGUubGVmdDtjYXNlIi14IjpyZXR1cm4gdGhpcy5yaWdodD5lLnJpZ2h0O2Nhc2UiK3kiOnJldHVybiB0aGlzLnRvcDxlLnRvcDtjYXNlIi15IjpyZXR1cm4gdGhpcy5ib3R0b20+ZS5ib3R0b219fSxxbi5wcm90b3R5cGUuaW50ZXJzZWN0UGVyY2VudGFnZT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnJpZ2h0LGUucmlnaHQpLU1hdGgubWF4KHRoaXMubGVmdCxlLmxlZnQpKSpNYXRoLm1heCgwLE1hdGgubWluKHRoaXMuYm90dG9tLGUuYm90dG9tKS1NYXRoLm1heCh0aGlzLnRvcCxlLnRvcCkpLyh0aGlzLmhlaWdodCp0aGlzLndpZHRoKX0scW4ucHJvdG90eXBlLnRvQ1NTQ29tcGF0VmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybnt0b3A6dGhpcy50b3AtZS50b3AsYm90dG9tOmUuYm90dG9tLXRoaXMuYm90dG9tLGxlZnQ6dGhpcy5sZWZ0LWUubGVmdCxyaWdodDplLnJpZ2h0LXRoaXMucmlnaHQsaGVpZ2h0OnRoaXMuaGVpZ2h0LHdpZHRoOnRoaXMud2lkdGh9fSxxbi5nZXRTaW1wbGVCb3hQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLmRpdj9lLmRpdi5vZmZzZXRIZWlnaHQ6ZS50YWdOYW1lP2Uub2Zmc2V0SGVpZ2h0OjAsaT1lLmRpdj9lLmRpdi5vZmZzZXRXaWR0aDplLnRhZ05hbWU/ZS5vZmZzZXRXaWR0aDowLG49ZS5kaXY/ZS5kaXYub2Zmc2V0VG9wOmUudGFnTmFtZT9lLm9mZnNldFRvcDowO3JldHVybntsZWZ0OihlPWUuZGl2P2UuZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOmUudGFnTmFtZT9lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOmUpLmxlZnQscmlnaHQ6ZS5yaWdodCx0b3A6ZS50b3B8fG4saGVpZ2h0OmUuaGVpZ2h0fHx0LGJvdHRvbTplLmJvdHRvbXx8bisoZS5oZWlnaHR8fHQpLHdpZHRoOmUud2lkdGh8fGl9fSx6bi5TdHJpbmdEZWNvZGVyPWZ1bmN0aW9uKCl7cmV0dXJue2RlY29kZTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4iIjtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJFcnJvciAtIGV4cGVjdGVkIHN0cmluZyBkYXRhLiIpO3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX19fSx6bi5jb252ZXJ0Q3VlVG9ET01UcmVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/Qm4oZSx0KTpudWxsfTt6bi5wcm9jZXNzQ3Vlcz1mdW5jdGlvbihuLHIsZSl7aWYoIW58fCFyfHwhZSlyZXR1cm4gbnVsbDtmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO3ZhciBhPW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoYS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGEuc3R5bGUubGVmdD0iMCIsYS5zdHlsZS5yaWdodD0iMCIsYS5zdHlsZS50b3A9IjAiLGEuc3R5bGUuYm90dG9tPSIwIixhLnN0eWxlLm1hcmdpbj0iMS41JSIsZS5hcHBlbmRDaGlsZChhKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdLmhhc0JlZW5SZXNldHx8IWVbdF0uZGlzcGxheVN0YXRlKXJldHVybiEwO3JldHVybiExfShyKSl7dmFyIHM9W10sbz1xbi5nZXRTaW1wbGVCb3hQb3NpdGlvbihhKSx1PXtmb250Ok1hdGgucm91bmQoLjA1Km8uaGVpZ2h0KjEwMCkvMTAwKyJweCBzYW5zLXNlcmlmIn07IWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsaT0wO2k8ci5sZW5ndGg7aSsrKXQ9cltpXSxlPW5ldyBWbihuLHQsdSksYS5hcHBlbmRDaGlsZChlLmRpdiksV24oMCxlLG8scyksdC5kaXNwbGF5U3RhdGU9ZS5kaXYscy5wdXNoKHFuLmdldFNpbXBsZUJveFBvc2l0aW9uKGUpKX0oKX1lbHNlIGZvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKWEuYXBwZW5kQ2hpbGQoclt0XS5kaXNwbGF5U3RhdGUpfSwoem4uUGFyc2VyPWZ1bmN0aW9uKGUsdCxpKXtpfHwoaT10LHQ9e30pLHQ9dHx8e30sdGhpcy53aW5kb3c9ZSx0aGlzLnZ0dGpzPXQsdGhpcy5zdGF0ZT0iSU5JVElBTCIsdGhpcy5idWZmZXI9IiIsdGhpcy5kZWNvZGVyPWl8fG5ldyBUZXh0RGVjb2RlcigidXRmOCIpLHRoaXMucmVnaW9uTGlzdD1bXX0pLnByb3RvdHlwZT17cmVwb3J0T3JUaHJvd0Vycm9yOmZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEluKSl0aHJvdyBlO3RoaXMub25wYXJzaW5nZXJyb3ImJnRoaXMub25wYXJzaW5nZXJyb3IoZSl9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgZT1uLmJ1ZmZlcix0PTA7dDxlLmxlbmd0aCYmIlxyIiE9PWVbdF0mJiJcbiIhPT1lW3RdOykrK3Q7dmFyIGk9ZS5zdWJzdHIoMCx0KTtyZXR1cm4iXHIiPT09ZVt0XSYmKyt0LCJcbiI9PT1lW3RdJiYrK3Qsbi5idWZmZXI9ZS5zdWJzdHIodCksaX1mdW5jdGlvbiBpKGUpe2UubWF0Y2goL1gtVElNRVNUQU1QLU1BUC8pP3huKGUsZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSJYLVRJTUVTVEFNUC1NQVAiOiFmdW5jdGlvbihlKXt2YXIgaT1uZXcgT247eG4oZSxmdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIk1QRUdUIjppLmludGVnZXIoZSsiUyIsdCk7YnJlYWs7Y2FzZSJMT0NBIjppLnNldChlKyJMIixMbih0KSl9fSwvW15cZF06LywvLC8pLG4ub250aW1lc3RhbXBtYXAmJm4ub250aW1lc3RhbXBtYXAoe01QRUdUUzppLmdldCgiTVBFR1RTIiksTE9DQUw6aS5nZXQoIkxPQ0FMIil9KX0odCl9fSwvPS8pOnhuKGUsZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSJSZWdpb24iOiFmdW5jdGlvbihlKXt2YXIgcj1uZXcgT247aWYoeG4oZSxmdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlImlkIjpyLnNldChlLHQpO2JyZWFrO2Nhc2Uid2lkdGgiOnIucGVyY2VudChlLHQpO2JyZWFrO2Nhc2UibGluZXMiOnIuaW50ZWdlcihlLHQpO2JyZWFrO2Nhc2UicmVnaW9uYW5jaG9yIjpjYXNlInZpZXdwb3J0YW5jaG9yIjp2YXIgaT10LnNwbGl0KCIsIik7aWYoMiE9PWkubGVuZ3RoKWJyZWFrO3ZhciBuPW5ldyBPbjtpZihuLnBlcmNlbnQoIngiLGlbMF0pLG4ucGVyY2VudCgieSIsaVsxXSksIW4uaGFzKCJ4Iil8fCFuLmhhcygieSIpKWJyZWFrO3Iuc2V0KGUrIlgiLG4uZ2V0KCJ4IikpLHIuc2V0KGUrIlkiLG4uZ2V0KCJ5IikpO2JyZWFrO2Nhc2Uic2Nyb2xsIjpyLmFsdChlLHQsWyJ1cCJdKX19LC89LywvXHMvKSxyLmhhcygiaWQiKSl7dmFyIHQ9bmV3KG4udnR0anMuVlRUUmVnaW9ufHxuLndpbmRvdy5WVFRSZWdpb24pO3Qud2lkdGg9ci5nZXQoIndpZHRoIiwxMDApLHQubGluZXM9ci5nZXQoImxpbmVzIiwzKSx0LnJlZ2lvbkFuY2hvclg9ci5nZXQoInJlZ2lvbmFuY2hvclgiLDApLHQucmVnaW9uQW5jaG9yWT1yLmdldCgicmVnaW9uYW5jaG9yWSIsMTAwKSx0LnZpZXdwb3J0QW5jaG9yWD1yLmdldCgidmlld3BvcnRhbmNob3JYIiwwKSx0LnZpZXdwb3J0QW5jaG9yWT1yLmdldCgidmlld3BvcnRhbmNob3JZIiwxMDApLHQuc2Nyb2xsPXIuZ2V0KCJzY3JvbGwiLCIiKSxuLm9ucmVnaW9uJiZuLm9ucmVnaW9uKHQpLG4ucmVnaW9uTGlzdC5wdXNoKHtpZDpyLmdldCgiaWQiKSxyZWdpb246dH0pfX0odCl9fSwvOi8pfWUmJihuLmJ1ZmZlcis9bi5kZWNvZGVyLmRlY29kZShlLHtzdHJlYW06ITB9KSk7dHJ5e3ZhciByO2lmKCJJTklUSUFMIj09PW4uc3RhdGUpe2lmKCEvXHJcbnxcbi8udGVzdChuLmJ1ZmZlcikpcmV0dXJuIHRoaXM7dmFyIGE9KHI9dCgpKS5tYXRjaCgvXldFQlZUVChbIFx0XS4qKT8kLyk7aWYoIWF8fCFhWzBdKXRocm93IG5ldyBJbihJbi5FcnJvcnMuQmFkU2lnbmF0dXJlKTtuLnN0YXRlPSJIRUFERVIifWZvcih2YXIgcz0hMTtuLmJ1ZmZlcjspe2lmKCEvXHJcbnxcbi8udGVzdChuLmJ1ZmZlcikpcmV0dXJuIHRoaXM7c3dpdGNoKHM/cz0hMTpyPXQoKSxuLnN0YXRlKXtjYXNlIkhFQURFUiI6LzovLnRlc3Qocik/aShyKTpyfHwobi5zdGF0ZT0iSUQiKTtjb250aW51ZTtjYXNlIk5PVEUiOnJ8fChuLnN0YXRlPSJJRCIpO2NvbnRpbnVlO2Nhc2UiSUQiOmlmKC9eTk9URSgkfFsgXHRdKS8udGVzdChyKSl7bi5zdGF0ZT0iTk9URSI7YnJlYWt9aWYoIXIpY29udGludWU7aWYobi5jdWU9bmV3KG4udnR0anMuVlRUQ3VlfHxuLndpbmRvdy5WVFRDdWUpKDAsMCwiIiksbi5zdGF0ZT0iQ1VFIiwtMT09PXIuaW5kZXhPZigiLS1ceDNlIikpe24uY3VlLmlkPXI7Y29udGludWV9Y2FzZSJDVUUiOnRyeXtEbihyLG4uY3VlLG4ucmVnaW9uTGlzdCl9Y2F0Y2goZSl7bi5yZXBvcnRPclRocm93RXJyb3IoZSksbi5jdWU9bnVsbCxuLnN0YXRlPSJCQURDVUUiO2NvbnRpbnVlfW4uc3RhdGU9IkNVRVRFWFQiO2NvbnRpbnVlO2Nhc2UiQ1VFVEVYVCI6dmFyIG89LTEhPT1yLmluZGV4T2YoIi0tXHgzZSIpO2lmKCFyfHxvJiYocz0hMCkpe24ub25jdWUmJm4ub25jdWUobi5jdWUpLG4uY3VlPW51bGwsbi5zdGF0ZT0iSUQiO2NvbnRpbnVlfW4uY3VlLnRleHQmJihuLmN1ZS50ZXh0Kz0iXG4iKSxuLmN1ZS50ZXh0Kz1yO2NvbnRpbnVlO2Nhc2UiQkFEQ1VFIjpyfHwobi5zdGF0ZT0iSUQiKTtjb250aW51ZX19fWNhdGNoKGUpe24ucmVwb3J0T3JUaHJvd0Vycm9yKGUpLCJDVUVURVhUIj09PW4uc3RhdGUmJm4uY3VlJiZuLm9uY3VlJiZuLm9uY3VlKG4uY3VlKSxuLmN1ZT1udWxsLG4uc3RhdGU9IklOSVRJQUwiPT09bi5zdGF0ZT8iQkFEV0VCVlRUIjoiQkFEQ1VFIn1yZXR1cm4gdGhpc30sZmx1c2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RyeXtpZih0LmJ1ZmZlcis9dC5kZWNvZGVyLmRlY29kZSgpLCF0LmN1ZSYmIkhFQURFUiIhPT10LnN0YXRlfHwodC5idWZmZXIrPSJcblxuIix0LnBhcnNlKCkpLCJJTklUSUFMIj09PXQuc3RhdGUpdGhyb3cgbmV3IEluKEluLkVycm9ycy5CYWRTaWduYXR1cmUpfWNhdGNoKGUpe3QucmVwb3J0T3JUaHJvd0Vycm9yKGUpfXJldHVybiB0Lm9uZmx1c2gmJnQub25mbHVzaCgpLHRoaXN9fTt2YXIgJG49em4sR249eyIiOjEsbHI6MSxybDoxfSxYbj17c3RhcnQ6MSxtaWRkbGU6MSxlbmQ6MSxsZWZ0OjEscmlnaHQ6MX07ZnVuY3Rpb24gS24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoISFYbltlLnRvTG93ZXJDYXNlKCldJiZlLnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIFluKGUsdCxpKXt0aGlzLmhhc0JlZW5SZXNldD0hMTt2YXIgbj0iIixyPSExLGE9ZSxzPXQsbz1pLHU9bnVsbCxsPSIiLGM9ITAsaD0iYXV0byIsZD0ic3RhcnQiLHA9NTAsZj0ibWlkZGxlIixtPTUwLGc9Im1pZGRsZSI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7aWQ6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldDpmdW5jdGlvbihlKXtuPSIiK2V9fSxwYXVzZU9uRXhpdDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sc2V0OmZ1bmN0aW9uKGUpe3I9ISFlfX0sc3RhcnRUaW1lOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIlN0YXJ0IHRpbWUgbXVzdCBiZSBzZXQgdG8gYSBudW1iZXIuIik7YT1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sZW5kVGltZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJFbmQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci4iKTtzPWUsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSx0ZXh0OntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXQ6ZnVuY3Rpb24oZSl7bz0iIitlLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0scmVnaW9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1fSxzZXQ6ZnVuY3Rpb24oZSl7dT1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sdmVydGljYWw6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJighIUduW2UudG9Mb3dlckNhc2UoKV0mJmUudG9Mb3dlckNhc2UoKSl9KGUpO2lmKCExPT09dCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4iKTtsPXQsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSxzbmFwVG9MaW5lczp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGUpe2M9ISFlLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sbGluZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSYmImF1dG8iIT09ZSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkFuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuIik7aD1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sbGluZUFsaWduOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9S24oZSk7aWYoIXQpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuIik7ZD10LHRoaXMuaGFzQmVlblJlc2V0PSEwfX0scG9zaXRpb246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9LHNldDpmdW5jdGlvbihlKXtpZihlPDB8fDEwMDxlKXRocm93IG5ldyBFcnJvcigiUG9zaXRpb24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4iKTtwPWUsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSxwb3NpdGlvbkFsaWduOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9S24oZSk7aWYoIXQpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuIik7Zj10LHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sc2l6ZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU8MHx8MTAwPGUpdGhyb3cgbmV3IEVycm9yKCJTaXplIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuIik7bT1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sYWxpZ246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1LbihlKTtpZighdCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4iKTtnPXQsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fX0pLHRoaXMuZGlzcGxheVN0YXRlPXZvaWQgMH1Zbi5wcm90b3R5cGUuZ2V0Q3VlQXNIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIFdlYlZUVC5jb252ZXJ0Q3VlVG9ET01UcmVlKHdpbmRvdyx0aGlzLnRleHQpfTt2YXIgUW49WW4sSm49eyIiOiEwLHVwOiEwfTtmdW5jdGlvbiBabihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJjA8PWUmJmU8PTEwMH1mdW5jdGlvbiBlcigpe3ZhciB0PTEwMCxpPTMsbj0wLHI9MTAwLGE9MCxzPTEwMCxvPSIiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3dpZHRoOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIVpuKGUpKXRocm93IG5ldyBFcnJvcigiV2lkdGggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4iKTt0PWV9fSxsaW5lczp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJMaW5lcyBtdXN0IGJlIHNldCB0byBhIG51bWJlci4iKTtpPWV9fSxyZWdpb25BbmNob3JZOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIVpuKGUpKXRocm93IG5ldyBFcnJvcigiUmVnaW9uQW5jaG9yWCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLiIpO3I9ZX19LHJlZ2lvbkFuY2hvclg6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldDpmdW5jdGlvbihlKXtpZighWm4oZSkpdGhyb3cgbmV3IEVycm9yKCJSZWdpb25BbmNob3JZIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuIik7bj1lfX0sdmlld3BvcnRBbmNob3JZOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIVpuKGUpKXRocm93IG5ldyBFcnJvcigiVmlld3BvcnRBbmNob3JZIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuIik7cz1lfX0sdmlld3BvcnRBbmNob3JYOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIVpuKGUpKXRocm93IG5ldyBFcnJvcigiVmlld3BvcnRBbmNob3JYIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuIik7YT1lfX0sc2Nyb2xsOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoISFKbltlLnRvTG93ZXJDYXNlKCldJiZlLnRvTG93ZXJDYXNlKCkpfShlKTtpZighMT09PXQpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuIik7bz10fX19KX12YXIgdHI9RXQoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5leHBvcnRzPXtXZWJWVFQ6JG4sVlRUQ3VlOlFuLFZUVFJlZ2lvbjplcn07di52dHRqcz10LHYuV2ViVlRUPXQuV2ViVlRUO3ZhciBpPXQuVlRUQ3VlLG49dC5WVFRSZWdpb24scj12LlZUVEN1ZSxhPXYuVlRUUmVnaW9uO3Quc2hpbT1mdW5jdGlvbigpe3YuVlRUQ3VlPWksdi5WVFRSZWdpb249bn0sdC5yZXN0b3JlPWZ1bmN0aW9uKCl7di5WVFRDdWU9cix2LlZUVFJlZ2lvbj1hfSx2LlZUVEN1ZXx8dC5zaGltKCl9KTt0ci5XZWJWVFQsdHIuVlRUQ3VlLHRyLlZUVFJlZ2lvbjt2YXIgaXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaShpLGUpe3ZhciBuO3JldHVybiB2b2lkIDA9PT1pJiYoaT17fSksdm9pZCAwPT09ZSYmKGU9ZnVuY3Rpb24oKXt9KSxpLnJlcG9ydFRvdWNoQWN0aXZpdHk9ITEsKG49dC5jYWxsKHRoaXMsbnVsbCxpLGUpfHx0aGlzKS5oYXNTdGFydGVkXz0hMSxuLm9uKCJwbGF5aW5nIixmdW5jdGlvbigpe3RoaXMuaGFzU3RhcnRlZF89ITB9KSxuLm9uKCJsb2Fkc3RhcnQiLGZ1bmN0aW9uKCl7dGhpcy5oYXNTdGFydGVkXz0hMX0pLHduLm5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9d25bZV07aSYmaVt0LmdldHRlck5hbWVdJiYoblt0LnByaXZhdGVOYW1lXT1pW3QuZ2V0dGVyTmFtZV0pfSksbi5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzfHxuLm1hbnVhbFByb2dyZXNzT24oKSxuLmZlYXR1cmVzVGltZXVwZGF0ZUV2ZW50c3x8bi5tYW51YWxUaW1lVXBkYXRlc09uKCksWyJUZXh0IiwiQXVkaW8iLCJWaWRlbyJdLmZvckVhY2goZnVuY3Rpb24oZSl7ITE9PT1pWyJuYXRpdmUiK2UrIlRyYWNrcyJdJiYoblsiZmVhdHVyZXNOYXRpdmUiK2UrIlRyYWNrcyJdPSExKX0pLCExPT09aS5uYXRpdmVDYXB0aW9uc3x8ITE9PT1pLm5hdGl2ZVRleHRUcmFja3M/bi5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M9ITE6ITAhPT1pLm5hdGl2ZUNhcHRpb25zJiYhMCE9PWkubmF0aXZlVGV4dFRyYWNrc3x8KG4uZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzPSEwKSxuLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrc3x8bi5lbXVsYXRlVGV4dFRyYWNrcygpLG4uYXV0b1JlbW90ZVRleHRUcmFja3NfPW5ldyB3bi50ZXh0Lkxpc3RDbGFzcyxuLmluaXRUcmFja0xpc3RlbmVycygpLGkubmF0aXZlQ29udHJvbHNGb3JUb3VjaHx8bi5lbWl0VGFwRXZlbnRzKCksbi5jb25zdHJ1Y3RvciYmKG4ubmFtZV89bi5jb25zdHJ1Y3Rvci5uYW1lfHwiVW5rbm93biBUZWNoIiksbn14ZShpLHQpO3ZhciBlPWkucHJvdG90eXBlO3JldHVybiBlLnRyaWdnZXJTb3VyY2VzZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmlzUmVhZHlffHx0aGlzLm9uZSgicmVhZHkiLGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LnRyaWdnZXJTb3VyY2VzZXQoZSl9LDEpfSksdGhpcy50cmlnZ2VyKHtzcmM6ZSx0eXBlOiJzb3VyY2VzZXQifSl9LGUubWFudWFsUHJvZ3Jlc3NPbj1mdW5jdGlvbigpe3RoaXMub24oImR1cmF0aW9uY2hhbmdlIix0aGlzLm9uRHVyYXRpb25DaGFuZ2UpLHRoaXMubWFudWFsUHJvZ3Jlc3M9ITAsdGhpcy5vbmUoInJlYWR5Iix0aGlzLnRyYWNrUHJvZ3Jlc3MpfSxlLm1hbnVhbFByb2dyZXNzT2ZmPWZ1bmN0aW9uKCl7dGhpcy5tYW51YWxQcm9ncmVzcz0hMSx0aGlzLnN0b3BUcmFja2luZ1Byb2dyZXNzKCksdGhpcy5vZmYoImR1cmF0aW9uY2hhbmdlIix0aGlzLm9uRHVyYXRpb25DaGFuZ2UpfSxlLnRyYWNrUHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpLHRoaXMucHJvZ3Jlc3NJbnRlcnZhbD10aGlzLnNldEludGVydmFsKGRlKHRoaXMsZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ1ZmZlcmVkUGVyY2VudCgpO3RoaXMuYnVmZmVyZWRQZXJjZW50XyE9PWUmJnRoaXMudHJpZ2dlcigicHJvZ3Jlc3MiKSwxPT09KHRoaXMuYnVmZmVyZWRQZXJjZW50Xz1lKSYmdGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpfSksNTAwKX0sZS5vbkR1cmF0aW9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuZHVyYXRpb25fPXRoaXMuZHVyYXRpb24oKX0sZS5idWZmZXJlZD1mdW5jdGlvbigpe3JldHVybiBsdCgwLDApfSxlLmJ1ZmZlcmVkUGVyY2VudD1mdW5jdGlvbigpe3JldHVybiBjdCh0aGlzLmJ1ZmZlcmVkKCksdGhpcy5kdXJhdGlvbl8pfSxlLnN0b3BUcmFja2luZ1Byb2dyZXNzPWZ1bmN0aW9uKCl7dGhpcy5jbGVhckludGVydmFsKHRoaXMucHJvZ3Jlc3NJbnRlcnZhbCl9LGUubWFudWFsVGltZVVwZGF0ZXNPbj1mdW5jdGlvbigpe3RoaXMubWFudWFsVGltZVVwZGF0ZXM9ITAsdGhpcy5vbigicGxheSIsdGhpcy50cmFja0N1cnJlbnRUaW1lKSx0aGlzLm9uKCJwYXVzZSIsdGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZSl9LGUubWFudWFsVGltZVVwZGF0ZXNPZmY9ZnVuY3Rpb24oKXt0aGlzLm1hbnVhbFRpbWVVcGRhdGVzPSExLHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKSx0aGlzLm9mZigicGxheSIsdGhpcy50cmFja0N1cnJlbnRUaW1lKSx0aGlzLm9mZigicGF1c2UiLHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUpfSxlLnRyYWNrQ3VycmVudFRpbWU9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWwmJnRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKSx0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWw9dGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3RoaXMudHJpZ2dlcih7dHlwZToidGltZXVwZGF0ZSIsdGFyZ2V0OnRoaXMsbWFudWFsbHlUcmlnZ2VyZWQ6ITB9KX0sMjUwKX0sZS5zdG9wVHJhY2tpbmdDdXJyZW50VGltZT1mdW5jdGlvbigpe3RoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWwpLHRoaXMudHJpZ2dlcih7dHlwZToidGltZXVwZGF0ZSIsdGFyZ2V0OnRoaXMsbWFudWFsbHlUcmlnZ2VyZWQ6ITB9KX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhclRyYWNrcyhDbi5uYW1lcyksdGhpcy5tYW51YWxQcm9ncmVzcyYmdGhpcy5tYW51YWxQcm9ncmVzc09mZigpLHRoaXMubWFudWFsVGltZVVwZGF0ZXMmJnRoaXMubWFudWFsVGltZVVwZGF0ZXNPZmYoKSx0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LGUuY2xlYXJUcmFja3M9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczsoZT1bXS5jb25jYXQoZSkpLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXJbZSsiVHJhY2tzIl0oKXx8W10saT10Lmxlbmd0aDtpLS07KXt2YXIgbj10W2ldOyJ0ZXh0Ij09PWUmJnIucmVtb3ZlUmVtb3RlVGV4dFRyYWNrKG4pLHQucmVtb3ZlVHJhY2sobil9fSl9LGUuY2xlYW51cEF1dG9UZXh0VHJhY2tzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NffHxbXSx0PWUubGVuZ3RoO3QtLTspe3ZhciBpPWVbdF07dGhpcy5yZW1vdmVSZW1vdGVUZXh0VHJhY2soaSl9fSxlLnJlc2V0PWZ1bmN0aW9uKCl7fSxlLmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYodGhpcy5lcnJvcl89bmV3IHl0KGUpLHRoaXMudHJpZ2dlcigiZXJyb3IiKSksdGhpcy5lcnJvcl99LGUucGxheWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzU3RhcnRlZF8/bHQoMCwwKTpsdCgpfSxlLnNldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7dGhpcy5tYW51YWxUaW1lVXBkYXRlcyYmdGhpcy50cmlnZ2VyKHt0eXBlOiJ0aW1ldXBkYXRlIix0YXJnZXQ6dGhpcyxtYW51YWxseVRyaWdnZXJlZDohMH0pfSxlLmluaXRUcmFja0xpc3RlbmVycz1mdW5jdGlvbigpe3ZhciByPXRoaXM7Q24ubmFtZXMuZm9yRWFjaChmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7ci50cmlnZ2VyKGUrInRyYWNrY2hhbmdlIil9dmFyIGk9Q25bZV0sbj1yW2kuZ2V0dGVyTmFtZV0oKTtuLmFkZEV2ZW50TGlzdGVuZXIoInJlbW92ZXRyYWNrIix0KSxuLmFkZEV2ZW50TGlzdGVuZXIoImFkZHRyYWNrIix0KSxyLm9uKCJkaXNwb3NlIixmdW5jdGlvbigpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVtb3ZldHJhY2siLHQpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWRkdHJhY2siLHQpfSl9KX0sZS5hZGRXZWJWdHRTY3JpcHRfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdi5XZWJWVFQpaWYoaC5ib2R5LmNvbnRhaW5zKHRoaXMuZWwoKSkpe2lmKCF0aGlzLm9wdGlvbnNfWyJ2dHQuanMiXSYmbyh0cikmJjA8T2JqZWN0LmtleXModHIpLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnRyaWdnZXIoInZ0dGpzbG9hZGVkIik7dmFyIHQ9aC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0LnNyYz10aGlzLm9wdGlvbnNfWyJ2dHQuanMiXXx8Imh0dHBzOi8vdmpzLnplbmNkbi5uZXQvdnR0anMvMC4xNC4xL3Z0dC5taW4uanMiLHQub25sb2FkPWZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCJ2dHRqc2xvYWRlZCIpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtlLnRyaWdnZXIoInZ0dGpzZXJyb3IiKX0sdGhpcy5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsfSksdi5XZWJWVFQ9ITAsdGhpcy5lbCgpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCl9ZWxzZSB0aGlzLnJlYWR5KHRoaXMuYWRkV2ViVnR0U2NyaXB0Xyl9LGUuZW11bGF0ZVRleHRUcmFja3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3JldHVybiBuLmFkZFRyYWNrKGUudHJhY2spfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIG4ucmVtb3ZlVHJhY2soZS50cmFjayl9dmFyIGU9dGhpcyxuPXRoaXMudGV4dFRyYWNrcygpLHI9dGhpcy5yZW1vdGVUZXh0VHJhY2tzKCk7ci5vbigiYWRkdHJhY2siLHQpLHIub24oInJlbW92ZXRyYWNrIixpKSx0aGlzLmFkZFdlYlZ0dFNjcmlwdF8oKTtmdW5jdGlvbiBhKCl7cmV0dXJuIGUudHJpZ2dlcigidGV4dHRyYWNrY2hhbmdlIil9ZnVuY3Rpb24gcygpe2EoKTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHQ9bltlXTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoImN1ZWNoYW5nZSIsYSksInNob3dpbmciPT09dC5tb2RlJiZ0LmFkZEV2ZW50TGlzdGVuZXIoImN1ZWNoYW5nZSIsYSl9fXMoKSxuLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIscyksbi5hZGRFdmVudExpc3RlbmVyKCJhZGR0cmFjayIscyksbi5hZGRFdmVudExpc3RlbmVyKCJyZW1vdmV0cmFjayIscyksdGhpcy5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtyLm9mZigiYWRkdHJhY2siLHQpLHIub2ZmKCJyZW1vdmV0cmFjayIsaSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHMpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWRkdHJhY2siLHMpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVtb3ZldHJhY2siLHMpO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKXtuW2VdLnJlbW92ZUV2ZW50TGlzdGVuZXIoImN1ZWNoYW5nZSIsYSl9fSl9LGUuYWRkVGV4dFRyYWNrPWZ1bmN0aW9uKGUsdCxpKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlRleHRUcmFjayBraW5kIGlzIHJlcXVpcmVkIGJ1dCB3YXMgbm90IHByb3ZpZGVkIik7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpLG4scil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBhPWUudGV4dFRyYWNrcygpO3Iua2luZD10LGkmJihyLmxhYmVsPWkpLG4mJihyLmxhbmd1YWdlPW4pLHIudGVjaD1lO3ZhciBzPW5ldyB3bi50ZXh0LlRyYWNrQ2xhc3Mocik7cmV0dXJuIGEuYWRkVHJhY2socyksc30odGhpcyxlLHQsaSl9LGUuY3JlYXRlUmVtb3RlVGV4dFRyYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PUxlKGUse3RlY2g6dGhpc30pO3JldHVybiBuZXcgRW4ucmVtb3RlVGV4dEVsLlRyYWNrQ2xhc3ModCl9LGUuYWRkUmVtb3RlVGV4dFRyYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpczt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49dGhpcy5jcmVhdGVSZW1vdGVUZXh0VHJhY2soZSk7cmV0dXJuITAhPT10JiYhMSE9PXQmJihwLndhcm4oJ0NhbGxpbmcgYWRkUmVtb3RlVGV4dFRyYWNrIHdpdGhvdXQgZXhwbGljaXRseSBzZXR0aW5nIHRoZSAibWFudWFsQ2xlYW51cCIgcGFyYW1ldGVyIHRvIGB0cnVlYCBpcyBkZXByZWNhdGVkIGFuZCBkZWZhdWx0IHRvIGBmYWxzZWAgaW4gZnV0dXJlIHZlcnNpb24gb2YgdmlkZW8uanMnKSx0PSEwKSx0aGlzLnJlbW90ZVRleHRUcmFja0VscygpLmFkZFRyYWNrRWxlbWVudF8obiksdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkVHJhY2sobi50cmFjayksITAhPT10JiZ0aGlzLnJlYWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGkuYXV0b1JlbW90ZVRleHRUcmFja3NfLmFkZFRyYWNrKG4udHJhY2spfSksbn0sZS5yZW1vdmVSZW1vdGVUZXh0VHJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5nZXRUcmFja0VsZW1lbnRCeVRyYWNrXyhlKTt0aGlzLnJlbW90ZVRleHRUcmFja0VscygpLnJlbW92ZVRyYWNrRWxlbWVudF8odCksdGhpcy5yZW1vdGVUZXh0VHJhY2tzKCkucmVtb3ZlVHJhY2soZSksdGhpcy5hdXRvUmVtb3RlVGV4dFRyYWNrc18ucmVtb3ZlVHJhY2soZSl9LGUuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHk9ZnVuY3Rpb24oKXtyZXR1cm57fX0sZS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9uc18uUHJvbWlzZXx8di5Qcm9taXNlO2lmKGUpcmV0dXJuIGUucmVqZWN0KCl9LGUuc2V0UG9zdGVyPWZ1bmN0aW9uKCl7fSxlLnBsYXlzaW5saW5lPWZ1bmN0aW9uKCl7fSxlLnNldFBsYXlzaW5saW5lPWZ1bmN0aW9uKCl7fSxlLm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3M9ZnVuY3Rpb24oKXt9LGUub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcz1mdW5jdGlvbigpe30sZS5jYW5QbGF5VHlwZT1mdW5jdGlvbigpe3JldHVybiIifSxpLmNhblBsYXlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9LGkuY2FuUGxheVNvdXJjZT1mdW5jdGlvbihlLHQpe3JldHVybiBpLmNhblBsYXlUeXBlKGUudHlwZSl9LGkuaXNUZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIGl8fGUgaW5zdGFuY2VvZiBpfHxlPT09aX0saS5yZWdpc3RlclRlY2g9ZnVuY3Rpb24oZSx0KXtpZihpLnRlY2hzX3x8KGkudGVjaHNfPXt9KSwhaS5pc1RlY2godCkpdGhyb3cgbmV3IEVycm9yKCJUZWNoICIrZSsiIG11c3QgYmUgYSBUZWNoIik7aWYoIWkuY2FuUGxheVR5cGUpdGhyb3cgbmV3IEVycm9yKCJUZWNocyBtdXN0IGhhdmUgYSBzdGF0aWMgY2FuUGxheVR5cGUgbWV0aG9kIG9uIHRoZW0iKTtpZighaS5jYW5QbGF5U291cmNlKXRocm93IG5ldyBFcnJvcigiVGVjaHMgbXVzdCBoYXZlIGEgc3RhdGljIGNhblBsYXlTb3VyY2UgbWV0aG9kIG9uIHRoZW0iKTtyZXR1cm4gZT1JZShlKSxpLnRlY2hzX1tlXT10LGkudGVjaHNfW1BlKGUpXT10LCJUZWNoIiE9PWUmJmkuZGVmYXVsdFRlY2hPcmRlcl8ucHVzaChlKSx0fSxpLmdldFRlY2g9ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gaS50ZWNoc18mJmkudGVjaHNfW2VdP2kudGVjaHNfW2VdOihlPUllKGUpLHYmJnYudmlkZW9qcyYmdi52aWRlb2pzW2VdPyhwLndhcm4oIlRoZSAiK2UrIiB0ZWNoIHdhcyBhZGRlZCB0byB0aGUgdmlkZW9qcyBvYmplY3Qgd2hlbiBpdCBzaG91bGQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKSIpLHYudmlkZW9qc1tlXSk6dm9pZCAwKX0saX0oT2UpO3duLm5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9d25bZV07aXIucHJvdG90eXBlW3QuZ2V0dGVyTmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0LnByaXZhdGVOYW1lXT10aGlzW3QucHJpdmF0ZU5hbWVdfHxuZXcgdC5MaXN0Q2xhc3MsdGhpc1t0LnByaXZhdGVOYW1lXX19KSxpci5wcm90b3R5cGUuZmVhdHVyZXNWb2x1bWVDb250cm9sPSEwLGlyLnByb3RvdHlwZS5mZWF0dXJlc011dGVDb250cm9sPSEwLGlyLnByb3RvdHlwZS5mZWF0dXJlc0Z1bGxzY3JlZW5SZXNpemU9ITEsaXIucHJvdG90eXBlLmZlYXR1cmVzUGxheWJhY2tSYXRlPSExLGlyLnByb3RvdHlwZS5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzPSExLGlyLnByb3RvdHlwZS5mZWF0dXJlc1NvdXJjZXNldD0hMSxpci5wcm90b3R5cGUuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzPSExLGlyLnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M9ITEsaXIud2l0aFNvdXJjZUhhbmRsZXJzPWZ1bmN0aW9uKHIpe3IucmVnaXN0ZXJTb3VyY2VIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ci5zb3VyY2VIYW5kbGVycztpPWl8fChyLnNvdXJjZUhhbmRsZXJzPVtdKSx2b2lkIDA9PT10JiYodD1pLmxlbmd0aCksaS5zcGxpY2UodCwwLGUpfSxyLmNhblBsYXlUeXBlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPXIuc291cmNlSGFuZGxlcnN8fFtdLG49MDtuPGkubGVuZ3RoO24rKylpZih0PWlbbl0uY2FuUGxheVR5cGUoZSkpcmV0dXJuIHQ7cmV0dXJuIiJ9LHIuc2VsZWN0U291cmNlSGFuZGxlcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1yLnNvdXJjZUhhbmRsZXJzfHxbXSxuPTA7bjxpLmxlbmd0aDtuKyspaWYoaVtuXS5jYW5IYW5kbGVTb3VyY2UoZSx0KSlyZXR1cm4gaVtuXTtyZXR1cm4gbnVsbH0sci5jYW5QbGF5U291cmNlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ci5zZWxlY3RTb3VyY2VIYW5kbGVyKGUsdCk7cmV0dXJuIGk/aS5jYW5IYW5kbGVTb3VyY2UoZSx0KToiIn07WyJzZWVrYWJsZSIsInNlZWtpbmciLCJkdXJhdGlvbiJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1tlXTsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHRoaXNbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VIYW5kbGVyXyYmdGhpcy5zb3VyY2VIYW5kbGVyX1tlXT90aGlzLnNvdXJjZUhhbmRsZXJfW2VdLmFwcGx5KHRoaXMuc291cmNlSGFuZGxlcl8sYXJndW1lbnRzKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSxyLnByb3RvdHlwZSksci5wcm90b3R5cGUuc2V0U291cmNlPWZ1bmN0aW9uKGUpe3ZhciB0PXIuc2VsZWN0U291cmNlSGFuZGxlcihlLHRoaXMub3B0aW9uc18pO3R8fChyLm5hdGl2ZVNvdXJjZUhhbmRsZXI/dD1yLm5hdGl2ZVNvdXJjZUhhbmRsZXI6cC5lcnJvcigiTm8gc291cmNlIGhhbmRsZXIgZm91bmQgZm9yIHRoZSBjdXJyZW50IHNvdXJjZS4iKSksdGhpcy5kaXNwb3NlU291cmNlSGFuZGxlcigpLHRoaXMub2ZmKCJkaXNwb3NlIix0aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyKSx0IT09ci5uYXRpdmVTb3VyY2VIYW5kbGVyJiYodGhpcy5jdXJyZW50U291cmNlXz1lKSx0aGlzLnNvdXJjZUhhbmRsZXJfPXQuaGFuZGxlU291cmNlKGUsdGhpcyx0aGlzLm9wdGlvbnNfKSx0aGlzLm9uZSgiZGlzcG9zZSIsdGhpcy5kaXNwb3NlU291cmNlSGFuZGxlcil9LHIucHJvdG90eXBlLmRpc3Bvc2VTb3VyY2VIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U291cmNlXyYmKHRoaXMuY2xlYXJUcmFja3MoWyJhdWRpbyIsInZpZGVvIl0pLHRoaXMuY3VycmVudFNvdXJjZV89bnVsbCksdGhpcy5jbGVhbnVwQXV0b1RleHRUcmFja3MoKSx0aGlzLnNvdXJjZUhhbmRsZXJfJiYodGhpcy5zb3VyY2VIYW5kbGVyXy5kaXNwb3NlJiZ0aGlzLnNvdXJjZUhhbmRsZXJfLmRpc3Bvc2UoKSx0aGlzLnNvdXJjZUhhbmRsZXJfPW51bGwpfX0sT2UucmVnaXN0ZXJDb21wb25lbnQoIlRlY2giLGlyKSxpci5yZWdpc3RlclRlY2goIlRlY2giLGlyKSxpci5kZWZhdWx0VGVjaE9yZGVyXz1bXTt2YXIgbnI9e30scnI9e30sYXI9e307ZnVuY3Rpb24gc3IoZSx0LGkpe2Uuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBpKG4sZSxyLGEscyxvKXt2b2lkIDA9PT1uJiYobj17fSk7dm9pZCAwPT09ZSYmKGU9W10pO3ZvaWQgMD09PXMmJihzPVtdKTt2b2lkIDA9PT1vJiYobz0hMSk7dmFyIHQ9ZSx1PXRbMF0sbD10LnNsaWNlKDEpO2lmKCJzdHJpbmciPT10eXBlb2YgdSlpKG4sbnJbdV0scixhLHMsbyk7ZWxzZSBpZih1KXt2YXIgYz1kcihhLHUpO2lmKCFjLnNldFNvdXJjZSlyZXR1cm4gcy5wdXNoKGMpLGkobixsLHIsYSxzLG8pO2Muc2V0U291cmNlKG0oe30sbiksZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpKG4sbCxyLGEscyxvKTtzLnB1c2goYyksaSh0LG4udHlwZT09PXQudHlwZT9sOm5yW3QudHlwZV0scixhLHMsbyl9KX1lbHNlIGwubGVuZ3RoP2kobixsLHIsYSxzLG8pOm8/cihuLHMpOmkobixuclsiKiJdLHIsYSxzLCEwKX0odCxuclt0LnR5cGVdLGksZSl9LDEpfWZ1bmN0aW9uIG9yKGUsdCxpLG4pe3ZvaWQgMD09PW4mJihuPW51bGwpO3ZhciByPSJjYWxsIitJZShpKSxhPWUucmVkdWNlKGhyKHIpLG4pLHM9YT09PWFyLG89cz9udWxsOnRbaV0oYSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpLG4pe2Zvcih2YXIgcj1lLmxlbmd0aC0xOzA8PXI7ci0tKXt2YXIgYT1lW3JdO2FbdF0mJmFbdF0obixpKX19KGUsaSxvLHMpLG99dmFyIHVyPXtidWZmZXJlZDoxLGN1cnJlbnRUaW1lOjEsZHVyYXRpb246MSxzZWVrYWJsZToxLHBsYXllZDoxLHBhdXNlZDoxLHZvbHVtZToxfSxscj17c2V0Q3VycmVudFRpbWU6MSxzZXRWb2x1bWU6MX0sY3I9e3BsYXk6MSxwYXVzZToxfTtmdW5jdGlvbiBocihpKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PWFyP2FyOnRbaV0/dFtpXShlKTplfX1mdW5jdGlvbiBkcihlLHQpe3ZhciBpPXJyW2UuaWQoKV0sbj1udWxsO2lmKG51bGw9PWkpcmV0dXJuIG49dChlKSxycltlLmlkKCldPVtbdCxuXV0sbjtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXSxzPWFbMF0sbz1hWzFdO3M9PT10JiYobj1vKX1yZXR1cm4gbnVsbD09PW4mJihuPXQoZSksaS5wdXNoKFt0LG5dKSksbn1mdW5jdGlvbiBwcihlKXt2b2lkIDA9PT1lJiYoZT0iIik7dmFyIHQ9UnQoZSk7cmV0dXJuIGZyW3QudG9Mb3dlckNhc2UoKV18fCIifXZhciBmcj17b3B1czoidmlkZW8vb2dnIixvZ3Y6InZpZGVvL29nZyIsbXA0OiJ2aWRlby9tcDQiLG1vdjoidmlkZW8vbXA0IixtNHY6InZpZGVvL21wNCIsbWt2OiJ2aWRlby94LW1hdHJvc2thIixtNGE6ImF1ZGlvL21wNCIsbXAzOiJhdWRpby9tcGVnIixhYWM6ImF1ZGlvL2FhYyIsb2dhOiJhdWRpby9vZ2ciLG0zdTg6ImFwcGxpY2F0aW9uL3gtbXBlZ1VSTCIsanBnOiJpbWFnZS9qcGVnIixqcGVnOiJpbWFnZS9qcGVnIixnaWY6ImltYWdlL2dpZiIscG5nOiJpbWFnZS9wbmciLHN2ZzoiaW1hZ2Uvc3ZnK3htbCIsd2VicDoiaW1hZ2Uvd2VicCJ9O2Z1bmN0aW9uIG1yKGUpe2lmKCFlLnR5cGUpe3ZhciB0PXByKGUuc3JjKTt0JiYoZS50eXBlPXQpfXJldHVybiBlfXZhciBncj1mdW5jdGlvbihsKXtmdW5jdGlvbiBlKGUsdCxpKXt2YXIgbixyPUxlKHtjcmVhdGVFbDohMX0sdCk7aWYobj1sLmNhbGwodGhpcyxlLHIsaSl8fHRoaXMsdC5wbGF5ZXJPcHRpb25zLnNvdXJjZXMmJjAhPT10LnBsYXllck9wdGlvbnMuc291cmNlcy5sZW5ndGgpZS5zcmModC5wbGF5ZXJPcHRpb25zLnNvdXJjZXMpO2Vsc2UgZm9yKHZhciBhPTAscz10LnBsYXllck9wdGlvbnMudGVjaE9yZGVyO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1JZShzW2FdKSx1PWlyLmdldFRlY2gobyk7aWYob3x8KHU9T2UuZ2V0Q29tcG9uZW50KG8pKSx1JiZ1LmlzU3VwcG9ydGVkKCkpe2UubG9hZFRlY2hfKG8pO2JyZWFrfX1yZXR1cm4gbn1yZXR1cm4geGUoZSxsKSxlfShPZSk7T2UucmVnaXN0ZXJDb21wb25lbnQoIk1lZGlhTG9hZGVyIixncik7dmFyIHlyPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1yLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5lbWl0VGFwRXZlbnRzKCksaS5lbmFibGUoKSxpfXhlKGUscik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oZSx0LGkpe3ZvaWQgMD09PWUmJihlPSJkaXYiKSx2b2lkIDA9PT10JiYodD17fSksdm9pZCAwPT09aSYmKGk9e30pLHQ9bSh7aW5uZXJIVE1MOic8c3BhbiBhcmlhLWhpZGRlbj0idHJ1ZSIgY2xhc3M9InZqcy1pY29uLXBsYWNlaG9sZGVyIj48L3NwYW4+JyxjbGFzc05hbWU6dGhpcy5idWlsZENTU0NsYXNzKCksdGFiSW5kZXg6MH0sdCksImJ1dHRvbiI9PT1lJiZwLmVycm9yKCJDcmVhdGluZyBhIENsaWNrYWJsZUNvbXBvbmVudCB3aXRoIGFuIEhUTUwgZWxlbWVudCBvZiAiK2UrIiBpcyBub3Qgc3VwcG9ydGVkOyB1c2UgYSBCdXR0b24gaW5zdGVhZC4iKSxpPW0oe3JvbGU6ImJ1dHRvbiJ9LGkpLHRoaXMudGFiSW5kZXhfPXQudGFiSW5kZXg7dmFyIG49ci5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLGUsdCxpKTtyZXR1cm4gdGhpcy5jcmVhdGVDb250cm9sVGV4dEVsKG4pLG59LHQuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY29udHJvbFRleHRFbF89bnVsbCxyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQuY3JlYXRlQ29udHJvbFRleHRFbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb250cm9sVGV4dEVsXz1iKCJzcGFuIix7Y2xhc3NOYW1lOiJ2anMtY29udHJvbC10ZXh0In0seyJhcmlhLWxpdmUiOiJwb2xpdGUifSksZSYmZS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xUZXh0RWxfKSx0aGlzLmNvbnRyb2xUZXh0KHRoaXMuY29udHJvbFRleHRfLGUpLHRoaXMuY29udHJvbFRleHRFbF99LHQuY29udHJvbFRleHQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD10aGlzLmVsKCkpLHZvaWQgMD09PWUpcmV0dXJuIHRoaXMuY29udHJvbFRleHRffHwiTmVlZCBUZXh0Ijt2YXIgaT10aGlzLmxvY2FsaXplKGUpO3RoaXMuY29udHJvbFRleHRfPWUsVCh0aGlzLmNvbnRyb2xUZXh0RWxfLGkpLHRoaXMubm9uSWNvbkNvbnRyb2x8fHQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsaSl9LHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtY29udHJvbCB2anMtYnV0dG9uICIrci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZF98fCh0aGlzLmVuYWJsZWRfPSEwLHRoaXMucmVtb3ZlQ2xhc3MoInZqcy1kaXNhYmxlZCIpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsImZhbHNlIiksInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLnRhYkluZGV4XyYmdGhpcy5lbF8uc2V0QXR0cmlidXRlKCJ0YWJJbmRleCIsdGhpcy50YWJJbmRleF8pLHRoaXMub24oWyJ0YXAiLCJjbGljayJdLHRoaXMuaGFuZGxlQ2xpY2spLHRoaXMub24oImtleWRvd24iLHRoaXMuaGFuZGxlS2V5RG93bikpfSx0LmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWRfPSExLHRoaXMuYWRkQ2xhc3MoInZqcy1kaXNhYmxlZCIpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsInRydWUiKSwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMudGFiSW5kZXhfJiZ0aGlzLmVsXy5yZW1vdmVBdHRyaWJ1dGUoInRhYkluZGV4IiksdGhpcy5vZmYoIm1vdXNlb3ZlciIsdGhpcy5oYW5kbGVNb3VzZU92ZXIpLHRoaXMub2ZmKCJtb3VzZW91dCIsdGhpcy5oYW5kbGVNb3VzZU91dCksdGhpcy5vZmYoWyJ0YXAiLCJjbGljayJdLHRoaXMuaGFuZGxlQ2xpY2spLHRoaXMub2ZmKCJrZXlkb3duIix0aGlzLmhhbmRsZUtleURvd24pfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe30sdC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGUpe3d0LmlzRXZlbnRLZXkoZSwiU3BhY2UiKXx8d3QuaXNFdmVudEtleShlLCJFbnRlciIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnRyaWdnZXIoImNsaWNrIikpOnIucHJvdG90eXBlLmhhbmRsZUtleURvd24uY2FsbCh0aGlzLGUpfSxlfShPZSk7T2UucmVnaXN0ZXJDb21wb25lbnQoIkNsaWNrYWJsZUNvbXBvbmVudCIseXIpO3ZhciB2cj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykudXBkYXRlKCksZS5vbigicG9zdGVyY2hhbmdlIixkZShSZShpKSxpLnVwZGF0ZSkpLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIoKS5vZmYoInBvc3RlcmNoYW5nZSIsdGhpcy51cGRhdGUpLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC5jcmVhdGVFbD1mdW5jdGlvbigpe3JldHVybiBiKCJkaXYiLHtjbGFzc05hbWU6InZqcy1wb3N0ZXIiLHRhYkluZGV4Oi0xfSl9LHQudXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGxheWVyKCkucG9zdGVyKCk7dGhpcy5zZXRTcmModCksdD90aGlzLnNob3coKTp0aGlzLmhpZGUoKX0sdC5zZXRTcmM9ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7ZSYmKHQ9J3VybCgiJytlKyciKScpLHRoaXMuZWxfLnN0eWxlLmJhY2tncm91bmRJbWFnZT10fSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5jb250cm9scygpJiYodGhpcy5wbGF5ZXJfLnRlY2goITApJiZ0aGlzLnBsYXllcl8udGVjaCghMCkuZm9jdXMoKSx0aGlzLnBsYXllcl8ucGF1c2VkKCk/VHQodGhpcy5wbGF5ZXJfLnBsYXkoKSk6dGhpcy5wbGF5ZXJfLnBhdXNlKCkpfSxlfSh5cik7T2UucmVnaXN0ZXJDb21wb25lbnQoIlBvc3RlckltYWdlIix2cik7dmFyIF9yPSIjMjIyIixicj17bW9ub3NwYWNlOiJtb25vc3BhY2UiLHNhbnNTZXJpZjoic2Fucy1zZXJpZiIsc2VyaWY6InNlcmlmIixtb25vc3BhY2VTYW5zU2VyaWY6JyJBbmRhbGUgTW9ubyIsICJMdWNpZGEgQ29uc29sZSIsIG1vbm9zcGFjZScsbW9ub3NwYWNlU2VyaWY6JyJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZScscHJvcG9ydGlvbmFsU2Fuc1NlcmlmOiJzYW5zLXNlcmlmIixwcm9wb3J0aW9uYWxTZXJpZjoic2VyaWYiLGNhc3VhbDonIkNvbWljIFNhbnMgTVMiLCBJbXBhY3QsIGZhbnRhc3knLHNjcmlwdDonIk1vbm90eXBlIENvcnNpdmEiLCBjdXJzaXZlJyxzbWFsbGNhcHM6JyJBbmRhbGUgTW9ubyIsICJMdWNpZGEgQ29uc29sZSIsIG1vbm9zcGFjZSwgc2Fucy1zZXJpZid9O2Z1bmN0aW9uIFRyKGUsdCl7dmFyIGk7aWYoND09PWUubGVuZ3RoKWk9ZVsxXStlWzFdK2VbMl0rZVsyXStlWzNdK2VbM107ZWxzZXtpZig3IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvbG9yIGNvZGUgcHJvdmlkZWQsICIrZSsiOyBtdXN0IGJlIGZvcm1hdHRlZCBhcyBlLmcuICNmMGUgb3IgI2Y2MDRlMi4iKTtpPWUuc2xpY2UoMSl9cmV0dXJuInJnYmEoIitwYXJzZUludChpLnNsaWNlKDAsMiksMTYpKyIsIitwYXJzZUludChpLnNsaWNlKDIsNCksMTYpKyIsIitwYXJzZUludChpLnNsaWNlKDQsNiksMTYpKyIsIit0KyIpIn1mdW5jdGlvbiBTcihlLHQsaSl7dHJ5e2Uuc3R5bGVbdF09aX1jYXRjaChlKXtyZXR1cm59fXZhciBrcj1mdW5jdGlvbihhKXtmdW5jdGlvbiBlKGksZSx0KXt2YXIgbjtuPWEuY2FsbCh0aGlzLGksZSx0KXx8dGhpczt2YXIgcj1kZShSZShuKSxuLnVwZGF0ZURpc3BsYXkpO3JldHVybiBpLm9uKCJsb2Fkc3RhcnQiLGRlKFJlKG4pLG4udG9nZ2xlRGlzcGxheSkpLGkub24oInRleHR0cmFja2NoYW5nZSIsciksaS5vbigibG9hZGVkbWV0YWRhdGEiLGRlKFJlKG4pLG4ucHJlc2VsZWN0VHJhY2spKSxpLnJlYWR5KGRlKFJlKG4pLGZ1bmN0aW9uKCl7aWYoaS50ZWNoXyYmaS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MpdGhpcy5oaWRlKCk7ZWxzZXtpLm9uKCJmdWxsc2NyZWVuY2hhbmdlIixyKSxpLm9uKCJwbGF5ZXJyZXNpemUiLHIpLHYuYWRkRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLHIpLGkub24oImRpc3Bvc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIHYucmVtb3ZlRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLHIpfSk7Zm9yKHZhciBlPXRoaXMub3B0aW9uc18ucGxheWVyT3B0aW9ucy50cmFja3N8fFtdLHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLnBsYXllcl8uYWRkUmVtb3RlVGV4dFRyYWNrKGVbdF0sITApO3RoaXMucHJlc2VsZWN0VHJhY2soKX19KSksbn14ZShlLGEpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnByZXNlbGVjdFRyYWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsaSxuPXtjYXB0aW9uczoxLHN1YnRpdGxlczoxfSxyPXRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCksYT10aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2Uscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbz1yW3NdO2EmJmEuZW5hYmxlZCYmYS5sYW5ndWFnZSYmYS5sYW5ndWFnZT09PW8ubGFuZ3VhZ2UmJm8ua2luZCBpbiBuP2k9by5raW5kPT09YS5raW5kP286aXx8bzphJiYhYS5lbmFibGVkP3Q9ZT1pPW51bGw6by5kZWZhdWx0JiYoImRlc2NyaXB0aW9ucyIhPT1vLmtpbmR8fGU/by5raW5kIGluIG4mJiF0JiYodD1vKTplPW8pfWk/aS5tb2RlPSJzaG93aW5nIjp0P3QubW9kZT0ic2hvd2luZyI6ZSYmKGUubW9kZT0ic2hvd2luZyIpfSx0LnRvZ2dsZURpc3BsYXk9ZnVuY3Rpb24oKXt0aGlzLnBsYXllcl8udGVjaF8mJnRoaXMucGxheWVyXy50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9LHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gYS5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy10ZXh0LXRyYWNrLWRpc3BsYXkifSx7ImFyaWEtbGl2ZSI6Im9mZiIsImFyaWEtYXRvbWljIjoidHJ1ZSJ9KX0sdC5jbGVhckRpc3BsYXk9ZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2Ygdi5XZWJWVFQmJnYuV2ViVlRULnByb2Nlc3NDdWVzKHYsW10sdGhpcy5lbF8pfSx0LnVwZGF0ZURpc3BsYXk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXllcl8udGV4dFRyYWNrcygpLHQ9dGhpcy5vcHRpb25zXy5hbGxvd011bHRpcGxlU2hvd2luZ1RyYWNrcztpZih0aGlzLmNsZWFyRGlzcGxheSgpLHQpe2Zvcih2YXIgaT1bXSxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl07InNob3dpbmciPT09ci5tb2RlJiZpLnB1c2gocil9dGhpcy51cGRhdGVGb3JUcmFjayhpKX1lbHNle2Zvcih2YXIgYT1udWxsLHM9bnVsbCxvPWUubGVuZ3RoO28tLTspe3ZhciB1PWVbb107InNob3dpbmciPT09dS5tb2RlJiYoImRlc2NyaXB0aW9ucyI9PT11LmtpbmQ/YT11OnM9dSl9cz8oIm9mZiIhPT10aGlzLmdldEF0dHJpYnV0ZSgiYXJpYS1saXZlIikmJnRoaXMuc2V0QXR0cmlidXRlKCJhcmlhLWxpdmUiLCJvZmYiKSx0aGlzLnVwZGF0ZUZvclRyYWNrKHMpKTphJiYoImFzc2VydGl2ZSIhPT10aGlzLmdldEF0dHJpYnV0ZSgiYXJpYS1saXZlIikmJnRoaXMuc2V0QXR0cmlidXRlKCJhcmlhLWxpdmUiLCJhc3NlcnRpdmUiKSx0aGlzLnVwZGF0ZUZvclRyYWNrKGEpKX19LHQudXBkYXRlRGlzcGxheVN0YXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnBsYXllcl8udGV4dFRyYWNrU2V0dGluZ3MuZ2V0VmFsdWVzKCksaT1lLmFjdGl2ZUN1ZXMsbj1pLmxlbmd0aDtuLS07KXt2YXIgcj1pW25dO2lmKHIpe3ZhciBhPXIuZGlzcGxheVN0YXRlO2lmKHQuY29sb3ImJihhLmZpcnN0Q2hpbGQuc3R5bGUuY29sb3I9dC5jb2xvciksdC50ZXh0T3BhY2l0eSYmU3IoYS5maXJzdENoaWxkLCJjb2xvciIsVHIodC5jb2xvcnx8IiNmZmYiLHQudGV4dE9wYWNpdHkpKSx0LmJhY2tncm91bmRDb2xvciYmKGEuZmlyc3RDaGlsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dC5iYWNrZ3JvdW5kQ29sb3IpLHQuYmFja2dyb3VuZE9wYWNpdHkmJlNyKGEuZmlyc3RDaGlsZCwiYmFja2dyb3VuZENvbG9yIixUcih0LmJhY2tncm91bmRDb2xvcnx8IiMwMDAiLHQuYmFja2dyb3VuZE9wYWNpdHkpKSx0LndpbmRvd0NvbG9yJiYodC53aW5kb3dPcGFjaXR5P1NyKGEsImJhY2tncm91bmRDb2xvciIsVHIodC53aW5kb3dDb2xvcix0LndpbmRvd09wYWNpdHkpKTphLnN0eWxlLmJhY2tncm91bmRDb2xvcj10LndpbmRvd0NvbG9yKSx0LmVkZ2VTdHlsZSYmKCJkcm9wc2hhZG93Ij09PXQuZWRnZVN0eWxlP2EuZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93PSIycHggMnB4IDNweCAjMjIyLCAycHggMnB4IDRweCAjMjIyLCAycHggMnB4IDVweCAiK19yOiJyYWlzZWQiPT09dC5lZGdlU3R5bGU/YS5maXJzdENoaWxkLnN0eWxlLnRleHRTaGFkb3c9IjFweCAxcHggIzIyMiwgMnB4IDJweCAjMjIyLCAzcHggM3B4ICIrX3I6ImRlcHJlc3NlZCI9PT10LmVkZ2VTdHlsZT9hLmZpcnN0Q2hpbGQuc3R5bGUudGV4dFNoYWRvdz0iMXB4IDFweCAjY2NjLCAwIDFweCAjY2NjLCAtMXB4IC0xcHggIzIyMiwgMCAtMXB4ICIrX3I6InVuaWZvcm0iPT09dC5lZGdlU3R5bGUmJihhLmZpcnN0Q2hpbGQuc3R5bGUudGV4dFNoYWRvdz0iMCAwIDRweCAjMjIyLCAwIDAgNHB4ICMyMjIsIDAgMCA0cHggIzIyMiwgMCAwIDRweCAiK19yKSksdC5mb250UGVyY2VudCYmMSE9PXQuZm9udFBlcmNlbnQpe3ZhciBzPXYucGFyc2VGbG9hdChhLnN0eWxlLmZvbnRTaXplKTthLnN0eWxlLmZvbnRTaXplPXMqdC5mb250UGVyY2VudCsicHgiLGEuc3R5bGUuaGVpZ2h0PSJhdXRvIixhLnN0eWxlLnRvcD0iYXV0byIsYS5zdHlsZS5ib3R0b209IjJweCJ9dC5mb250RmFtaWx5JiYiZGVmYXVsdCIhPT10LmZvbnRGYW1pbHkmJigic21hbGwtY2FwcyI9PT10LmZvbnRGYW1pbHk/YS5maXJzdENoaWxkLnN0eWxlLmZvbnRWYXJpYW50PSJzbWFsbC1jYXBzIjphLmZpcnN0Q2hpbGQuc3R5bGUuZm9udEZhbWlseT1iclt0LmZvbnRGYW1pbHldKX19fSx0LnVwZGF0ZUZvclRyYWNrPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksImZ1bmN0aW9uIj09dHlwZW9mIHYuV2ViVlRUJiYhZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4hZS5hY3RpdmVDdWVzfSkpe2Zvcih2YXIgdD1bXSxpPTA7aTxlLmxlbmd0aDsrK2kpZm9yKHZhciBuPWVbaV0scj0wO3I8bi5hY3RpdmVDdWVzLmxlbmd0aDsrK3IpdC5wdXNoKG4uYWN0aXZlQ3Vlc1tyXSk7di5XZWJWVFQucHJvY2Vzc0N1ZXModix0LHRoaXMuZWxfKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoOysrYSl7Zm9yKHZhciBzPWVbYV0sbz0wO288cy5hY3RpdmVDdWVzLmxlbmd0aDsrK28pe3ZhciB1PXMuYWN0aXZlQ3Vlc1tvXS5kaXNwbGF5U3RhdGU7Qyh1LCJ2anMtdGV4dC10cmFjay1jdWUiKSxDKHUsInZqcy10ZXh0LXRyYWNrLWN1ZS0iKyhzLmxhbmd1YWdlP3MubGFuZ3VhZ2U6YSkpfXRoaXMucGxheWVyXy50ZXh0VHJhY2tTZXR0aW5ncyYmdGhpcy51cGRhdGVEaXNwbGF5U3RhdGUocyl9fX0sZX0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJUZXh0VHJhY2tEaXNwbGF5Iixrcik7dmFyIENyPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHhlKGUsciksZS5wcm90b3R5cGUuY3JlYXRlRWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXllcl8uaXNBdWRpbygpLHQ9dGhpcy5sb2NhbGl6ZShlPyJBdWRpbyBQbGF5ZXIiOiJWaWRlbyBQbGF5ZXIiKSxpPWIoInNwYW4iLHtjbGFzc05hbWU6InZqcy1jb250cm9sLXRleHQiLGlubmVySFRNTDp0aGlzLmxvY2FsaXplKCJ7MX0gaXMgbG9hZGluZy4iLFt0XSl9KSxuPXIucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtbG9hZGluZy1zcGlubmVyIixkaXI6Imx0ciJ9KTtyZXR1cm4gbi5hcHBlbmRDaGlsZChpKSxufSxlfShPZSk7T2UucmVnaXN0ZXJDb21wb25lbnQoIkxvYWRpbmdTcGlubmVyIixDcik7dmFyIEVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9eGUoZSx0KTt2YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5jcmVhdGVFbD1mdW5jdGlvbihlLHQsaSl7dm9pZCAwPT09dCYmKHQ9e30pLHZvaWQgMD09PWkmJihpPXt9KSx0PW0oe2lubmVySFRNTDonPHNwYW4gYXJpYS1oaWRkZW49InRydWUiIGNsYXNzPSJ2anMtaWNvbi1wbGFjZWhvbGRlciI+PC9zcGFuPicsY2xhc3NOYW1lOnRoaXMuYnVpbGRDU1NDbGFzcygpfSx0KSxpPW0oe3R5cGU6ImJ1dHRvbiJ9LGkpO3ZhciBuPU9lLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsImJ1dHRvbiIsdCxpKTtyZXR1cm4gdGhpcy5jcmVhdGVDb250cm9sVGV4dEVsKG4pLG59LGkuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybiBwLndhcm4oIkFkZGluZyBhbiBhY3Rpb25hYmxlICh1c2VyIGNvbnRyb2xsYWJsZSkgY2hpbGQgdG8gYSBCdXR0b24gKCIraSsiKSBpcyBub3Qgc3VwcG9ydGVkOyB1c2UgYSBDbGlja2FibGVDb21wb25lbnQgaW5zdGVhZC4iKSxPZS5wcm90b3R5cGUuYWRkQ2hpbGQuY2FsbCh0aGlzLGUsdCl9LGkuZW5hYmxlPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUuZW5hYmxlLmNhbGwodGhpcyksdGhpcy5lbF8ucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpfSxpLmRpc2FibGU9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5kaXNhYmxlLmNhbGwodGhpcyksdGhpcy5lbF8uc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIil9LGkuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXt3dC5pc0V2ZW50S2V5KGUsIlNwYWNlIil8fHd0LmlzRXZlbnRLZXkoZSwiRW50ZXIiKT9lLnN0b3BQcm9wYWdhdGlvbigpOnQucHJvdG90eXBlLmhhbmRsZUtleURvd24uY2FsbCh0aGlzLGUpfSxlfSh5cik7T2UucmVnaXN0ZXJDb21wb25lbnQoIkJ1dHRvbiIsRXIpO3ZhciB3cj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykubW91c2V1c2VkXz0hMSxpLm9uKCJtb3VzZWRvd24iLGkuaGFuZGxlTW91c2VEb3duKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtYmlnLXBsYXktYnV0dG9uIn0sdC5oYW5kbGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBsYXllcl8ucGxheSgpO2lmKHRoaXMubW91c2V1c2VkXyYmZS5jbGllbnRYJiZlLmNsaWVudFkpcmV0dXJuIFR0KHQpLHZvaWQodGhpcy5wbGF5ZXJfLnRlY2goITApJiZ0aGlzLnBsYXllcl8udGVjaCghMCkuZm9jdXMoKSk7dmFyIGk9dGhpcy5wbGF5ZXJfLmdldENoaWxkKCJjb250cm9sQmFyIiksbj1pJiZpLmdldENoaWxkKCJwbGF5VG9nZ2xlIik7aWYobil7ZnVuY3Rpb24gcigpe3JldHVybiBuLmZvY3VzKCl9YnQodCk/dC50aGVuKHIsZnVuY3Rpb24oKXt9KTp0aGlzLnNldFRpbWVvdXQociwxKX1lbHNlIHRoaXMucGxheWVyXy50ZWNoKCEwKS5mb2N1cygpfSx0LmhhbmRsZUtleURvd249ZnVuY3Rpb24oZSl7dGhpcy5tb3VzZXVzZWRfPSExLG4ucHJvdG90eXBlLmhhbmRsZUtleURvd24uY2FsbCh0aGlzLGUpfSx0LmhhbmRsZU1vdXNlRG93bj1mdW5jdGlvbihlKXt0aGlzLm1vdXNldXNlZF89ITB9LGV9KEVyKTt3ci5wcm90b3R5cGUuY29udHJvbFRleHRfPSJQbGF5IFZpZGVvIixPZS5yZWdpc3RlckNvbXBvbmVudCgiQmlnUGxheUJ1dHRvbiIsd3IpO3ZhciBBcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykuY29udHJvbFRleHQodCYmdC5jb250cm9sVGV4dHx8aS5sb2NhbGl6ZSgiQ2xvc2UiKSksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmJ1aWxkQ1NTQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWNsb3NlLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKX0sdC5oYW5kbGVDbGljaz1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoe3R5cGU6ImNsb3NlIixidWJibGVzOiExfSl9LHQuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXt3dC5pc0V2ZW50S2V5KGUsIkVzYyIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnRyaWdnZXIoImNsaWNrIikpOm4ucHJvdG90eXBlLmhhbmRsZUtleURvd24uY2FsbCh0aGlzLGUpfSxlfShFcik7T2UucmVnaXN0ZXJDb21wb25lbnQoIkNsb3NlQnV0dG9uIixBcik7dmFyIFByPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcyx0LnJlcGxheT12b2lkIDA9PT10LnJlcGxheXx8dC5yZXBsYXksaS5vbihlLCJwbGF5IixpLmhhbmRsZVBsYXkpLGkub24oZSwicGF1c2UiLGkuaGFuZGxlUGF1c2UpLHQucmVwbGF5JiZpLm9uKGUsImVuZGVkIixpLmhhbmRsZUVuZGVkKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtcGxheS1jb250cm9sICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5wYXVzZWQoKT90aGlzLnBsYXllcl8ucGxheSgpOnRoaXMucGxheWVyXy5wYXVzZSgpfSx0LmhhbmRsZVNlZWtlZD1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUNsYXNzKCJ2anMtZW5kZWQiKSx0aGlzLnBsYXllcl8ucGF1c2VkKCk/dGhpcy5oYW5kbGVQYXVzZShlKTp0aGlzLmhhbmRsZVBsYXkoZSl9LHQuaGFuZGxlUGxheT1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUNsYXNzKCJ2anMtZW5kZWQiKSx0aGlzLnJlbW92ZUNsYXNzKCJ2anMtcGF1c2VkIiksdGhpcy5hZGRDbGFzcygidmpzLXBsYXlpbmciKSx0aGlzLmNvbnRyb2xUZXh0KCJQYXVzZSIpfSx0LmhhbmRsZVBhdXNlPWZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlQ2xhc3MoInZqcy1wbGF5aW5nIiksdGhpcy5hZGRDbGFzcygidmpzLXBhdXNlZCIpLHRoaXMuY29udHJvbFRleHQoIlBsYXkiKX0sdC5oYW5kbGVFbmRlZD1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUNsYXNzKCJ2anMtcGxheWluZyIpLHRoaXMuYWRkQ2xhc3MoInZqcy1lbmRlZCIpLHRoaXMuY29udHJvbFRleHQoIlJlcGxheSIpLHRoaXMub25lKHRoaXMucGxheWVyXywic2Vla2VkIix0aGlzLmhhbmRsZVNlZWtlZCl9LGV9KEVyKTtQci5wcm90b3R5cGUuY29udHJvbFRleHRfPSJQbGF5IixPZS5yZWdpc3RlckNvbXBvbmVudCgiUGxheVRvZ2dsZSIsUHIpO2Z1bmN0aW9uIElyKGUsdCl7ZT1lPDA/MDplO3ZhciBpPU1hdGguZmxvb3IoZSU2MCksbj1NYXRoLmZsb29yKGUvNjAlNjApLHI9TWF0aC5mbG9vcihlLzM2MDApLGE9TWF0aC5mbG9vcih0LzYwJTYwKSxzPU1hdGguZmxvb3IodC8zNjAwKTtyZXR1cm4haXNOYU4oZSkmJmUhPT0xLzB8fChyPW49aT0iLSIpLChyPTA8cnx8MDxzP3IrIjoiOiIiKSsobj0oKHJ8fDEwPD1hKSYmbjwxMD8iMCIrbjpuKSsiOiIpKyhpPWk8MTA/IjAiK2k6aSl9dmFyIExyPUlyO2Z1bmN0aW9uIE9yKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUpLExyKGUsdCl9dmFyIHhyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS50aHJvdHRsZWRVcGRhdGVDb250ZW50PXBlKGRlKFJlKGkpLGkudXBkYXRlQ29udGVudCksMzApLGkub24oZSwidGltZXVwZGF0ZSIsaS50aHJvdHRsZWRVcGRhdGVDb250ZW50KSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ1aWxkQ1NTQ2xhc3MoKSx0PW4ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOmUrIiB2anMtdGltZS1jb250cm9sIHZqcy1jb250cm9sIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0IiByb2xlPSJwcmVzZW50YXRpb24iPicrdGhpcy5sb2NhbGl6ZSh0aGlzLmxhYmVsVGV4dF8pKyLCoDwvc3Bhbj4ifSk7cmV0dXJuIHRoaXMuY29udGVudEVsXz1iKCJzcGFuIix7Y2xhc3NOYW1lOmUrIi1kaXNwbGF5In0seyJhcmlhLWxpdmUiOiJvZmYiLHJvbGU6InByZXNlbnRhdGlvbiJ9KSx0aGlzLnVwZGF0ZVRleHROb2RlXygpLHQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWxfKSx0fSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRlbnRFbF89bnVsbCx0aGlzLnRleHROb2RlXz1udWxsLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC51cGRhdGVUZXh0Tm9kZV89ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRlbnRFbF8pe2Zvcig7dGhpcy5jb250ZW50RWxfLmZpcnN0Q2hpbGQ7KXRoaXMuY29udGVudEVsXy5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnRFbF8uZmlyc3RDaGlsZCk7dGhpcy50ZXh0Tm9kZV89aC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmZvcm1hdHRlZFRpbWVffHx0aGlzLmZvcm1hdFRpbWVfKDApKSx0aGlzLmNvbnRlbnRFbF8uYXBwZW5kQ2hpbGQodGhpcy50ZXh0Tm9kZV8pfX0sdC5mb3JtYXRUaW1lXz1mdW5jdGlvbihlKXtyZXR1cm4gT3IoZSl9LHQudXBkYXRlRm9ybWF0dGVkVGltZV89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mb3JtYXRUaW1lXyhlKTt0IT09dGhpcy5mb3JtYXR0ZWRUaW1lXyYmKHRoaXMuZm9ybWF0dGVkVGltZV89dCx0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVRleHROb2RlXykpfSx0LnVwZGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oZSl7fSxlfShPZSk7eHIucHJvdG90eXBlLmxhYmVsVGV4dF89IlRpbWUiLHhyLnByb3RvdHlwZS5jb250cm9sVGV4dF89IlRpbWUiLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJUaW1lRGlzcGxheSIseHIpO3ZhciBEcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykub24oZSwiZW5kZWQiLGkuaGFuZGxlRW5kZWQpLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1jdXJyZW50LXRpbWUifSx0LnVwZGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wbGF5ZXJfLnNjcnViYmluZygpP3RoaXMucGxheWVyXy5nZXRDYWNoZSgpLmN1cnJlbnRUaW1lOnRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO3RoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odCl9LHQuaGFuZGxlRW5kZWQ9ZnVuY3Rpb24oZSl7dGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkmJnRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpfSxlfSh4cik7RHIucHJvdG90eXBlLmxhYmVsVGV4dF89IkN1cnJlbnQgVGltZSIsRHIucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz0iQ3VycmVudCBUaW1lIixPZS5yZWdpc3RlckNvbXBvbmVudCgiQ3VycmVudFRpbWVEaXNwbGF5IixEcik7dmFyIFVyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5vbihlLCJkdXJhdGlvbmNoYW5nZSIsaS51cGRhdGVDb250ZW50KSxpLm9uKGUsImxvYWRzdGFydCIsaS51cGRhdGVDb250ZW50KSxpLm9uKGUsImxvYWRlZG1ldGFkYXRhIixpLnRocm90dGxlZFVwZGF0ZUNvbnRlbnQpLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1kdXJhdGlvbiJ9LHQudXBkYXRlQ29udGVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBsYXllcl8uZHVyYXRpb24oKTt0aGlzLmR1cmF0aW9uXyE9PXQmJih0aGlzLmR1cmF0aW9uXz10LHRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odCkpfSxlfSh4cik7VXIucHJvdG90eXBlLmxhYmVsVGV4dF89IkR1cmF0aW9uIixVci5wcm90b3R5cGUuY29udHJvbFRleHRfPSJEdXJhdGlvbiIsT2UucmVnaXN0ZXJDb21wb25lbnQoIkR1cmF0aW9uRGlzcGxheSIsVXIpO3ZhciBScj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiB4ZSh0LGUpLHQucHJvdG90eXBlLmNyZWF0ZUVsPWZ1bmN0aW9uKCl7cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdGltZS1jb250cm9sIHZqcy10aW1lLWRpdmlkZXIiLGlubmVySFRNTDoiPGRpdj48c3Bhbj4vPC9zcGFuPjwvZGl2PiJ9LHsiYXJpYS1oaWRkZW4iOiEwfSl9LHR9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiVGltZURpdmlkZXIiLFJyKTt2YXIgTXI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLm9uKGUsImR1cmF0aW9uY2hhbmdlIixpLnRocm90dGxlZFVwZGF0ZUNvbnRlbnQpLGkub24oZSwiZW5kZWQiLGkuaGFuZGxlRW5kZWQpLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1yZW1haW5pbmctdGltZSJ9LHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXt2YXIgZT1uLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMpO3JldHVybiBlLmluc2VydEJlZm9yZShiKCJzcGFuIix7fSx7ImFyaWEtaGlkZGVuIjohMH0sIi0iKSx0aGlzLmNvbnRlbnRFbF8pLGV9LHQudXBkYXRlQ29udGVudD1mdW5jdGlvbihlKXsibnVtYmVyIj09dHlwZW9mIHRoaXMucGxheWVyXy5kdXJhdGlvbigpJiYodGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWVEaXNwbGF5P3RoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWVEaXNwbGF5KCkpOnRoaXMudXBkYXRlRm9ybWF0dGVkVGltZV8odGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWUoKSkpfSx0LmhhbmRsZUVuZGVkPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5kdXJhdGlvbigpJiZ0aGlzLnVwZGF0ZUZvcm1hdHRlZFRpbWVfKDApfSxlfSh4cik7TXIucHJvdG90eXBlLmxhYmVsVGV4dF89IlJlbWFpbmluZyBUaW1lIixNci5wcm90b3R5cGUuY29udHJvbFRleHRfPSJSZW1haW5pbmcgVGltZSIsT2UucmVnaXN0ZXJDb21wb25lbnQoIlJlbWFpbmluZ1RpbWVEaXNwbGF5IixNcik7dmFyIE5yPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS51cGRhdGVTaG93aW5nKCksaS5vbihpLnBsYXllcigpLCJkdXJhdGlvbmNoYW5nZSIsaS51cGRhdGVTaG93aW5nKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXt2YXIgZT1uLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLWxpdmUtY29udHJvbCB2anMtY29udHJvbCJ9KTtyZXR1cm4gdGhpcy5jb250ZW50RWxfPWIoImRpdiIse2NsYXNzTmFtZToidmpzLWxpdmUtZGlzcGxheSIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+Jyt0aGlzLmxvY2FsaXplKCJTdHJlYW0gVHlwZSIpKyLCoDwvc3Bhbj4iK3RoaXMubG9jYWxpemUoIkxJVkUiKX0seyJhcmlhLWxpdmUiOiJvZmYifSksZS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pLGV9LHQuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY29udGVudEVsXz1udWxsLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC51cGRhdGVTaG93aW5nPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyKCkuZHVyYXRpb24oKT09PTEvMD90aGlzLnNob3coKTp0aGlzLmhpZGUoKX0sZX0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJMaXZlRGlzcGxheSIsTnIpO3ZhciBCcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykudXBkYXRlTGl2ZUVkZ2VTdGF0dXMoKSxpLnBsYXllcl8ubGl2ZVRyYWNrZXImJmkub24oaS5wbGF5ZXJfLmxpdmVUcmFja2VyLCJsaXZlZWRnZWNoYW5nZSIsaS51cGRhdGVMaXZlRWRnZVN0YXR1cyksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7dmFyIGU9bi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJidXR0b24iLHtjbGFzc05hbWU6InZqcy1zZWVrLXRvLWxpdmUtY29udHJvbCB2anMtY29udHJvbCJ9KTtyZXR1cm4gdGhpcy50ZXh0RWxfPWIoInNwYW4iLHtjbGFzc05hbWU6InZqcy1zZWVrLXRvLWxpdmUtdGV4dCIsaW5uZXJIVE1MOnRoaXMubG9jYWxpemUoIkxJVkUiKX0seyJhcmlhLWhpZGRlbiI6InRydWUifSksZS5hcHBlbmRDaGlsZCh0aGlzLnRleHRFbF8pLGV9LHQudXBkYXRlTGl2ZUVkZ2VTdGF0dXM9ZnVuY3Rpb24oZSl7IXRoaXMucGxheWVyXy5saXZlVHJhY2tlcnx8dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLmF0TGl2ZUVkZ2UoKT8odGhpcy5zZXRBdHRyaWJ1dGUoImFyaWEtZGlzYWJsZWQiLCEwKSx0aGlzLmFkZENsYXNzKCJ2anMtYXQtbGl2ZS1lZGdlIiksdGhpcy5jb250cm9sVGV4dCgiU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlIikpOih0aGlzLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMucmVtb3ZlQ2xhc3MoInZqcy1hdC1saXZlLWVkZ2UiKSx0aGlzLmNvbnRyb2xUZXh0KCJTZWVrIHRvIGxpdmUsIGN1cnJlbnRseSBiZWhpbmQgbGl2ZSIpKX0sdC5oYW5kbGVDbGljaz1mdW5jdGlvbigpe3RoaXMucGxheWVyXy5saXZlVHJhY2tlci5zZWVrVG9MaXZlRWRnZSgpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXImJnRoaXMub2ZmKHRoaXMucGxheWVyXy5saXZlVHJhY2tlciwibGl2ZWVkZ2VjaGFuZ2UiLHRoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXMpLHRoaXMudGV4dEVsXz1udWxsLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sZX0oRXIpO0JyLnByb3RvdHlwZS5jb250cm9sVGV4dF89IlNlZWsgdG8gbGl2ZSwgY3VycmVudGx5IHBsYXlpbmcgbGl2ZSIsT2UucmVnaXN0ZXJDb21wb25lbnQoIlNlZWtUb0xpdmUiLEJyKTt2YXIganI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLmJhcj1pLmdldENoaWxkKGkub3B0aW9uc18uYmFyTmFtZSksaS52ZXJ0aWNhbCghIWkub3B0aW9uc18udmVydGljYWwpLGkuZW5hYmxlKCksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkX30sdC5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQoKXx8KHRoaXMub24oIm1vdXNlZG93biIsdGhpcy5oYW5kbGVNb3VzZURvd24pLHRoaXMub24oInRvdWNoc3RhcnQiLHRoaXMuaGFuZGxlTW91c2VEb3duKSx0aGlzLm9uKCJrZXlkb3duIix0aGlzLmhhbmRsZUtleURvd24pLHRoaXMub24oImNsaWNrIix0aGlzLmhhbmRsZUNsaWNrKSx0aGlzLm9uKHRoaXMucGxheWVyXywiY29udHJvbHN2aXNpYmxlIix0aGlzLnVwZGF0ZSksdGhpcy5wbGF5ZXJFdmVudCYmdGhpcy5vbih0aGlzLnBsYXllcl8sdGhpcy5wbGF5ZXJFdmVudCx0aGlzLnVwZGF0ZSksdGhpcy5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKSx0aGlzLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLDApLHRoaXMuZW5hYmxlZF89ITApfSx0LmRpc2FibGU9ZnVuY3Rpb24oKXtpZih0aGlzLmVuYWJsZWQoKSl7dmFyIGU9dGhpcy5iYXIuZWxfLm93bmVyRG9jdW1lbnQ7dGhpcy5vZmYoIm1vdXNlZG93biIsdGhpcy5oYW5kbGVNb3VzZURvd24pLHRoaXMub2ZmKCJ0b3VjaHN0YXJ0Iix0aGlzLmhhbmRsZU1vdXNlRG93biksdGhpcy5vZmYoImtleWRvd24iLHRoaXMuaGFuZGxlS2V5RG93biksdGhpcy5vZmYoImNsaWNrIix0aGlzLmhhbmRsZUNsaWNrKSx0aGlzLm9mZih0aGlzLnBsYXllcl8sImNvbnRyb2xzdmlzaWJsZSIsdGhpcy51cGRhdGUpLHRoaXMub2ZmKGUsIm1vdXNlbW92ZSIsdGhpcy5oYW5kbGVNb3VzZU1vdmUpLHRoaXMub2ZmKGUsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCksdGhpcy5vZmYoZSwidG91Y2htb3ZlIix0aGlzLmhhbmRsZU1vdXNlTW92ZSksdGhpcy5vZmYoZSwidG91Y2hlbmQiLHRoaXMuaGFuZGxlTW91c2VVcCksdGhpcy5yZW1vdmVBdHRyaWJ1dGUoInRhYmluZGV4IiksdGhpcy5hZGRDbGFzcygiZGlzYWJsZWQiKSx0aGlzLnBsYXllckV2ZW50JiZ0aGlzLm9mZih0aGlzLnBsYXllcl8sdGhpcy5wbGF5ZXJFdmVudCx0aGlzLnVwZGF0ZSksdGhpcy5lbmFibGVkXz0hMX19LHQuY3JlYXRlRWw9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksdm9pZCAwPT09aSYmKGk9e30pLHQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lKyIgdmpzLXNsaWRlciIsdD1tKHt0YWJJbmRleDowfSx0KSxpPW0oe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVub3ciOjAsImFyaWEtdmFsdWVtaW4iOjAsImFyaWEtdmFsdWVtYXgiOjEwMCx0YWJJbmRleDowfSxpKSxuLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsZSx0LGkpfSx0LmhhbmRsZU1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDsibW91c2Vkb3duIj09PWUudHlwZSYmZS5wcmV2ZW50RGVmYXVsdCgpLCJ0b3VjaHN0YXJ0IiE9PWUudHlwZXx8WmV8fGUucHJldmVudERlZmF1bHQoKSx4KCksdGhpcy5hZGRDbGFzcygidmpzLXNsaWRpbmciKSx0aGlzLnRyaWdnZXIoInNsaWRlcmFjdGl2ZSIpLHRoaXMub24odCwibW91c2Vtb3ZlIix0aGlzLmhhbmRsZU1vdXNlTW92ZSksdGhpcy5vbih0LCJtb3VzZXVwIix0aGlzLmhhbmRsZU1vdXNlVXApLHRoaXMub24odCwidG91Y2htb3ZlIix0aGlzLmhhbmRsZU1vdXNlTW92ZSksdGhpcy5vbih0LCJ0b3VjaGVuZCIsdGhpcy5oYW5kbGVNb3VzZVVwKSx0aGlzLmhhbmRsZU1vdXNlTW92ZShlKX0sdC5oYW5kbGVNb3VzZU1vdmU9ZnVuY3Rpb24oZSl7fSx0LmhhbmRsZU1vdXNlVXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtEKCksdGhpcy5yZW1vdmVDbGFzcygidmpzLXNsaWRpbmciKSx0aGlzLnRyaWdnZXIoInNsaWRlcmluYWN0aXZlIiksdGhpcy5vZmYoZSwibW91c2Vtb3ZlIix0aGlzLmhhbmRsZU1vdXNlTW92ZSksdGhpcy5vZmYoZSwibW91c2V1cCIsdGhpcy5oYW5kbGVNb3VzZVVwKSx0aGlzLm9mZihlLCJ0b3VjaG1vdmUiLHRoaXMuaGFuZGxlTW91c2VNb3ZlKSx0aGlzLm9mZihlLCJ0b3VjaGVuZCIsdGhpcy5oYW5kbGVNb3VzZVVwKSx0aGlzLnVwZGF0ZSgpfSx0LnVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuZWxfKXt2YXIgZT10aGlzLmdldFBlcmNlbnQoKSx0PXRoaXMuYmFyO2lmKHQpeygibnVtYmVyIiE9dHlwZW9mIGV8fGUhPWV8fGU8MHx8ZT09PTEvMCkmJihlPTApO3ZhciBpPSgxMDAqZSkudG9GaXhlZCgyKSsiJSIsbj10LmVsKCkuc3R5bGUscj10aGlzLnZlcnRpY2FsKCk/ImhlaWdodCI6IndpZHRoIjtyZXR1cm4gbltyXSE9PWkmJihuW3JdPWkpLGV9fX0sdC5jYWxjdWxhdGVEaXN0YW5jZT1mdW5jdGlvbihlKXt2YXIgdD1NKHRoaXMuZWxfLGUpO3JldHVybiB0aGlzLnZlcnRpY2FsKCk/dC55OnQueH0sdC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGUpe3d0LmlzRXZlbnRLZXkoZSwiTGVmdCIpfHx3dC5pc0V2ZW50S2V5KGUsIkRvd24iKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5zdGVwQmFjaygpKTp3dC5pc0V2ZW50S2V5KGUsIlJpZ2h0Iil8fHd0LmlzRXZlbnRLZXkoZSwiVXAiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5zdGVwRm9yd2FyZCgpKTpuLnByb3RvdHlwZS5oYW5kbGVLZXlEb3duLmNhbGwodGhpcyxlKX0sdC5oYW5kbGVDbGljaz1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX0sdC52ZXJ0aWNhbD1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnZlcnRpY2FsX3x8ITE7dGhpcy52ZXJ0aWNhbF89ISFlLHRoaXMudmVydGljYWxfP3RoaXMuYWRkQ2xhc3MoInZqcy1zbGlkZXItdmVydGljYWwiKTp0aGlzLmFkZENsYXNzKCJ2anMtc2xpZGVyLWhvcml6b250YWwiKX0sZX0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJTbGlkZXIiLGpyKTt2YXIgRnI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLnBhcnRFbHNfPVtdLGkub24oZSwicHJvZ3Jlc3MiLGkudXBkYXRlKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1sb2FkLXByb2dyZXNzIixpbm5lckhUTUw6JzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij48c3Bhbj4nK3RoaXMubG9jYWxpemUoIkxvYWRlZCIpKyc8L3NwYW4+OiA8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dC1sb2FkZWQtcGVyY2VudGFnZSI+MCU8L3NwYW4+PC9zcGFuPid9KX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5wYXJ0RWxzXz1udWxsLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC51cGRhdGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsaSl7dmFyIG49ZS90fHwwO3JldHVybiBuPTEwMCooMTw9bj8xOm4pLGkmJihuPW4udG9GaXhlZCgyKSksbisiJSJ9dmFyIGk9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLG49dGhpcy5wbGF5ZXJfLmJ1ZmZlcmVkKCkscj1pJiZpLmlzTGl2ZSgpP2kuc2Vla2FibGVFbmQoKTp0aGlzLnBsYXllcl8uZHVyYXRpb24oKSxhPXRoaXMucGxheWVyXy5idWZmZXJlZEVuZCgpLHM9dGhpcy5wYXJ0RWxzXyxvPXRoaXMuJCgiLnZqcy1jb250cm9sLXRleHQtbG9hZGVkLXBlcmNlbnRhZ2UiKTt0aGlzLmVsXy5zdHlsZS53aWR0aD10KGEsciksVChvLHQoYSxyLCEwKSk7Zm9yKHZhciB1PTA7dTxuLmxlbmd0aDt1Kyspe3ZhciBsPW4uc3RhcnQodSksYz1uLmVuZCh1KSxoPXNbdV07aHx8KGg9dGhpcy5lbF8uYXBwZW5kQ2hpbGQoYigpKSxzW3VdPWgpLGguc3R5bGUubGVmdD10KGwsYSksaC5zdHlsZS53aWR0aD10KGMtbCxhKX1mb3IodmFyIGQ9cy5sZW5ndGg7ZD5uLmxlbmd0aDtkLS0pdGhpcy5lbF8ucmVtb3ZlQ2hpbGQoc1tkLTFdKTtzLmxlbmd0aD1uLmxlbmd0aH0sZX0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJMb2FkUHJvZ3Jlc3NCYXIiLEZyKTt2YXIgSHI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLnVwZGF0ZT1wZShkZShSZShpKSxpLnVwZGF0ZSksMzApLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5jcmVhdGVFbD1mdW5jdGlvbigpe3JldHVybiBuLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXRpbWUtdG9vbHRpcCJ9LHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pfSx0LnVwZGF0ZT1mdW5jdGlvbihlLHQsaSl7dmFyIG49VSh0aGlzLmVsXykscj1VKHRoaXMucGxheWVyXy5lbCgpKSxhPWUud2lkdGgqdDtpZihyJiZuKXt2YXIgcz1lLmxlZnQtci5sZWZ0K2Esbz1lLndpZHRoLWErKHIucmlnaHQtZS5yaWdodCksdT1uLndpZHRoLzI7czx1P3UrPXUtczpvPHUmJih1PW8pLHU8MD91PTA6dT5uLndpZHRoJiYodT1uLndpZHRoKSx0aGlzLmVsXy5zdHlsZS5yaWdodD0iLSIrdSsicHgiLHRoaXMud3JpdGUoaSl9fSx0LndyaXRlPWZ1bmN0aW9uKGUpe1QodGhpcy5lbF8sZSl9LHQudXBkYXRlVGltZT1mdW5jdGlvbihyLGEscyxvKXt2YXIgdT10aGlzO3RoaXMucmFmSWRfJiZ0aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmSWRfKSx0aGlzLnJhZklkXz10aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3ZhciBlLHQ9dS5wbGF5ZXJfLmR1cmF0aW9uKCk7aWYodS5wbGF5ZXJfLmxpdmVUcmFja2VyJiZ1LnBsYXllcl8ubGl2ZVRyYWNrZXIuaXNMaXZlKCkpe3ZhciBpPXUucGxheWVyXy5saXZlVHJhY2tlci5saXZlV2luZG93KCksbj1pLWEqaTtlPShuPDE/IiI6Ii0iKStPcihuLGkpfWVsc2UgZT1PcihzLHQpO3UudXBkYXRlKHIsYSxlKSxvJiZvKCl9KX0sZX0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJUaW1lVG9vbHRpcCIsSHIpO3ZhciBWcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykudXBkYXRlPXBlKGRlKFJlKGkpLGkudXBkYXRlKSwzMCksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcGxheS1wcm9ncmVzcyB2anMtc2xpZGVyLWJhciJ9LHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pfSx0LnVwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZ2V0Q2hpbGQoInRpbWVUb29sdGlwIik7aWYoaSl7dmFyIG49dGhpcy5wbGF5ZXJfLnNjcnViYmluZygpP3RoaXMucGxheWVyXy5nZXRDYWNoZSgpLmN1cnJlbnRUaW1lOnRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpO2kudXBkYXRlVGltZShlLHQsbil9fSxlfShPZSk7VnIucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbXX0sJGV8fFhlfHxWci5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4ucHVzaCgidGltZVRvb2x0aXAiKSxPZS5yZWdpc3RlckNvbXBvbmVudCgiUGxheVByb2dyZXNzQmFyIixWcik7dmFyIHFyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS51cGRhdGU9cGUoZGUoUmUoaSksaS51cGRhdGUpLDMwKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1tb3VzZS1kaXNwbGF5In0pfSx0LnVwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMsbj10KnRoaXMucGxheWVyXy5kdXJhdGlvbigpO3RoaXMuZ2V0Q2hpbGQoInRpbWVUb29sdGlwIikudXBkYXRlVGltZShlLHQsbixmdW5jdGlvbigpe2kuZWxfLnN0eWxlLmxlZnQ9ZS53aWR0aCp0KyJweCJ9KX0sZX0oT2UpO3FyLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46WyJ0aW1lVG9vbHRpcCJdfSxPZS5yZWdpc3RlckNvbXBvbmVudCgiTW91c2VUaW1lRGlzcGxheSIscXIpO3ZhciBXcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykuc2V0RXZlbnRIYW5kbGVyc18oKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuc2V0RXZlbnRIYW5kbGVyc189ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZT1wZShkZSh0aGlzLHRoaXMudXBkYXRlKSwzMCksdGhpcy5vbih0aGlzLnBsYXllcl8sInRpbWV1cGRhdGUiLHRoaXMudXBkYXRlKSx0aGlzLm9uKHRoaXMucGxheWVyXywiZW5kZWQiLHRoaXMuaGFuZGxlRW5kZWQpLHRoaXMub24odGhpcy5wbGF5ZXJfLCJkdXJhdGlvbmNoYW5nZSIsdGhpcy51cGRhdGUpLHRoaXMucGxheWVyXy5saXZlVHJhY2tlciYmdGhpcy5vbih0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIsImxpdmVlZGdlY2hhbmdlIix0aGlzLnVwZGF0ZSksdGhpcy51cGRhdGVJbnRlcnZhbD1udWxsLHRoaXMub24odGhpcy5wbGF5ZXJfLFsicGxheWluZyJdLHRoaXMuZW5hYmxlSW50ZXJ2YWxfKSx0aGlzLm9uKHRoaXMucGxheWVyXyxbImVuZGVkIiwicGF1c2UiLCJ3YWl0aW5nIl0sdGhpcy5kaXNhYmxlSW50ZXJ2YWxfKSwiaGlkZGVuImluIGgmJiJ2aXNpYmlsaXR5U3RhdGUiaW4gaCYmdGhpcy5vbihoLCJ2aXNpYmlsaXR5Y2hhbmdlIix0aGlzLnRvZ2dsZVZpc2liaWxpdHlfKX0sdC50b2dnbGVWaXNpYmlsaXR5Xz1mdW5jdGlvbihlKXtoLmhpZGRlbj90aGlzLmRpc2FibGVJbnRlcnZhbF8oZSk6KHRoaXMuZW5hYmxlSW50ZXJ2YWxfKCksdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpKX0sdC5lbmFibGVJbnRlcnZhbF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZUludGVydmFsKSx0aGlzLnVwZGF0ZUludGVydmFsPXRoaXMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLnJlcXVlc3RBbmltYXRpb25GcmFtZShlLnVwZGF0ZSl9LDMwKX0sdC5kaXNhYmxlSW50ZXJ2YWxfPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5saXZlVHJhY2tlciYmdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLmlzTGl2ZSgpJiYiZW5kZWQiIT09ZS50eXBlfHx0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCl9LHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1wcm9ncmVzcy1ob2xkZXIifSx7ImFyaWEtbGFiZWwiOnRoaXMubG9jYWxpemUoIlByb2dyZXNzIEJhciIpfSl9LHQudXBkYXRlXz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMucGxheWVyXy5saXZlVHJhY2tlcixuPXRoaXMucGxheWVyXy5kdXJhdGlvbigpO2kmJmkuaXNMaXZlKCkmJihuPXRoaXMucGxheWVyXy5saXZlVHJhY2tlci5saXZlQ3VycmVudFRpbWUoKSksdGhpcy5lbF8uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IiwoMTAwKnQpLnRvRml4ZWQoMikpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLHRoaXMubG9jYWxpemUoInByb2dyZXNzIGJhciB0aW1pbmc6IGN1cnJlbnRUaW1lPXsxfSBkdXJhdGlvbj17Mn0iLFtPcihlLG4pLE9yKG4sbildLCJ7MX0gb2YgezJ9IikpLHRoaXMuYmFyJiZ0aGlzLmJhci51cGRhdGUoVSh0aGlzLmVsXyksdCl9LHQudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKG51bGwhPT10aGlzLmVsKCkub2Zmc2V0UGFyZW50KXt2YXIgdD1uLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy51cGRhdGVfKHRoaXMuZ2V0Q3VycmVudFRpbWVfKCksdCksdH19LHQuZ2V0Q3VycmVudFRpbWVfPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyXy5zY3J1YmJpbmcoKT90aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZTp0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKX0sdC5oYW5kbGVFbmRlZD1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZV8odGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCksMSl9LHQuZ2V0UGVyY2VudD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRDdXJyZW50VGltZV8oKSxpPXRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtyZXR1cm4gaSYmaS5pc0xpdmUoKT8oZT0odC1pLnNlZWthYmxlU3RhcnQoKSkvaS5saXZlV2luZG93KCksaS5hdExpdmVFZGdlKCkmJihlPTEpKTplPXQvdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCksMTw9ZT8xOmV8fDB9LHQuaGFuZGxlTW91c2VEb3duPWZ1bmN0aW9uKGUpe1YoZSkmJihlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMucGxheWVyXy5zY3J1YmJpbmcoITApLHRoaXMudmlkZW9XYXNQbGF5aW5nPSF0aGlzLnBsYXllcl8ucGF1c2VkKCksdGhpcy5wbGF5ZXJfLnBhdXNlKCksbi5wcm90b3R5cGUuaGFuZGxlTW91c2VEb3duLmNhbGwodGhpcyxlKSl9LHQuaGFuZGxlTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe2lmKFYoZSkpe3ZhciB0LGk9dGhpcy5jYWxjdWxhdGVEaXN0YW5jZShlKSxuPXRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtpZihuJiZuLmlzTGl2ZSgpKXt2YXIgcj1uLnNlZWthYmxlU3RhcnQoKSxhPW4ubGl2ZUN1cnJlbnRUaW1lKCk7aWYoYTw9KHQ9citpKm4ubGl2ZVdpbmRvdygpKSYmKHQ9YSksdDw9ciYmKHQ9cisuMSksdD09PTEvMClyZXR1cm59ZWxzZSh0PWkqdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpPT09dGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkmJih0LT0uMSk7dGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHQpfX0sdC5lbmFibGU9ZnVuY3Rpb24oKXtuLnByb3RvdHlwZS5lbmFibGUuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmdldENoaWxkKCJtb3VzZVRpbWVEaXNwbGF5Iik7ZSYmZS5zaG93KCl9LHQuZGlzYWJsZT1mdW5jdGlvbigpe24ucHJvdG90eXBlLmRpc2FibGUuY2FsbCh0aGlzKTt2YXIgZT10aGlzLmdldENoaWxkKCJtb3VzZVRpbWVEaXNwbGF5Iik7ZSYmZS5oaWRlKCl9LHQuaGFuZGxlTW91c2VVcD1mdW5jdGlvbihlKXtuLnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwLmNhbGwodGhpcyxlKSxlJiZlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMucGxheWVyXy5zY3J1YmJpbmcoITEpLHRoaXMucGxheWVyXy50cmlnZ2VyKHt0eXBlOiJ0aW1ldXBkYXRlIix0YXJnZXQ6dGhpcyxtYW51YWxseVRyaWdnZXJlZDohMH0pLHRoaXMudmlkZW9XYXNQbGF5aW5nJiZUdCh0aGlzLnBsYXllcl8ucGxheSgpKX0sdC5zdGVwRm9yd2FyZD1mdW5jdGlvbigpe3RoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSs1KX0sdC5zdGVwQmFjaz1mdW5jdGlvbigpe3RoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKS01KX0sdC5oYW5kbGVBY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy5wbGF5ZXJfLnBhdXNlZCgpP3RoaXMucGxheWVyXy5wbGF5KCk6dGhpcy5wbGF5ZXJfLnBhdXNlKCl9LHQuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXtpZih3dC5pc0V2ZW50S2V5KGUsIlNwYWNlIil8fHd0LmlzRXZlbnRLZXkoZSwiRW50ZXIiKSllLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmhhbmRsZUFjdGlvbihlKTtlbHNlIGlmKHd0LmlzRXZlbnRLZXkoZSwiSG9tZSIpKWUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgwKTtlbHNlIGlmKHd0LmlzRXZlbnRLZXkoZSwiRW5kIikpZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5kdXJhdGlvbigpKTtlbHNlIGlmKC9eWzAtOV0kLy50ZXN0KHd0KGUpKSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHQ9MTAqKHd0LmNvZGVzW3d0KGUpXS13dC5jb2Rlc1swXSkvMTAwO3RoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLnBsYXllcl8uZHVyYXRpb24oKSp0KX1lbHNlIHd0LmlzRXZlbnRLZXkoZSwiUGdEbiIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCktNjApKTp3dC5pc0V2ZW50S2V5KGUsIlBnVXAiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpKzYwKSk6bi5wcm90b3R5cGUuaGFuZGxlS2V5RG93bi5jYWxsKHRoaXMsZSl9LGV9KGpyKTtXci5wcm90b3R5cGUub3B0aW9uc189e2NoaWxkcmVuOlsibG9hZFByb2dyZXNzQmFyIiwicGxheVByb2dyZXNzQmFyIl0sYmFyTmFtZToicGxheVByb2dyZXNzQmFyIn0sJGV8fFhlfHxXci5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4uc3BsaWNlKDEsMCwibW91c2VUaW1lRGlzcGxheSIpLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJTZWVrQmFyIixXcik7dmFyIHpyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5oYW5kbGVNb3VzZU1vdmU9cGUoZGUoUmUoaSksaS5oYW5kbGVNb3VzZU1vdmUpLDMwKSxpLnRocm90dGxlZEhhbmRsZU1vdXNlU2Vlaz1wZShkZShSZShpKSxpLmhhbmRsZU1vdXNlU2VlayksMzApLGkuZW5hYmxlKCksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtcHJvZ3Jlc3MtY29udHJvbCB2anMtY29udHJvbCJ9KX0sdC5oYW5kbGVNb3VzZU1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDaGlsZCgic2Vla0JhciIpO2lmKHQpe3ZhciBpPXQuZ2V0Q2hpbGQoIm1vdXNlVGltZURpc3BsYXkiKSxuPXQuZWwoKSxyPVUobiksYT1NKG4sZSkueDsxPGE/YT0xOmE8MCYmKGE9MCksaSYmaS51cGRhdGUocixhKX19LHQuaGFuZGxlTW91c2VTZWVrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q2hpbGQoInNlZWtCYXIiKTt0JiZ0LmhhbmRsZU1vdXNlTW92ZShlKX0sdC5lbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZF99LHQuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW4oKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGUmJmUuZGlzYWJsZSgpfSksdGhpcy5lbmFibGVkKCkmJih0aGlzLm9mZihbIm1vdXNlZG93biIsInRvdWNoc3RhcnQiXSx0aGlzLmhhbmRsZU1vdXNlRG93biksdGhpcy5vZmYodGhpcy5lbF8sIm1vdXNlbW92ZSIsdGhpcy5oYW5kbGVNb3VzZU1vdmUpLHRoaXMuaGFuZGxlTW91c2VVcCgpLHRoaXMuYWRkQ2xhc3MoImRpc2FibGVkIiksdGhpcy5lbmFibGVkXz0hMSl9LHQuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbigpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5hYmxlJiZlLmVuYWJsZSgpfSksdGhpcy5lbmFibGVkKCl8fCh0aGlzLm9uKFsibW91c2Vkb3duIiwidG91Y2hzdGFydCJdLHRoaXMuaGFuZGxlTW91c2VEb3duKSx0aGlzLm9uKHRoaXMuZWxfLCJtb3VzZW1vdmUiLHRoaXMuaGFuZGxlTW91c2VNb3ZlKSx0aGlzLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpLHRoaXMuZW5hYmxlZF89ITApfSx0LmhhbmRsZU1vdXNlRG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsXy5vd25lckRvY3VtZW50LGk9dGhpcy5nZXRDaGlsZCgic2Vla0JhciIpO2kmJmkuaGFuZGxlTW91c2VEb3duKGUpLHRoaXMub24odCwibW91c2Vtb3ZlIix0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlU2VlayksdGhpcy5vbih0LCJ0b3VjaG1vdmUiLHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKSx0aGlzLm9uKHQsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCksdGhpcy5vbih0LCJ0b3VjaGVuZCIsdGhpcy5oYW5kbGVNb3VzZVVwKX0sdC5oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxfLm93bmVyRG9jdW1lbnQsaT10aGlzLmdldENoaWxkKCJzZWVrQmFyIik7aSYmaS5oYW5kbGVNb3VzZVVwKGUpLHRoaXMub2ZmKHQsIm1vdXNlbW92ZSIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWspLHRoaXMub2ZmKHQsInRvdWNobW92ZSIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWspLHRoaXMub2ZmKHQsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCksdGhpcy5vZmYodCwidG91Y2hlbmQiLHRoaXMuaGFuZGxlTW91c2VVcCl9LGV9KE9lKTt6ci5wcm90b3R5cGUub3B0aW9uc189e2NoaWxkcmVuOlsic2Vla0JhciJdfSxPZS5yZWdpc3RlckNvbXBvbmVudCgiUHJvZ3Jlc3NDb250cm9sIix6cik7dmFyICRyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5vbihlLFsiZW50ZXJwaWN0dXJlaW5waWN0dXJlIiwibGVhdmVwaWN0dXJlaW5waWN0dXJlIl0saS5oYW5kbGVQaWN0dXJlSW5QaWN0dXJlQ2hhbmdlKSxoLnBpY3R1cmVJblBpY3R1cmVFbmFibGVkfHxpLmRpc2FibGUoKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtcGljdHVyZS1pbi1waWN0dXJlLWNvbnRyb2wgIituLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyl9LHQuaGFuZGxlUGljdHVyZUluUGljdHVyZUNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnBsYXllcl8uaXNJblBpY3R1cmVJblBpY3R1cmUoKT90aGlzLmNvbnRyb2xUZXh0KCJFeGl0IFBpY3R1cmUtaW4tUGljdHVyZSIpOnRoaXMuY29udHJvbFRleHQoIlBpY3R1cmUtaW4tUGljdHVyZSIpfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5pc0luUGljdHVyZUluUGljdHVyZSgpP3RoaXMucGxheWVyXy5leGl0UGljdHVyZUluUGljdHVyZSgpOnRoaXMucGxheWVyXy5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpfSxlfShFcik7JHIucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz0iUGljdHVyZS1pbi1QaWN0dXJlIixPZS5yZWdpc3RlckNvbXBvbmVudCgiUGljdHVyZUluUGljdHVyZVRvZ2dsZSIsJHIpO3ZhciBHcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykub24oZSwiZnVsbHNjcmVlbmNoYW5nZSIsaS5oYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKSwhMT09PWhbZS5mc0FwaV8uZnVsbHNjcmVlbkVuYWJsZWRdJiZpLmRpc2FibGUoKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtZnVsbHNjcmVlbi1jb250cm9sICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5wbGF5ZXJfLmlzRnVsbHNjcmVlbigpP3RoaXMuY29udHJvbFRleHQoIk5vbi1GdWxsc2NyZWVuIik6dGhpcy5jb250cm9sVGV4dCgiRnVsbHNjcmVlbiIpfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyXy5pc0Z1bGxzY3JlZW4oKT90aGlzLnBsYXllcl8uZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLnBsYXllcl8ucmVxdWVzdEZ1bGxzY3JlZW4oKX0sZX0oRXIpO0dyLnByb3RvdHlwZS5jb250cm9sVGV4dF89IkZ1bGxzY3JlZW4iLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJGdWxsc2NyZWVuVG9nZ2xlIixHcik7dmFyIFhyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHhlKHQsZSksdC5wcm90b3R5cGUuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy12b2x1bWUtbGV2ZWwiLGlubmVySFRNTDonPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPjwvc3Bhbj4nfSl9LHR9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiVm9sdW1lTGV2ZWwiLFhyKTt2YXIgS3I9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLm9uKCJzbGlkZXJhY3RpdmUiLGkudXBkYXRlTGFzdFZvbHVtZV8pLGkub24oZSwidm9sdW1lY2hhbmdlIixpLnVwZGF0ZUFSSUFBdHRyaWJ1dGVzKSxlLnJlYWR5KGZ1bmN0aW9uKCl7cmV0dXJuIGkudXBkYXRlQVJJQUF0dHJpYnV0ZXMoKX0pLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5jcmVhdGVFbD1mdW5jdGlvbigpe3JldHVybiBuLnByb3RvdHlwZS5jcmVhdGVFbC5jYWxsKHRoaXMsImRpdiIse2NsYXNzTmFtZToidmpzLXZvbHVtZS1iYXIgdmpzLXNsaWRlci1iYXIifSx7ImFyaWEtbGFiZWwiOnRoaXMubG9jYWxpemUoIlZvbHVtZSBMZXZlbCIpLCJhcmlhLWxpdmUiOiJwb2xpdGUifSl9LHQuaGFuZGxlTW91c2VEb3duPWZ1bmN0aW9uKGUpe1YoZSkmJm4ucHJvdG90eXBlLmhhbmRsZU1vdXNlRG93bi5jYWxsKHRoaXMsZSl9LHQuaGFuZGxlTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe1YoZSkmJih0aGlzLmNoZWNrTXV0ZWQoKSx0aGlzLnBsYXllcl8udm9sdW1lKHRoaXMuY2FsY3VsYXRlRGlzdGFuY2UoZSkpKX0sdC5jaGVja011dGVkPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXJfLm11dGVkKCkmJnRoaXMucGxheWVyXy5tdXRlZCghMSl9LHQuZ2V0UGVyY2VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllcl8ubXV0ZWQoKT8wOnRoaXMucGxheWVyXy52b2x1bWUoKX0sdC5zdGVwRm9yd2FyZD1mdW5jdGlvbigpe3RoaXMuY2hlY2tNdXRlZCgpLHRoaXMucGxheWVyXy52b2x1bWUodGhpcy5wbGF5ZXJfLnZvbHVtZSgpKy4xKX0sdC5zdGVwQmFjaz1mdW5jdGlvbigpe3RoaXMuY2hlY2tNdXRlZCgpLHRoaXMucGxheWVyXy52b2x1bWUodGhpcy5wbGF5ZXJfLnZvbHVtZSgpLS4xKX0sdC51cGRhdGVBUklBQXR0cmlidXRlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBsYXllcl8ubXV0ZWQoKT8wOnRoaXMudm9sdW1lQXNQZXJjZW50YWdlXygpO3RoaXMuZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsdCksdGhpcy5lbF8uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIsdCsiJSIpfSx0LnZvbHVtZUFzUGVyY2VudGFnZV89ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqdGhpcy5wbGF5ZXJfLnZvbHVtZSgpKX0sdC51cGRhdGVMYXN0Vm9sdW1lXz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnBsYXllcl8udm9sdW1lKCk7dGhpcy5vbmUoInNsaWRlcmluYWN0aXZlIixmdW5jdGlvbigpezA9PT1lLnBsYXllcl8udm9sdW1lKCkmJmUucGxheWVyXy5sYXN0Vm9sdW1lXyh0KX0pfSxlfShqcik7S3IucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbInZvbHVtZUxldmVsIl0sYmFyTmFtZToidm9sdW1lTGV2ZWwifSxLci5wcm90b3R5cGUucGxheWVyRXZlbnQ9InZvbHVtZWNoYW5nZSIsT2UucmVnaXN0ZXJDb21wb25lbnQoIlZvbHVtZUJhciIsS3IpO3ZhciBZcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSx0LnZlcnRpY2FsPXQudmVydGljYWx8fCExLCJ1bmRlZmluZWQiIT10eXBlb2YgdC52b2x1bWVCYXImJiFvKHQudm9sdW1lQmFyKXx8KHQudm9sdW1lQmFyPXQudm9sdW1lQmFyfHx7fSx0LnZvbHVtZUJhci52ZXJ0aWNhbD10LnZlcnRpY2FsKSxmdW5jdGlvbihlLHQpe3QudGVjaF8mJiF0LnRlY2hfLmZlYXR1cmVzVm9sdW1lQ29udHJvbCYmZS5hZGRDbGFzcygidmpzLWhpZGRlbiIpLGUub24odCwibG9hZHN0YXJ0IixmdW5jdGlvbigpe3QudGVjaF8uZmVhdHVyZXNWb2x1bWVDb250cm9sP2UucmVtb3ZlQ2xhc3MoInZqcy1oaWRkZW4iKTplLmFkZENsYXNzKCJ2anMtaGlkZGVuIil9KX0oUmUoaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKSxlKSxpLnRocm90dGxlZEhhbmRsZU1vdXNlTW92ZT1wZShkZShSZShpKSxpLmhhbmRsZU1vdXNlTW92ZSksMzApLGkub24oIm1vdXNlZG93biIsaS5oYW5kbGVNb3VzZURvd24pLGkub24oInRvdWNoc3RhcnQiLGkuaGFuZGxlTW91c2VEb3duKSxpLm9uKGkudm9sdW1lQmFyLFsiZm9jdXMiLCJzbGlkZXJhY3RpdmUiXSxmdW5jdGlvbigpe2kudm9sdW1lQmFyLmFkZENsYXNzKCJ2anMtc2xpZGVyLWFjdGl2ZSIpLGkuYWRkQ2xhc3MoInZqcy1zbGlkZXItYWN0aXZlIiksaS50cmlnZ2VyKCJzbGlkZXJhY3RpdmUiKX0pLGkub24oaS52b2x1bWVCYXIsWyJibHVyIiwic2xpZGVyaW5hY3RpdmUiXSxmdW5jdGlvbigpe2kudm9sdW1lQmFyLnJlbW92ZUNsYXNzKCJ2anMtc2xpZGVyLWFjdGl2ZSIpLGkucmVtb3ZlQ2xhc3MoInZqcy1zbGlkZXItYWN0aXZlIiksaS50cmlnZ2VyKCJzbGlkZXJpbmFjdGl2ZSIpfSksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7dmFyIGU9InZqcy12b2x1bWUtaG9yaXpvbnRhbCI7cmV0dXJuIHRoaXMub3B0aW9uc18udmVydGljYWwmJihlPSJ2anMtdm9sdW1lLXZlcnRpY2FsIiksbi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy12b2x1bWUtY29udHJvbCB2anMtY29udHJvbCAiK2V9KX0sdC5oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbF8ub3duZXJEb2N1bWVudDt0aGlzLm9uKHQsIm1vdXNlbW92ZSIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpLHRoaXMub24odCwidG91Y2htb3ZlIix0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSksdGhpcy5vbih0LCJtb3VzZXVwIix0aGlzLmhhbmRsZU1vdXNlVXApLHRoaXMub24odCwidG91Y2hlbmQiLHRoaXMuaGFuZGxlTW91c2VVcCl9LHQuaGFuZGxlTW91c2VVcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsXy5vd25lckRvY3VtZW50O3RoaXMub2ZmKHQsIm1vdXNlbW92ZSIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpLHRoaXMub2ZmKHQsInRvdWNobW92ZSIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpLHRoaXMub2ZmKHQsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCksdGhpcy5vZmYodCwidG91Y2hlbmQiLHRoaXMuaGFuZGxlTW91c2VVcCl9LHQuaGFuZGxlTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3RoaXMudm9sdW1lQmFyLmhhbmRsZU1vdXNlTW92ZShlKX0sZX0oT2UpO1lyLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46WyJ2b2x1bWVCYXIiXX0sT2UucmVnaXN0ZXJDb21wb25lbnQoIlZvbHVtZUNvbnRyb2wiLFlyKTt2YXIgUXI9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybiBmdW5jdGlvbihlLHQpe3QudGVjaF8mJiF0LnRlY2hfLmZlYXR1cmVzTXV0ZUNvbnRyb2wmJmUuYWRkQ2xhc3MoInZqcy1oaWRkZW4iKSxlLm9uKHQsImxvYWRzdGFydCIsZnVuY3Rpb24oKXt0LnRlY2hfLmZlYXR1cmVzTXV0ZUNvbnRyb2w/ZS5yZW1vdmVDbGFzcygidmpzLWhpZGRlbiIpOmUuYWRkQ2xhc3MoInZqcy1oaWRkZW4iKX0pfShSZShpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLGUpLGkub24oZSxbImxvYWRzdGFydCIsInZvbHVtZWNoYW5nZSJdLGkudXBkYXRlKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtbXV0ZS1jb250cm9sICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGxheWVyXy52b2x1bWUoKSxpPXRoaXMucGxheWVyXy5sYXN0Vm9sdW1lXygpO2lmKDA9PT10KXt2YXIgbj1pPC4xPy4xOmk7dGhpcy5wbGF5ZXJfLnZvbHVtZShuKSx0aGlzLnBsYXllcl8ubXV0ZWQoITEpfWVsc2UgdGhpcy5wbGF5ZXJfLm11dGVkKCF0aGlzLnBsYXllcl8ubXV0ZWQoKSl9LHQudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlSWNvbl8oKSx0aGlzLnVwZGF0ZUNvbnRyb2xUZXh0XygpfSx0LnVwZGF0ZUljb25fPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wbGF5ZXJfLnZvbHVtZSgpLHQ9MzskZSYmdGhpcy5wbGF5ZXJfLnRlY2hfJiZ0aGlzLnBsYXllcl8udGVjaF8uZWxfJiZ0aGlzLnBsYXllcl8ubXV0ZWQodGhpcy5wbGF5ZXJfLnRlY2hfLmVsXy5tdXRlZCksMD09PWV8fHRoaXMucGxheWVyXy5tdXRlZCgpP3Q9MDplPC4zMz90PTE6ZTwuNjcmJih0PTIpO2Zvcih2YXIgaT0wO2k8NDtpKyspRSh0aGlzLmVsXywidmpzLXZvbC0iK2kpO0ModGhpcy5lbF8sInZqcy12b2wtIit0KX0sdC51cGRhdGVDb250cm9sVGV4dF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXllcl8ubXV0ZWQoKXx8MD09PXRoaXMucGxheWVyXy52b2x1bWUoKT8iVW5tdXRlIjoiTXV0ZSI7dGhpcy5jb250cm9sVGV4dCgpIT09ZSYmdGhpcy5jb250cm9sVGV4dChlKX0sZX0oRXIpO1FyLnByb3RvdHlwZS5jb250cm9sVGV4dF89Ik11dGUiLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJNdXRlVG9nZ2xlIixRcik7dmFyIEpyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLCJ1bmRlZmluZWQiIT10eXBlb2YgdC5pbmxpbmU/dC5pbmxpbmU9dC5pbmxpbmU6dC5pbmxpbmU9ITAsInVuZGVmaW5lZCIhPXR5cGVvZiB0LnZvbHVtZUNvbnRyb2wmJiFvKHQudm9sdW1lQ29udHJvbCl8fCh0LnZvbHVtZUNvbnRyb2w9dC52b2x1bWVDb250cm9sfHx7fSx0LnZvbHVtZUNvbnRyb2wudmVydGljYWw9IXQuaW5saW5lKSwoaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5vbihlLFsibG9hZHN0YXJ0Il0saS52b2x1bWVQYW5lbFN0YXRlXyksaS5vbihpLm11dGVUb2dnbGUsImtleXVwIixpLmhhbmRsZUtleVByZXNzKSxpLm9uKGkudm9sdW1lQ29udHJvbCwia2V5dXAiLGkuaGFuZGxlVm9sdW1lQ29udHJvbEtleVVwKSxpLm9uKCJrZXlkb3duIixpLmhhbmRsZUtleVByZXNzKSxpLm9uKCJtb3VzZW92ZXIiLGkuaGFuZGxlTW91c2VPdmVyKSxpLm9uKCJtb3VzZW91dCIsaS5oYW5kbGVNb3VzZU91dCksaS5vbihpLnZvbHVtZUNvbnRyb2wsWyJzbGlkZXJhY3RpdmUiXSxpLnNsaWRlckFjdGl2ZV8pLGkub24oaS52b2x1bWVDb250cm9sLFsic2xpZGVyaW5hY3RpdmUiXSxpLnNsaWRlckluYWN0aXZlXyksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LnNsaWRlckFjdGl2ZV89ZnVuY3Rpb24oKXt0aGlzLmFkZENsYXNzKCJ2anMtc2xpZGVyLWFjdGl2ZSIpfSx0LnNsaWRlckluYWN0aXZlXz1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQ2xhc3MoInZqcy1zbGlkZXItYWN0aXZlIil9LHQudm9sdW1lUGFuZWxTdGF0ZV89ZnVuY3Rpb24oKXt0aGlzLnZvbHVtZUNvbnRyb2wuaGFzQ2xhc3MoInZqcy1oaWRkZW4iKSYmdGhpcy5tdXRlVG9nZ2xlLmhhc0NsYXNzKCJ2anMtaGlkZGVuIikmJnRoaXMuYWRkQ2xhc3MoInZqcy1oaWRkZW4iKSx0aGlzLnZvbHVtZUNvbnRyb2wuaGFzQ2xhc3MoInZqcy1oaWRkZW4iKSYmIXRoaXMubXV0ZVRvZ2dsZS5oYXNDbGFzcygidmpzLWhpZGRlbiIpJiZ0aGlzLmFkZENsYXNzKCJ2anMtbXV0ZS10b2dnbGUtb25seSIpfSx0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7dmFyIGU9InZqcy12b2x1bWUtcGFuZWwtaG9yaXpvbnRhbCI7cmV0dXJuIHRoaXMub3B0aW9uc18uaW5saW5lfHwoZT0idmpzLXZvbHVtZS1wYW5lbC12ZXJ0aWNhbCIpLG4ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiZGl2Iix7Y2xhc3NOYW1lOiJ2anMtdm9sdW1lLXBhbmVsIHZqcy1jb250cm9sICIrZX0pfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZU1vdXNlT3V0KCksbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LmhhbmRsZVZvbHVtZUNvbnRyb2xLZXlVcD1mdW5jdGlvbihlKXt3dC5pc0V2ZW50S2V5KGUsIkVzYyIpJiZ0aGlzLm11dGVUb2dnbGUuZm9jdXMoKX0sdC5oYW5kbGVNb3VzZU92ZXI9ZnVuY3Rpb24oZSl7dGhpcy5hZGRDbGFzcygidmpzLWhvdmVyIiksb2UoaCwia2V5dXAiLGRlKHRoaXMsdGhpcy5oYW5kbGVLZXlQcmVzcykpfSx0LmhhbmRsZU1vdXNlT3V0PWZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlQ2xhc3MoInZqcy1ob3ZlciIpLHVlKGgsImtleXVwIixkZSh0aGlzLHRoaXMuaGFuZGxlS2V5UHJlc3MpKX0sdC5oYW5kbGVLZXlQcmVzcz1mdW5jdGlvbihlKXt3dC5pc0V2ZW50S2V5KGUsIkVzYyIpJiZ0aGlzLmhhbmRsZU1vdXNlT3V0KCl9LGV9KE9lKTtKci5wcm90b3R5cGUub3B0aW9uc189e2NoaWxkcmVuOlsibXV0ZVRvZ2dsZSIsInZvbHVtZUNvbnRyb2wiXX0sT2UucmVnaXN0ZXJDb21wb25lbnQoIlZvbHVtZVBhbmVsIixKcik7dmFyIFpyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzLHQmJihpLm1lbnVCdXR0b25fPXQubWVudUJ1dHRvbiksaS5mb2N1c2VkQ2hpbGRfPS0xLGkub24oImtleWRvd24iLGkuaGFuZGxlS2V5RG93biksaS5ib3VuZEhhbmRsZUJsdXJfPWRlKFJlKGkpLGkuaGFuZGxlQmx1ciksaS5ib3VuZEhhbmRsZVRhcENsaWNrXz1kZShSZShpKSxpLmhhbmRsZVRhcENsaWNrKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lckZvckl0ZW09ZnVuY3Rpb24oZSl7ZSBpbnN0YW5jZW9mIE9lJiYodGhpcy5vbihlLCJibHVyIix0aGlzLmJvdW5kSGFuZGxlQmx1cl8pLHRoaXMub24oZSxbInRhcCIsImNsaWNrIl0sdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXykpfSx0LnJlbW92ZUV2ZW50TGlzdGVuZXJGb3JJdGVtPWZ1bmN0aW9uKGUpe2UgaW5zdGFuY2VvZiBPZSYmKHRoaXMub2ZmKGUsImJsdXIiLHRoaXMuYm91bmRIYW5kbGVCbHVyXyksdGhpcy5vZmYoZSxbInRhcCIsImNsaWNrIl0sdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXykpfSx0LnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9dGhpcy5nZXRDaGlsZChlKSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyRm9ySXRlbShlKSxuLnByb3RvdHlwZS5yZW1vdmVDaGlsZC5jYWxsKHRoaXMsZSl9LHQuYWRkSXRlbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmFkZENoaWxkKGUpO3QmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lckZvckl0ZW0odCl9LHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnNfLmNvbnRlbnRFbFR5cGV8fCJ1bCI7dGhpcy5jb250ZW50RWxfPWIoZSx7Y2xhc3NOYW1lOiJ2anMtbWVudS1jb250ZW50In0pLHRoaXMuY29udGVudEVsXy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJtZW51Iik7dmFyIHQ9bi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHthcHBlbmQ6dGhpcy5jb250ZW50RWxfLGNsYXNzTmFtZToidmpzLW1lbnUifSk7cmV0dXJuIHQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWxfKSxvZSh0LCJjbGljayIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KSx0fSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbnRlbnRFbF89bnVsbCx0aGlzLmJvdW5kSGFuZGxlQmx1cl89bnVsbCx0aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfPW51bGwsbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LmhhbmRsZUJsdXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWxhdGVkVGFyZ2V0fHxoLmFjdGl2ZUVsZW1lbnQ7aWYoIXRoaXMuY2hpbGRyZW4oKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsKCk9PT10fSkpe3ZhciBpPXRoaXMubWVudUJ1dHRvbl87aSYmaS5idXR0b25QcmVzc2VkXyYmdCE9PWkuZWwoKS5maXJzdENoaWxkJiZpLnVucHJlc3NCdXR0b24oKX19LHQuaGFuZGxlVGFwQ2xpY2s9ZnVuY3Rpb24odCl7aWYodGhpcy5tZW51QnV0dG9uXyl7dGhpcy5tZW51QnV0dG9uXy51bnByZXNzQnV0dG9uKCk7dmFyIGU9dGhpcy5jaGlsZHJlbigpO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybjt2YXIgaT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5lbCgpPT09dC50YXJnZXR9KVswXTtpZighaSlyZXR1cm47IkNhcHRpb25TZXR0aW5nc01lbnVJdGVtIiE9PWkubmFtZSgpJiZ0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCl9fSx0LmhhbmRsZUtleURvd249ZnVuY3Rpb24oZSl7d3QuaXNFdmVudEtleShlLCJMZWZ0Iil8fHd0LmlzRXZlbnRLZXkoZSwiRG93biIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnN0ZXBGb3J3YXJkKCkpOih3dC5pc0V2ZW50S2V5KGUsIlJpZ2h0Iil8fHd0LmlzRXZlbnRLZXkoZSwiVXAiKSkmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnN0ZXBCYWNrKCkpfSx0LnN0ZXBGb3J3YXJkPWZ1bmN0aW9uKCl7dmFyIGU9MDt2b2lkIDAhPT10aGlzLmZvY3VzZWRDaGlsZF8mJihlPXRoaXMuZm9jdXNlZENoaWxkXysxKSx0aGlzLmZvY3VzKGUpfSx0LnN0ZXBCYWNrPWZ1bmN0aW9uKCl7dmFyIGU9MDt2b2lkIDAhPT10aGlzLmZvY3VzZWRDaGlsZF8mJihlPXRoaXMuZm9jdXNlZENoaWxkXy0xKSx0aGlzLmZvY3VzKGUpfSx0LmZvY3VzPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciB0PXRoaXMuY2hpbGRyZW4oKS5zbGljZSgpO3QubGVuZ3RoJiZ0WzBdLmNsYXNzTmFtZSYmL3Zqcy1tZW51LXRpdGxlLy50ZXN0KHRbMF0uY2xhc3NOYW1lKSYmdC5zaGlmdCgpLDA8dC5sZW5ndGgmJihlPDA/ZT0wOmU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aC0xKSx0W3RoaXMuZm9jdXNlZENoaWxkXz1lXS5lbF8uZm9jdXMoKSl9LGV9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiTWVudSIsWnIpO3ZhciBlYT1mdW5jdGlvbihyKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk7dm9pZCAwPT09dCYmKHQ9e30pLChpPXIuY2FsbCh0aGlzLGUsdCl8fHRoaXMpLm1lbnVCdXR0b25fPW5ldyBFcihlLHQpLGkubWVudUJ1dHRvbl8uY29udHJvbFRleHQoaS5jb250cm9sVGV4dF8pLGkubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsInRydWUiKTt2YXIgbj1Fci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcygpO3JldHVybiBpLm1lbnVCdXR0b25fLmVsXy5jbGFzc05hbWU9aS5idWlsZENTU0NsYXNzKCkrIiAiK24saS5tZW51QnV0dG9uXy5yZW1vdmVDbGFzcygidmpzLWNvbnRyb2wiKSxpLmFkZENoaWxkKGkubWVudUJ1dHRvbl8pLGkudXBkYXRlKCksaS5lbmFibGVkXz0hMCxpLm9uKGkubWVudUJ1dHRvbl8sInRhcCIsaS5oYW5kbGVDbGljayksaS5vbihpLm1lbnVCdXR0b25fLCJjbGljayIsaS5oYW5kbGVDbGljayksaS5vbihpLm1lbnVCdXR0b25fLCJrZXlkb3duIixpLmhhbmRsZUtleURvd24pLGkub24oaS5tZW51QnV0dG9uXywibW91c2VlbnRlciIsZnVuY3Rpb24oKXtpLmFkZENsYXNzKCJ2anMtaG92ZXIiKSxpLm1lbnUuc2hvdygpLG9lKGgsImtleXVwIixkZShSZShpKSxpLmhhbmRsZU1lbnVLZXlVcCkpfSksaS5vbigibW91c2VsZWF2ZSIsaS5oYW5kbGVNb3VzZUxlYXZlKSxpLm9uKCJrZXlkb3duIixpLmhhbmRsZVN1Ym1lbnVLZXlEb3duKSxpfXhlKGUscik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jcmVhdGVNZW51KCk7dGhpcy5tZW51JiYodGhpcy5tZW51LmRpc3Bvc2UoKSx0aGlzLnJlbW92ZUNoaWxkKHRoaXMubWVudSkpLHRoaXMubWVudT1lLHRoaXMuYWRkQ2hpbGQoZSksdGhpcy5idXR0b25QcmVzc2VkXz0hMSx0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLHRoaXMuaXRlbXMmJnRoaXMuaXRlbXMubGVuZ3RoPD10aGlzLmhpZGVUaHJlc2hvbGRfP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfSx0LmNyZWF0ZU1lbnU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgWnIodGhpcy5wbGF5ZXJfLHttZW51QnV0dG9uOnRoaXN9KTtpZih0aGlzLmhpZGVUaHJlc2hvbGRfPTAsdGhpcy5vcHRpb25zXy50aXRsZSl7dmFyIHQ9YigibGkiLHtjbGFzc05hbWU6InZqcy1tZW51LXRpdGxlIixpbm5lckhUTUw6SWUodGhpcy5vcHRpb25zXy50aXRsZSksdGFiSW5kZXg6LTF9KTt0aGlzLmhpZGVUaHJlc2hvbGRfKz0xO3ZhciBpPW5ldyBPZSh0aGlzLnBsYXllcl8se2VsOnR9KTtlLmFkZEl0ZW0oaSl9aWYodGhpcy5pdGVtcz10aGlzLmNyZWF0ZUl0ZW1zKCksdGhpcy5pdGVtcylmb3IodmFyIG49MDtuPHRoaXMuaXRlbXMubGVuZ3RoO24rKyllLmFkZEl0ZW0odGhpcy5pdGVtc1tuXSk7cmV0dXJuIGV9LHQuY3JlYXRlSXRlbXM9ZnVuY3Rpb24oKXt9LHQuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gci5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6dGhpcy5idWlsZFdyYXBwZXJDU1NDbGFzcygpfSx7fSl9LHQuYnVpbGRXcmFwcGVyQ1NTQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgZT0idmpzLW1lbnUtYnV0dG9uIjtyZXR1cm4hMD09PXRoaXMub3B0aW9uc18uaW5saW5lP2UrPSItaW5saW5lIjplKz0iLXBvcHVwIiwidmpzLW1lbnUtYnV0dG9uICIrZSsiICIrRXIucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MoKSsiICIrci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmJ1aWxkQ1NTQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgZT0idmpzLW1lbnUtYnV0dG9uIjtyZXR1cm4hMD09PXRoaXMub3B0aW9uc18uaW5saW5lP2UrPSItaW5saW5lIjplKz0iLXBvcHVwIiwidmpzLW1lbnUtYnV0dG9uICIrZSsiICIrci5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmNvbnRyb2xUZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMubWVudUJ1dHRvbl8uZWwoKSksdGhpcy5tZW51QnV0dG9uXy5jb250cm9sVGV4dChlLHQpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZU1vdXNlTGVhdmUoKSxyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24oZSl7dGhpcy5idXR0b25QcmVzc2VkXz90aGlzLnVucHJlc3NCdXR0b24oKTp0aGlzLnByZXNzQnV0dG9uKCl9LHQuaGFuZGxlTW91c2VMZWF2ZT1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUNsYXNzKCJ2anMtaG92ZXIiKSx1ZShoLCJrZXl1cCIsZGUodGhpcyx0aGlzLmhhbmRsZU1lbnVLZXlVcCkpfSx0LmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5tZW51QnV0dG9uXy5mb2N1cygpfSx0LmJsdXI9ZnVuY3Rpb24oKXt0aGlzLm1lbnVCdXR0b25fLmJsdXIoKX0sdC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGUpe3d0LmlzRXZlbnRLZXkoZSwiRXNjIil8fHd0LmlzRXZlbnRLZXkoZSwiVGFiIik/KHRoaXMuYnV0dG9uUHJlc3NlZF8mJnRoaXMudW5wcmVzc0J1dHRvbigpLHd0LmlzRXZlbnRLZXkoZSwiVGFiIil8fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5tZW51QnV0dG9uXy5mb2N1cygpKSk6KHd0LmlzRXZlbnRLZXkoZSwiVXAiKXx8d3QuaXNFdmVudEtleShlLCJEb3duIikpJiYodGhpcy5idXR0b25QcmVzc2VkX3x8KGUucHJldmVudERlZmF1bHQoKSx0aGlzLnByZXNzQnV0dG9uKCkpKX0sdC5oYW5kbGVNZW51S2V5VXA9ZnVuY3Rpb24oZSl7KHd0LmlzRXZlbnRLZXkoZSwiRXNjIil8fHd0LmlzRXZlbnRLZXkoZSwiVGFiIikpJiZ0aGlzLnJlbW92ZUNsYXNzKCJ2anMtaG92ZXIiKX0sdC5oYW5kbGVTdWJtZW51S2V5UHJlc3M9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVTdWJtZW51S2V5RG93bihlKX0sdC5oYW5kbGVTdWJtZW51S2V5RG93bj1mdW5jdGlvbihlKXsod3QuaXNFdmVudEtleShlLCJFc2MiKXx8d3QuaXNFdmVudEtleShlLCJUYWIiKSkmJih0aGlzLmJ1dHRvblByZXNzZWRfJiZ0aGlzLnVucHJlc3NCdXR0b24oKSx3dC5pc0V2ZW50S2V5KGUsIlRhYiIpfHwoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudUJ1dHRvbl8uZm9jdXMoKSkpfSx0LnByZXNzQnV0dG9uPWZ1bmN0aW9uKCl7aWYodGhpcy5lbmFibGVkXyl7aWYodGhpcy5idXR0b25QcmVzc2VkXz0hMCx0aGlzLm1lbnUuc2hvdygpLHRoaXMubWVudS5sb2NrU2hvd2luZygpLHRoaXMubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsInRydWUiKSwkZSYmeSgpKXJldHVybjt0aGlzLm1lbnUuZm9jdXMoKX19LHQudW5wcmVzc0J1dHRvbj1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZF8mJih0aGlzLmJ1dHRvblByZXNzZWRfPSExLHRoaXMubWVudS51bmxvY2tTaG93aW5nKCksdGhpcy5tZW51LmhpZGUoKSx0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpKX0sdC5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy51bnByZXNzQnV0dG9uKCksdGhpcy5lbmFibGVkXz0hMSx0aGlzLmFkZENsYXNzKCJ2anMtZGlzYWJsZWQiKSx0aGlzLm1lbnVCdXR0b25fLmRpc2FibGUoKX0sdC5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWRfPSEwLHRoaXMucmVtb3ZlQ2xhc3MoInZqcy1kaXNhYmxlZCIpLHRoaXMubWVudUJ1dHRvbl8uZW5hYmxlKCl9LGV9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiTWVudUJ1dHRvbiIsZWEpO3ZhciB0YT1mdW5jdGlvbihhKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGksbj10LnRyYWNrcztpZigoaT1hLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5pdGVtcy5sZW5ndGg8PTEmJmkuaGlkZSgpLCFuKXJldHVybiBSZShpKTt2YXIgcj1kZShSZShpKSxpLnVwZGF0ZSk7cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcigicmVtb3ZldHJhY2siLHIpLG4uYWRkRXZlbnRMaXN0ZW5lcigiYWRkdHJhY2siLHIpLGkucGxheWVyXy5vbigicmVhZHkiLHIpLGkucGxheWVyXy5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlbW92ZXRyYWNrIixyKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFkZHRyYWNrIixyKX0pLGl9cmV0dXJuIHhlKGUsYSksZX0oZWEpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJUcmFja0J1dHRvbiIsdGEpO3ZhciBpYT1bIlRhYiIsIkVzYyIsIlVwIiwiRG93biIsIlJpZ2h0IiwiTGVmdCJdLG5hPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5zZWxlY3RhYmxlPXQuc2VsZWN0YWJsZSxpLmlzU2VsZWN0ZWRfPXQuc2VsZWN0ZWR8fCExLGkubXVsdGlTZWxlY3RhYmxlPXQubXVsdGlTZWxlY3RhYmxlLGkuc2VsZWN0ZWQoaS5pc1NlbGVjdGVkXyksaS5zZWxlY3RhYmxlP2kubXVsdGlTZWxlY3RhYmxlP2kuZWxfLnNldEF0dHJpYnV0ZSgicm9sZSIsIm1lbnVpdGVtY2hlY2tib3giKTppLmVsXy5zZXRBdHRyaWJ1dGUoInJvbGUiLCJtZW51aXRlbXJhZGlvIik6aS5lbF8uc2V0QXR0cmlidXRlKCJyb2xlIiwibWVudWl0ZW0iKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0aGlzLm5vbkljb25Db250cm9sPSEwLG4ucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywibGkiLG0oe2NsYXNzTmFtZToidmpzLW1lbnUtaXRlbSIsaW5uZXJIVE1MOic8c3BhbiBjbGFzcz0idmpzLW1lbnUtaXRlbS10ZXh0Ij4nK3RoaXMubG9jYWxpemUodGhpcy5vcHRpb25zXy5sYWJlbCkrIjwvc3Bhbj4iLHRhYkluZGV4Oi0xfSx0KSxpKX0sdC5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKHQpe2lhLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHd0LmlzRXZlbnRLZXkodCxlKX0pfHxuLnByb3RvdHlwZS5oYW5kbGVLZXlEb3duLmNhbGwodGhpcyx0KX0sdC5oYW5kbGVDbGljaz1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGVkKCEwKX0sdC5zZWxlY3RlZD1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGFibGUmJihlPyh0aGlzLmFkZENsYXNzKCJ2anMtc2VsZWN0ZWQiKSx0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoImFyaWEtY2hlY2tlZCIsInRydWUiKSx0aGlzLmNvbnRyb2xUZXh0KCIsIHNlbGVjdGVkIiksdGhpcy5pc1NlbGVjdGVkXz0hMCk6KHRoaXMucmVtb3ZlQ2xhc3MoInZqcy1zZWxlY3RlZCIpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZSgiYXJpYS1jaGVja2VkIiwiZmFsc2UiKSx0aGlzLmNvbnRyb2xUZXh0KCIiKSx0aGlzLmlzU2VsZWN0ZWRfPSExKSl9LGV9KHlyKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiTWVudUl0ZW0iLG5hKTt2YXIgcmE9ZnVuY3Rpb24odSl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuLGk9dC50cmFjayxyPWUudGV4dFRyYWNrcygpO3QubGFiZWw9aS5sYWJlbHx8aS5sYW5ndWFnZXx8IlVua25vd24iLHQuc2VsZWN0ZWQ9InNob3dpbmciPT09aS5tb2RlLChuPXUuY2FsbCh0aGlzLGUsdCl8fHRoaXMpLnRyYWNrPWksbi5raW5kcz0odC5raW5kc3x8W3Qua2luZHx8bi50cmFjay5raW5kXSkuZmlsdGVyKEJvb2xlYW4pO2Z1bmN0aW9uIGEoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtuLmhhbmRsZVRyYWNrc0NoYW5nZS5hcHBseShSZShuKSx0KX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07bi5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlLmFwcGx5KFJlKG4pLHQpfXZhciBvO2Uub24oWyJsb2Fkc3RhcnQiLCJ0ZXh0dHJhY2tjaGFuZ2UiXSxhKSxyLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYSksci5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RlZGxhbmd1YWdlY2hhbmdlIixzKSxuLm9uKCJkaXNwb3NlIixmdW5jdGlvbigpe2Uub2ZmKFsibG9hZHN0YXJ0IiwidGV4dHRyYWNrY2hhbmdlIl0sYSksci5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGEpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2VsZWN0ZWRsYW5ndWFnZWNoYW5nZSIscyl9KSx2b2lkIDA9PT1yLm9uY2hhbmdlJiZuLm9uKFsidGFwIiwiY2xpY2siXSxmdW5jdGlvbigpe2lmKCJvYmplY3QiIT10eXBlb2Ygdi5FdmVudCl0cnl7bz1uZXcgdi5FdmVudCgiY2hhbmdlIil9Y2F0Y2goZSl7fW98fChvPWguY3JlYXRlRXZlbnQoIkV2ZW50IikpLmluaXRFdmVudCgiY2hhbmdlIiwhMCwhMCksci5kaXNwYXRjaEV2ZW50KG8pfSk7cmV0dXJuIG4uaGFuZGxlVHJhY2tzQ2hhbmdlKCksbn14ZShlLHUpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhY2ssaT10aGlzLnBsYXllcl8udGV4dFRyYWNrcygpO2lmKHUucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyxlKSxpKWZvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dOy0xIT09dGhpcy5raW5kcy5pbmRleE9mKHIua2luZCkmJihyPT09dD8ic2hvd2luZyIhPT1yLm1vZGUmJihyLm1vZGU9InNob3dpbmciKToiZGlzYWJsZWQiIT09ci5tb2RlJiYoci5tb2RlPSJkaXNhYmxlZCIpKX19LHQuaGFuZGxlVHJhY2tzQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PSJzaG93aW5nIj09PXRoaXMudHJhY2subW9kZTt0IT09dGhpcy5pc1NlbGVjdGVkXyYmdGhpcy5zZWxlY3RlZCh0KX0sdC5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlPWZ1bmN0aW9uKGUpe2lmKCJzaG93aW5nIj09PXRoaXMudHJhY2subW9kZSl7dmFyIHQ9dGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlO2lmKHQmJnQuZW5hYmxlZCYmdC5sYW5ndWFnZT09PXRoaXMudHJhY2subGFuZ3VhZ2UmJnQua2luZCE9PXRoaXMudHJhY2sua2luZClyZXR1cm47dGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlPXtlbmFibGVkOiEwLGxhbmd1YWdlOnRoaXMudHJhY2subGFuZ3VhZ2Usa2luZDp0aGlzLnRyYWNrLmtpbmR9fX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy50cmFjaz1udWxsLHUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sZX0obmEpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJUZXh0VHJhY2tNZW51SXRlbSIscmEpO3ZhciBhYT1mdW5jdGlvbihpKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIHQudHJhY2s9e3BsYXllcjplLGtpbmQ6dC5raW5kLGtpbmRzOnQua2luZHMsZGVmYXVsdDohMSxtb2RlOiJkaXNhYmxlZCJ9LHQua2luZHN8fCh0LmtpbmRzPVt0LmtpbmRdKSx0LmxhYmVsP3QudHJhY2subGFiZWw9dC5sYWJlbDp0LnRyYWNrLmxhYmVsPXQua2luZHMuam9pbigiIGFuZCAiKSsiIG9mZiIsdC5zZWxlY3RhYmxlPSEwLHQubXVsdGlTZWxlY3RhYmxlPSExLGkuY2FsbCh0aGlzLGUsdCl8fHRoaXN9eGUoZSxpKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5oYW5kbGVUcmFja3NDaGFuZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucGxheWVyKCkudGV4dFRyYWNrcygpLGk9ITAsbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7dmFyIGE9dFtuXTtpZigtMTx0aGlzLm9wdGlvbnNfLmtpbmRzLmluZGV4T2YoYS5raW5kKSYmInNob3dpbmciPT09YS5tb2RlKXtpPSExO2JyZWFrfX1pIT09dGhpcy5pc1NlbGVjdGVkXyYmdGhpcy5zZWxlY3RlZChpKX0sdC5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnBsYXllcigpLnRleHRUcmFja3MoKSxpPSEwLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBhPXRbbl07aWYoLTE8WyJjYXB0aW9ucyIsImRlc2NyaXB0aW9ucyIsInN1YnRpdGxlcyJdLmluZGV4T2YoYS5raW5kKSYmInNob3dpbmciPT09YS5tb2RlKXtpPSExO2JyZWFrfX1pJiYodGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlPXtlbmFibGVkOiExfSl9LGV9KHJhKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiT2ZmVGV4dFRyYWNrTWVudUl0ZW0iLGFhKTt2YXIgc2E9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksdC50cmFja3M9ZS50ZXh0VHJhY2tzKCksaS5jYWxsKHRoaXMsZSx0KXx8dGhpc31yZXR1cm4geGUoZSxpKSxlLnByb3RvdHlwZS5jcmVhdGVJdGVtcz1mdW5jdGlvbihlLHQpe3ZhciBpO3ZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT10JiYodD1yYSksdGhpcy5sYWJlbF8mJihpPXRoaXMubGFiZWxfKyIgb2ZmIiksZS5wdXNoKG5ldyBhYSh0aGlzLnBsYXllcl8se2tpbmRzOnRoaXMua2luZHNfLGtpbmQ6dGhpcy5raW5kXyxsYWJlbDppfSkpLHRoaXMuaGlkZVRocmVzaG9sZF8rPTE7dmFyIG49dGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKTtBcnJheS5pc0FycmF5KHRoaXMua2luZHNfKXx8KHRoaXMua2luZHNfPVt0aGlzLmtpbmRfXSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoLTE8dGhpcy5raW5kc18uaW5kZXhPZihhLmtpbmQpKXt2YXIgcz1uZXcgdCh0aGlzLnBsYXllcl8se3RyYWNrOmEsa2luZHM6dGhpcy5raW5kc18sa2luZDp0aGlzLmtpbmRfLHNlbGVjdGFibGU6ITAsbXVsdGlTZWxlY3RhYmxlOiExfSk7cy5hZGRDbGFzcygidmpzLSIrYS5raW5kKyItbWVudS1pdGVtIiksZS5wdXNoKHMpfX1yZXR1cm4gZX0sZX0odGEpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJUZXh0VHJhY2tCdXR0b24iLHNhKTt2YXIgb2E9ZnVuY3Rpb24ocyl7ZnVuY3Rpb24gZShlLHQpe3ZhciBpLG49dC50cmFjayxyPXQuY3VlLGE9ZS5jdXJyZW50VGltZSgpO3JldHVybiB0LnNlbGVjdGFibGU9ITAsdC5tdWx0aVNlbGVjdGFibGU9ITEsdC5sYWJlbD1yLnRleHQsdC5zZWxlY3RlZD1yLnN0YXJ0VGltZTw9YSYmYTxyLmVuZFRpbWUsKGk9cy5jYWxsKHRoaXMsZSx0KXx8dGhpcykudHJhY2s9bixpLmN1ZT1yLG4uYWRkRXZlbnRMaXN0ZW5lcigiY3VlY2hhbmdlIixkZShSZShpKSxpLnVwZGF0ZSkpLGl9eGUoZSxzKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5oYW5kbGVDbGljaz1mdW5jdGlvbihlKXtzLnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMpLHRoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLmN1ZS5zdGFydFRpbWUpLHRoaXMudXBkYXRlKHRoaXMuY3VlLnN0YXJ0VGltZSl9LHQudXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3VlLGk9dGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCk7dGhpcy5zZWxlY3RlZCh0LnN0YXJ0VGltZTw9aSYmaTx0LmVuZFRpbWUpfSxlfShuYSk7T2UucmVnaXN0ZXJDb21wb25lbnQoIkNoYXB0ZXJzVHJhY2tNZW51SXRlbSIsb2EpO3ZhciB1YT1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCxpKXtyZXR1cm4gbi5jYWxsKHRoaXMsZSx0LGkpfHx0aGlzfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtY2hhcHRlcnMtYnV0dG9uICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmJ1aWxkV3JhcHBlckNTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1jaGFwdGVycy1idXR0b24gIituLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnRyYWNrXyYmKCFlfHwiYWRkdHJhY2siIT09ZS50eXBlJiYicmVtb3ZldHJhY2siIT09ZS50eXBlKXx8dGhpcy5zZXRUcmFjayh0aGlzLmZpbmRDaGFwdGVyc1RyYWNrKCkpLG4ucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpfSx0LnNldFRyYWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMudHJhY2tfIT09ZSl7aWYodGhpcy51cGRhdGVIYW5kbGVyX3x8KHRoaXMudXBkYXRlSGFuZGxlcl89dGhpcy51cGRhdGUuYmluZCh0aGlzKSksdGhpcy50cmFja18pe3ZhciB0PXRoaXMucGxheWVyXy5yZW1vdGVUZXh0VHJhY2tFbHMoKS5nZXRUcmFja0VsZW1lbnRCeVRyYWNrXyh0aGlzLnRyYWNrXyk7dCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIix0aGlzLnVwZGF0ZUhhbmRsZXJfKSx0aGlzLnRyYWNrXz1udWxsfWlmKHRoaXMudHJhY2tfPWUsdGhpcy50cmFja18pe3RoaXMudHJhY2tfLm1vZGU9ImhpZGRlbiI7dmFyIGk9dGhpcy5wbGF5ZXJfLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKHRoaXMudHJhY2tfKTtpJiZpLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHRoaXMudXBkYXRlSGFuZGxlcl8pfX19LHQuZmluZENoYXB0ZXJzVHJhY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKXx8W10sdD1lLmxlbmd0aC0xOzA8PXQ7dC0tKXt2YXIgaT1lW3RdO2lmKGkua2luZD09PXRoaXMua2luZF8pcmV0dXJuIGl9fSx0LmdldE1lbnVDYXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhY2tfJiZ0aGlzLnRyYWNrXy5sYWJlbD90aGlzLnRyYWNrXy5sYWJlbDp0aGlzLmxvY2FsaXplKEllKHRoaXMua2luZF8pKX0sdC5jcmVhdGVNZW51PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc18udGl0bGU9dGhpcy5nZXRNZW51Q2FwdGlvbigpLG4ucHJvdG90eXBlLmNyZWF0ZU1lbnUuY2FsbCh0aGlzKX0sdC5jcmVhdGVJdGVtcz1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0aGlzLnRyYWNrXylyZXR1cm4gZTt2YXIgdD10aGlzLnRyYWNrXy5jdWVzO2lmKCF0KXJldHVybiBlO2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7aTxuO2krKyl7dmFyIHI9dFtpXSxhPW5ldyBvYSh0aGlzLnBsYXllcl8se3RyYWNrOnRoaXMudHJhY2tfLGN1ZTpyfSk7ZS5wdXNoKGEpfXJldHVybiBlfSxlfShzYSk7dWEucHJvdG90eXBlLmtpbmRfPSJjaGFwdGVycyIsdWEucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz0iQ2hhcHRlcnMiLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJDaGFwdGVyc0J1dHRvbiIsdWEpO3ZhciBsYT1mdW5jdGlvbihzKXtmdW5jdGlvbiBlKGUsdCxpKXt2YXIgbjtuPXMuY2FsbCh0aGlzLGUsdCxpKXx8dGhpczt2YXIgcj1lLnRleHRUcmFja3MoKSxhPWRlKFJlKG4pLG4uaGFuZGxlVHJhY2tzQ2hhbmdlKTtyZXR1cm4gci5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGEpLG4ub24oImRpc3Bvc2UiLGZ1bmN0aW9uKCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGEpfSksbn14ZShlLHMpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmhhbmRsZVRyYWNrc0NoYW5nZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5wbGF5ZXIoKS50ZXh0VHJhY2tzKCksaT0hMSxuPTAscj10Lmxlbmd0aDtuPHI7bisrKXt2YXIgYT10W25dO2lmKGEua2luZCE9PXRoaXMua2luZF8mJiJzaG93aW5nIj09PWEubW9kZSl7aT0hMDticmVha319aT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSx0LmJ1aWxkQ1NTQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWRlc2NyaXB0aW9ucy1idXR0b24gIitzLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyl9LHQuYnVpbGRXcmFwcGVyQ1NTQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWRlc2NyaXB0aW9ucy1idXR0b24gIitzLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpfSxlfShzYSk7bGEucHJvdG90eXBlLmtpbmRfPSJkZXNjcmlwdGlvbnMiLGxhLnByb3RvdHlwZS5jb250cm9sVGV4dF89IkRlc2NyaXB0aW9ucyIsT2UucmVnaXN0ZXJDb21wb25lbnQoIkRlc2NyaXB0aW9uc0J1dHRvbiIsbGEpO3ZhciBjYT1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKGUsdCxpKXtyZXR1cm4gbi5jYWxsKHRoaXMsZSx0LGkpfHx0aGlzfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtc3VidGl0bGVzLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKX0sdC5idWlsZFdyYXBwZXJDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtc3VidGl0bGVzLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyl9LGV9KHNhKTtjYS5wcm90b3R5cGUua2luZF89InN1YnRpdGxlcyIsY2EucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz0iU3VidGl0bGVzIixPZS5yZWdpc3RlckNvbXBvbmVudCgiU3VidGl0bGVzQnV0dG9uIixjYSk7dmFyIGhhPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gdC50cmFjaz17cGxheWVyOmUsa2luZDp0LmtpbmQsbGFiZWw6dC5raW5kKyIgc2V0dGluZ3MiLHNlbGVjdGFibGU6ITEsZGVmYXVsdDohMSxtb2RlOiJkaXNhYmxlZCJ9LHQuc2VsZWN0YWJsZT0hMSx0Lm5hbWU9IkNhcHRpb25TZXR0aW5nc01lbnVJdGVtIiwoaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS5hZGRDbGFzcygidmpzLXRleHR0cmFjay1zZXR0aW5ncyIpLGkuY29udHJvbFRleHQoIiwgb3BlbnMgIit0LmtpbmQrIiBzZXR0aW5ncyBkaWFsb2ciKSxpfXJldHVybiB4ZShlLG4pLGUucHJvdG90eXBlLmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMucGxheWVyKCkuZ2V0Q2hpbGQoInRleHRUcmFja1NldHRpbmdzIikub3BlbigpfSxlfShyYSk7T2UucmVnaXN0ZXJDb21wb25lbnQoIkNhcHRpb25TZXR0aW5nc01lbnVJdGVtIixoYSk7dmFyIGRhPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0LGkpe3JldHVybiBuLmNhbGwodGhpcyxlLHQsaSl8fHRoaXN9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1jYXB0aW9ucy1idXR0b24gIituLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyl9LHQuYnVpbGRXcmFwcGVyQ1NTQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWNhcHRpb25zLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyl9LHQuY3JlYXRlSXRlbXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5wbGF5ZXIoKS50ZWNoXyYmdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3N8fCF0aGlzLnBsYXllcigpLmdldENoaWxkKCJ0ZXh0VHJhY2tTZXR0aW5ncyIpfHwoZS5wdXNoKG5ldyBoYSh0aGlzLnBsYXllcl8se2tpbmQ6dGhpcy5raW5kX30pKSx0aGlzLmhpZGVUaHJlc2hvbGRfKz0xKSxuLnByb3RvdHlwZS5jcmVhdGVJdGVtcy5jYWxsKHRoaXMsZSl9LGV9KHNhKTtkYS5wcm90b3R5cGUua2luZF89ImNhcHRpb25zIixkYS5wcm90b3R5cGUuY29udHJvbFRleHRfPSJDYXB0aW9ucyIsT2UucmVnaXN0ZXJDb21wb25lbnQoIkNhcHRpb25zQnV0dG9uIixkYSk7dmFyIHBhPWZ1bmN0aW9uKHIpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHhlKGUsciksZS5wcm90b3R5cGUuY3JlYXRlRWw9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPSc8c3BhbiBjbGFzcz0idmpzLW1lbnUtaXRlbS10ZXh0Ij4nK3RoaXMubG9jYWxpemUodGhpcy5vcHRpb25zXy5sYWJlbCk7cmV0dXJuImNhcHRpb25zIj09PXRoaXMub3B0aW9uc18udHJhY2sua2luZCYmKG4rPSdcbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49InRydWUiIGNsYXNzPSJ2anMtaWNvbi1wbGFjZWhvbGRlciI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz0idmpzLWNvbnRyb2wtdGV4dCI+ICcrdGhpcy5sb2NhbGl6ZSgiQ2FwdGlvbnMiKSsiPC9zcGFuPlxuICAgICAgIiksbis9Ijwvc3Bhbj4iLHIucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcyxlLG0oe2lubmVySFRNTDpufSx0KSxpKX0sZX0ocmEpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJTdWJzQ2Fwc01lbnVJdGVtIixwYSk7dmFyIGZhPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLChpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLmxhYmVsXz0ic3VidGl0bGVzIiwtMTxbImVuIiwiZW4tdXMiLCJlbi1jYSIsImZyLWNhIl0uaW5kZXhPZihpLnBsYXllcl8ubGFuZ3VhZ2VfKSYmKGkubGFiZWxfPSJjYXB0aW9ucyIpLGkubWVudUJ1dHRvbl8uY29udHJvbFRleHQoSWUoaS5sYWJlbF8pKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtc3Vicy1jYXBzLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKX0sdC5idWlsZFdyYXBwZXJDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtc3Vicy1jYXBzLWJ1dHRvbiAiK24ucHJvdG90eXBlLmJ1aWxkV3JhcHBlckNTU0NsYXNzLmNhbGwodGhpcyl9LHQuY3JlYXRlSXRlbXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5wbGF5ZXIoKS50ZWNoXyYmdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3N8fCF0aGlzLnBsYXllcigpLmdldENoaWxkKCJ0ZXh0VHJhY2tTZXR0aW5ncyIpfHwoZS5wdXNoKG5ldyBoYSh0aGlzLnBsYXllcl8se2tpbmQ6dGhpcy5sYWJlbF99KSksdGhpcy5oaWRlVGhyZXNob2xkXys9MSksZT1uLnByb3RvdHlwZS5jcmVhdGVJdGVtcy5jYWxsKHRoaXMsZSxwYSl9LGV9KHNhKTtmYS5wcm90b3R5cGUua2luZHNfPVsiY2FwdGlvbnMiLCJzdWJ0aXRsZXMiXSxmYS5wcm90b3R5cGUuY29udHJvbFRleHRfPSJTdWJ0aXRsZXMiLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJTdWJzQ2Fwc0J1dHRvbiIsZmEpO3ZhciBtYT1mdW5jdGlvbihzKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG4saT10LnRyYWNrLHI9ZS5hdWRpb1RyYWNrcygpO3QubGFiZWw9aS5sYWJlbHx8aS5sYW5ndWFnZXx8IlVua25vd24iLHQuc2VsZWN0ZWQ9aS5lbmFibGVkLChuPXMuY2FsbCh0aGlzLGUsdCl8fHRoaXMpLnRyYWNrPWksbi5hZGRDbGFzcygidmpzLSIraS5raW5kKyItbWVudS1pdGVtIik7ZnVuY3Rpb24gYSgpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO24uaGFuZGxlVHJhY2tzQ2hhbmdlLmFwcGx5KFJlKG4pLHQpfXJldHVybiByLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYSksbi5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsYSl9KSxufXhlKGUscyk7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuY3JlYXRlRWw9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPSc8c3BhbiBjbGFzcz0idmpzLW1lbnUtaXRlbS10ZXh0Ij4nK3RoaXMubG9jYWxpemUodGhpcy5vcHRpb25zXy5sYWJlbCk7cmV0dXJuIm1haW4tZGVzYyI9PT10aGlzLm9wdGlvbnNfLnRyYWNrLmtpbmQmJihuKz0nXG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzcz0idmpzLWljb24tcGxhY2Vob2xkZXIiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9InZqcy1jb250cm9sLXRleHQiPiAnK3RoaXMubG9jYWxpemUoIkRlc2NyaXB0aW9ucyIpKyI8L3NwYW4+XG4gICAgICAiKSxuKz0iPC9zcGFuPiIscy5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLGUsbSh7aW5uZXJIVE1MOm59LHQpLGkpfSx0LmhhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpO3MucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyxlKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVuYWJsZWQ9bj09PXRoaXMudHJhY2t9fSx0LmhhbmRsZVRyYWNrc0NoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGVkKHRoaXMudHJhY2suZW5hYmxlZCl9LGV9KG5hKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiQXVkaW9UcmFja01lbnVJdGVtIixtYSk7dmFyIGdhPWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLHQudHJhY2tzPWUuYXVkaW9UcmFja3MoKSxpLmNhbGwodGhpcyxlLHQpfHx0aGlzfXhlKGUsaSk7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuYnVpbGRDU1NDbGFzcz1mdW5jdGlvbigpe3JldHVybiJ2anMtYXVkaW8tYnV0dG9uICIraS5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmJ1aWxkV3JhcHBlckNTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1hdWRpby1idXR0b24gIitpLnByb3RvdHlwZS5idWlsZFdyYXBwZXJDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmNyZWF0ZUl0ZW1zPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPVtdKSx0aGlzLmhpZGVUaHJlc2hvbGRfPTE7Zm9yKHZhciB0PXRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtlLnB1c2gobmV3IG1hKHRoaXMucGxheWVyXyx7dHJhY2s6bixzZWxlY3RhYmxlOiEwLG11bHRpU2VsZWN0YWJsZTohMX0pKX1yZXR1cm4gZX0sZX0odGEpO2dhLnByb3RvdHlwZS5jb250cm9sVGV4dF89IkF1ZGlvIFRyYWNrIixPZS5yZWdpc3RlckNvbXBvbmVudCgiQXVkaW9UcmFja0J1dHRvbiIsZ2EpO3ZhciB5YT1mdW5jdGlvbihhKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGksbj10LnJhdGUscj1wYXJzZUZsb2F0KG4sMTApO3JldHVybiB0LmxhYmVsPW4sdC5zZWxlY3RlZD0xPT09cix0LnNlbGVjdGFibGU9ITAsdC5tdWx0aVNlbGVjdGFibGU9ITEsKGk9YS5jYWxsKHRoaXMsZSx0KXx8dGhpcykubGFiZWw9bixpLnJhdGU9cixpLm9uKGUsInJhdGVjaGFuZ2UiLGkudXBkYXRlKSxpfXhlKGUsYSk7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24oZSl7YS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzKSx0aGlzLnBsYXllcigpLnBsYXliYWNrUmF0ZSh0aGlzLnJhdGUpfSx0LnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGVkKHRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCk9PT10aGlzLnJhdGUpfSxlfShuYSk7eWEucHJvdG90eXBlLmNvbnRlbnRFbFR5cGU9ImJ1dHRvbiIsT2UucmVnaXN0ZXJDb21wb25lbnQoIlBsYXliYWNrUmF0ZU1lbnVJdGVtIix5YSk7dmFyIHZhPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4oaT1uLmNhbGwodGhpcyxlLHQpfHx0aGlzKS51cGRhdGVWaXNpYmlsaXR5KCksaS51cGRhdGVMYWJlbCgpLGkub24oZSwibG9hZHN0YXJ0IixpLnVwZGF0ZVZpc2liaWxpdHkpLGkub24oZSwicmF0ZWNoYW5nZSIsaS51cGRhdGVMYWJlbCksaX14ZShlLG4pO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7dmFyIGU9bi5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5sYWJlbEVsXz1iKCJkaXYiLHtjbGFzc05hbWU6InZqcy1wbGF5YmFjay1yYXRlLXZhbHVlIixpbm5lckhUTUw6IjF4In0pLGUuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbEVsXyksZX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5sYWJlbEVsXz1udWxsLG4ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1wbGF5YmFjay1yYXRlICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmJ1aWxkV3JhcHBlckNTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1wbGF5YmFjay1yYXRlICIrbi5wcm90b3R5cGUuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MuY2FsbCh0aGlzKX0sdC5jcmVhdGVNZW51PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFpyKHRoaXMucGxheWVyKCkpLHQ9dGhpcy5wbGF5YmFja1JhdGVzKCk7aWYodClmb3IodmFyIGk9dC5sZW5ndGgtMTswPD1pO2ktLSllLmFkZENoaWxkKG5ldyB5YSh0aGlzLnBsYXllcigpLHtyYXRlOnRbaV0rIngifSkpO3JldHVybiBlfSx0LnVwZGF0ZUFSSUFBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7dGhpcy5lbCgpLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIsdGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKSl9LHQuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCksaT10aGlzLnBsYXliYWNrUmF0ZXMoKSxuPWlbMF0scj0wO3I8aS5sZW5ndGg7cisrKWlmKGlbcl0+dCl7bj1pW3JdO2JyZWFrfXRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKG4pfSx0LnBsYXliYWNrUmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zXy5wbGF5YmFja1JhdGVzfHx0aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnMmJnRoaXMub3B0aW9uc18ucGxheWVyT3B0aW9ucy5wbGF5YmFja1JhdGVzfSx0LnBsYXliYWNrUmF0ZVN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllcigpLnRlY2hfJiZ0aGlzLnBsYXllcigpLnRlY2hfLmZlYXR1cmVzUGxheWJhY2tSYXRlJiZ0aGlzLnBsYXliYWNrUmF0ZXMoKSYmMDx0aGlzLnBsYXliYWNrUmF0ZXMoKS5sZW5ndGh9LHQudXBkYXRlVmlzaWJpbGl0eT1mdW5jdGlvbihlKXt0aGlzLnBsYXliYWNrUmF0ZVN1cHBvcnRlZCgpP3RoaXMucmVtb3ZlQ2xhc3MoInZqcy1oaWRkZW4iKTp0aGlzLmFkZENsYXNzKCJ2anMtaGlkZGVuIil9LHQudXBkYXRlTGFiZWw9ZnVuY3Rpb24oZSl7dGhpcy5wbGF5YmFja1JhdGVTdXBwb3J0ZWQoKSYmKHRoaXMubGFiZWxFbF8uaW5uZXJIVE1MPXRoaXMucGxheWVyKCkucGxheWJhY2tSYXRlKCkrIngiKX0sZX0oZWEpO3ZhLnByb3RvdHlwZS5jb250cm9sVGV4dF89IlBsYXliYWNrIFJhdGUiLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJQbGF5YmFja1JhdGVNZW51QnV0dG9uIix2YSk7dmFyIF9hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9eGUodCxlKTt2YXIgaT10LnByb3RvdHlwZTtyZXR1cm4gaS5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1zcGFjZXIgIitlLnByb3RvdHlwZS5idWlsZENTU0NsYXNzLmNhbGwodGhpcyl9LGkuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6dGhpcy5idWlsZENTU0NsYXNzKCl9KX0sdH0oT2UpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJTcGFjZXIiLF9hKTt2YXIgYmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc314ZShlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmJ1aWxkQ1NTQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4idmpzLWN1c3RvbS1jb250cm9sLXNwYWNlciAiK3QucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKX0saS5jcmVhdGVFbD1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcyx7Y2xhc3NOYW1lOnRoaXMuYnVpbGRDU1NDbGFzcygpfSk7cmV0dXJuIGUuaW5uZXJIVE1MPSLCoCIsZX0sZX0oX2EpO09lLnJlZ2lzdGVyQ29tcG9uZW50KCJDdXN0b21Db250cm9sU3BhY2VyIixiYSk7dmFyIFRhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHhlKHQsZSksdC5wcm90b3R5cGUuY3JlYXRlRWw9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiLHtjbGFzc05hbWU6InZqcy1jb250cm9sLWJhciIsZGlyOiJsdHIifSl9LHR9KE9lKTtUYS5wcm90b3R5cGUub3B0aW9uc189e2NoaWxkcmVuOlsicGxheVRvZ2dsZSIsInZvbHVtZVBhbmVsIiwiY3VycmVudFRpbWVEaXNwbGF5IiwidGltZURpdmlkZXIiLCJkdXJhdGlvbkRpc3BsYXkiLCJwcm9ncmVzc0NvbnRyb2wiLCJsaXZlRGlzcGxheSIsInNlZWtUb0xpdmUiLCJyZW1haW5pbmdUaW1lRGlzcGxheSIsImN1c3RvbUNvbnRyb2xTcGFjZXIiLCJwbGF5YmFja1JhdGVNZW51QnV0dG9uIiwiY2hhcHRlcnNCdXR0b24iLCJkZXNjcmlwdGlvbnNCdXR0b24iLCJzdWJzQ2Fwc0J1dHRvbiIsImF1ZGlvVHJhY2tCdXR0b24iLCJmdWxsc2NyZWVuVG9nZ2xlIl19LCJleGl0UGljdHVyZUluUGljdHVyZSJpbiBoJiZUYS5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4uc3BsaWNlKFRhLnByb3RvdHlwZS5vcHRpb25zXy5jaGlsZHJlbi5sZW5ndGgtMSwwLCJwaWN0dXJlSW5QaWN0dXJlVG9nZ2xlIiksT2UucmVnaXN0ZXJDb21wb25lbnQoIkNvbnRyb2xCYXIiLFRhKTt2YXIgU2E9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlLHQpe3ZhciBpO3JldHVybihpPW4uY2FsbCh0aGlzLGUsdCl8fHRoaXMpLm9uKGUsImVycm9yIixpLm9wZW4pLGl9eGUoZSxuKTt2YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuInZqcy1lcnJvci1kaXNwbGF5ICIrbi5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcy5jYWxsKHRoaXMpfSx0LmNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXllcigpLmVycm9yKCk7cmV0dXJuIGU/dGhpcy5sb2NhbGl6ZShlLm1lc3NhZ2UpOiIifSxlfShQdCk7U2EucHJvdG90eXBlLm9wdGlvbnNfPUxlKFB0LnByb3RvdHlwZS5vcHRpb25zXyx7cGF1c2VPbk9wZW46ITEsZmlsbEFsd2F5czohMCx0ZW1wb3Jhcnk6ITEsdW5jbG9zZWFibGU6ITB9KSxPZS5yZWdpc3RlckNvbXBvbmVudCgiRXJyb3JEaXNwbGF5IixTYSk7dmFyIGthPSJ2anMtdGV4dC10cmFjay1zZXR0aW5ncyIsQ2E9WyIjMDAwIiwiQmxhY2siXSxFYT1bIiMwMEYiLCJCbHVlIl0sd2E9WyIjMEZGIiwiQ3lhbiJdLEFhPVsiIzBGMCIsIkdyZWVuIl0sUGE9WyIjRjBGIiwiTWFnZW50YSJdLElhPVsiI0YwMCIsIlJlZCJdLExhPVsiI0ZGRiIsIldoaXRlIl0sT2E9WyIjRkYwIiwiWWVsbG93Il0seGE9WyIxIiwiT3BhcXVlIl0sRGE9WyIwLjUiLCJTZW1pLVRyYW5zcGFyZW50Il0sVWE9WyIwIiwiVHJhbnNwYXJlbnQiXSxSYT17YmFja2dyb3VuZENvbG9yOntzZWxlY3RvcjoiLnZqcy1iZy1jb2xvciA+IHNlbGVjdCIsaWQ6ImNhcHRpb25zLWJhY2tncm91bmQtY29sb3ItJXMiLGxhYmVsOiJDb2xvciIsb3B0aW9uczpbQ2EsTGEsSWEsQWEsRWEsT2EsUGEsd2FdfSxiYWNrZ3JvdW5kT3BhY2l0eTp7c2VsZWN0b3I6Ii52anMtYmctb3BhY2l0eSA+IHNlbGVjdCIsaWQ6ImNhcHRpb25zLWJhY2tncm91bmQtb3BhY2l0eS0lcyIsbGFiZWw6IlRyYW5zcGFyZW5jeSIsb3B0aW9uczpbeGEsRGEsVWFdfSxjb2xvcjp7c2VsZWN0b3I6Ii52anMtZmctY29sb3IgPiBzZWxlY3QiLGlkOiJjYXB0aW9ucy1mb3JlZ3JvdW5kLWNvbG9yLSVzIixsYWJlbDoiQ29sb3IiLG9wdGlvbnM6W0xhLENhLElhLEFhLEVhLE9hLFBhLHdhXX0sZWRnZVN0eWxlOntzZWxlY3RvcjoiLnZqcy1lZGdlLXN0eWxlID4gc2VsZWN0IixpZDoiJXMiLGxhYmVsOiJUZXh0IEVkZ2UgU3R5bGUiLG9wdGlvbnM6W1sibm9uZSIsIk5vbmUiXSxbInJhaXNlZCIsIlJhaXNlZCJdLFsiZGVwcmVzc2VkIiwiRGVwcmVzc2VkIl0sWyJ1bmlmb3JtIiwiVW5pZm9ybSJdLFsiZHJvcHNoYWRvdyIsIkRyb3BzaGFkb3ciXV19LGZvbnRGYW1pbHk6e3NlbGVjdG9yOiIudmpzLWZvbnQtZmFtaWx5ID4gc2VsZWN0IixpZDoiY2FwdGlvbnMtZm9udC1mYW1pbHktJXMiLGxhYmVsOiJGb250IEZhbWlseSIsb3B0aW9uczpbWyJwcm9wb3J0aW9uYWxTYW5zU2VyaWYiLCJQcm9wb3J0aW9uYWwgU2Fucy1TZXJpZiJdLFsibW9ub3NwYWNlU2Fuc1NlcmlmIiwiTW9ub3NwYWNlIFNhbnMtU2VyaWYiXSxbInByb3BvcnRpb25hbFNlcmlmIiwiUHJvcG9ydGlvbmFsIFNlcmlmIl0sWyJtb25vc3BhY2VTZXJpZiIsIk1vbm9zcGFjZSBTZXJpZiJdLFsiY2FzdWFsIiwiQ2FzdWFsIl0sWyJzY3JpcHQiLCJTY3JpcHQiXSxbInNtYWxsLWNhcHMiLCJTbWFsbCBDYXBzIl1dfSxmb250UGVyY2VudDp7c2VsZWN0b3I6Ii52anMtZm9udC1wZXJjZW50ID4gc2VsZWN0IixpZDoiY2FwdGlvbnMtZm9udC1zaXplLSVzIixsYWJlbDoiRm9udCBTaXplIixvcHRpb25zOltbIjAuNTAiLCI1MCUiXSxbIjAuNzUiLCI3NSUiXSxbIjEuMDAiLCIxMDAlIl0sWyIxLjI1IiwiMTI1JSJdLFsiMS41MCIsIjE1MCUiXSxbIjEuNzUiLCIxNzUlIl0sWyIyLjAwIiwiMjAwJSJdLFsiMy4wMCIsIjMwMCUiXSxbIjQuMDAiLCI0MDAlIl1dLGRlZmF1bHQ6MixwYXJzZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIjEuMDAiPT09ZT9udWxsOk51bWJlcihlKX19LHRleHRPcGFjaXR5OntzZWxlY3RvcjoiLnZqcy10ZXh0LW9wYWNpdHkgPiBzZWxlY3QiLGlkOiJjYXB0aW9ucy1mb3JlZ3JvdW5kLW9wYWNpdHktJXMiLGxhYmVsOiJUcmFuc3BhcmVuY3kiLG9wdGlvbnM6W3hhLERhXX0sd2luZG93Q29sb3I6e3NlbGVjdG9yOiIudmpzLXdpbmRvdy1jb2xvciA+IHNlbGVjdCIsaWQ6ImNhcHRpb25zLXdpbmRvdy1jb2xvci0lcyIsbGFiZWw6IkNvbG9yIn0sd2luZG93T3BhY2l0eTp7c2VsZWN0b3I6Ii52anMtd2luZG93LW9wYWNpdHkgPiBzZWxlY3QiLGlkOiJjYXB0aW9ucy13aW5kb3ctb3BhY2l0eS0lcyIsbGFiZWw6IlRyYW5zcGFyZW5jeSIsb3B0aW9uczpbVWEsRGEseGFdfX07ZnVuY3Rpb24gTWEoZSx0KXtpZih0JiYoZT10KGUpKSxlJiYibm9uZSIhPT1lKXJldHVybiBlfVJhLndpbmRvd0NvbG9yLm9wdGlvbnM9UmEuYmFja2dyb3VuZENvbG9yLm9wdGlvbnM7dmFyIE5hPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaTtyZXR1cm4gdC50ZW1wb3Jhcnk9ITEsKGk9bi5jYWxsKHRoaXMsZSx0KXx8dGhpcykudXBkYXRlRGlzcGxheT1kZShSZShpKSxpLnVwZGF0ZURpc3BsYXkpLGkuZmlsbCgpLGkuaGFzQmVlbk9wZW5lZF89aS5oYXNCZWVuRmlsbGVkXz0hMCxpLmVuZERpYWxvZz1iKCJwIix7Y2xhc3NOYW1lOiJ2anMtY29udHJvbC10ZXh0Iix0ZXh0Q29udGVudDppLmxvY2FsaXplKCJFbmQgb2YgZGlhbG9nIHdpbmRvdy4iKX0pLGkuZWwoKS5hcHBlbmRDaGlsZChpLmVuZERpYWxvZyksaS5zZXREZWZhdWx0cygpLHZvaWQgMD09PXQucGVyc2lzdFRleHRUcmFja1NldHRpbmdzJiYoaS5vcHRpb25zXy5wZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3M9aS5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyksaS5vbihpLiQoIi52anMtZG9uZS1idXR0b24iKSwiY2xpY2siLGZ1bmN0aW9uKCl7aS5zYXZlU2V0dGluZ3MoKSxpLmNsb3NlKCl9KSxpLm9uKGkuJCgiLnZqcy1kZWZhdWx0LWJ1dHRvbiIpLCJjbGljayIsZnVuY3Rpb24oKXtpLnNldERlZmF1bHRzKCksaS51cGRhdGVEaXNwbGF5KCl9KSxyKFJhLGZ1bmN0aW9uKGUpe2kub24oaS4kKGUuc2VsZWN0b3IpLCJjaGFuZ2UiLGkudXBkYXRlRGlzcGxheSl9KSxpLm9wdGlvbnNfLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyYmaS5yZXN0b3JlU2V0dGluZ3MoKSxpfXhlKGUsbik7dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZW5kRGlhbG9nPW51bGwsbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LmNyZWF0ZUVsU2VsZWN0Xz1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpczt2b2lkIDA9PT10JiYodD0iIiksdm9pZCAwPT09aSYmKGk9ImxhYmVsIik7dmFyIHI9UmFbZV0sYT1yLmlkLnJlcGxhY2UoIiVzIix0aGlzLmlkXykscz1bdCxhXS5qb2luKCIgIikudHJpbSgpO3JldHVyblsiPCIraSsnIGlkPSInK2ErJyIgY2xhc3M9IicrKCJsYWJlbCI9PT1pPyJ2anMtbGFiZWwiOiIiKSsnIj4nLHRoaXMubG9jYWxpemUoci5sYWJlbCksIjwvIitpKyI+IiwnPHNlbGVjdCBhcmlhLWxhYmVsbGVkYnk9IicrcysnIj4nXS5jb25jYXQoci5vcHRpb25zLm1hcChmdW5jdGlvbihlKXt2YXIgdD1hKyItIitlWzFdLnJlcGxhY2UoL1xXKy9nLCIiKTtyZXR1cm5bJzxvcHRpb24gaWQ9IicrdCsnIiB2YWx1ZT0iJytlWzBdKyciICcsJ2FyaWEtbGFiZWxsZWRieT0iJytzKyIgIit0KyciPicsbi5sb2NhbGl6ZShlWzFdKSwiPC9vcHRpb24+Il0uam9pbigiIil9KSkuY29uY2F0KCI8L3NlbGVjdD4iKS5qb2luKCIiKX0sdC5jcmVhdGVFbEZnQ29sb3JfPWZ1bmN0aW9uKCl7dmFyIGU9ImNhcHRpb25zLXRleHQtbGVnZW5kLSIrdGhpcy5pZF87cmV0dXJuWyc8ZmllbGRzZXQgY2xhc3M9InZqcy1mZy1jb2xvciB2anMtdHJhY2stc2V0dGluZyI+JywnPGxlZ2VuZCBpZD0iJytlKyciPicsdGhpcy5sb2NhbGl6ZSgiVGV4dCIpLCI8L2xlZ2VuZD4iLHRoaXMuY3JlYXRlRWxTZWxlY3RfKCJjb2xvciIsZSksJzxzcGFuIGNsYXNzPSJ2anMtdGV4dC1vcGFjaXR5IHZqcy1vcGFjaXR5Ij4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKCJ0ZXh0T3BhY2l0eSIsZSksIjwvc3Bhbj4iLCI8L2ZpZWxkc2V0PiJdLmpvaW4oIiIpfSx0LmNyZWF0ZUVsQmdDb2xvcl89ZnVuY3Rpb24oKXt2YXIgZT0iY2FwdGlvbnMtYmFja2dyb3VuZC0iK3RoaXMuaWRfO3JldHVyblsnPGZpZWxkc2V0IGNsYXNzPSJ2anMtYmctY29sb3IgdmpzLXRyYWNrLXNldHRpbmciPicsJzxsZWdlbmQgaWQ9IicrZSsnIj4nLHRoaXMubG9jYWxpemUoIkJhY2tncm91bmQiKSwiPC9sZWdlbmQ+Iix0aGlzLmNyZWF0ZUVsU2VsZWN0XygiYmFja2dyb3VuZENvbG9yIixlKSwnPHNwYW4gY2xhc3M9InZqcy1iZy1vcGFjaXR5IHZqcy1vcGFjaXR5Ij4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKCJiYWNrZ3JvdW5kT3BhY2l0eSIsZSksIjwvc3Bhbj4iLCI8L2ZpZWxkc2V0PiJdLmpvaW4oIiIpfSx0LmNyZWF0ZUVsV2luQ29sb3JfPWZ1bmN0aW9uKCl7dmFyIGU9ImNhcHRpb25zLXdpbmRvdy0iK3RoaXMuaWRfO3JldHVyblsnPGZpZWxkc2V0IGNsYXNzPSJ2anMtd2luZG93LWNvbG9yIHZqcy10cmFjay1zZXR0aW5nIj4nLCc8bGVnZW5kIGlkPSInK2UrJyI+Jyx0aGlzLmxvY2FsaXplKCJXaW5kb3ciKSwiPC9sZWdlbmQ+Iix0aGlzLmNyZWF0ZUVsU2VsZWN0Xygid2luZG93Q29sb3IiLGUpLCc8c3BhbiBjbGFzcz0idmpzLXdpbmRvdy1vcGFjaXR5IHZqcy1vcGFjaXR5Ij4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKCJ3aW5kb3dPcGFjaXR5IixlKSwiPC9zcGFuPiIsIjwvZmllbGRzZXQ+Il0uam9pbigiIil9LHQuY3JlYXRlRWxDb2xvcnNfPWZ1bmN0aW9uKCl7cmV0dXJuIGIoImRpdiIse2NsYXNzTmFtZToidmpzLXRyYWNrLXNldHRpbmdzLWNvbG9ycyIsaW5uZXJIVE1MOlt0aGlzLmNyZWF0ZUVsRmdDb2xvcl8oKSx0aGlzLmNyZWF0ZUVsQmdDb2xvcl8oKSx0aGlzLmNyZWF0ZUVsV2luQ29sb3JfKCldLmpvaW4oIiIpfSl9LHQuY3JlYXRlRWxGb250Xz1mdW5jdGlvbigpe3JldHVybiBiKCJkaXYiLHtjbGFzc05hbWU6InZqcy10cmFjay1zZXR0aW5ncy1mb250Iixpbm5lckhUTUw6Wyc8ZmllbGRzZXQgY2xhc3M9InZqcy1mb250LXBlcmNlbnQgdmpzLXRyYWNrLXNldHRpbmciPicsdGhpcy5jcmVhdGVFbFNlbGVjdF8oImZvbnRQZXJjZW50IiwiIiwibGVnZW5kIiksIjwvZmllbGRzZXQ+IiwnPGZpZWxkc2V0IGNsYXNzPSJ2anMtZWRnZS1zdHlsZSB2anMtdHJhY2stc2V0dGluZyI+Jyx0aGlzLmNyZWF0ZUVsU2VsZWN0XygiZWRnZVN0eWxlIiwiIiwibGVnZW5kIiksIjwvZmllbGRzZXQ+IiwnPGZpZWxkc2V0IGNsYXNzPSJ2anMtZm9udC1mYW1pbHkgdmpzLXRyYWNrLXNldHRpbmciPicsdGhpcy5jcmVhdGVFbFNlbGVjdF8oImZvbnRGYW1pbHkiLCIiLCJsZWdlbmQiKSwiPC9maWVsZHNldD4iXS5qb2luKCIiKX0pfSx0LmNyZWF0ZUVsQ29udHJvbHNfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sb2NhbGl6ZSgicmVzdG9yZSBhbGwgc2V0dGluZ3MgdG8gdGhlIGRlZmF1bHQgdmFsdWVzIik7cmV0dXJuIGIoImRpdiIse2NsYXNzTmFtZToidmpzLXRyYWNrLXNldHRpbmdzLWNvbnRyb2xzIixpbm5lckhUTUw6Wyc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InZqcy1kZWZhdWx0LWJ1dHRvbiIgdGl0bGU9IicrZSsnIj4nLHRoaXMubG9jYWxpemUoIlJlc2V0IiksJzxzcGFuIGNsYXNzPSJ2anMtY29udHJvbC10ZXh0Ij4gJytlKyI8L3NwYW4+IiwiPC9idXR0b24+IiwnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ2anMtZG9uZS1idXR0b24iPicrdGhpcy5sb2NhbGl6ZSgiRG9uZSIpKyI8L2J1dHRvbj4iXS5qb2luKCIiKX0pfSx0LmNvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5jcmVhdGVFbENvbG9yc18oKSx0aGlzLmNyZWF0ZUVsRm9udF8oKSx0aGlzLmNyZWF0ZUVsQ29udHJvbHNfKCldfSx0LmxhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxpemUoIkNhcHRpb24gU2V0dGluZ3MgRGlhbG9nIil9LHQuZGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGl6ZSgiQmVnaW5uaW5nIG9mIGRpYWxvZyB3aW5kb3cuIEVzY2FwZSB3aWxsIGNhbmNlbCBhbmQgY2xvc2UgdGhlIHdpbmRvdy4iKX0sdC5idWlsZENTU0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlLmJ1aWxkQ1NTQ2xhc3MuY2FsbCh0aGlzKSsiIHZqcy10ZXh0LXRyYWNrLXNldHRpbmdzIn0sdC5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgcj10aGlzO3JldHVybiBmdW5jdGlvbihpLG4sZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLGEoaSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSxpW3RdLHQpfSxlKX0oUmEsZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hKGUub3B0aW9uc1tlLm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0udmFsdWUsdCl9KHIuJCh0LnNlbGVjdG9yKSx0LnBhcnNlcik7cmV0dXJuIHZvaWQgMCE9PW4mJihlW2ldPW4pLGV9LHt9KX0sdC5zZXRWYWx1ZXM9ZnVuY3Rpb24oaSl7dmFyIG49dGhpcztyKFJhLGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsdCxpKXtpZih0KWZvcih2YXIgbj0wO248ZS5vcHRpb25zLmxlbmd0aDtuKyspaWYoTWEoZS5vcHRpb25zW25dLnZhbHVlLGkpPT09dCl7ZS5zZWxlY3RlZEluZGV4PW47YnJlYWt9fShuLiQoZS5zZWxlY3RvciksaVt0XSxlLnBhcnNlcil9KX0sdC5zZXREZWZhdWx0cz1mdW5jdGlvbigpe3ZhciBpPXRoaXM7cihSYSxmdW5jdGlvbihlKXt2YXIgdD1lLmhhc093blByb3BlcnR5KCJkZWZhdWx0Iik/ZS5kZWZhdWx0OjA7aS4kKGUuc2VsZWN0b3IpLnNlbGVjdGVkSW5kZXg9dH0pfSx0LnJlc3RvcmVTZXR0aW5ncz1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPUpTT04ucGFyc2Uodi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrYSkpfWNhdGNoKGUpe3Aud2FybihlKX1lJiZ0aGlzLnNldFZhbHVlcyhlKX0sdC5zYXZlU2V0dGluZ3M9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnNfLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyl7dmFyIGU9dGhpcy5nZXRWYWx1ZXMoKTt0cnl7T2JqZWN0LmtleXMoZSkubGVuZ3RoP3YubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2EsSlNPTi5zdHJpbmdpZnkoZSkpOnYubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2EpfWNhdGNoKGUpe3Aud2FybihlKX19fSx0LnVwZGF0ZURpc3BsYXk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXllcl8uZ2V0Q2hpbGQoInRleHRUcmFja0Rpc3BsYXkiKTtlJiZlLnVwZGF0ZURpc3BsYXkoKX0sdC5jb25kaXRpb25hbEJsdXJfPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfPW51bGw7dmFyIGU9dGhpcy5wbGF5ZXJfLmNvbnRyb2xCYXIsdD1lJiZlLnN1YnNDYXBzQnV0dG9uLGk9ZSYmZS5jYXB0aW9uc0J1dHRvbjt0P3QuZm9jdXMoKTppJiZpLmZvY3VzKCl9LGV9KFB0KTtPZS5yZWdpc3RlckNvbXBvbmVudCgiVGV4dFRyYWNrU2V0dGluZ3MiLE5hKTt2YXIgQmE9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShlLHQpe3ZhciBpLG49dC5SZXNpemVPYnNlcnZlcnx8di5SZXNpemVPYnNlcnZlcjtudWxsPT09dC5SZXNpemVPYnNlcnZlciYmKG49ITEpO3ZhciByPUxlKHtjcmVhdGVFbDohbixyZXBvcnRUb3VjaEFjdGl2aXR5OiExfSx0KTtyZXR1cm4oaT1hLmNhbGwodGhpcyxlLHIpfHx0aGlzKS5SZXNpemVPYnNlcnZlcj10LlJlc2l6ZU9ic2VydmVyfHx2LlJlc2l6ZU9ic2VydmVyLGkubG9hZExpc3RlbmVyXz1udWxsLGkucmVzaXplT2JzZXJ2ZXJfPW51bGwsaS5kZWJvdW5jZWRIYW5kbGVyXz1mdW5jdGlvbihuLHIsYSxzKXt2YXIgbzt2b2lkIDA9PT1zJiYocz12KTtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxpPWZ1bmN0aW9uKCl7aT1vPW51bGwsYXx8bi5hcHBseShlLHQpfTshbyYmYSYmbi5hcHBseShlLHQpLHMuY2xlYXJUaW1lb3V0KG8pLG89cy5zZXRUaW1lb3V0KGkscil9cmV0dXJuIGUuY2FuY2VsPWZ1bmN0aW9uKCl7cy5jbGVhclRpbWVvdXQobyksbz1udWxsfSxlfShmdW5jdGlvbigpe2kucmVzaXplSGFuZGxlcigpfSwxMDAsITEsUmUoaSkpLG4/KGkucmVzaXplT2JzZXJ2ZXJfPW5ldyBpLlJlc2l6ZU9ic2VydmVyKGkuZGVib3VuY2VkSGFuZGxlcl8pLGkucmVzaXplT2JzZXJ2ZXJfLm9ic2VydmUoZS5lbCgpKSk6KGkubG9hZExpc3RlbmVyXz1mdW5jdGlvbigpe2lmKGkuZWxfJiZpLmVsXy5jb250ZW50V2luZG93KXt2YXIgZT1pLmRlYm91bmNlZEhhbmRsZXJfLHQ9aS51bmxvYWRMaXN0ZW5lcl89ZnVuY3Rpb24oKXt1ZSh0aGlzLCJyZXNpemUiLGUpLHVlKHRoaXMsInVubG9hZCIsdCksdD1udWxsfTtvZShpLmVsXy5jb250ZW50V2luZG93LCJ1bmxvYWQiLHQpLG9lKGkuZWxfLmNvbnRlbnRXaW5kb3csInJlc2l6ZSIsZSl9fSxpLm9uZSgibG9hZCIsaS5sb2FkTGlzdGVuZXJfKSksaX14ZShlLGEpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmNyZWF0ZUVsPWZ1bmN0aW9uKCl7cmV0dXJuIGEucHJvdG90eXBlLmNyZWF0ZUVsLmNhbGwodGhpcywiaWZyYW1lIix7Y2xhc3NOYW1lOiJ2anMtcmVzaXplLW1hbmFnZXIiLHRhYkluZGV4Oi0xfSx7ImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KX0sdC5yZXNpemVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXJfJiZ0aGlzLnBsYXllcl8udHJpZ2dlciYmdGhpcy5wbGF5ZXJfLnRyaWdnZXIoInBsYXllcnJlc2l6ZSIpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmRlYm91bmNlZEhhbmRsZXJfJiZ0aGlzLmRlYm91bmNlZEhhbmRsZXJfLmNhbmNlbCgpLHRoaXMucmVzaXplT2JzZXJ2ZXJfJiYodGhpcy5wbGF5ZXJfLmVsKCkmJnRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZSh0aGlzLnBsYXllcl8uZWwoKSksdGhpcy5yZXNpemVPYnNlcnZlcl8uZGlzY29ubmVjdCgpKSx0aGlzLmxvYWRMaXN0ZW5lcl8mJnRoaXMub2ZmKCJsb2FkIix0aGlzLmxvYWRMaXN0ZW5lcl8pLHRoaXMuZWxfJiZ0aGlzLmVsXy5jb250ZW50V2luZG93JiZ0aGlzLnVubG9hZExpc3RlbmVyXyYmdGhpcy51bmxvYWRMaXN0ZW5lcl8uY2FsbCh0aGlzLmVsXy5jb250ZW50V2luZG93KSx0aGlzLlJlc2l6ZU9ic2VydmVyPW51bGwsdGhpcy5yZXNpemVPYnNlcnZlcj1udWxsLHRoaXMuZGVib3VuY2VkSGFuZGxlcl89bnVsbCx0aGlzLmxvYWRMaXN0ZW5lcl89bnVsbCxhLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LGV9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiUmVzaXplTWFuYWdlciIsQmEpO3ZhciBqYT1mdW5jdGlvbihyKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGksbj1MZSh7Y3JlYXRlRWw6ITF9LHQpO3JldHVybihpPXIuY2FsbCh0aGlzLGUsbil8fHRoaXMpLnJlc2V0XygpLGkub24oaS5wbGF5ZXJfLCJkdXJhdGlvbmNoYW5nZSIsaS5oYW5kbGVEdXJhdGlvbmNoYW5nZSksdHQmJiJoaWRkZW4iaW4gaCYmInZpc2liaWxpdHlTdGF0ZSJpbiBoJiZpLm9uKGgsInZpc2liaWxpdHljaGFuZ2UiLGkuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSksaX14ZShlLHIpO3ZhciB0PWUucHJvdG90eXBlO3JldHVybiB0LmhhbmRsZVZpc2liaWxpdHlDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLnBsYXllcl8uZHVyYXRpb24oKT09PTEvMCYmKGguaGlkZGVuP3RoaXMuc3RvcFRyYWNraW5nKCk6dGhpcy5zdGFydFRyYWNraW5nKCkpfSx0LmlzQmVoaW5kXz1mdW5jdGlvbigpe2lmKCF0aGlzLnRpbWV1cGRhdGVTZWVuXylyZXR1cm4hMTt2YXIgZT10aGlzLmxpdmVDdXJyZW50VGltZSgpLHQ9dGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCksaT0yKnRoaXMuc2Vla2FibGVJbmNyZW1lbnRfKy4wNztyZXR1cm4gZSE9PTEvMCYmdDw9ZS1pfSx0LnRyYWNrTGl2ZV89ZnVuY3Rpb24oKXt0aGlzLnBhc3RTZWVrRW5kXz10aGlzLnBhc3RTZWVrRW5kXzt2YXIgZT10aGlzLnBsYXllcl8uc2Vla2FibGUoKTtpZihlJiZlLmxlbmd0aCl7dmFyIHQ9dGhpcy5zZWVrYWJsZUVuZCgpO3QhPT10aGlzLmxhc3RTZWVrRW5kXyYmKHRoaXMubGFzdFNlZWtFbmRfJiYodGhpcy5zZWVrYWJsZUluY3JlbWVudExpc3RfPXRoaXMuc2Vla2FibGVJbmNyZW1lbnRMaXN0Xy5zbGljZSgtMTEpLHRoaXMuc2Vla2FibGVJbmNyZW1lbnRMaXN0Xy5wdXNoKE1hdGguYWJzKHQtdGhpcy5sYXN0U2Vla0VuZF8pKSwzPHRoaXMuc2Vla2FibGVJbmNyZW1lbnRMaXN0Xy5sZW5ndGgmJih0aGlzLnNlZWthYmxlSW5jcmVtZW50Xz1mdW5jdGlvbihlKXt2YXIgdD1NYXRoLmZsb29yKGUubGVuZ3RoLzIpLGk9W10uY29uY2F0KGUpLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS10fSk7cmV0dXJuIGUubGVuZ3RoJTIhPTA/aVt0XTooaVt0LTFdK2lbdF0pLzJ9KHRoaXMuc2Vla2FibGVJbmNyZW1lbnRMaXN0XykpKSx0aGlzLnBhc3RTZWVrRW5kXz0wLHRoaXMubGFzdFNlZWtFbmRfPXQsdGhpcy50cmlnZ2VyKCJzZWVrYWJsZWVuZGNoYW5nZSIpKSx0aGlzLnBhc3RTZWVrRW5kXz10aGlzLnBhc3RTZWVrRW5kKCkrLjAzLHRoaXMuaXNCZWhpbmRfKCkhPT10aGlzLmJlaGluZExpdmVFZGdlKCkmJih0aGlzLmJlaGluZExpdmVFZGdlXz10aGlzLmlzQmVoaW5kXygpLHRoaXMudHJpZ2dlcigibGl2ZWVkZ2VjaGFuZ2UiKSl9fSx0LmhhbmRsZUR1cmF0aW9uY2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk9PT0xLzA/dGhpcy5zdGFydFRyYWNraW5nKCk6dGhpcy5zdG9wVHJhY2tpbmcoKX0sdC5zdGFydFRyYWNraW5nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmlzVHJhY2tpbmcoKXx8KHRoaXMudGltZXVwZGF0ZVNlZW5ffHwodGhpcy50aW1ldXBkYXRlU2Vlbl89dGhpcy5wbGF5ZXJfLmhhc1N0YXJ0ZWQoKSksdGhpcy50cmFja2luZ0ludGVydmFsXz10aGlzLnNldEludGVydmFsKHRoaXMudHJhY2tMaXZlXywzMCksdGhpcy50cmFja0xpdmVfKCksdGhpcy5vbih0aGlzLnBsYXllcl8sInBsYXkiLHRoaXMudHJhY2tMaXZlXyksdGhpcy5vbih0aGlzLnBsYXllcl8sInBhdXNlIix0aGlzLnRyYWNrTGl2ZV8pLHRoaXMudGltZXVwZGF0ZVNlZW5ffHwodGhpcy5vbmUodGhpcy5wbGF5ZXJfLCJwbGF5Iix0aGlzLmhhbmRsZVBsYXkpLHRoaXMuaGFuZGxlVGltZXVwZGF0ZT1mdW5jdGlvbigpe2UudGltZXVwZGF0ZVNlZW5fPSEwLGUuaGFuZGxlVGltZXVwZGF0ZT1udWxsfSx0aGlzLm9uZSh0aGlzLnBsYXllcl8sInRpbWV1cGRhdGUiLHRoaXMuaGFuZGxlVGltZXVwZGF0ZSkpKX0sdC5oYW5kbGVQbGF5PWZ1bmN0aW9uKCl7dGhpcy5vbmUodGhpcy5wbGF5ZXJfLCJ0aW1ldXBkYXRlIix0aGlzLnNlZWtUb0xpdmVFZGdlKX0sdC5yZXNldF89ZnVuY3Rpb24oKXt0aGlzLnBhc3RTZWVrRW5kXz0wLHRoaXMubGFzdFNlZWtFbmRfPW51bGwsdGhpcy5iZWhpbmRMaXZlRWRnZV89bnVsbCx0aGlzLnRpbWV1cGRhdGVTZWVuXz0hMSx0aGlzLmNsZWFySW50ZXJ2YWwodGhpcy50cmFja2luZ0ludGVydmFsXyksdGhpcy50cmFja2luZ0ludGVydmFsXz1udWxsLHRoaXMuc2Vla2FibGVJbmNyZW1lbnRfPTEyLHRoaXMuc2Vla2FibGVJbmNyZW1lbnRMaXN0Xz1bXSx0aGlzLm9mZih0aGlzLnBsYXllcl8sInBsYXkiLHRoaXMudHJhY2tMaXZlXyksdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCJwYXVzZSIsdGhpcy50cmFja0xpdmVfKSx0aGlzLm9mZih0aGlzLnBsYXllcl8sInBsYXkiLHRoaXMuaGFuZGxlUGxheSksdGhpcy5vZmYodGhpcy5wbGF5ZXJfLCJ0aW1ldXBkYXRlIix0aGlzLnNlZWtUb0xpdmVFZGdlKSx0aGlzLmhhbmRsZVRpbWV1cGRhdGUmJih0aGlzLm9mZih0aGlzLnBsYXllcl8sInRpbWV1cGRhdGUiLHRoaXMuaGFuZGxlVGltZXVwZGF0ZSksdGhpcy5oYW5kbGVUaW1ldXBkYXRlPW51bGwpfSx0LnN0b3BUcmFja2luZz1mdW5jdGlvbigpe3RoaXMuaXNUcmFja2luZygpJiZ0aGlzLnJlc2V0XygpfSx0LnNlZWthYmxlRW5kPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucGxheWVyXy5zZWVrYWJsZSgpLHQ9W10saT1lP2UubGVuZ3RoOjA7aS0tOyl0LnB1c2goZS5lbmQoaSkpO3JldHVybiB0Lmxlbmd0aD90LnNvcnQoKVt0Lmxlbmd0aC0xXToxLzB9LHQuc2Vla2FibGVTdGFydD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnBsYXllcl8uc2Vla2FibGUoKSx0PVtdLGk9ZT9lLmxlbmd0aDowO2ktLTspdC5wdXNoKGUuc3RhcnQoaSkpO3JldHVybiB0Lmxlbmd0aD90LnNvcnQoKVswXTowfSx0LmxpdmVXaW5kb3c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxpdmVDdXJyZW50VGltZSgpO3JldHVybiBlPT09MS8wPzEvMDplLXRoaXMuc2Vla2FibGVTdGFydCgpfSx0LmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVHJhY2tpbmcoKX0sdC5hdExpdmVFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuYmVoaW5kTGl2ZUVkZ2UoKX0sdC5saXZlQ3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXN0U2Vla0VuZCgpK3RoaXMuc2Vla2FibGVFbmQoKX0sdC5wYXN0U2Vla0VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhc3RTZWVrRW5kX30sdC5iZWhpbmRMaXZlRWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJlaGluZExpdmVFZGdlX30sdC5pc1RyYWNraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0aGlzLnRyYWNraW5nSW50ZXJ2YWxffSx0LnNlZWtUb0xpdmVFZGdlPWZ1bmN0aW9uKCl7dGhpcy5hdExpdmVFZGdlKCl8fCh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5saXZlQ3VycmVudFRpbWUoKSksdGhpcy5wbGF5ZXJfLnBhdXNlZCgpJiZ0aGlzLnBsYXllcl8ucGxheSgpKX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5zdG9wVHJhY2tpbmcoKSxyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LGV9KE9lKTtPZS5yZWdpc3RlckNvbXBvbmVudCgiTGl2ZVRyYWNrZXIiLGphKTtmdW5jdGlvbiBGYShlKXt2YXIgdD1lLmVsKCk7aWYodC5oYXNBdHRyaWJ1dGUoInNyYyIpKXJldHVybiBlLnRyaWdnZXJTb3VyY2VzZXQodC5zcmMpLCEwO3ZhciBpPWUuJCQoInNvdXJjZSIpLG49W10scj0iIjtpZighaS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPWlbYV0uc3JjO3MmJi0xPT09bi5pbmRleE9mKHMpJiZuLnB1c2gocyl9cmV0dXJuISFuLmxlbmd0aCYmKDE9PT1uLmxlbmd0aCYmKHI9blswXSksZS50cmlnZ2VyU291cmNlc2V0KHIpLCEwKX1mdW5jdGlvbiBIYShlLHQpe2Zvcih2YXIgaT17fSxuPTA7bjxlLmxlbmd0aCYmISgoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVbbl0sdCkpJiZpLnNldCYmaS5nZXQpO24rKyk7cmV0dXJuIGkuZW51bWVyYWJsZT0hMCxpLmNvbmZpZ3VyYWJsZT0hMCxpfWZ1bmN0aW9uIFZhKGEpe3ZhciBzPWEuZWwoKTtpZighcy5yZXNldFNvdXJjZVdhdGNoXyl7ZnVuY3Rpb24gdChyKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt2YXIgbj1yLmFwcGx5KHMsdCk7cmV0dXJuIEZhKGEpLG59fXZhciBpPXt9LGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEhhKFtlLmVsKCksdi5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSx2LkVsZW1lbnQucHJvdG90eXBlLFdhXSwiaW5uZXJIVE1MIil9KGEpO1siYXBwZW5kIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRBZGphY2VudEhUTUwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3NbZV0mJihpW2VdPXNbZV0sc1tlXT10KGlbZV0pKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCJpbm5lckhUTUwiLExlKGUse3NldDp0KGUuc2V0KX0pKSxzLnJlc2V0U291cmNlV2F0Y2hfPWZ1bmN0aW9uKCl7cy5yZXNldFNvdXJjZVdhdGNoXz1udWxsLE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7c1tlXT1pW2VdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsImlubmVySFRNTCIsZSl9LGEub25lKCJzb3VyY2VzZXQiLHMucmVzZXRTb3VyY2VXYXRjaF8pfX1mdW5jdGlvbiBxYShuKXtpZihuLmZlYXR1cmVzU291cmNlc2V0KXt2YXIgcj1uLmVsKCk7aWYoIXIucmVzZXRTb3VyY2VzZXRfKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gSGEoW2UuZWwoKSx2LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLHphXSwic3JjIil9KG4pLGE9ci5zZXRBdHRyaWJ1dGUsdD1yLmxvYWQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsInNyYyIsTGUoaSx7c2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWkuc2V0LmNhbGwocixlKTtyZXR1cm4gbi50cmlnZ2VyU291cmNlc2V0KHIuc3JjKSx0fX0pKSxyLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe3ZhciBpPWEuY2FsbChyLGUsdCk7cmV0dXJuL3NyYy9pLnRlc3QoZSkmJm4udHJpZ2dlclNvdXJjZXNldChyLnNyYyksaX0sci5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dC5jYWxsKHIpO3JldHVybiBGYShuKXx8KG4udHJpZ2dlclNvdXJjZXNldCgiIiksVmEobikpLGV9LHIuY3VycmVudFNyYz9uLnRyaWdnZXJTb3VyY2VzZXQoci5jdXJyZW50U3JjKTpGYShuKXx8VmEobiksci5yZXNldFNvdXJjZXNldF89ZnVuY3Rpb24oKXtyLnJlc2V0U291cmNlc2V0Xz1udWxsLHIubG9hZD10LHIuc2V0QXR0cmlidXRlPWEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsInNyYyIsaSksci5yZXNldFNvdXJjZVdhdGNoXyYmci5yZXNldFNvdXJjZVdhdGNoXygpfX19fXZhciBXYT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImlubmVySFRNTCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lTm9kZSghMCkuaW5uZXJIVE1MfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aC5jcmVhdGVFbGVtZW50KHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7dC5pbm5lckhUTUw9ZTtmb3IodmFyIGk9aC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dC5jaGlsZE5vZGVzLmxlbmd0aDspaS5hcHBlbmRDaGlsZCh0LmNoaWxkTm9kZXNbMF0pO3JldHVybiB0aGlzLmlubmVyVGV4dD0iIix2LkVsZW1lbnQucHJvdG90eXBlLmFwcGVuZENoaWxkLmNhbGwodGhpcyxpKSx0aGlzLmlubmVySFRNTH19KSx6YT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInNyYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0F0dHJpYnV0ZSgic3JjIik/VXQodi5FbGVtZW50LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCJzcmMiKSk6IiJ9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdi5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUuY2FsbCh0aGlzLCJzcmMiLGUpLGV9fSksJGE9ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gbyhlLHQpe3ZhciBpO2k9Yy5jYWxsKHRoaXMsZSx0KXx8dGhpczt2YXIgbj1lLnNvdXJjZSxyPSExO2lmKG4mJihpLmVsXy5jdXJyZW50U3JjIT09bi5zcmN8fGUudGFnJiYzPT09ZS50YWcuaW5pdE5ldHdvcmtTdGF0ZV8pP2kuc2V0U291cmNlKG4pOmkuaGFuZGxlTGF0ZUluaXRfKGkuZWxfKSxlLmVuYWJsZVNvdXJjZXNldCYmaS5zZXR1cFNvdXJjZXNldEhhbmRsaW5nXygpLGkuZWxfLmhhc0NoaWxkTm9kZXMoKSl7Zm9yKHZhciBhPWkuZWxfLmNoaWxkTm9kZXMscz1hLmxlbmd0aCxvPVtdO3MtLTspe3ZhciB1PWFbc107InRyYWNrIj09PXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGkuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzPyhpLnJlbW90ZVRleHRUcmFja0VscygpLmFkZFRyYWNrRWxlbWVudF8odSksaS5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkVHJhY2sodS50cmFjayksaS50ZXh0VHJhY2tzKCkuYWRkVHJhY2sodS50cmFjaykscnx8aS5lbF8uaGFzQXR0cmlidXRlKCJjcm9zc29yaWdpbiIpfHwhTXQodS5zcmMpfHwocj0hMCkpOm8ucHVzaCh1KSl9Zm9yKHZhciBsPTA7bDxvLmxlbmd0aDtsKyspaS5lbF8ucmVtb3ZlQ2hpbGQob1tsXSl9cmV0dXJuIGkucHJveHlOYXRpdmVUcmFja3NfKCksaS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MmJnImJnAud2FybigiVGV4dCBUcmFja3MgYXJlIGJlaW5nIGxvYWRlZCBmcm9tIGFub3RoZXIgb3JpZ2luIGJ1dCB0aGUgY3Jvc3NvcmlnaW4gYXR0cmlidXRlIGlzbid0IHVzZWQuXG5UaGlzIG1heSBwcmV2ZW50IHRleHQgdHJhY2tzIGZyb20gbG9hZGluZy4iKSxpLnJlc3RvcmVNZXRhZGF0YVRyYWNrc0luSU9TTmF0aXZlUGxheWVyXygpLChhdHx8V2V8fFllKSYmITA9PT1lLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2gmJmkuc2V0Q29udHJvbHMoITApLGkucHJveHlXZWJraXRGdWxsc2NyZWVuXygpLGkudHJpZ2dlclJlYWR5KCksaX14ZShvLGMpO3ZhciBlPW8ucHJvdG90eXBlO3JldHVybiBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmVsXyYmdGhpcy5lbF8ucmVzZXRTb3VyY2VzZXRfJiZ0aGlzLmVsXy5yZXNldFNvdXJjZXNldF8oKSxvLmRpc3Bvc2VNZWRpYUVsZW1lbnQodGhpcy5lbF8pLHRoaXMub3B0aW9uc189bnVsbCxjLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LGUuc2V0dXBTb3VyY2VzZXRIYW5kbGluZ189ZnVuY3Rpb24oKXtxYSh0aGlzKX0sZS5yZXN0b3JlTWV0YWRhdGFUcmFja3NJbklPU05hdGl2ZVBsYXllcl89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aT1bXTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHQ9bltlXTsibWV0YWRhdGEiPT09dC5raW5kJiZpLnB1c2goe3RyYWNrOnQsc3RvcmVkTW9kZTp0Lm1vZGV9KX19dmFyIGksbj10aGlzLnRleHRUcmFja3MoKTtlKCksbi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGUpLHRoaXMub24oImRpc3Bvc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixlKX0pO2Z1bmN0aW9uIHIoKXtmb3IodmFyIGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHQ9aVtlXTsiZGlzYWJsZWQiPT09dC50cmFjay5tb2RlJiZ0LnRyYWNrLm1vZGUhPT10LnN0b3JlZE1vZGUmJih0LnRyYWNrLm1vZGU9dC5zdG9yZWRNb2RlKX1uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIscil9dGhpcy5vbigid2Via2l0YmVnaW5mdWxsc2NyZWVuIixmdW5jdGlvbigpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixlKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsciksbi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHIpfSksdGhpcy5vbigid2Via2l0ZW5kZnVsbHNjcmVlbiIsZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsZSksbi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGUpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixyKX0pfSxlLm92ZXJyaWRlTmF0aXZlXz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7aWYodD09PXRoaXNbImZlYXR1cmVzTmF0aXZlIitlKyJUcmFja3MiXSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO3RoaXNbbisiVHJhY2tzTGlzdGVuZXJzXyJdJiZPYmplY3Qua2V5cyh0aGlzW24rIlRyYWNrc0xpc3RlbmVyc18iXSkuZm9yRWFjaChmdW5jdGlvbihlKXtpLmVsKClbbisiVHJhY2tzIl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGlbbisiVHJhY2tzTGlzdGVuZXJzXyJdW2VdKX0pLHRoaXNbImZlYXR1cmVzTmF0aXZlIitlKyJUcmFja3MiXT0hdCx0aGlzW24rIlRyYWNrc0xpc3RlbmVyc18iXT1udWxsLHRoaXMucHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyhuKX19LGUub3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcz1mdW5jdGlvbihlKXt0aGlzLm92ZXJyaWRlTmF0aXZlXygiQXVkaW8iLGUpfSxlLm92ZXJyaWRlTmF0aXZlVmlkZW9UcmFja3M9ZnVuY3Rpb24oZSl7dGhpcy5vdmVycmlkZU5hdGl2ZV8oIlZpZGVvIixlKX0sZS5wcm94eU5hdGl2ZVRyYWNrc0ZvclR5cGVfPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMsdD1DbltlXSxyPXRoaXMuZWwoKVt0LmdldHRlck5hbWVdLGE9dGhpc1t0LmdldHRlck5hbWVdKCk7aWYodGhpc1siZmVhdHVyZXNOYXRpdmUiK3QuY2FwaXRhbE5hbWUrIlRyYWNrcyJdJiZyJiZyLmFkZEV2ZW50TGlzdGVuZXIpe2Z1bmN0aW9uIGkoKXtmb3IodmFyIGU9W10sdD0wO3Q8YS5sZW5ndGg7dCsrKXtmb3IodmFyIGk9ITEsbj0wO248ci5sZW5ndGg7bisrKWlmKHJbbl09PT1hW3RdKXtpPSEwO2JyZWFrfWl8fGUucHVzaChhW3RdKX1mb3IoO2UubGVuZ3RoOylhLnJlbW92ZVRyYWNrKGUuc2hpZnQoKSl9dmFyIHM9e2NoYW5nZTpmdW5jdGlvbihlKXthLnRyaWdnZXIoe3R5cGU6ImNoYW5nZSIsdGFyZ2V0OmEsY3VycmVudFRhcmdldDphLHNyY0VsZW1lbnQ6YX0pfSxhZGR0cmFjazpmdW5jdGlvbihlKXthLmFkZFRyYWNrKGUudHJhY2spfSxyZW1vdmV0cmFjazpmdW5jdGlvbihlKXthLnJlbW92ZVRyYWNrKGUudHJhY2spfX07dGhpc1t0LmdldHRlck5hbWUrIkxpc3RlbmVyc18iXT1zLE9iamVjdC5rZXlzKHMpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9c1t0XTtyLmFkZEV2ZW50TGlzdGVuZXIodCxpKSxuLm9uKCJkaXNwb3NlIixmdW5jdGlvbihlKXtyZXR1cm4gci5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9KX0pLHRoaXMub24oImxvYWRzdGFydCIsaSksdGhpcy5vbigiZGlzcG9zZSIsZnVuY3Rpb24oZSl7cmV0dXJuIG4ub2ZmKCJsb2Fkc3RhcnQiLGkpfSl9fSxlLnByb3h5TmF0aXZlVHJhY2tzXz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Q24ubmFtZXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8oZSl9KX0sZS5jcmVhdGVFbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9uc18udGFnO2lmKCFlfHwhdGhpcy5vcHRpb25zXy5wbGF5ZXJFbEluZ2VzdCYmIXRoaXMubW92aW5nTWVkaWFFbGVtZW50SW5ET00pe2lmKGUpe3ZhciB0PWUuY2xvbmVOb2RlKCEwKTtlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlKSxvLmRpc3Bvc2VNZWRpYUVsZW1lbnQoZSksZT10fWVsc2V7ZT1oLmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7dmFyIGk9TGUoe30sdGhpcy5vcHRpb25zXy50YWcmJlAodGhpcy5vcHRpb25zXy50YWcpKTthdCYmITA9PT10aGlzLm9wdGlvbnNfLm5hdGl2ZUNvbnRyb2xzRm9yVG91Y2h8fGRlbGV0ZSBpLmNvbnRyb2xzLEEoZSxtKGkse2lkOnRoaXMub3B0aW9uc18udGVjaElkLGNsYXNzOiJ2anMtdGVjaCJ9KSl9ZS5wbGF5ZXJJZD10aGlzLm9wdGlvbnNfLnBsYXllcklkfSJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5vcHRpb25zXy5wcmVsb2FkJiZMKGUsInByZWxvYWQiLHRoaXMub3B0aW9uc18ucHJlbG9hZCk7Zm9yKHZhciBuPVsibG9vcCIsIm11dGVkIiwicGxheXNpbmxpbmUiLCJhdXRvcGxheSJdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXSxzPXRoaXMub3B0aW9uc19bYV07InVuZGVmaW5lZCIhPXR5cGVvZiBzJiYocz9MKGUsYSxhKTpPKGUsYSksZVthXT1zKX1yZXR1cm4gZX0sZS5oYW5kbGVMYXRlSW5pdF89ZnVuY3Rpb24oZSl7aWYoMCE9PWUubmV0d29ya1N0YXRlJiYzIT09ZS5uZXR3b3JrU3RhdGUpe2lmKDA9PT1lLnJlYWR5U3RhdGUpe2Z1bmN0aW9uIHQoKXtpPSEwfXZhciBpPSExO3RoaXMub24oImxvYWRzdGFydCIsdCk7ZnVuY3Rpb24gbigpe2l8fHRoaXMudHJpZ2dlcigibG9hZHN0YXJ0Iil9cmV0dXJuIHRoaXMub24oImxvYWRlZG1ldGFkYXRhIixuKSx2b2lkIHRoaXMucmVhZHkoZnVuY3Rpb24oKXt0aGlzLm9mZigibG9hZHN0YXJ0Iix0KSx0aGlzLm9mZigibG9hZGVkbWV0YWRhdGEiLG4pLGl8fHRoaXMudHJpZ2dlcigibG9hZHN0YXJ0Iil9KX12YXIgcj1bImxvYWRzdGFydCJdO3IucHVzaCgibG9hZGVkbWV0YWRhdGEiKSwyPD1lLnJlYWR5U3RhdGUmJnIucHVzaCgibG9hZGVkZGF0YSIpLDM8PWUucmVhZHlTdGF0ZSYmci5wdXNoKCJjYW5wbGF5IiksNDw9ZS5yZWFkeVN0YXRlJiZyLnB1c2goImNhbnBsYXl0aHJvdWdoIiksdGhpcy5yZWFkeShmdW5jdGlvbigpe3IuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoZSl9LHRoaXMpfSl9fSxlLnNldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLmVsXy5jdXJyZW50VGltZT1lfWNhdGNoKGUpe3AoZSwiVmlkZW8gaXMgbm90IHJlYWR5LiAoVmlkZW8uanMpIil9fSxlLmR1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmVsXy5kdXJhdGlvbj09PTEvMCYmWGUmJlplJiYwPT09dGhpcy5lbF8uY3VycmVudFRpbWUpe3JldHVybiB0aGlzLm9uKCJ0aW1ldXBkYXRlIixmdW5jdGlvbiBlKCl7MDx0LmVsXy5jdXJyZW50VGltZSYmKHQuZWxfLmR1cmF0aW9uPT09MS8wJiZ0LnRyaWdnZXIoImR1cmF0aW9uY2hhbmdlIiksdC5vZmYoInRpbWV1cGRhdGUiLGUpKX0pLE5hTn1yZXR1cm4gdGhpcy5lbF8uZHVyYXRpb258fE5hTn0sZS53aWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsXy5vZmZzZXRXaWR0aH0sZS5oZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbF8ub2Zmc2V0SGVpZ2h0fSxlLnByb3h5V2Via2l0RnVsbHNjcmVlbl89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCJ3ZWJraXREaXNwbGF5aW5nRnVsbHNjcmVlbiJpbiB0aGlzLmVsXyl7ZnVuY3Rpb24gdCgpe3RoaXMudHJpZ2dlcigiZnVsbHNjcmVlbmNoYW5nZSIse2lzRnVsbHNjcmVlbjohMX0pfWZ1bmN0aW9uIGkoKXsid2Via2l0UHJlc2VudGF0aW9uTW9kZSJpbiB0aGlzLmVsXyYmInBpY3R1cmUtaW4tcGljdHVyZSIhPT10aGlzLmVsXy53ZWJraXRQcmVzZW50YXRpb25Nb2RlJiYodGhpcy5vbmUoIndlYmtpdGVuZGZ1bGxzY3JlZW4iLHQpLHRoaXMudHJpZ2dlcigiZnVsbHNjcmVlbmNoYW5nZSIse2lzRnVsbHNjcmVlbjohMH0pKX10aGlzLm9uKCJ3ZWJraXRiZWdpbmZ1bGxzY3JlZW4iLGkpLHRoaXMub24oImRpc3Bvc2UiLGZ1bmN0aW9uKCl7ZS5vZmYoIndlYmtpdGJlZ2luZnVsbHNjcmVlbiIsaSksZS5vZmYoIndlYmtpdGVuZGZ1bGxzY3JlZW4iLHQpfSl9fSxlLnN1cHBvcnRzRnVsbFNjcmVlbj1mdW5jdGlvbigpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmVsXy53ZWJraXRFbnRlckZ1bGxTY3JlZW4pe3ZhciBlPXYubmF2aWdhdG9yJiZ2Lm5hdmlnYXRvci51c2VyQWdlbnR8fCIiO2lmKC9BbmRyb2lkLy50ZXN0KGUpfHwhL0Nocm9tZXxNYWMgT1MgWCAxMC41Ly50ZXN0KGUpKXJldHVybiEwfXJldHVybiExfSxlLmVudGVyRnVsbFNjcmVlbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxfO2UucGF1c2VkJiZlLm5ldHdvcmtTdGF0ZTw9ZS5IQVZFX01FVEFEQVRBPyh0aGlzLmVsXy5wbGF5KCksdGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5wYXVzZSgpLGUud2Via2l0RW50ZXJGdWxsU2NyZWVuKCl9LDApKTplLndlYmtpdEVudGVyRnVsbFNjcmVlbigpfSxlLmV4aXRGdWxsU2NyZWVuPWZ1bmN0aW9uKCl7dGhpcy5lbF8ud2Via2l0RXhpdEZ1bGxTY3JlZW4oKX0sZS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsXy5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpfSxlLnNyYz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLmVsXy5zcmM7dGhpcy5zZXRTcmMoZSl9LGUucmVzZXQ9ZnVuY3Rpb24oKXtvLnJlc2V0TWVkaWFFbGVtZW50KHRoaXMuZWxfKX0sZS5jdXJyZW50U3JjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZV8/dGhpcy5jdXJyZW50U291cmNlXy5zcmM6dGhpcy5lbF8uY3VycmVudFNyY30sZS5zZXRDb250cm9scz1mdW5jdGlvbihlKXt0aGlzLmVsXy5jb250cm9scz0hIWV9LGUuYWRkVGV4dFRyYWNrPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M/dGhpcy5lbF8uYWRkVGV4dFRyYWNrKGUsdCxpKTpjLnByb3RvdHlwZS5hZGRUZXh0VHJhY2suY2FsbCh0aGlzLGUsdCxpKX0sZS5jcmVhdGVSZW1vdGVUZXh0VHJhY2s9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKXJldHVybiBjLnByb3RvdHlwZS5jcmVhdGVSZW1vdGVUZXh0VHJhY2suY2FsbCh0aGlzLGUpO3ZhciB0PWguY3JlYXRlRWxlbWVudCgidHJhY2siKTtyZXR1cm4gZS5raW5kJiYodC5raW5kPWUua2luZCksZS5sYWJlbCYmKHQubGFiZWw9ZS5sYWJlbCksKGUubGFuZ3VhZ2V8fGUuc3JjbGFuZykmJih0LnNyY2xhbmc9ZS5sYW5ndWFnZXx8ZS5zcmNsYW5nKSxlLmRlZmF1bHQmJih0LmRlZmF1bHQ9ZS5kZWZhdWx0KSxlLmlkJiYodC5pZD1lLmlkKSxlLnNyYyYmKHQuc3JjPWUuc3JjKSx0fSxlLmFkZFJlbW90ZVRleHRUcmFjaz1mdW5jdGlvbihlLHQpe3ZhciBpPWMucHJvdG90eXBlLmFkZFJlbW90ZVRleHRUcmFjay5jYWxsKHRoaXMsZSx0KTtyZXR1cm4gdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MmJnRoaXMuZWwoKS5hcHBlbmRDaGlsZChpKSxpfSxlLnJlbW92ZVJlbW90ZVRleHRUcmFjaz1mdW5jdGlvbihlKXtpZihjLnByb3RvdHlwZS5yZW1vdmVSZW1vdGVUZXh0VHJhY2suY2FsbCh0aGlzLGUpLHRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzKWZvcih2YXIgdD10aGlzLiQkKCJ0cmFjayIpLGk9dC5sZW5ndGg7aS0tOyllIT09dFtpXSYmZSE9PXRbaV0udHJhY2t8fHRoaXMuZWwoKS5yZW1vdmVDaGlsZCh0W2ldKX0sZS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eT1mdW5jdGlvbigpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmVsKCkuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkpcmV0dXJuIHRoaXMuZWwoKS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO3ZhciBlPXt9O3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5lbCgpLndlYmtpdERyb3BwZWRGcmFtZUNvdW50JiYidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuZWwoKS53ZWJraXREZWNvZGVkRnJhbWVDb3VudCYmKGUuZHJvcHBlZFZpZGVvRnJhbWVzPXRoaXMuZWwoKS53ZWJraXREcm9wcGVkRnJhbWVDb3VudCxlLnRvdGFsVmlkZW9GcmFtZXM9dGhpcy5lbCgpLndlYmtpdERlY29kZWRGcmFtZUNvdW50KSx2LnBlcmZvcm1hbmNlJiYiZnVuY3Rpb24iPT10eXBlb2Ygdi5wZXJmb3JtYW5jZS5ub3c/ZS5jcmVhdGlvblRpbWU9di5wZXJmb3JtYW5jZS5ub3coKTp2LnBlcmZvcm1hbmNlJiZ2LnBlcmZvcm1hbmNlLnRpbWluZyYmIm51bWJlciI9PXR5cGVvZiB2LnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJihlLmNyZWF0aW9uVGltZT12LkRhdGUubm93KCktdi5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSxlfSxvfShpcik7aWYoYygpKXskYS5URVNUX1ZJRD1oLmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7dmFyIEdhPWguY3JlYXRlRWxlbWVudCgidHJhY2siKTtHYS5raW5kPSJjYXB0aW9ucyIsR2Euc3JjbGFuZz0iZW4iLEdhLmxhYmVsPSJFbmdsaXNoIiwkYS5URVNUX1ZJRC5hcHBlbmRDaGlsZChHYSl9JGEuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt0cnl7JGEuVEVTVF9WSUQudm9sdW1lPS41fWNhdGNoKGUpe3JldHVybiExfXJldHVybiEoISRhLlRFU1RfVklEfHwhJGEuVEVTVF9WSUQuY2FuUGxheVR5cGUpfSwkYS5jYW5QbGF5VHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gJGEuVEVTVF9WSUQuY2FuUGxheVR5cGUoZSl9LCRhLmNhblBsYXlTb3VyY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJGEuY2FuUGxheVR5cGUoZS50eXBlKX0sJGEuY2FuQ29udHJvbFZvbHVtZT1mdW5jdGlvbigpe3RyeXt2YXIgZT0kYS5URVNUX1ZJRC52b2x1bWU7cmV0dXJuICRhLlRFU1RfVklELnZvbHVtZT1lLzIrLjEsZSE9PSRhLlRFU1RfVklELnZvbHVtZX1jYXRjaChlKXtyZXR1cm4hMX19LCRhLmNhbk11dGVWb2x1bWU9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9JGEuVEVTVF9WSUQubXV0ZWQ7cmV0dXJuICRhLlRFU1RfVklELm11dGVkPSFlLCRhLlRFU1RfVklELm11dGVkP0woJGEuVEVTVF9WSUQsIm11dGVkIiwibXV0ZWQiKTpPKCRhLlRFU1RfVklELCJtdXRlZCIpLGUhPT0kYS5URVNUX1ZJRC5tdXRlZH1jYXRjaChlKXtyZXR1cm4hMX19LCRhLmNhbkNvbnRyb2xQbGF5YmFja1JhdGU9ZnVuY3Rpb24oKXtpZihYZSYmWmUmJmV0PDU4KXJldHVybiExO3RyeXt2YXIgZT0kYS5URVNUX1ZJRC5wbGF5YmFja1JhdGU7cmV0dXJuICRhLlRFU1RfVklELnBsYXliYWNrUmF0ZT1lLzIrLjEsZSE9PSRhLlRFU1RfVklELnBsYXliYWNrUmF0ZX1jYXRjaChlKXtyZXR1cm4hMX19LCRhLmNhbk92ZXJyaWRlQXR0cmlidXRlcz1mdW5jdGlvbigpe3RyeXtmdW5jdGlvbiBlKCl7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksInNyYyIse2dldDplLHNldDplfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGguY3JlYXRlRWxlbWVudCgiYXVkaW8iKSwic3JjIix7Z2V0OmUsc2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpLCJpbm5lckhUTUwiLHtnZXQ6ZSxzZXQ6ZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLmNyZWF0ZUVsZW1lbnQoImF1ZGlvIiksImlubmVySFRNTCIse2dldDplLHNldDplfSl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9LCRhLnN1cHBvcnRzTmF0aXZlVGV4dFRyYWNrcz1mdW5jdGlvbigpe3JldHVybiBudHx8JGUmJlplfSwkYS5zdXBwb3J0c05hdGl2ZVZpZGVvVHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuISghJGEuVEVTVF9WSUR8fCEkYS5URVNUX1ZJRC52aWRlb1RyYWNrcyl9LCRhLnN1cHBvcnRzTmF0aXZlQXVkaW9UcmFja3M9ZnVuY3Rpb24oKXtyZXR1cm4hKCEkYS5URVNUX1ZJRHx8ISRhLlRFU1RfVklELmF1ZGlvVHJhY2tzKX0sJGEuRXZlbnRzPVsibG9hZHN0YXJ0Iiwic3VzcGVuZCIsImFib3J0IiwiZXJyb3IiLCJlbXB0aWVkIiwic3RhbGxlZCIsImxvYWRlZG1ldGFkYXRhIiwibG9hZGVkZGF0YSIsImNhbnBsYXkiLCJjYW5wbGF5dGhyb3VnaCIsInBsYXlpbmciLCJ3YWl0aW5nIiwic2Vla2luZyIsInNlZWtlZCIsImVuZGVkIiwiZHVyYXRpb25jaGFuZ2UiLCJ0aW1ldXBkYXRlIiwicHJvZ3Jlc3MiLCJwbGF5IiwicGF1c2UiLCJyYXRlY2hhbmdlIiwicmVzaXplIiwidm9sdW1lY2hhbmdlIl0sJGEucHJvdG90eXBlLmZlYXR1cmVzVm9sdW1lQ29udHJvbD0kYS5jYW5Db250cm9sVm9sdW1lKCksJGEucHJvdG90eXBlLmZlYXR1cmVzTXV0ZUNvbnRyb2w9JGEuY2FuTXV0ZVZvbHVtZSgpLCRhLnByb3RvdHlwZS5mZWF0dXJlc1BsYXliYWNrUmF0ZT0kYS5jYW5Db250cm9sUGxheWJhY2tSYXRlKCksJGEucHJvdG90eXBlLmZlYXR1cmVzU291cmNlc2V0PSRhLmNhbk92ZXJyaWRlQXR0cmlidXRlcygpLCRhLnByb3RvdHlwZS5tb3ZpbmdNZWRpYUVsZW1lbnRJbkRPTT0hJGUsJGEucHJvdG90eXBlLmZlYXR1cmVzRnVsbHNjcmVlblJlc2l6ZT0hMCwkYS5wcm90b3R5cGUuZmVhdHVyZXNQcm9ncmVzc0V2ZW50cz0hMCwkYS5wcm90b3R5cGUuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzPSEwLCRhLnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M9JGEuc3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzKCksJGEucHJvdG90eXBlLmZlYXR1cmVzTmF0aXZlVmlkZW9UcmFja3M9JGEuc3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrcygpLCRhLnByb3RvdHlwZS5mZWF0dXJlc05hdGl2ZUF1ZGlvVHJhY2tzPSRhLnN1cHBvcnRzTmF0aXZlQXVkaW9UcmFja3MoKTt2YXIgWGE9JGEuVEVTVF9WSUQmJiRhLlRFU1RfVklELmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jYW5QbGF5VHlwZSxLYT0vXmFwcGxpY2F0aW9uXC8oPzp4LXx2bmRcLmFwcGxlXC4pbXBlZ3VybC9pOyRhLnBhdGNoQ2FuUGxheVR5cGU9ZnVuY3Rpb24oKXs0PD1LZSYmIVFlJiYhWmUmJigkYS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJkthLnRlc3QoZSk/Im1heWJlIjpYYS5jYWxsKHRoaXMsZSl9KX0sJGEudW5wYXRjaENhblBsYXlUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9JGEuVEVTVF9WSUQuY29uc3RydWN0b3IucHJvdG90eXBlLmNhblBsYXlUeXBlO3JldHVybiAkYS5URVNUX1ZJRC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY2FuUGxheVR5cGU9WGEsZX0sJGEucGF0Y2hDYW5QbGF5VHlwZSgpLCRhLmRpc3Bvc2VNZWRpYUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYoZSl7Zm9yKGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO2UuaGFzQ2hpbGROb2RlcygpOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmxvYWQmJmZ1bmN0aW9uKCl7dHJ5e2UubG9hZCgpfWNhdGNoKGUpe319KCl9fSwkYS5yZXNldE1lZGlhRWxlbWVudD1mdW5jdGlvbihlKXtpZihlKXtmb3IodmFyIHQ9ZS5xdWVyeVNlbGVjdG9yQWxsKCJzb3VyY2UiKSxpPXQubGVuZ3RoO2ktLTspZS5yZW1vdmVDaGlsZCh0W2ldKTtlLnJlbW92ZUF0dHJpYnV0ZSgic3JjIiksImZ1bmN0aW9uIj09dHlwZW9mIGUubG9hZCYmZnVuY3Rpb24oKXt0cnl7ZS5sb2FkKCl9Y2F0Y2goZSl7fX0oKX19LFsibXV0ZWQiLCJkZWZhdWx0TXV0ZWQiLCJhdXRvcGxheSIsImNvbnRyb2xzIiwibG9vcCIsInBsYXlzaW5saW5lIl0uZm9yRWFjaChmdW5jdGlvbihlKXskYS5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbF9bZV18fHRoaXMuZWxfLmhhc0F0dHJpYnV0ZShlKX19KSxbIm11dGVkIiwiZGVmYXVsdE11dGVkIiwiYXV0b3BsYXkiLCJsb29wIiwicGxheXNpbmxpbmUiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyRhLnByb3RvdHlwZVsic2V0IitJZSh0KV09ZnVuY3Rpb24oZSl7KHRoaXMuZWxfW3RdPWUpP3RoaXMuZWxfLnNldEF0dHJpYnV0ZSh0LHQpOnRoaXMuZWxfLnJlbW92ZUF0dHJpYnV0ZSh0KX19KSxbInBhdXNlZCIsImN1cnJlbnRUaW1lIiwiYnVmZmVyZWQiLCJ2b2x1bWUiLCJwb3N0ZXIiLCJwcmVsb2FkIiwiZXJyb3IiLCJzZWVraW5nIiwic2Vla2FibGUiLCJlbmRlZCIsInBsYXliYWNrUmF0ZSIsImRlZmF1bHRQbGF5YmFja1JhdGUiLCJwbGF5ZWQiLCJuZXR3b3JrU3RhdGUiLCJyZWFkeVN0YXRlIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0Il0uZm9yRWFjaChmdW5jdGlvbihlKXskYS5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbF9bZV19fSksWyJ2b2x1bWUiLCJzcmMiLCJwb3N0ZXIiLCJwcmVsb2FkIiwicGxheWJhY2tSYXRlIiwiZGVmYXVsdFBsYXliYWNrUmF0ZSJdLmZvckVhY2goZnVuY3Rpb24odCl7JGEucHJvdG90eXBlWyJzZXQiK0llKHQpXT1mdW5jdGlvbihlKXt0aGlzLmVsX1t0XT1lfX0pLFsicGF1c2UiLCJsb2FkIiwicGxheSJdLmZvckVhY2goZnVuY3Rpb24oZSl7JGEucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxfW2VdKCl9fSksaXIud2l0aFNvdXJjZUhhbmRsZXJzKCRhKSwkYS5uYXRpdmVTb3VyY2VIYW5kbGVyPXt9LCRhLm5hdGl2ZVNvdXJjZUhhbmRsZXIuY2FuUGxheVR5cGU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiAkYS5URVNUX1ZJRC5jYW5QbGF5VHlwZShlKX1jYXRjaChlKXtyZXR1cm4iIn19LCRhLm5hdGl2ZVNvdXJjZUhhbmRsZXIuY2FuSGFuZGxlU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYoZS50eXBlKXJldHVybiAkYS5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlKGUudHlwZSk7aWYoZS5zcmMpe3ZhciBpPVJ0KGUuc3JjKTtyZXR1cm4gJGEubmF0aXZlU291cmNlSGFuZGxlci5jYW5QbGF5VHlwZSgidmlkZW8vIitpKX1yZXR1cm4iIn0sJGEubmF0aXZlU291cmNlSGFuZGxlci5oYW5kbGVTb3VyY2U9ZnVuY3Rpb24oZSx0LGkpe3Quc2V0U3JjKGUuc3JjKX0sJGEubmF0aXZlU291cmNlSGFuZGxlci5kaXNwb3NlPWZ1bmN0aW9uKCl7fSwkYS5yZWdpc3RlclNvdXJjZUhhbmRsZXIoJGEubmF0aXZlU291cmNlSGFuZGxlciksaXIucmVnaXN0ZXJUZWNoKCJIdG1sNSIsJGEpO3ZhciBZYT1bInByb2dyZXNzIiwiYWJvcnQiLCJzdXNwZW5kIiwiZW1wdGllZCIsInN0YWxsZWQiLCJsb2FkZWRtZXRhZGF0YSIsImxvYWRlZGRhdGEiLCJ0aW1ldXBkYXRlIiwicmVzaXplIiwidm9sdW1lY2hhbmdlIiwidGV4dHRyYWNrY2hhbmdlIl0sUWE9e2NhbnBsYXk6IkNhblBsYXkiLGNhbnBsYXl0aHJvdWdoOiJDYW5QbGF5VGhyb3VnaCIscGxheWluZzoiUGxheWluZyIsc2Vla2VkOiJTZWVrZWQifSxKYT1bInRpbnkiLCJ4c21hbGwiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwieGxhcmdlIiwiaHVnZSJdLFphPXt9O0phLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9IngiPT09ZS5jaGFyQXQoMCk/IngtIitlLnN1YnN0cmluZygxKTplO1phW2VdPSJ2anMtbGF5b3V0LSIrdH0pO3ZhciBlcz17dGlueToyMTAseHNtYWxsOjMyMCxzbWFsbDo0MjUsbWVkaXVtOjc2OCxsYXJnZToxNDQwLHhsYXJnZToyNTYwLGh1Z2U6MS8wfSx0cz1mdW5jdGlvbihjKXtmdW5jdGlvbiBsKGUsdCxpKXt2YXIgbjtpZihlLmlkPWUuaWR8fHQuaWR8fCJ2anNfdmlkZW9fIit0ZSgpLCh0PW0obC5nZXRUYWdTZXR0aW5ncyhlKSx0KSkuaW5pdENoaWxkcmVuPSExLHQuY3JlYXRlRWw9ITEsdC5ldmVudGVkPSExLHQucmVwb3J0VG91Y2hBY3Rpdml0eT0hMSwhdC5sYW5ndWFnZSlpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5jbG9zZXN0KXt2YXIgcj1lLmNsb3Nlc3QoIltsYW5nXSIpO3ImJnIuZ2V0QXR0cmlidXRlJiYodC5sYW5ndWFnZT1yLmdldEF0dHJpYnV0ZSgibGFuZyIpKX1lbHNlIGZvcih2YXIgYT1lO2EmJjE9PT1hLm5vZGVUeXBlOyl7aWYoUChhKS5oYXNPd25Qcm9wZXJ0eSgibGFuZyIpKXt0Lmxhbmd1YWdlPWEuZ2V0QXR0cmlidXRlKCJsYW5nIik7YnJlYWt9YT1hLnBhcmVudE5vZGV9aWYoKG49Yy5jYWxsKHRoaXMsbnVsbCx0LGkpfHx0aGlzKS5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV89ZGUoUmUobiksbi5kb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKSxuLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5Xz1kZShSZShuKSxuLmZ1bGxXaW5kb3dPbkVzY0tleSksbi5sb2c9ZihuLmlkXyksbi5mc0FwaV89ZHQsbi5pc1Bvc3RlckZyb21UZWNoXz0hMSxuLnF1ZXVlZENhbGxiYWNrc189W10sbi5pc1JlYWR5Xz0hMSxuLmhhc1N0YXJ0ZWRfPSExLG4udXNlckFjdGl2ZV89ITEsIW4ub3B0aW9uc198fCFuLm9wdGlvbnNfLnRlY2hPcmRlcnx8IW4ub3B0aW9uc18udGVjaE9yZGVyLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIk5vIHRlY2hPcmRlciBzcGVjaWZpZWQuIERpZCB5b3Ugb3ZlcndyaXRlIHZpZGVvanMub3B0aW9ucyBpbnN0ZWFkIG9mIGp1c3QgY2hhbmdpbmcgdGhlIHByb3BlcnRpZXMgeW91IHdhbnQgdG8gb3ZlcnJpZGU/Iik7aWYobi50YWc9ZSxuLnRhZ0F0dHJpYnV0ZXM9ZSYmUChlKSxuLmxhbmd1YWdlKG4ub3B0aW9uc18ubGFuZ3VhZ2UpLHQubGFuZ3VhZ2VzKXt2YXIgcz17fTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0Lmxhbmd1YWdlcykuZm9yRWFjaChmdW5jdGlvbihlKXtzW2UudG9Mb3dlckNhc2UoKV09dC5sYW5ndWFnZXNbZV19KSxuLmxhbmd1YWdlc189c31lbHNlIG4ubGFuZ3VhZ2VzXz1sLnByb3RvdHlwZS5vcHRpb25zXy5sYW5ndWFnZXM7bi5yZXNldENhY2hlXygpLG4ucG9zdGVyXz10LnBvc3Rlcnx8IiIsbi5jb250cm9sc189ISF0LmNvbnRyb2xzLGUuY29udHJvbHM9ITEsZS5yZW1vdmVBdHRyaWJ1dGUoImNvbnRyb2xzIiksbi5jaGFuZ2luZ1NyY189ITEsbi5wbGF5Q2FsbGJhY2tzXz1bXSxuLnBsYXlUZXJtaW5hdGVkUXVldWVfPVtdLGUuaGFzQXR0cmlidXRlKCJhdXRvcGxheSIpP24uYXV0b3BsYXkoITApOm4uYXV0b3BsYXkobi5vcHRpb25zXy5hdXRvcGxheSksdC5wbHVnaW5zJiZPYmplY3Qua2V5cyh0LnBsdWdpbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG5bZV0pdGhyb3cgbmV3IEVycm9yKCdwbHVnaW4gIicrZSsnIiBkb2VzIG5vdCBleGlzdCcpfSksbi5zY3J1YmJpbmdfPSExLG4uZWxfPW4uY3JlYXRlRWwoKSxFZShSZShuKSx7ZXZlbnRCdXNLZXk6ImVsXyJ9KSxuLmZsdWlkXyYmbi5vbigicGxheWVycmVzZXQiLG4udXBkYXRlU3R5bGVFbF8pO3ZhciBvPUxlKG4ub3B0aW9uc18pO3QucGx1Z2lucyYmT2JqZWN0LmtleXModC5wbHVnaW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV0odC5wbHVnaW5zW2VdKX0pLG4ub3B0aW9uc18ucGxheWVyT3B0aW9ucz1vLG4ubWlkZGxld2FyZV89W10sbi5pbml0Q2hpbGRyZW4oKSxuLmlzQXVkaW8oImF1ZGlvIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSksbi5jb250cm9scygpP24uYWRkQ2xhc3MoInZqcy1jb250cm9scy1lbmFibGVkIik6bi5hZGRDbGFzcygidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksbi5lbF8uc2V0QXR0cmlidXRlKCJyb2xlIiwicmVnaW9uIiksbi5pc0F1ZGlvKCk/bi5lbF8uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixuLmxvY2FsaXplKCJBdWRpbyBQbGF5ZXIiKSk6bi5lbF8uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixuLmxvY2FsaXplKCJWaWRlbyBQbGF5ZXIiKSksbi5pc0F1ZGlvKCkmJm4uYWRkQ2xhc3MoInZqcy1hdWRpbyIpLG4uZmxleE5vdFN1cHBvcnRlZF8oKSYmbi5hZGRDbGFzcygidmpzLW5vLWZsZXgiKSxhdCYmbi5hZGRDbGFzcygidmpzLXRvdWNoLWVuYWJsZWQiKSwkZXx8bi5hZGRDbGFzcygidmpzLXdvcmtpbmdob3ZlciIpLGwucGxheWVyc1tuLmlkX109UmUobik7dmFyIHU9ZC5zcGxpdCgiLiIpWzBdO3JldHVybiBuLmFkZENsYXNzKCJ2anMtdiIrdSksbi51c2VyQWN0aXZlKCEwKSxuLnJlcG9ydFVzZXJBY3Rpdml0eSgpLG4ub25lKCJwbGF5IixuLmxpc3RlbkZvclVzZXJBY3Rpdml0eV8pLG4ub24oInN0YWdlY2xpY2siLG4uaGFuZGxlU3RhZ2VDbGlja18pLG4ub24oImtleWRvd24iLG4uaGFuZGxlS2V5RG93biksbi5icmVha3BvaW50cyhuLm9wdGlvbnNfLmJyZWFrcG9pbnRzKSxuLnJlc3BvbnNpdmUobi5vcHRpb25zXy5yZXNwb25zaXZlKSxufXhlKGwsYyk7dmFyIGU9bC5wcm90b3R5cGU7cmV0dXJuIGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy50cmlnZ2VyKCJkaXNwb3NlIiksdGhpcy5vZmYoImRpc3Bvc2UiKSx1ZShoLHRoaXMuZnNBcGlfLmZ1bGxzY3JlZW5jaGFuZ2UsdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pLHVlKGgsImtleWRvd24iLHRoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfKSx0aGlzLnN0eWxlRWxfJiZ0aGlzLnN0eWxlRWxfLnBhcmVudE5vZGUmJih0aGlzLnN0eWxlRWxfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZUVsXyksdGhpcy5zdHlsZUVsXz1udWxsKSxsLnBsYXllcnNbdGhpcy5pZF9dPW51bGwsdGhpcy50YWcmJnRoaXMudGFnLnBsYXllciYmKHRoaXMudGFnLnBsYXllcj1udWxsKSx0aGlzLmVsXyYmdGhpcy5lbF8ucGxheWVyJiYodGhpcy5lbF8ucGxheWVyPW51bGwpLHRoaXMudGVjaF8mJih0aGlzLnRlY2hfLmRpc3Bvc2UoKSx0aGlzLmlzUG9zdGVyRnJvbVRlY2hfPSExLHRoaXMucG9zdGVyXz0iIiksdGhpcy5wbGF5ZXJFbEluZ2VzdF8mJih0aGlzLnBsYXllckVsSW5nZXN0Xz1udWxsKSx0aGlzLnRhZyYmKHRoaXMudGFnPW51bGwpLGZ1bmN0aW9uKGUpe3JyW2UuaWQoKV09bnVsbH0odGhpcyksd24ubmFtZXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD13bltlXSxpPW5bdC5nZXR0ZXJOYW1lXSgpO2kmJmkub2ZmJiZpLm9mZigpfSksYy5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSxlLmNyZWF0ZUVsPWZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLnRhZyxlPXRoaXMucGxheWVyRWxJbmdlc3RfPWkucGFyZW50Tm9kZSYmaS5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSYmaS5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSgiZGF0YS12anMtcGxheWVyIiksbj0idmlkZW8tanMiPT09dGhpcy50YWcudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2U/dD10aGlzLmVsXz1pLnBhcmVudE5vZGU6bnx8KHQ9dGhpcy5lbF89Yy5wcm90b3R5cGUuY3JlYXRlRWwuY2FsbCh0aGlzLCJkaXYiKSk7dmFyIHI9UChpKTtpZihuKXtmb3IodD10aGlzLmVsXz1pLGk9dGhpcy50YWc9aC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpO3QuY2hpbGRyZW4ubGVuZ3RoOylpLmFwcGVuZENoaWxkKHQuZmlyc3RDaGlsZCk7ayh0LCJ2aWRlby1qcyIpfHxDKHQsInZpZGVvLWpzIiksdC5hcHBlbmRDaGlsZChpKSxlPXRoaXMucGxheWVyRWxJbmdlc3RfPXQsT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdPXRbZV19KX1pZihpLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLHIudGFiaW5kZXg9Ii0xIiwodHR8fFplJiZydCkmJihpLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksci5yb2xlPSJhcHBsaWNhdGlvbiIpLGkucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpLGkucmVtb3ZlQXR0cmlidXRlKCJoZWlnaHQiKSwid2lkdGgiaW4gciYmZGVsZXRlIHIud2lkdGgsImhlaWdodCJpbiByJiZkZWxldGUgci5oZWlnaHQsT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikuZm9yRWFjaChmdW5jdGlvbihlKXtuJiYiY2xhc3MiPT09ZXx8dC5zZXRBdHRyaWJ1dGUoZSxyW2VdKSxuJiZpLnNldEF0dHJpYnV0ZShlLHJbZV0pfSksaS5wbGF5ZXJJZD1pLmlkLGkuaWQrPSJfaHRtbDVfYXBpIixpLmNsYXNzTmFtZT0idmpzLXRlY2giLGkucGxheWVyPXQucGxheWVyPXRoaXMsdGhpcy5hZGRDbGFzcygidmpzLXBhdXNlZCIpLCEwIT09di5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUpe3RoaXMuc3R5bGVFbF89USgidmpzLXN0eWxlcy1kaW1lbnNpb25zIik7dmFyIGE9VygiLnZqcy1zdHlsZXMtZGVmYXVsdHMiKSxzPVcoImhlYWQiKTtzLmluc2VydEJlZm9yZSh0aGlzLnN0eWxlRWxfLGE/YS5uZXh0U2libGluZzpzLmZpcnN0Q2hpbGQpfXRoaXMuZmlsbF89ITEsdGhpcy5mbHVpZF89ITEsdGhpcy53aWR0aCh0aGlzLm9wdGlvbnNfLndpZHRoKSx0aGlzLmhlaWdodCh0aGlzLm9wdGlvbnNfLmhlaWdodCksdGhpcy5maWxsKHRoaXMub3B0aW9uc18uZmlsbCksdGhpcy5mbHVpZCh0aGlzLm9wdGlvbnNfLmZsdWlkKSx0aGlzLmFzcGVjdFJhdGlvKHRoaXMub3B0aW9uc18uYXNwZWN0UmF0aW8pO2Zvcih2YXIgbz1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgbD1vLml0ZW0odSk7QyhsLCJ2anMtaGlkZGVuIiksbC5zZXRBdHRyaWJ1dGUoImhpZGRlbiIsImhpZGRlbiIpfXJldHVybiBpLmluaXROZXR3b3JrU3RhdGVfPWkubmV0d29ya1N0YXRlLGkucGFyZW50Tm9kZSYmIWUmJmkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxpKSxTKGksdCksdGhpcy5jaGlsZHJlbl8udW5zaGlmdChpKSx0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoImxhbmciLHRoaXMubGFuZ3VhZ2VfKSx0aGlzLmVsXz10fSxlLndpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpbWVuc2lvbigid2lkdGgiLGUpfSxlLmhlaWdodD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaW1lbnNpb24oImhlaWdodCIsZSl9LGUuZGltZW5zaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZSsiXyI7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpc1tpXXx8MDtpZigiIj09PXQpcmV0dXJuIHRoaXNbaV09dm9pZCAwLHZvaWQgdGhpcy51cGRhdGVTdHlsZUVsXygpO3ZhciBuPXBhcnNlRmxvYXQodCk7aXNOYU4obik/cC5lcnJvcignSW1wcm9wZXIgdmFsdWUgIicrdCsnIiBzdXBwbGllZCBmb3IgZm9yICcrZSk6KHRoaXNbaV09bix0aGlzLnVwZGF0ZVN0eWxlRWxfKCkpfSxlLmZsdWlkPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuISF0aGlzLmZsdWlkXzt0aGlzLmZsdWlkXz0hIWUsa2UodGhpcykmJnRoaXMub2ZmKCJwbGF5ZXJyZXNldCIsdGhpcy51cGRhdGVTdHlsZUVsXyksZT8odGhpcy5hZGRDbGFzcygidmpzLWZsdWlkIiksdGhpcy5maWxsKCExKSxmdW5jdGlvbihlLHQpe2tlKGUpP3QoKTooZS5ldmVudGVkQ2FsbGJhY2tzfHwoZS5ldmVudGVkQ2FsbGJhY2tzPVtdKSxlLmV2ZW50ZWRDYWxsYmFja3MucHVzaCh0KSl9KGZ1bmN0aW9uKCl7dGhpcy5vbigicGxheWVycmVzZXQiLHRoaXMudXBkYXRlU3R5bGVFbF8pfSkpOnRoaXMucmVtb3ZlQ2xhc3MoInZqcy1mbHVpZCIpLHRoaXMudXBkYXRlU3R5bGVFbF8oKX0sZS5maWxsPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuISF0aGlzLmZpbGxfO3RoaXMuZmlsbF89ISFlLGU/KHRoaXMuYWRkQ2xhc3MoInZqcy1maWxsIiksdGhpcy5mbHVpZCghMSkpOnRoaXMucmVtb3ZlQ2xhc3MoInZqcy1maWxsIil9LGUuYXNwZWN0UmF0aW89ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5hc3BlY3RSYXRpb187aWYoIS9eXGQrXDpcZCskLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcigiSW1wcm9wZXIgdmFsdWUgc3VwcGxpZWQgZm9yIGFzcGVjdCByYXRpby4gVGhlIGZvcm1hdCBzaG91bGQgYmUgd2lkdGg6aGVpZ2h0LCBmb3IgZXhhbXBsZSAxNjo5LiIpO3RoaXMuYXNwZWN0UmF0aW9fPWUsdGhpcy5mbHVpZCghMCksdGhpcy51cGRhdGVTdHlsZUVsXygpfSxlLnVwZGF0ZVN0eWxlRWxfPWZ1bmN0aW9uKCl7aWYoITAhPT12LlZJREVPSlNfTk9fRFlOQU1JQ19TVFlMRSl7dmFyIGUsdCxpLG49KHZvaWQgMCE9PXRoaXMuYXNwZWN0UmF0aW9fJiYiYXV0byIhPT10aGlzLmFzcGVjdFJhdGlvXz90aGlzLmFzcGVjdFJhdGlvXzowPHRoaXMudmlkZW9XaWR0aCgpP3RoaXMudmlkZW9XaWR0aCgpKyI6Iit0aGlzLnZpZGVvSGVpZ2h0KCk6IjE2OjkiKS5zcGxpdCgiOiIpLHI9blsxXS9uWzBdO2U9dm9pZCAwIT09dGhpcy53aWR0aF8/dGhpcy53aWR0aF86dm9pZCAwIT09dGhpcy5oZWlnaHRfP3RoaXMuaGVpZ2h0Xy9yOnRoaXMudmlkZW9XaWR0aCgpfHwzMDAsdD12b2lkIDAhPT10aGlzLmhlaWdodF8/dGhpcy5oZWlnaHRfOmUqcixpPS9eW15hLXpBLVpdLy50ZXN0KHRoaXMuaWQoKSk/ImRpbWVuc2lvbnMtIit0aGlzLmlkKCk6dGhpcy5pZCgpKyItZGltZW5zaW9ucyIsdGhpcy5hZGRDbGFzcyhpKSxKKHRoaXMuc3R5bGVFbF8sIlxuICAgICAgLiIraSsiIHtcbiAgICAgICAgd2lkdGg6ICIrZSsicHg7XG4gICAgICAgIGhlaWdodDogIit0KyJweDtcbiAgICAgIH1cblxuICAgICAgLiIraSsiLnZqcy1mbHVpZCB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAiKzEwMCpyKyIlO1xuICAgICAgfVxuICAgICIpfWVsc2V7dmFyIGE9Im51bWJlciI9PXR5cGVvZiB0aGlzLndpZHRoXz90aGlzLndpZHRoXzp0aGlzLm9wdGlvbnNfLndpZHRoLHM9Im51bWJlciI9PXR5cGVvZiB0aGlzLmhlaWdodF8/dGhpcy5oZWlnaHRfOnRoaXMub3B0aW9uc18uaGVpZ2h0LG89dGhpcy50ZWNoXyYmdGhpcy50ZWNoXy5lbCgpO28mJigwPD1hJiYoby53aWR0aD1hKSwwPD1zJiYoby5oZWlnaHQ9cykpfX0sZS5sb2FkVGVjaF89ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO3RoaXMudGVjaF8mJnRoaXMudW5sb2FkVGVjaF8oKTt2YXIgbj1JZShlKSxyPWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrZS5zbGljZSgxKTsiSHRtbDUiIT09biYmdGhpcy50YWcmJihpci5nZXRUZWNoKCJIdG1sNSIpLmRpc3Bvc2VNZWRpYUVsZW1lbnQodGhpcy50YWcpLHRoaXMudGFnLnBsYXllcj1udWxsLHRoaXMudGFnPW51bGwpLHRoaXMudGVjaE5hbWVfPW4sdGhpcy5pc1JlYWR5Xz0hMTt2YXIgYT17c291cmNlOnQsYXV0b3BsYXk6InN0cmluZyIhPXR5cGVvZiB0aGlzLmF1dG9wbGF5KCkmJnRoaXMuYXV0b3BsYXkoKSxuYXRpdmVDb250cm9sc0ZvclRvdWNoOnRoaXMub3B0aW9uc18ubmF0aXZlQ29udHJvbHNGb3JUb3VjaCxwbGF5ZXJJZDp0aGlzLmlkKCksdGVjaElkOnRoaXMuaWQoKSsiXyIrcisiX2FwaSIscGxheXNpbmxpbmU6dGhpcy5vcHRpb25zXy5wbGF5c2lubGluZSxwcmVsb2FkOnRoaXMub3B0aW9uc18ucHJlbG9hZCxsb29wOnRoaXMub3B0aW9uc18ubG9vcCxtdXRlZDp0aGlzLm9wdGlvbnNfLm11dGVkLHBvc3Rlcjp0aGlzLnBvc3RlcigpLGxhbmd1YWdlOnRoaXMubGFuZ3VhZ2UoKSxwbGF5ZXJFbEluZ2VzdDp0aGlzLnBsYXllckVsSW5nZXN0X3x8ITEsInZ0dC5qcyI6dGhpcy5vcHRpb25zX1sidnR0LmpzIl0sY2FuT3ZlcnJpZGVQb3N0ZXI6ISF0aGlzLm9wdGlvbnNfLnRlY2hDYW5PdmVycmlkZVBvc3RlcixlbmFibGVTb3VyY2VzZXQ6dGhpcy5vcHRpb25zXy5lbmFibGVTb3VyY2VzZXQsUHJvbWlzZTp0aGlzLm9wdGlvbnNfLlByb21pc2V9O3duLm5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9d25bZV07YVt0LmdldHRlck5hbWVdPWlbdC5wcml2YXRlTmFtZV19KSxtKGEsdGhpcy5vcHRpb25zX1tuXSksbShhLHRoaXMub3B0aW9uc19bcl0pLG0oYSx0aGlzLm9wdGlvbnNfW2UudG9Mb3dlckNhc2UoKV0pLHRoaXMudGFnJiYoYS50YWc9dGhpcy50YWcpLHQmJnQuc3JjPT09dGhpcy5jYWNoZV8uc3JjJiYwPHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lJiYoYS5zdGFydFRpbWU9dGhpcy5jYWNoZV8uY3VycmVudFRpbWUpO3ZhciBzPWlyLmdldFRlY2goZSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJObyBUZWNoIG5hbWVkICciK24rIicgZXhpc3RzISAnIituKyInIHNob3VsZCBiZSByZWdpc3RlcmVkIHVzaW5nIHZpZGVvanMucmVnaXN0ZXJUZWNoKCknIik7dGhpcy50ZWNoXz1uZXcgcyhhKSx0aGlzLnRlY2hfLnJlYWR5KGRlKHRoaXMsdGhpcy5oYW5kbGVUZWNoUmVhZHlfKSwhMCksQ3QodGhpcy50ZXh0VHJhY2tzSnNvbl98fFtdLHRoaXMudGVjaF8pLFlhLmZvckVhY2goZnVuY3Rpb24oZSl7aS5vbihpLnRlY2hfLGUsaVsiaGFuZGxlVGVjaCIrSWUoZSkrIl8iXSl9KSxPYmplY3Qua2V5cyhRYSkuZm9yRWFjaChmdW5jdGlvbih0KXtpLm9uKGkudGVjaF8sdCxmdW5jdGlvbihlKXswPT09aS50ZWNoXy5wbGF5YmFja1JhdGUoKSYmaS50ZWNoXy5zZWVraW5nKCk/aS5xdWV1ZWRDYWxsYmFja3NfLnB1c2goe2NhbGxiYWNrOmlbImhhbmRsZVRlY2giK1FhW3RdKyJfIl0uYmluZChpKSxldmVudDplfSk6aVsiaGFuZGxlVGVjaCIrUWFbdF0rIl8iXShlKX0pfSksdGhpcy5vbih0aGlzLnRlY2hfLCJsb2Fkc3RhcnQiLHRoaXMuaGFuZGxlVGVjaExvYWRTdGFydF8pLHRoaXMub24odGhpcy50ZWNoXywic291cmNlc2V0Iix0aGlzLmhhbmRsZVRlY2hTb3VyY2VzZXRfKSx0aGlzLm9uKHRoaXMudGVjaF8sIndhaXRpbmciLHRoaXMuaGFuZGxlVGVjaFdhaXRpbmdfKSx0aGlzLm9uKHRoaXMudGVjaF8sImVuZGVkIix0aGlzLmhhbmRsZVRlY2hFbmRlZF8pLHRoaXMub24odGhpcy50ZWNoXywic2Vla2luZyIsdGhpcy5oYW5kbGVUZWNoU2Vla2luZ18pLHRoaXMub24odGhpcy50ZWNoXywicGxheSIsdGhpcy5oYW5kbGVUZWNoUGxheV8pLHRoaXMub24odGhpcy50ZWNoXywiZmlyc3RwbGF5Iix0aGlzLmhhbmRsZVRlY2hGaXJzdFBsYXlfKSx0aGlzLm9uKHRoaXMudGVjaF8sInBhdXNlIix0aGlzLmhhbmRsZVRlY2hQYXVzZV8pLHRoaXMub24odGhpcy50ZWNoXywiZHVyYXRpb25jaGFuZ2UiLHRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXyksdGhpcy5vbih0aGlzLnRlY2hfLCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLmhhbmRsZVRlY2hGdWxsc2NyZWVuQ2hhbmdlXyksdGhpcy5vbih0aGlzLnRlY2hfLCJlbnRlcnBpY3R1cmVpbnBpY3R1cmUiLHRoaXMuaGFuZGxlVGVjaEVudGVyUGljdHVyZUluUGljdHVyZV8pLHRoaXMub24odGhpcy50ZWNoXywibGVhdmVwaWN0dXJlaW5waWN0dXJlIix0aGlzLmhhbmRsZVRlY2hMZWF2ZVBpY3R1cmVJblBpY3R1cmVfKSx0aGlzLm9uKHRoaXMudGVjaF8sImVycm9yIix0aGlzLmhhbmRsZVRlY2hFcnJvcl8pLHRoaXMub24odGhpcy50ZWNoXywibG9hZGVkbWV0YWRhdGEiLHRoaXMudXBkYXRlU3R5bGVFbF8pLHRoaXMub24odGhpcy50ZWNoXywicG9zdGVyY2hhbmdlIix0aGlzLmhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfKSx0aGlzLm9uKHRoaXMudGVjaF8sInRleHRkYXRhIix0aGlzLmhhbmRsZVRlY2hUZXh0RGF0YV8pLHRoaXMub24odGhpcy50ZWNoXywicmF0ZWNoYW5nZSIsdGhpcy5oYW5kbGVUZWNoUmF0ZUNoYW5nZV8pLHRoaXMudXNpbmdOYXRpdmVDb250cm9scyh0aGlzLnRlY2hHZXRfKCJjb250cm9scyIpKSx0aGlzLmNvbnRyb2xzKCkmJiF0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKSYmdGhpcy5hZGRUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCksdGhpcy50ZWNoXy5lbCgpLnBhcmVudE5vZGU9PT10aGlzLmVsKCl8fCJIdG1sNSI9PT1uJiZ0aGlzLnRhZ3x8Uyh0aGlzLnRlY2hfLmVsKCksdGhpcy5lbCgpKSx0aGlzLnRhZyYmKHRoaXMudGFnLnBsYXllcj1udWxsLHRoaXMudGFnPW51bGwpfSxlLnVubG9hZFRlY2hfPWZ1bmN0aW9uKCl7dmFyIGk9dGhpczt3bi5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXduW2VdO2lbdC5wcml2YXRlTmFtZV09aVt0LmdldHRlck5hbWVdKCl9KSx0aGlzLnRleHRUcmFja3NKc29uXz1rdCh0aGlzLnRlY2hfKSx0aGlzLmlzUmVhZHlfPSExLHRoaXMudGVjaF8uZGlzcG9zZSgpLHRoaXMudGVjaF89ITEsdGhpcy5pc1Bvc3RlckZyb21UZWNoXyYmKHRoaXMucG9zdGVyXz0iIix0aGlzLnRyaWdnZXIoInBvc3RlcmNoYW5nZSIpKSx0aGlzLmlzUG9zdGVyRnJvbVRlY2hfPSExfSxlLnRlY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJnAud2FybigiVXNpbmcgdGhlIHRlY2ggZGlyZWN0bHkgY2FuIGJlIGRhbmdlcm91cy4gSSBob3BlIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxuU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlb2pzL3ZpZGVvLmpzL2lzc3Vlcy8yNjE3IGZvciBtb3JlIGluZm8uXG4iKSx0aGlzLnRlY2hffSxlLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc189ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVRlY2hDb250cm9sc0xpc3RlbmVyc18oKSx0aGlzLm9uKHRoaXMudGVjaF8sIm1vdXNldXAiLHRoaXMuaGFuZGxlVGVjaENsaWNrXyksdGhpcy5vbih0aGlzLnRlY2hfLCJkYmxjbGljayIsdGhpcy5oYW5kbGVUZWNoRG91YmxlQ2xpY2tfKSx0aGlzLm9uKHRoaXMudGVjaF8sInRvdWNoc3RhcnQiLHRoaXMuaGFuZGxlVGVjaFRvdWNoU3RhcnRfKSx0aGlzLm9uKHRoaXMudGVjaF8sInRvdWNobW92ZSIsdGhpcy5oYW5kbGVUZWNoVG91Y2hNb3ZlXyksdGhpcy5vbih0aGlzLnRlY2hfLCJ0b3VjaGVuZCIsdGhpcy5oYW5kbGVUZWNoVG91Y2hFbmRfKSx0aGlzLm9uKHRoaXMudGVjaF8sInRhcCIsdGhpcy5oYW5kbGVUZWNoVGFwXyl9LGUucmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXz1mdW5jdGlvbigpe3RoaXMub2ZmKHRoaXMudGVjaF8sInRhcCIsdGhpcy5oYW5kbGVUZWNoVGFwXyksdGhpcy5vZmYodGhpcy50ZWNoXywidG91Y2hzdGFydCIsdGhpcy5oYW5kbGVUZWNoVG91Y2hTdGFydF8pLHRoaXMub2ZmKHRoaXMudGVjaF8sInRvdWNobW92ZSIsdGhpcy5oYW5kbGVUZWNoVG91Y2hNb3ZlXyksdGhpcy5vZmYodGhpcy50ZWNoXywidG91Y2hlbmQiLHRoaXMuaGFuZGxlVGVjaFRvdWNoRW5kXyksdGhpcy5vZmYodGhpcy50ZWNoXywibW91c2V1cCIsdGhpcy5oYW5kbGVUZWNoQ2xpY2tfKSx0aGlzLm9mZih0aGlzLnRlY2hfLCJkYmxjbGljayIsdGhpcy5oYW5kbGVUZWNoRG91YmxlQ2xpY2tfKX0sZS5oYW5kbGVUZWNoUmVhZHlfPWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyUmVhZHkoKSx0aGlzLmNhY2hlXy52b2x1bWUmJnRoaXMudGVjaENhbGxfKCJzZXRWb2x1bWUiLHRoaXMuY2FjaGVfLnZvbHVtZSksdGhpcy5oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXygpLHRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXygpfSxlLmhhbmRsZVRlY2hMb2FkU3RhcnRfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLWVuZGVkIiksdGhpcy5yZW1vdmVDbGFzcygidmpzLXNlZWtpbmciKSx0aGlzLmVycm9yKG51bGwpLHRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXygpLHRoaXMucGF1c2VkKCk/KHRoaXMuaGFzU3RhcnRlZCghMSksdGhpcy50cmlnZ2VyKCJsb2Fkc3RhcnQiKSk6KHRoaXMudHJpZ2dlcigibG9hZHN0YXJ0IiksdGhpcy50cmlnZ2VyKCJmaXJzdHBsYXkiKSksdGhpcy5tYW51YWxBdXRvcGxheV8odGhpcy5hdXRvcGxheSgpKX0sZS5tYW51YWxBdXRvcGxheV89ZnVuY3Rpb24odCl7dmFyIG49dGhpcztpZih0aGlzLnRlY2hfJiYic3RyaW5nIj09dHlwZW9mIHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1uLm11dGVkKCk7bi5tdXRlZCghMCk7ZnVuY3Rpb24gdCgpe24ubXV0ZWQoZSl9bi5wbGF5VGVybWluYXRlZFF1ZXVlXy5wdXNoKHQpO3ZhciBpPW4ucGxheSgpO2lmKGJ0KGkpKXJldHVybiBpLmNhdGNoKHQpfXZhciBpO2lmKCJhbnkiPT09dCYmITAhPT10aGlzLm11dGVkKCk/YnQoaT10aGlzLnBsYXkoKSkmJihpPWkuY2F0Y2goZSkpOmk9Im11dGVkIj09PXQmJiEwIT09dGhpcy5tdXRlZCgpP2UoKTp0aGlzLnBsYXkoKSxidChpKSlyZXR1cm4gaS50aGVuKGZ1bmN0aW9uKCl7bi50cmlnZ2VyKHt0eXBlOiJhdXRvcGxheS1zdWNjZXNzIixhdXRvcGxheTp0fSl9KS5jYXRjaChmdW5jdGlvbihlKXtuLnRyaWdnZXIoe3R5cGU6ImF1dG9wbGF5LWZhaWx1cmUiLGF1dG9wbGF5OnR9KX0pfX0sZS51cGRhdGVTb3VyY2VDYWNoZXNfPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSIiKTt2YXIgdD1lLGk9IiI7InN0cmluZyIhPXR5cGVvZiB0JiYodD1lLnNyYyxpPWUudHlwZSksdGhpcy5jYWNoZV8uc291cmNlPXRoaXMuY2FjaGVfLnNvdXJjZXx8e30sdGhpcy5jYWNoZV8uc291cmNlcz10aGlzLmNhY2hlXy5zb3VyY2VzfHxbXSx0JiYhaSYmKGk9ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4iIjtpZihlLmNhY2hlXy5zb3VyY2Uuc3JjPT09dCYmZS5jYWNoZV8uc291cmNlLnR5cGUpcmV0dXJuIGUuY2FjaGVfLnNvdXJjZS50eXBlO3ZhciBpPWUuY2FjaGVfLnNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNyYz09PXR9KTtpZihpLmxlbmd0aClyZXR1cm4gaVswXS50eXBlO2Zvcih2YXIgbj1lLiQkKCJzb3VyY2UiKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoYS50eXBlJiZhLnNyYyYmYS5zcmM9PT10KXJldHVybiBhLnR5cGV9cmV0dXJuIHByKHQpfSh0aGlzLHQpKSx0aGlzLmNhY2hlXy5zb3VyY2U9TGUoe30sZSx7c3JjOnQsdHlwZTppfSk7Zm9yKHZhciBuPXRoaXMuY2FjaGVfLnNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNyYyYmZS5zcmM9PT10fSkscj1bXSxhPXRoaXMuJCQoInNvdXJjZSIpLHM9W10sbz0wO288YS5sZW5ndGg7bysrKXt2YXIgdT1QKGFbb10pO3IucHVzaCh1KSx1LnNyYyYmdS5zcmM9PT10JiZzLnB1c2godS5zcmMpfXMubGVuZ3RoJiYhbi5sZW5ndGg/dGhpcy5jYWNoZV8uc291cmNlcz1yOm4ubGVuZ3RofHwodGhpcy5jYWNoZV8uc291cmNlcz1bdGhpcy5jYWNoZV8uc291cmNlXSksdGhpcy5jYWNoZV8uc3JjPXR9LGUuaGFuZGxlVGVjaFNvdXJjZXNldF89ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcztpZighdGhpcy5jaGFuZ2luZ1NyY18pe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBpLnVwZGF0ZVNvdXJjZUNhY2hlc18oZSl9LG49dGhpcy5jdXJyZW50U291cmNlKCkuc3JjLHI9ZS5zcmM7biYmIS9eYmxvYjovLnRlc3QobikmJi9eYmxvYjovLnRlc3QocikmJih0aGlzLmxhc3RTb3VyY2VfJiYodGhpcy5sYXN0U291cmNlXy50ZWNoPT09cnx8dGhpcy5sYXN0U291cmNlXy5wbGF5ZXI9PT1uKXx8KHQ9ZnVuY3Rpb24oKXt9KSksdChyKSxlLnNyY3x8dGhpcy50ZWNoXy5hbnkoWyJzb3VyY2VzZXQiLCJsb2Fkc3RhcnQiXSxmdW5jdGlvbihlKXtpZigic291cmNlc2V0IiE9PWUudHlwZSl7dmFyIHQ9aS50ZWNoR2V0KCJjdXJyZW50U3JjIik7aS5sYXN0U291cmNlXy50ZWNoPXQsaS51cGRhdGVTb3VyY2VDYWNoZXNfKHQpfX0pfXRoaXMubGFzdFNvdXJjZV89e3BsYXllcjp0aGlzLmN1cnJlbnRTb3VyY2UoKS5zcmMsdGVjaDplLnNyY30sdGhpcy50cmlnZ2VyKHtzcmM6ZS5zcmMsdHlwZToic291cmNlc2V0In0pfSxlLmhhc1N0YXJ0ZWQ9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5oYXNTdGFydGVkXztlIT09dGhpcy5oYXNTdGFydGVkXyYmKHRoaXMuaGFzU3RhcnRlZF89ZSx0aGlzLmhhc1N0YXJ0ZWRfPyh0aGlzLmFkZENsYXNzKCJ2anMtaGFzLXN0YXJ0ZWQiKSx0aGlzLnRyaWdnZXIoImZpcnN0cGxheSIpKTp0aGlzLnJlbW92ZUNsYXNzKCJ2anMtaGFzLXN0YXJ0ZWQiKSl9LGUuaGFuZGxlVGVjaFBsYXlfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLWVuZGVkIiksdGhpcy5yZW1vdmVDbGFzcygidmpzLXBhdXNlZCIpLHRoaXMuYWRkQ2xhc3MoInZqcy1wbGF5aW5nIiksdGhpcy5oYXNTdGFydGVkKCEwKSx0aGlzLnRyaWdnZXIoInBsYXkiKX0sZS5oYW5kbGVUZWNoUmF0ZUNoYW5nZV89ZnVuY3Rpb24oKXswPHRoaXMudGVjaF8ucGxheWJhY2tSYXRlKCkmJjA9PT10aGlzLmNhY2hlXy5sYXN0UGxheWJhY2tSYXRlJiYodGhpcy5xdWV1ZWRDYWxsYmFja3NfLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FsbGJhY2soZS5ldmVudCl9KSx0aGlzLnF1ZXVlZENhbGxiYWNrc189W10pLHRoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGU9dGhpcy50ZWNoXy5wbGF5YmFja1JhdGUoKSx0aGlzLnRyaWdnZXIoInJhdGVjaGFuZ2UiKX0sZS5oYW5kbGVUZWNoV2FpdGluZ189ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYWRkQ2xhc3MoInZqcy13YWl0aW5nIiksdGhpcy50cmlnZ2VyKCJ3YWl0aW5nIik7dmFyIGk9dGhpcy5jdXJyZW50VGltZSgpO3RoaXMub24oInRpbWV1cGRhdGUiLGZ1bmN0aW9uIGUoKXtpIT09dC5jdXJyZW50VGltZSgpJiYodC5yZW1vdmVDbGFzcygidmpzLXdhaXRpbmciKSx0Lm9mZigidGltZXVwZGF0ZSIsZSkpfSl9LGUuaGFuZGxlVGVjaENhblBsYXlfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLXdhaXRpbmciKSx0aGlzLnRyaWdnZXIoImNhbnBsYXkiKX0sZS5oYW5kbGVUZWNoQ2FuUGxheVRocm91Z2hfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLXdhaXRpbmciKSx0aGlzLnRyaWdnZXIoImNhbnBsYXl0aHJvdWdoIil9LGUuaGFuZGxlVGVjaFBsYXlpbmdfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLXdhaXRpbmciKSx0aGlzLnRyaWdnZXIoInBsYXlpbmciKX0sZS5oYW5kbGVUZWNoU2Vla2luZ189ZnVuY3Rpb24oKXt0aGlzLmFkZENsYXNzKCJ2anMtc2Vla2luZyIpLHRoaXMudHJpZ2dlcigic2Vla2luZyIpfSxlLmhhbmRsZVRlY2hTZWVrZWRfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLXNlZWtpbmciKSx0aGlzLnJlbW92ZUNsYXNzKCJ2anMtZW5kZWQiKSx0aGlzLnRyaWdnZXIoInNlZWtlZCIpfSxlLmhhbmRsZVRlY2hGaXJzdFBsYXlfPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zXy5zdGFydHRpbWUmJihwLndhcm4oIlBhc3NpbmcgdGhlIGBzdGFydHRpbWVgIG9wdGlvbiB0byB0aGUgcGxheWVyIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiA2LjAiKSx0aGlzLmN1cnJlbnRUaW1lKHRoaXMub3B0aW9uc18uc3RhcnR0aW1lKSksdGhpcy5hZGRDbGFzcygidmpzLWhhcy1zdGFydGVkIiksdGhpcy50cmlnZ2VyKCJmaXJzdHBsYXkiKX0sZS5oYW5kbGVUZWNoUGF1c2VfPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcygidmpzLXBsYXlpbmciKSx0aGlzLmFkZENsYXNzKCJ2anMtcGF1c2VkIiksdGhpcy50cmlnZ2VyKCJwYXVzZSIpfSxlLmhhbmRsZVRlY2hFbmRlZF89ZnVuY3Rpb24oKXt0aGlzLmFkZENsYXNzKCJ2anMtZW5kZWQiKSx0aGlzLm9wdGlvbnNfLmxvb3A/KHRoaXMuY3VycmVudFRpbWUoMCksdGhpcy5wbGF5KCkpOnRoaXMucGF1c2VkKCl8fHRoaXMucGF1c2UoKSx0aGlzLnRyaWdnZXIoImVuZGVkIil9LGUuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXz1mdW5jdGlvbigpe3RoaXMuZHVyYXRpb24odGhpcy50ZWNoR2V0XygiZHVyYXRpb24iKSl9LGUuaGFuZGxlVGVjaENsaWNrXz1mdW5jdGlvbihlKXtWKGUpJiZ0aGlzLmNvbnRyb2xzXyYmKHRoaXMucGF1c2VkKCk/VHQodGhpcy5wbGF5KCkpOnRoaXMucGF1c2UoKSl9LGUuaGFuZGxlVGVjaERvdWJsZUNsaWNrXz1mdW5jdGlvbih0KXt0aGlzLmNvbnRyb2xzXyYmKEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodGhpcy4kJCgiLnZqcy1jb250cm9sLWJhciwgLnZqcy1tb2RhbC1kaWFsb2ciKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWlucyh0LnRhcmdldCl9KXx8dm9pZCAwIT09dGhpcy5vcHRpb25zXyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5kb3VibGVDbGljayYmITE9PT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrfHwodm9pZCAwIT09dGhpcy5vcHRpb25zXyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuZG91YmxlQ2xpY2s/dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5kb3VibGVDbGljay5jYWxsKHRoaXMsdCk6dGhpcy5pc0Z1bGxzY3JlZW4oKT90aGlzLmV4aXRGdWxsc2NyZWVuKCk6dGhpcy5yZXF1ZXN0RnVsbHNjcmVlbigpKSl9LGUuaGFuZGxlVGVjaFRhcF89ZnVuY3Rpb24oKXt0aGlzLnVzZXJBY3RpdmUoIXRoaXMudXNlckFjdGl2ZSgpKX0sZS5oYW5kbGVUZWNoVG91Y2hTdGFydF89ZnVuY3Rpb24oKXt0aGlzLnVzZXJXYXNBY3RpdmU9dGhpcy51c2VyQWN0aXZlKCl9LGUuaGFuZGxlVGVjaFRvdWNoTW92ZV89ZnVuY3Rpb24oKXt0aGlzLnVzZXJXYXNBY3RpdmUmJnRoaXMucmVwb3J0VXNlckFjdGl2aXR5KCl9LGUuaGFuZGxlVGVjaFRvdWNoRW5kXz1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9LGUuaGFuZGxlU3RhZ2VDbGlja189ZnVuY3Rpb24oKXt0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSgpfSxlLnRvZ2dsZUZ1bGxzY3JlZW5DbGFzc189ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbigpP3RoaXMuYWRkQ2xhc3MoInZqcy1mdWxsc2NyZWVuIik6dGhpcy5yZW1vdmVDbGFzcygidmpzLWZ1bGxzY3JlZW4iKX0sZS5kb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWwoKSxpPWhbdGhpcy5mc0FwaV8uZnVsbHNjcmVlbkVsZW1lbnRdPT09dDshaSYmdC5tYXRjaGVzP2k9dC5tYXRjaGVzKCI6Iit0aGlzLmZzQXBpXy5mdWxsc2NyZWVuKTohaSYmdC5tc01hdGNoZXNTZWxlY3RvciYmKGk9dC5tc01hdGNoZXNTZWxlY3RvcigiOiIrdGhpcy5mc0FwaV8uZnVsbHNjcmVlbikpLHRoaXMuaXNGdWxsc2NyZWVuKGkpLCExPT09dGhpcy5pc0Z1bGxzY3JlZW4oKSYmdWUoaCx0aGlzLmZzQXBpXy5mdWxsc2NyZWVuY2hhbmdlLHRoaXMuYm91bmREb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKSx0aGlzLmZzQXBpXy5wcmVmaXhlZCYmdGhpcy50cmlnZ2VyKCJmdWxsc2NyZWVuY2hhbmdlIil9LGUuaGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfPWZ1bmN0aW9uKGUsdCl7dCYmdGhpcy5pc0Z1bGxzY3JlZW4odC5pc0Z1bGxzY3JlZW4pLHRoaXMudHJpZ2dlcigiZnVsbHNjcmVlbmNoYW5nZSIpfSxlLnRvZ2dsZVBpY3R1cmVJblBpY3R1cmVDbGFzc189ZnVuY3Rpb24oKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCk/dGhpcy5hZGRDbGFzcygidmpzLXBpY3R1cmUtaW4tcGljdHVyZSIpOnRoaXMucmVtb3ZlQ2xhc3MoInZqcy1waWN0dXJlLWluLXBpY3R1cmUiKX0sZS5oYW5kbGVUZWNoRW50ZXJQaWN0dXJlSW5QaWN0dXJlXz1mdW5jdGlvbihlKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCEwKX0sZS5oYW5kbGVUZWNoTGVhdmVQaWN0dXJlSW5QaWN0dXJlXz1mdW5jdGlvbihlKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCExKX0sZS5oYW5kbGVUZWNoRXJyb3JfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50ZWNoXy5lcnJvcigpO3RoaXMuZXJyb3IoZSl9LGUuaGFuZGxlVGVjaFRleHREYXRhXz1mdW5jdGlvbihlLHQpe3ZhciBpPW51bGw7MTxhcmd1bWVudHMubGVuZ3RoJiYoaT10KSx0aGlzLnRyaWdnZXIoInRleHRkYXRhIixpKX0sZS5nZXRDYWNoZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlX30sZS5yZXNldENhY2hlXz1mdW5jdGlvbigpe3RoaXMuY2FjaGVfPXtjdXJyZW50VGltZTowLGluYWN0aXZpdHlUaW1lb3V0OnRoaXMub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQsZHVyYXRpb246TmFOLGxhc3RWb2x1bWU6MSxsYXN0UGxheWJhY2tSYXRlOnRoaXMuZGVmYXVsdFBsYXliYWNrUmF0ZSgpLG1lZGlhOm51bGwsc3JjOiIiLHNvdXJjZTp7fSxzb3VyY2VzOltdLHZvbHVtZToxfX0sZS50ZWNoQ2FsbF89ZnVuY3Rpb24oZSx0KXt0aGlzLnJlYWR5KGZ1bmN0aW9uKCl7aWYoZSBpbiBscilyZXR1cm4gZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIHRbaV0oZS5yZWR1Y2UoaHIoaSksbikpfSh0aGlzLm1pZGRsZXdhcmVfLHRoaXMudGVjaF8sZSx0KTtpZihlIGluIGNyKXJldHVybiBvcih0aGlzLm1pZGRsZXdhcmVfLHRoaXMudGVjaF8sZSx0KTt0cnl7dGhpcy50ZWNoXyYmdGhpcy50ZWNoX1tlXSh0KX1jYXRjaChlKXt0aHJvdyBwKGUpLGV9fSwhMCl9LGUudGVjaEdldF89ZnVuY3Rpb24odCl7aWYodGhpcy50ZWNoXyYmdGhpcy50ZWNoXy5pc1JlYWR5Xyl7aWYodCBpbiB1cilyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlLnJlZHVjZVJpZ2h0KGhyKGkpLHRbaV0oKSl9KHRoaXMubWlkZGxld2FyZV8sdGhpcy50ZWNoXyx0KTtpZih0IGluIGNyKXJldHVybiBvcih0aGlzLm1pZGRsZXdhcmVfLHRoaXMudGVjaF8sdCk7dHJ5e3JldHVybiB0aGlzLnRlY2hfW3RdKCl9Y2F0Y2goZSl7aWYodm9pZCAwPT09dGhpcy50ZWNoX1t0XSl0aHJvdyBwKCJWaWRlby5qczogIit0KyIgbWV0aG9kIG5vdCBkZWZpbmVkIGZvciAiK3RoaXMudGVjaE5hbWVfKyIgcGxheWJhY2sgdGVjaG5vbG9neS4iLGUpLGU7aWYoIlR5cGVFcnJvciI9PT1lLm5hbWUpdGhyb3cgcCgiVmlkZW8uanM6ICIrdCsiIHVuYXZhaWxhYmxlIG9uICIrdGhpcy50ZWNoTmFtZV8rIiBwbGF5YmFjayB0ZWNobm9sb2d5IGVsZW1lbnQuIixlKSx0aGlzLnRlY2hfLmlzUmVhZHlfPSExLGU7dGhyb3cgcChlKSxlfX19LGUucGxheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLm9wdGlvbnNfLlByb21pc2V8fHYuUHJvbWlzZTtyZXR1cm4gZT9uZXcgZShmdW5jdGlvbihlKXt0LnBsYXlfKGUpfSk6dGhpcy5wbGF5XygpfSxlLnBsYXlfPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9VHQpLHRoaXMucGxheUNhbGxiYWNrc18ucHVzaChlKTt2YXIgaT1Cb29sZWFuKCF0aGlzLmNoYW5naW5nU3JjXyYmKHRoaXMuc3JjKCl8fHRoaXMuY3VycmVudFNyYygpKSk7aWYodGhpcy53YWl0VG9QbGF5XyYmKHRoaXMub2ZmKFsicmVhZHkiLCJsb2Fkc3RhcnQiXSx0aGlzLndhaXRUb1BsYXlfKSx0aGlzLndhaXRUb1BsYXlfPW51bGwpLCF0aGlzLmlzUmVhZHlffHwhaSlyZXR1cm4gdGhpcy53YWl0VG9QbGF5Xz1mdW5jdGlvbihlKXt0LnBsYXlfKCl9LHRoaXMub25lKFsicmVhZHkiLCJsb2Fkc3RhcnQiXSx0aGlzLndhaXRUb1BsYXlfKSx2b2lkKGl8fCFudCYmISRlfHx0aGlzLmxvYWQoKSk7dmFyIG49dGhpcy50ZWNoR2V0XygicGxheSIpO251bGw9PT1uP3RoaXMucnVuUGxheVRlcm1pbmF0ZWRRdWV1ZV8oKTp0aGlzLnJ1blBsYXlDYWxsYmFja3NfKG4pfSxlLnJ1blBsYXlUZXJtaW5hdGVkUXVldWVfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXy5zbGljZSgwKTt0aGlzLnBsYXlUZXJtaW5hdGVkUXVldWVfPVtdLGUuZm9yRWFjaChmdW5jdGlvbihlKXtlKCl9KX0sZS5ydW5QbGF5Q2FsbGJhY2tzXz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBsYXlDYWxsYmFja3NfLnNsaWNlKDApO3RoaXMucGxheUNhbGxiYWNrc189W10sdGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXz1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh0KX0pfSxlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy50ZWNoQ2FsbF8oInBhdXNlIil9LGUucGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuITEhPT10aGlzLnRlY2hHZXRfKCJwYXVzZWQiKX0sZS5wbGF5ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWNoR2V0XygicGxheWVkIil8fGx0KDAsMCl9LGUuc2NydWJiaW5nPWZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5zY3J1YmJpbmdfO3RoaXMuc2NydWJiaW5nXz0hIWUsZT90aGlzLmFkZENsYXNzKCJ2anMtc2NydWJiaW5nIik6dGhpcy5yZW1vdmVDbGFzcygidmpzLXNjcnViYmluZyIpfSxlLmN1cnJlbnRUaW1lPWZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgZT8oZTwwJiYoZT0wKSx2b2lkIHRoaXMudGVjaENhbGxfKCJzZXRDdXJyZW50VGltZSIsZSkpOih0aGlzLmNhY2hlXy5jdXJyZW50VGltZT10aGlzLnRlY2hHZXRfKCJjdXJyZW50VGltZSIpfHwwLHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lKX0sZS5kdXJhdGlvbj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB2b2lkIDAhPT10aGlzLmNhY2hlXy5kdXJhdGlvbj90aGlzLmNhY2hlXy5kdXJhdGlvbjpOYU47KGU9cGFyc2VGbG9hdChlKSk8MCYmKGU9MS8wKSxlIT09dGhpcy5jYWNoZV8uZHVyYXRpb24mJigodGhpcy5jYWNoZV8uZHVyYXRpb249ZSk9PT0xLzA/KHRoaXMuYWRkQ2xhc3MoInZqcy1saXZlIiksdGhpcy5vcHRpb25zXy5saXZldWkmJnRoaXMucGxheWVyXy5saXZlVHJhY2tlciYmdGhpcy5hZGRDbGFzcygidmpzLWxpdmV1aSIpKToodGhpcy5yZW1vdmVDbGFzcygidmpzLWxpdmUiKSx0aGlzLnJlbW92ZUNsYXNzKCJ2anMtbGl2ZXVpIikpLGlzTmFOKGUpfHx0aGlzLnRyaWdnZXIoImR1cmF0aW9uY2hhbmdlIikpfSxlLnJlbWFpbmluZ1RpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbigpLXRoaXMuY3VycmVudFRpbWUoKX0sZS5yZW1haW5pbmdUaW1lRGlzcGxheT1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMuZHVyYXRpb24oKSktTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRUaW1lKCkpfSxlLmJ1ZmZlcmVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50ZWNoR2V0XygiYnVmZmVyZWQiKTtyZXR1cm4gZSYmZS5sZW5ndGh8fChlPWx0KDAsMCkpLGV9LGUuYnVmZmVyZWRQZXJjZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGN0KHRoaXMuYnVmZmVyZWQoKSx0aGlzLmR1cmF0aW9uKCkpfSxlLmJ1ZmZlcmVkRW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWZmZXJlZCgpLHQ9dGhpcy5kdXJhdGlvbigpLGk9ZS5lbmQoZS5sZW5ndGgtMSk7cmV0dXJuIHQ8aSYmKGk9dCksaX0sZS52b2x1bWU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHZvaWQgMCE9PWU/KHQ9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQoZSkpKSx0aGlzLmNhY2hlXy52b2x1bWU9dCx0aGlzLnRlY2hDYWxsXygic2V0Vm9sdW1lIix0KSx2b2lkKDA8dCYmdGhpcy5sYXN0Vm9sdW1lXyh0KSkpOih0PXBhcnNlRmxvYXQodGhpcy50ZWNoR2V0Xygidm9sdW1lIikpLGlzTmFOKHQpPzE6dCl9LGUubXV0ZWQ9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy50ZWNoR2V0XygibXV0ZWQiKXx8ITE7dGhpcy50ZWNoQ2FsbF8oInNldE11dGVkIixlKX0sZS5kZWZhdWx0TXV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy50ZWNoQ2FsbF8oInNldERlZmF1bHRNdXRlZCIsZSk6dGhpcy50ZWNoR2V0XygiZGVmYXVsdE11dGVkIil8fCExfSxlLmxhc3RWb2x1bWVfPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWV8fDA9PT1lKXJldHVybiB0aGlzLmNhY2hlXy5sYXN0Vm9sdW1lO3RoaXMuY2FjaGVfLmxhc3RWb2x1bWU9ZX0sZS5zdXBwb3J0c0Z1bGxTY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWNoR2V0Xygic3VwcG9ydHNGdWxsU2NyZWVuIil8fCExfSxlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT8odGhpcy5pc0Z1bGxzY3JlZW5fPSEhZSx2b2lkIHRoaXMudG9nZ2xlRnVsbHNjcmVlbkNsYXNzXygpKTohIXRoaXMuaXNGdWxsc2NyZWVuX30sZS5yZXF1ZXN0RnVsbHNjcmVlbj1mdW5jdGlvbihlKXt2YXIgdDt0aGlzLmlzRnVsbHNjcmVlbighMCksdGhpcy5mc0FwaV8ucmVxdWVzdEZ1bGxzY3JlZW4/KG9lKGgsdGhpcy5mc0FwaV8uZnVsbHNjcmVlbmNoYW5nZSx0aGlzLmJvdW5kRG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXyksdGhpcy5mc0FwaV8ucHJlZml4ZWR8fCh0PXRoaXMub3B0aW9uc18uZnVsbHNjcmVlbiYmdGhpcy5vcHRpb25zXy5mdWxsc2NyZWVuLm9wdGlvbnN8fHt9LHZvaWQgMCE9PWUmJih0PWUpKSxUdCh0aGlzLmVsX1t0aGlzLmZzQXBpXy5yZXF1ZXN0RnVsbHNjcmVlbl0odCkpKTp0aGlzLnRlY2hfLnN1cHBvcnRzRnVsbFNjcmVlbigpP3RoaXMudGVjaENhbGxfKCJlbnRlckZ1bGxTY3JlZW4iKToodGhpcy5lbnRlckZ1bGxXaW5kb3coKSx0aGlzLnRyaWdnZXIoImZ1bGxzY3JlZW5jaGFuZ2UiKSl9LGUuZXhpdEZ1bGxzY3JlZW49ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbHNjcmVlbighMSksdGhpcy5mc0FwaV8ucmVxdWVzdEZ1bGxzY3JlZW4/VHQoaFt0aGlzLmZzQXBpXy5leGl0RnVsbHNjcmVlbl0oKSk6dGhpcy50ZWNoXy5zdXBwb3J0c0Z1bGxTY3JlZW4oKT90aGlzLnRlY2hDYWxsXygiZXhpdEZ1bGxTY3JlZW4iKToodGhpcy5leGl0RnVsbFdpbmRvdygpLHRoaXMudHJpZ2dlcigiZnVsbHNjcmVlbmNoYW5nZSIpKX0sZS5lbnRlckZ1bGxXaW5kb3c9ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbFdpbmRvdz0hMCx0aGlzLmRvY09yaWdPdmVyZmxvdz1oLmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyxvZShoLCJrZXlkb3duIix0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5XyksaC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsQyhoLmJvZHksInZqcy1mdWxsLXdpbmRvdyIpLHRoaXMudHJpZ2dlcigiZW50ZXJGdWxsV2luZG93Iil9LGUuZnVsbFdpbmRvd09uRXNjS2V5PWZ1bmN0aW9uKGUpe3d0LmlzRXZlbnRLZXkoZSwiRXNjIikmJighMD09PXRoaXMuaXNGdWxsc2NyZWVuKCk/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZXhpdEZ1bGxXaW5kb3coKSl9LGUuZXhpdEZ1bGxXaW5kb3c9ZnVuY3Rpb24oKXt0aGlzLmlzRnVsbFdpbmRvdz0hMSx1ZShoLCJrZXlkb3duIix0aGlzLmJvdW5kRnVsbFdpbmRvd09uRXNjS2V5XyksaC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9dGhpcy5kb2NPcmlnT3ZlcmZsb3csRShoLmJvZHksInZqcy1mdWxsLXdpbmRvdyIpLHRoaXMudHJpZ2dlcigiZXhpdEZ1bGxXaW5kb3ciKX0sZS5pc0luUGljdHVyZUluUGljdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT8odGhpcy5pc0luUGljdHVyZUluUGljdHVyZV89ISFlLHZvaWQgdGhpcy50b2dnbGVQaWN0dXJlSW5QaWN0dXJlQ2xhc3NfKCkpOiEhdGhpcy5pc0luUGljdHVyZUluUGljdHVyZV99LGUucmVxdWVzdFBpY3R1cmVJblBpY3R1cmU9ZnVuY3Rpb24oKXtpZigicGljdHVyZUluUGljdHVyZUVuYWJsZWQiaW4gaClyZXR1cm4gdGhpcy50ZWNoR2V0XygicmVxdWVzdFBpY3R1cmVJblBpY3R1cmUiKX0sZS5leGl0UGljdHVyZUluUGljdHVyZT1mdW5jdGlvbigpe2lmKCJwaWN0dXJlSW5QaWN0dXJlRW5hYmxlZCJpbiBoKXJldHVybiBoLmV4aXRQaWN0dXJlSW5QaWN0dXJlKCl9LGUuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zO2lmKHQmJnQuaG90a2V5cyl7IWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGUuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuITA7aWYoImlucHV0Ij09PXQpcmV0dXJuLTE9PT1bImJ1dHRvbiIsImNoZWNrYm94IiwiaGlkZGVuIiwicmFkaW8iLCJyZXNldCIsInN1Ym1pdCJdLmluZGV4T2YoZS50eXBlKTtyZXR1cm4tMSE9PVsidGV4dGFyZWEiXS5pbmRleE9mKHQpfSh0aGlzLmVsXy5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpJiYoImZ1bmN0aW9uIj09dHlwZW9mIHQuaG90a2V5cz90LmhvdGtleXMuY2FsbCh0aGlzLGUpOnRoaXMuaGFuZGxlSG90a2V5cyhlKSl9fSxlLmhhbmRsZUhvdGtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucz90aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmhvdGtleXM6e30saT10LmZ1bGxzY3JlZW5LZXksbj12b2lkIDA9PT1pP2Z1bmN0aW9uKGUpe3JldHVybiB3dC5pc0V2ZW50S2V5KGUsImYiKX06aSxyPXQubXV0ZUtleSxhPXZvaWQgMD09PXI/ZnVuY3Rpb24oZSl7cmV0dXJuIHd0LmlzRXZlbnRLZXkoZSwibSIpfTpyLHM9dC5wbGF5UGF1c2VLZXksbz12b2lkIDA9PT1zP2Z1bmN0aW9uKGUpe3JldHVybiB3dC5pc0V2ZW50S2V5KGUsImsiKXx8d3QuaXNFdmVudEtleShlLCJTcGFjZSIpfTpzO2lmKG4uY2FsbCh0aGlzLGUpKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgdT1PZS5nZXRDb21wb25lbnQoIkZ1bGxzY3JlZW5Ub2dnbGUiKTshMSE9PWhbdGhpcy5mc0FwaV8uZnVsbHNjcmVlbkVuYWJsZWRdJiZ1LnByb3RvdHlwZS5oYW5kbGVDbGljay5jYWxsKHRoaXMsZSl9ZWxzZSBpZihhLmNhbGwodGhpcyxlKSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksT2UuZ2V0Q29tcG9uZW50KCJNdXRlVG9nZ2xlIikucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyxlKX1lbHNlIGlmKG8uY2FsbCh0aGlzLGUpKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxPZS5nZXRDb21wb25lbnQoIlBsYXlUb2dnbGUiKS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzLGUpfX0sZS5jYW5QbGF5VHlwZT1mdW5jdGlvbihlKXtmb3IodmFyIHQsaT0wLG49dGhpcy5vcHRpb25zXy50ZWNoT3JkZXI7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV0sYT1pci5nZXRUZWNoKHIpO2lmKGE9YXx8T2UuZ2V0Q29tcG9uZW50KHIpKXtpZihhLmlzU3VwcG9ydGVkKCkmJih0PWEuY2FuUGxheVR5cGUoZSkpKXJldHVybiB0fWVsc2UgcC5lcnJvcignVGhlICInK3IrJyIgdGVjaCBpcyB1bmRlZmluZWQuIFNraXBwZWQgYnJvd3NlciBzdXBwb3J0IGNoZWNrIGZvciB0aGF0IHRlY2guJyl9cmV0dXJuIiJ9LGUuc2VsZWN0U291cmNlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxpLG4pe3ZhciByO3JldHVybiBlLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIGkuc29tZShmdW5jdGlvbihlKXtpZihyPW4odCxlKSlyZXR1cm4hMH0pfSkscn1mdW5jdGlvbiBpKGUsdCl7dmFyIGk9ZVswXTtpZihlWzFdLmNhblBsYXlTb3VyY2UodCxyLm9wdGlvbnNfW2kudG9Mb3dlckNhc2UoKV0pKXJldHVybntzb3VyY2U6dCx0ZWNoOml9fXZhciBuLHI9dGhpcyxhPXRoaXMub3B0aW9uc18udGVjaE9yZGVyLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSxpci5nZXRUZWNoKGUpXX0pLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1lWzBdLGk9ZVsxXTtyZXR1cm4gaT9pLmlzU3VwcG9ydGVkKCk6KHAuZXJyb3IoJ1RoZSAiJyt0KyciIHRlY2ggaXMgdW5kZWZpbmVkLiBTa2lwcGVkIGJyb3dzZXIgc3VwcG9ydCBjaGVjayBmb3IgdGhhdCB0ZWNoLicpLCExKX0pO3JldHVybih0aGlzLm9wdGlvbnNfLnNvdXJjZU9yZGVyP3QoZSxhLChuPWksZnVuY3Rpb24oZSx0KXtyZXR1cm4gbih0LGUpfSkpOnQoYSxlLGkpKXx8ITF9LGUuc3JjPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlKXJldHVybiB0aGlzLmNhY2hlXy5zcmN8fCIiO3ZhciBuPWZ1bmN0aW9uIHQoZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIGk9W107ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9dChlKSxBcnJheS5pc0FycmF5KGUpP2k9aS5jb25jYXQoZSk6cyhlKSYmaS5wdXNoKGUpfSksZT1pfWVsc2UgZT0ic3RyaW5nIj09dHlwZW9mIGUmJmUudHJpbSgpP1ttcih7c3JjOmV9KV06cyhlKSYmInN0cmluZyI9PXR5cGVvZiBlLnNyYyYmZS5zcmMmJmUuc3JjLnRyaW0oKT9bbXIoZSldOltdO3JldHVybiBlfShlKTtuLmxlbmd0aD8odGhpcy5jaGFuZ2luZ1NyY189ITAsdGhpcy5jYWNoZV8uc291cmNlcz1uLHRoaXMudXBkYXRlU291cmNlQ2FjaGVzXyhuWzBdKSxzcih0aGlzLG5bMF0sZnVuY3Rpb24oZSx0KXtpZihpLm1pZGRsZXdhcmVfPXQsaS5jYWNoZV8uc291cmNlcz1uLGkudXBkYXRlU291cmNlQ2FjaGVzXyhlKSxpLnNyY18oZSkpcmV0dXJuIDE8bi5sZW5ndGg/aS5zcmMobi5zbGljZSgxKSk6KGkuY2hhbmdpbmdTcmNfPSExLGkuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZXJyb3Ioe2NvZGU6NCxtZXNzYWdlOnRoaXMubG9jYWxpemUodGhpcy5vcHRpb25zXy5ub3RTdXBwb3J0ZWRNZXNzYWdlKX0pfSwwKSx2b2lkIGkudHJpZ2dlclJlYWR5KCkpOyFmdW5jdGlvbihlLHQpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRUZWNoJiZlLnNldFRlY2godCl9KX0odCxpLnRlY2hfKX0pKTp0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmVycm9yKHtjb2RlOjQsbWVzc2FnZTp0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubm90U3VwcG9ydGVkTWVzc2FnZSl9KX0sMCl9LGUuc3JjXz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9dGhpcy5zZWxlY3RTb3VyY2UoW2VdKTtyZXR1cm4haXx8KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEllKGUpPT09SWUodCl9KGkudGVjaCx0aGlzLnRlY2hOYW1lXyk/dGhpcy5yZWFkeShmdW5jdGlvbigpe3RoaXMudGVjaF8uY29uc3RydWN0b3IucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzZXRTb3VyY2UiKT90aGlzLnRlY2hDYWxsXygic2V0U291cmNlIixlKTp0aGlzLnRlY2hDYWxsXygic3JjIixlLnNyYyksdGhpcy5jaGFuZ2luZ1NyY189ITF9LCEwKToodGhpcy5jaGFuZ2luZ1NyY189ITAsdGhpcy5sb2FkVGVjaF8oaS50ZWNoLGkuc291cmNlKSx0aGlzLnRlY2hfLnJlYWR5KGZ1bmN0aW9uKCl7dC5jaGFuZ2luZ1NyY189ITF9KSksITEpfSxlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnRlY2hDYWxsXygibG9hZCIpfSxlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMub3B0aW9uc18uUHJvbWlzZXx8di5Qcm9taXNlO3RoaXMucGF1c2VkKCl8fCF0P3RoaXMuZG9SZXNldF8oKTpUdCh0aGlzLnBsYXkoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9SZXNldF8oKX0pKX0sZS5kb1Jlc2V0Xz1mdW5jdGlvbigpe3RoaXMudGVjaF8mJnRoaXMudGVjaF8uY2xlYXJUcmFja3MoInRleHQiKSx0aGlzLnJlc2V0Q2FjaGVfKCksdGhpcy5wb3N0ZXIoIiIpLHRoaXMubG9hZFRlY2hfKHRoaXMub3B0aW9uc18udGVjaE9yZGVyWzBdLG51bGwpLHRoaXMudGVjaENhbGxfKCJyZXNldCIpLHRoaXMucmVzZXRDb250cm9sQmFyVUlfKCksa2UodGhpcykmJnRoaXMudHJpZ2dlcigicGxheWVycmVzZXQiKX0sZS5yZXNldENvbnRyb2xCYXJVSV89ZnVuY3Rpb24oKXt0aGlzLnJlc2V0UHJvZ3Jlc3NCYXJfKCksdGhpcy5yZXNldFBsYXliYWNrUmF0ZV8oKSx0aGlzLnJlc2V0Vm9sdW1lQmFyXygpfSxlLnJlc2V0UHJvZ3Jlc3NCYXJfPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50VGltZSgwKTt2YXIgZT10aGlzLmNvbnRyb2xCYXIsdD1lLmR1cmF0aW9uRGlzcGxheSxpPWUucmVtYWluaW5nVGltZURpc3BsYXk7dCYmdC51cGRhdGVDb250ZW50KCksaSYmaS51cGRhdGVDb250ZW50KCl9LGUucmVzZXRQbGF5YmFja1JhdGVfPWZ1bmN0aW9uKCl7dGhpcy5wbGF5YmFja1JhdGUodGhpcy5kZWZhdWx0UGxheWJhY2tSYXRlKCkpLHRoaXMuaGFuZGxlVGVjaFJhdGVDaGFuZ2VfKCl9LGUucmVzZXRWb2x1bWVCYXJfPWZ1bmN0aW9uKCl7dGhpcy52b2x1bWUoMSksdGhpcy50cmlnZ2VyKCJ2b2x1bWVjaGFuZ2UiKX0sZS5jdXJyZW50U291cmNlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY3VycmVudFNvdXJjZSgpLHQ9W107cmV0dXJuIDAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnQucHVzaChlKSx0aGlzLmNhY2hlXy5zb3VyY2VzfHx0fSxlLmN1cnJlbnRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZV8uc291cmNlfHx7fX0sZS5jdXJyZW50U3JjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZSgpJiZ0aGlzLmN1cnJlbnRTb3VyY2UoKS5zcmN8fCIifSxlLmN1cnJlbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudFNvdXJjZSgpJiZ0aGlzLmN1cnJlbnRTb3VyY2UoKS50eXBlfHwiIn0sZS5wcmVsb2FkPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lPyh0aGlzLnRlY2hDYWxsXygic2V0UHJlbG9hZCIsZSksdm9pZCh0aGlzLm9wdGlvbnNfLnByZWxvYWQ9ZSkpOnRoaXMudGVjaEdldF8oInByZWxvYWQiKX0sZS5hdXRvcGxheT1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLm9wdGlvbnNfLmF1dG9wbGF5fHwhMTt2YXIgdDsic3RyaW5nIj09dHlwZW9mIGUmJi8oYW55fHBsYXl8bXV0ZWQpLy50ZXN0KGUpPyh0aGlzLm9wdGlvbnNfLmF1dG9wbGF5PWUsdGhpcy5tYW51YWxBdXRvcGxheV8oZSksdD0hMSk6dGhpcy5vcHRpb25zXy5hdXRvcGxheT0hIWUsdD0idW5kZWZpbmVkIj09dHlwZW9mIHQ/dGhpcy5vcHRpb25zXy5hdXRvcGxheTp0LHRoaXMudGVjaF8mJnRoaXMudGVjaENhbGxfKCJzZXRBdXRvcGxheSIsdCl9LGUucGxheXNpbmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWU/KHRoaXMudGVjaENhbGxfKCJzZXRQbGF5c2lubGluZSIsZSksdGhpcy5vcHRpb25zXy5wbGF5c2lubGluZT1lLHRoaXMpOnRoaXMudGVjaEdldF8oInBsYXlzaW5saW5lIil9LGUubG9vcD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT8odGhpcy50ZWNoQ2FsbF8oInNldExvb3AiLGUpLHZvaWQodGhpcy5vcHRpb25zXy5sb29wPWUpKTp0aGlzLnRlY2hHZXRfKCJsb29wIil9LGUucG9zdGVyPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMucG9zdGVyXzsoZT1lfHwiIikhPT10aGlzLnBvc3Rlcl8mJih0aGlzLnBvc3Rlcl89ZSx0aGlzLnRlY2hDYWxsXygic2V0UG9zdGVyIixlKSx0aGlzLmlzUG9zdGVyRnJvbVRlY2hfPSExLHRoaXMudHJpZ2dlcigicG9zdGVyY2hhbmdlIikpfSxlLmhhbmRsZVRlY2hQb3N0ZXJDaGFuZ2VfPWZ1bmN0aW9uKCl7aWYoKCF0aGlzLnBvc3Rlcl98fHRoaXMub3B0aW9uc18udGVjaENhbk92ZXJyaWRlUG9zdGVyKSYmdGhpcy50ZWNoXyYmdGhpcy50ZWNoXy5wb3N0ZXIpe3ZhciBlPXRoaXMudGVjaF8ucG9zdGVyKCl8fCIiO2UhPT10aGlzLnBvc3Rlcl8mJih0aGlzLnBvc3Rlcl89ZSx0aGlzLmlzUG9zdGVyRnJvbVRlY2hfPSEwLHRoaXMudHJpZ2dlcigicG9zdGVyY2hhbmdlIikpfX0sZS5jb250cm9scz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiEhdGhpcy5jb250cm9sc187ZT0hIWUsdGhpcy5jb250cm9sc18hPT1lJiYodGhpcy5jb250cm9sc189ZSx0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKSYmdGhpcy50ZWNoQ2FsbF8oInNldENvbnRyb2xzIixlKSx0aGlzLmNvbnRyb2xzXz8odGhpcy5yZW1vdmVDbGFzcygidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksdGhpcy5hZGRDbGFzcygidmpzLWNvbnRyb2xzLWVuYWJsZWQiKSx0aGlzLnRyaWdnZXIoImNvbnRyb2xzZW5hYmxlZCIpLHRoaXMudXNpbmdOYXRpdmVDb250cm9scygpfHx0aGlzLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18oKSk6KHRoaXMucmVtb3ZlQ2xhc3MoInZqcy1jb250cm9scy1lbmFibGVkIiksdGhpcy5hZGRDbGFzcygidmpzLWNvbnRyb2xzLWRpc2FibGVkIiksdGhpcy50cmlnZ2VyKCJjb250cm9sc2Rpc2FibGVkIiksdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCl8fHRoaXMucmVtb3ZlVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpKSl9LGUudXNpbmdOYXRpdmVDb250cm9scz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiEhdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzXztlPSEhZSx0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHNfIT09ZSYmKHRoaXMudXNpbmdOYXRpdmVDb250cm9sc189ZSx0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHNfPyh0aGlzLmFkZENsYXNzKCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzIiksdGhpcy50cmlnZ2VyKCJ1c2luZ25hdGl2ZWNvbnRyb2xzIikpOih0aGlzLnJlbW92ZUNsYXNzKCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzIiksdGhpcy50cmlnZ2VyKCJ1c2luZ2N1c3RvbWNvbnRyb2xzIikpKX0sZS5lcnJvcj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLmVycm9yX3x8bnVsbDtpZih0aGlzLm9wdGlvbnNfLnN1cHByZXNzTm90U3VwcG9ydGVkRXJyb3ImJmUmJmUubWVzc2FnZSYmZS5tZXNzYWdlPT09dGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLm5vdFN1cHBvcnRlZE1lc3NhZ2UpKXtmdW5jdGlvbiB0KCl7dGhpcy5lcnJvcihlKX1yZXR1cm4gdGhpcy5vcHRpb25zXy5zdXBwcmVzc05vdFN1cHBvcnRlZEVycm9yPSExLHRoaXMuYW55KFsiY2xpY2siLCJ0b3VjaHN0YXJ0Il0sdCksdm9pZCB0aGlzLm9uZSgibG9hZHN0YXJ0IixmdW5jdGlvbigpe3RoaXMub2ZmKFsiY2xpY2siLCJ0b3VjaHN0YXJ0Il0sdCl9KX1pZihudWxsPT09ZSlyZXR1cm4gdGhpcy5lcnJvcl89ZSx0aGlzLnJlbW92ZUNsYXNzKCJ2anMtZXJyb3IiKSx2b2lkKHRoaXMuZXJyb3JEaXNwbGF5JiZ0aGlzLmVycm9yRGlzcGxheS5jbG9zZSgpKTt0aGlzLmVycm9yXz1uZXcgeXQoZSksdGhpcy5hZGRDbGFzcygidmpzLWVycm9yIikscC5lcnJvcigiKENPREU6Iit0aGlzLmVycm9yXy5jb2RlKyIgIit5dC5lcnJvclR5cGVzW3RoaXMuZXJyb3JfLmNvZGVdKyIpIix0aGlzLmVycm9yXy5tZXNzYWdlLHRoaXMuZXJyb3JfKSx0aGlzLnRyaWdnZXIoImVycm9yIil9LGUucmVwb3J0VXNlckFjdGl2aXR5PWZ1bmN0aW9uKGUpe3RoaXMudXNlckFjdGl2aXR5Xz0hMH0sZS51c2VyQWN0aXZlPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudXNlckFjdGl2ZV87aWYoKGU9ISFlKSE9PXRoaXMudXNlckFjdGl2ZV8pe2lmKHRoaXMudXNlckFjdGl2ZV89ZSx0aGlzLnVzZXJBY3RpdmVfKXJldHVybiB0aGlzLnVzZXJBY3Rpdml0eV89ITAsdGhpcy5yZW1vdmVDbGFzcygidmpzLXVzZXItaW5hY3RpdmUiKSx0aGlzLmFkZENsYXNzKCJ2anMtdXNlci1hY3RpdmUiKSx2b2lkIHRoaXMudHJpZ2dlcigidXNlcmFjdGl2ZSIpO3RoaXMudGVjaF8mJnRoaXMudGVjaF8ub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy51c2VyQWN0aXZpdHlfPSExLHRoaXMucmVtb3ZlQ2xhc3MoInZqcy11c2VyLWFjdGl2ZSIpLHRoaXMuYWRkQ2xhc3MoInZqcy11c2VyLWluYWN0aXZlIiksdGhpcy50cmlnZ2VyKCJ1c2VyaW5hY3RpdmUiKX19LGUubGlzdGVuRm9yVXNlckFjdGl2aXR5Xz1mdW5jdGlvbigpe3ZhciB0LGksbixyPWRlKHRoaXMsdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpO3RoaXMub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtyKCksdGhpcy5jbGVhckludGVydmFsKHQpLHQ9dGhpcy5zZXRJbnRlcnZhbChyLDI1MCl9KSx0aGlzLm9uKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpe2Uuc2NyZWVuWD09PWkmJmUuc2NyZWVuWT09PW58fChpPWUuc2NyZWVuWCxuPWUuc2NyZWVuWSxyKCkpfSksdGhpcy5vbigibW91c2V1cCIsZnVuY3Rpb24oZSl7cigpLHRoaXMuY2xlYXJJbnRlcnZhbCh0KX0pO3ZhciBhLGU9dGhpcy5nZXRDaGlsZCgiY29udHJvbEJhciIpOyFlfHwkZXx8WGV8fChlLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbihlKXt0aGlzLnBsYXllcigpLmNhY2hlXy5pbmFjdGl2aXR5VGltZW91dD10aGlzLnBsYXllcigpLm9wdGlvbnNfLmluYWN0aXZpdHlUaW1lb3V0LHRoaXMucGxheWVyKCkub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQ9MH0pLGUub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKGUpe3RoaXMucGxheWVyKCkub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQ9dGhpcy5wbGF5ZXIoKS5jYWNoZV8uaW5hY3Rpdml0eVRpbWVvdXR9KSksdGhpcy5vbigia2V5ZG93biIsciksdGhpcy5vbigia2V5dXAiLHIpLHRoaXMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZih0aGlzLnVzZXJBY3Rpdml0eV8pe3RoaXMudXNlckFjdGl2aXR5Xz0hMSx0aGlzLnVzZXJBY3RpdmUoITApLHRoaXMuY2xlYXJUaW1lb3V0KGEpO3ZhciBlPXRoaXMub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQ7ZTw9MHx8KGE9dGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy51c2VyQWN0aXZpdHlffHx0aGlzLnVzZXJBY3RpdmUoITEpfSxlKSl9fSwyNTApfSxlLnBsYXliYWNrUmF0ZT1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmZlYXR1cmVzUGxheWJhY2tSYXRlP3RoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGV8fHRoaXMudGVjaEdldF8oInBsYXliYWNrUmF0ZSIpOjE7dGhpcy50ZWNoQ2FsbF8oInNldFBsYXliYWNrUmF0ZSIsZSl9LGUuZGVmYXVsdFBsYXliYWNrUmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLnRlY2hDYWxsXygic2V0RGVmYXVsdFBsYXliYWNrUmF0ZSIsZSk6dGhpcy50ZWNoXyYmdGhpcy50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZT90aGlzLnRlY2hHZXRfKCJkZWZhdWx0UGxheWJhY2tSYXRlIik6MX0sZS5pc0F1ZGlvPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuISF0aGlzLmlzQXVkaW9fO3RoaXMuaXNBdWRpb189ISFlfSxlLmFkZFRleHRUcmFjaz1mdW5jdGlvbihlLHQsaSl7aWYodGhpcy50ZWNoXylyZXR1cm4gdGhpcy50ZWNoXy5hZGRUZXh0VHJhY2soZSx0LGkpfSxlLmFkZFJlbW90ZVRleHRUcmFjaz1mdW5jdGlvbihlLHQpe2lmKHRoaXMudGVjaF8pcmV0dXJuIHRoaXMudGVjaF8uYWRkUmVtb3RlVGV4dFRyYWNrKGUsdCl9LGUucmVtb3ZlUmVtb3RlVGV4dFRyYWNrPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgdD1lLnRyYWNrO2lmKHQ9dHx8ZSx0aGlzLnRlY2hfKXJldHVybiB0aGlzLnRlY2hfLnJlbW92ZVJlbW90ZVRleHRUcmFjayh0KX0sZS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRlY2hHZXRfKCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIpfSxlLnZpZGVvV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWNoXyYmdGhpcy50ZWNoXy52aWRlb1dpZHRoJiZ0aGlzLnRlY2hfLnZpZGVvV2lkdGgoKXx8MH0sZS52aWRlb0hlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLnZpZGVvSGVpZ2h0JiZ0aGlzLnRlY2hfLnZpZGVvSGVpZ2h0KCl8fDB9LGUubGFuZ3VhZ2U9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5sYW5ndWFnZV87dGhpcy5sYW5ndWFnZV89U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl9LGUubGFuZ3VhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIExlKGwucHJvdG90eXBlLm9wdGlvbnNfLmxhbmd1YWdlcyx0aGlzLmxhbmd1YWdlc18pfSxlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMub3B0aW9uc18pLHQ9ZS50cmFja3M7ZS50cmFja3M9W107Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07KG49TGUobikpLnBsYXllcj12b2lkIDAsZS50cmFja3NbaV09bn1yZXR1cm4gZX0sZS5jcmVhdGVNb2RhbD1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7KHQ9dHx8e30pLmNvbnRlbnQ9ZXx8IiI7dmFyIG49bmV3IFB0KHRoaXMsdCk7cmV0dXJuIHRoaXMuYWRkQ2hpbGQobiksbi5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtpLnJlbW92ZUNoaWxkKG4pfSksbi5vcGVuKCksbn0sZS51cGRhdGVDdXJyZW50QnJlYWtwb2ludF89ZnVuY3Rpb24oKXtpZih0aGlzLnJlc3BvbnNpdmUoKSlmb3IodmFyIGU9dGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLHQ9dGhpcy5jdXJyZW50V2lkdGgoKSxpPTA7aTxKYS5sZW5ndGg7aSsrKXt2YXIgbj1KYVtpXTtpZih0PD10aGlzLmJyZWFrcG9pbnRzX1tuXSl7aWYoZT09PW4pcmV0dXJuO2UmJnRoaXMucmVtb3ZlQ2xhc3MoWmFbZV0pLHRoaXMuYWRkQ2xhc3MoWmFbbl0pLHRoaXMuYnJlYWtwb2ludF89bjticmVha319fSxlLnJlbW92ZUN1cnJlbnRCcmVha3BvaW50Xz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY3VycmVudEJyZWFrcG9pbnRDbGFzcygpO3RoaXMuYnJlYWtwb2ludF89IiIsZSYmdGhpcy5yZW1vdmVDbGFzcyhlKX0sZS5icmVha3BvaW50cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZXx8KHRoaXMuYnJlYWtwb2ludF89IiIsdGhpcy5icmVha3BvaW50c189bSh7fSxlcyxlKSx0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50XygpKSxtKHRoaXMuYnJlYWtwb2ludHNfKX0sZS5yZXNwb25zaXZlPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMucmVzcG9uc2l2ZV86KGU9Qm9vbGVhbihlKSkhPT10aGlzLnJlc3BvbnNpdmVfPygodGhpcy5yZXNwb25zaXZlXz1lKT8odGhpcy5vbigicGxheWVycmVzaXplIix0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50XyksdGhpcy51cGRhdGVDdXJyZW50QnJlYWtwb2ludF8oKSk6KHRoaXMub2ZmKCJwbGF5ZXJyZXNpemUiLHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKSx0aGlzLnJlbW92ZUN1cnJlbnRCcmVha3BvaW50XygpKSxlKTp2b2lkIDB9LGUuY3VycmVudEJyZWFrcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icmVha3BvaW50X30sZS5jdXJyZW50QnJlYWtwb2ludENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFphW3RoaXMuYnJlYWtwb2ludF9dfHwiIn0sZS5sb2FkTWVkaWE9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO2lmKGUmJiJvYmplY3QiPT10eXBlb2YgZSl7dGhpcy5yZXNldCgpLHRoaXMuY2FjaGVfLm1lZGlhPUxlKGUpO3ZhciBuPXRoaXMuY2FjaGVfLm1lZGlhLHI9bi5hcnR3b3JrLGE9bi5wb3N0ZXIscz1uLnNyYyxvPW4udGV4dFRyYWNrczshciYmYSYmKHRoaXMuY2FjaGVfLm1lZGlhLmFydHdvcms9W3tzcmM6YSx0eXBlOnByKGEpfV0pLHMmJnRoaXMuc3JjKHMpLGEmJnRoaXMucG9zdGVyKGEpLEFycmF5LmlzQXJyYXkobykmJm8uZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaS5hZGRSZW1vdGVUZXh0VHJhY2soZSwhMSl9KSx0aGlzLnJlYWR5KHQpfX0sZS5nZXRNZWRpYT1mdW5jdGlvbigpe2lmKHRoaXMuY2FjaGVfLm1lZGlhKXJldHVybiBMZSh0aGlzLmNhY2hlXy5tZWRpYSk7dmFyIGU9dGhpcy5wb3N0ZXIoKSx0PXtzcmM6dGhpcy5jdXJyZW50U291cmNlcygpLHRleHRUcmFja3M6QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHRoaXMucmVtb3RlVGV4dFRyYWNrcygpLGZ1bmN0aW9uKGUpe3JldHVybntraW5kOmUua2luZCxsYWJlbDplLmxhYmVsLGxhbmd1YWdlOmUubGFuZ3VhZ2Usc3JjOmUuc3JjfX0pfTtyZXR1cm4gZSYmKHQucG9zdGVyPWUsdC5hcnR3b3JrPVt7c3JjOnQucG9zdGVyLHR5cGU6cHIodC5wb3N0ZXIpfV0pLHR9LGwuZ2V0VGFnU2V0dGluZ3M9ZnVuY3Rpb24oZSl7dmFyIHQ9e3NvdXJjZXM6W10sdHJhY2tzOltdfSxpPVAoZSksbj1pWyJkYXRhLXNldHVwIl07aWYoayhlLCJ2anMtZmlsbCIpJiYoaS5maWxsPSEwKSxrKGUsInZqcy1mbHVpZCIpJiYoaS5mbHVpZD0hMCksbnVsbCE9PW4pe3ZhciByPV90KG58fCJ7fSIpLGE9clswXSxzPXJbMV07YSYmcC5lcnJvcihhKSxtKGkscyl9aWYobSh0LGkpLGUuaGFzQ2hpbGROb2RlcygpKWZvcih2YXIgbz1lLmNoaWxkTm9kZXMsdT0wLGw9by5sZW5ndGg7dTxsO3UrKyl7dmFyIGM9b1t1XSxoPWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsic291cmNlIj09PWg/dC5zb3VyY2VzLnB1c2goUChjKSk6InRyYWNrIj09PWgmJnQudHJhY2tzLnB1c2goUChjKSl9cmV0dXJuIHR9LGUuZmxleE5vdFN1cHBvcnRlZF89ZnVuY3Rpb24oKXt2YXIgZT1oLmNyZWF0ZUVsZW1lbnQoImkiKTtyZXR1cm4hKCJmbGV4QmFzaXMiaW4gZS5zdHlsZXx8IndlYmtpdEZsZXhCYXNpcyJpbiBlLnN0eWxlfHwibW96RmxleEJhc2lzImluIGUuc3R5bGV8fCJtc0ZsZXhCYXNpcyJpbiBlLnN0eWxlfHwibXNGbGV4T3JkZXIiaW4gZS5zdHlsZSl9LGx9KE9lKTt3bi5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXduW2VdO3RzLnByb3RvdHlwZVt0LmdldHRlck5hbWVdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVjaF8/dGhpcy50ZWNoX1t0LmdldHRlck5hbWVdKCk6KHRoaXNbdC5wcml2YXRlTmFtZV09dGhpc1t0LnByaXZhdGVOYW1lXXx8bmV3IHQuTGlzdENsYXNzLHRoaXNbdC5wcml2YXRlTmFtZV0pfX0pLHRzLnBsYXllcnM9e307dmFyIGlzPXYubmF2aWdhdG9yO3RzLnByb3RvdHlwZS5vcHRpb25zXz17dGVjaE9yZGVyOmlyLmRlZmF1bHRUZWNoT3JkZXJfLGh0bWw1Ont9LGZsYXNoOnt9LGluYWN0aXZpdHlUaW1lb3V0OjJlMyxwbGF5YmFja1JhdGVzOltdLGxpdmV1aTohMSxjaGlsZHJlbjpbIm1lZGlhTG9hZGVyIiwicG9zdGVySW1hZ2UiLCJ0ZXh0VHJhY2tEaXNwbGF5IiwibG9hZGluZ1NwaW5uZXIiLCJiaWdQbGF5QnV0dG9uIiwibGl2ZVRyYWNrZXIiLCJjb250cm9sQmFyIiwiZXJyb3JEaXNwbGF5IiwidGV4dFRyYWNrU2V0dGluZ3MiLCJyZXNpemVNYW5hZ2VyIl0sbGFuZ3VhZ2U6aXMmJihpcy5sYW5ndWFnZXMmJmlzLmxhbmd1YWdlc1swXXx8aXMudXNlckxhbmd1YWdlfHxpcy5sYW5ndWFnZSl8fCJlbiIsbGFuZ3VhZ2VzOnt9LG5vdFN1cHBvcnRlZE1lc3NhZ2U6Ik5vIGNvbXBhdGlibGUgc291cmNlIHdhcyBmb3VuZCBmb3IgdGhpcyBtZWRpYS4iLGZ1bGxzY3JlZW46e29wdGlvbnM6e25hdmlnYXRpb25VSToiaGlkZSJ9fSxicmVha3BvaW50czp7fSxyZXNwb25zaXZlOiExfSxbImVuZGVkIiwic2Vla2luZyIsInNlZWthYmxlIiwibmV0d29ya1N0YXRlIiwicmVhZHlTdGF0ZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7dHMucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVjaEdldF8oZSl9fSksWWEuZm9yRWFjaChmdW5jdGlvbihlKXt0cy5wcm90b3R5cGVbImhhbmRsZVRlY2giK0llKGUpKyJfIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmlnZ2VyKGUpfX0pLE9lLnJlZ2lzdGVyQ29tcG9uZW50KCJQbGF5ZXIiLHRzKTtmdW5jdGlvbiBucyhlKXtyZXR1cm4gY3MuaGFzT3duUHJvcGVydHkoZSl9ZnVuY3Rpb24gcnMoZSl7cmV0dXJuIG5zKGUpP2NzW2VdOnZvaWQgMH1mdW5jdGlvbiBhcyhlLHQpe2VbbHNdPWVbbHNdfHx7fSxlW2xzXVt0XT0hMH1mdW5jdGlvbiBzcyhlLHQsaSl7dmFyIG49KGk/ImJlZm9yZSI6IiIpKyJwbHVnaW5zZXR1cCI7ZS50cmlnZ2VyKG4sdCksZS50cmlnZ2VyKG4rIjoiK3QubmFtZSx0KX1mdW5jdGlvbiBvcyhyLGEpe3JldHVybiBhLnByb3RvdHlwZS5uYW1lPXIsZnVuY3Rpb24oKXtzcyh0aGlzLHtuYW1lOnIscGx1Z2luOmEsaW5zdGFuY2U6bnVsbH0sITApO2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3ZhciBuPVVlKGEsW3RoaXNdLmNvbmNhdCh0KSk7cmV0dXJuIHRoaXNbcl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc3ModGhpcyxuLmdldEV2ZW50SGFzaCgpKSxufX12YXIgdXM9InBsdWdpbiIsbHM9ImFjdGl2ZVBsdWdpbnNfIixjcz17fSxocz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7aWYodGhpcy5jb25zdHJ1Y3Rvcj09PWkpdGhyb3cgbmV3IEVycm9yKCJQbHVnaW4gbXVzdCBiZSBzdWItY2xhc3NlZDsgbm90IGRpcmVjdGx5IGluc3RhbnRpYXRlZC4iKTt0aGlzLnBsYXllcj1lLEVlKHRoaXMpLGRlbGV0ZSB0aGlzLnRyaWdnZXIsQWUodGhpcyx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRTdGF0ZSksYXMoZSx0aGlzLm5hbWUpLHRoaXMuZGlzcG9zZT1kZSh0aGlzLHRoaXMuZGlzcG9zZSksZS5vbigiZGlzcG9zZSIsdGhpcy5kaXNwb3NlKX12YXIgZT1pLnByb3RvdHlwZTtyZXR1cm4gZS52ZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuVkVSU0lPTn0sZS5nZXRFdmVudEhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxlLm5hbWU9dGhpcy5uYW1lLGUucGx1Z2luPXRoaXMuY29uc3RydWN0b3IsZS5pbnN0YW5jZT10aGlzLGV9LGUudHJpZ2dlcj1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksbGUodGhpcy5ldmVudEJ1c0VsXyxlLHRoaXMuZ2V0RXZlbnRIYXNoKHQpKX0sZS5oYW5kbGVTdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7fSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hbWUsdD10aGlzLnBsYXllcjt0aGlzLnRyaWdnZXIoImRpc3Bvc2UiKSx0aGlzLm9mZigpLHQub2ZmKCJkaXNwb3NlIix0aGlzLmRpc3Bvc2UpLHRbbHNdW2VdPSExLHRoaXMucGxheWVyPXRoaXMuc3RhdGU9bnVsbCx0W2VdPW9zKGUsY3NbZV0pfSxpLmlzQmFzaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBlP3JzKGUpOmU7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJiFpLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQucHJvdG90eXBlKX0saS5yZWdpc3RlclBsdWdpbj1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgcGx1Z2luIG5hbWUsICInK2UrJyIsIG11c3QgYmUgYSBzdHJpbmcsIHdhcyAnK3R5cGVvZiBlKyIuIik7aWYobnMoZSkpcC53YXJuKCdBIHBsdWdpbiBuYW1lZCAiJytlKyciIGFscmVhZHkgZXhpc3RzLiBZb3UgbWF5IHdhbnQgdG8gYXZvaWQgcmUtcmVnaXN0ZXJpbmcgcGx1Z2lucyEnKTtlbHNlIGlmKHRzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgcGx1Z2luIG5hbWUsICInK2UrJyIsIGNhbm5vdCBzaGFyZSBhIG5hbWUgd2l0aCBhbiBleGlzdGluZyBwbGF5ZXIgbWV0aG9kIScpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignSWxsZWdhbCBwbHVnaW4gZm9yICInK2UrJyIsIG11c3QgYmUgYSBmdW5jdGlvbiwgd2FzICcrdHlwZW9mIHQrIi4iKTtyZXR1cm4gY3NbZV09dCxlIT09dXMmJihpLmlzQmFzaWModCk/dHMucHJvdG90eXBlW2VdPWZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbigpe3NzKHRoaXMse25hbWU6dCxwbHVnaW46aSxpbnN0YW5jZTpudWxsfSwhMCk7dmFyIGU9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGFzKHRoaXMsdCksc3ModGhpcyx7bmFtZTp0LHBsdWdpbjppLGluc3RhbmNlOmV9KSxlfXJldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09aVtlXX0pLG59KGUsdCk6dHMucHJvdG90eXBlW2VdPW9zKGUsdCkpLHR9LGkuZGVyZWdpc3RlclBsdWdpbj1mdW5jdGlvbihlKXtpZihlPT09dXMpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZGUtcmVnaXN0ZXIgYmFzZSBwbHVnaW4uIik7bnMoZSkmJihkZWxldGUgY3NbZV0sZGVsZXRlIHRzLnByb3RvdHlwZVtlXSl9LGkuZ2V0UGx1Z2lucz1mdW5jdGlvbihlKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9T2JqZWN0LmtleXMoY3MpKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9cnMoZSk7dCYmKChpPWl8fHt9KVtlXT10KX0pLGl9LGkuZ2V0UGx1Z2luVmVyc2lvbj1mdW5jdGlvbihlKXt2YXIgdD1ycyhlKTtyZXR1cm4gdCYmdC5WRVJTSU9OfHwiIn0saX0oKTtocy5nZXRQbHVnaW49cnMsaHMuQkFTRV9QTFVHSU5fTkFNRT11cyxocy5yZWdpc3RlclBsdWdpbih1cyxocyksdHMucHJvdG90eXBlLnVzaW5nUGx1Z2luPWZ1bmN0aW9uKGUpe3JldHVybiEhdGhpc1tsc10mJiEwPT09dGhpc1tsc11bZV19LHRzLnByb3RvdHlwZS5oYXNQbHVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuISFucyhlKX07dmFyIGRzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKCIjIik/ZS5zbGljZSgxKTplfTtmdW5jdGlvbiBwcyhlLGksdCl7dmFyIG49cHMuZ2V0UGxheWVyKGUpO2lmKG4pcmV0dXJuIGkmJnAud2FybignUGxheWVyICInK2UrJyIgaXMgYWxyZWFkeSBpbml0aWFsaXNlZC4gT3B0aW9ucyB3aWxsIG5vdCBiZSBhcHBsaWVkLicpLHQmJm4ucmVhZHkodCksbjt2YXIgcj0ic3RyaW5nIj09dHlwZW9mIGU/VygiIyIrZHMoZSkpOmU7aWYoIWcocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGVsZW1lbnQgb3IgSUQgc3VwcGxpZWQgaXMgbm90IHZhbGlkLiAodmlkZW9qcykiKTtyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcmJnIub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKHIpfHxwLndhcm4oIlRoZSBlbGVtZW50IHN1cHBsaWVkIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgRE9NIiksaT1pfHx7fSxwcy5ob29rcygiYmVmb3Jlc2V0dXAiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUocixMZShpKSk7cyh0KSYmIUFycmF5LmlzQXJyYXkodCk/aT1MZShpLHQpOnAuZXJyb3IoInBsZWFzZSByZXR1cm4gYW4gb2JqZWN0IGluIGJlZm9yZXNldHVwIGhvb2tzIil9KTt2YXIgYT1PZS5nZXRDb21wb25lbnQoIlBsYXllciIpO3JldHVybiBuPW5ldyBhKHIsaSx0KSxwcy5ob29rcygic2V0dXAiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSksbn1pZihwcy5ob29rc189e30scHMuaG9va3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcHMuaG9va3NfW2VdPXBzLmhvb2tzX1tlXXx8W10sdCYmKHBzLmhvb2tzX1tlXT1wcy5ob29rc19bZV0uY29uY2F0KHQpKSxwcy5ob29rc19bZV19LHBzLmhvb2s9ZnVuY3Rpb24oZSx0KXtwcy5ob29rcyhlLHQpfSxwcy5ob29rT25jZT1mdW5jdGlvbihpLGUpe3BzLmhvb2tzKGksW10uY29uY2F0KGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24gZSgpe3JldHVybiBwcy5yZW1vdmVIb29rKGksZSksdC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19KSl9LHBzLnJlbW92ZUhvb2s9ZnVuY3Rpb24oZSx0KXt2YXIgaT1wcy5ob29rcyhlKS5pbmRleE9mKHQpO3JldHVybiEoaTw9LTEpJiYocHMuaG9va3NfW2VdPXBzLmhvb2tzX1tlXS5zbGljZSgpLHBzLmhvb2tzX1tlXS5zcGxpY2UoaSwxKSwhMCl9LCEwIT09di5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUmJmMoKSl7dmFyIGZzPVcoIi52anMtc3R5bGVzLWRlZmF1bHRzIik7aWYoIWZzKXtmcz1RKCJ2anMtc3R5bGVzLWRlZmF1bHRzIik7dmFyIG1zPVcoImhlYWQiKTttcyYmbXMuaW5zZXJ0QmVmb3JlKGZzLG1zLmZpcnN0Q2hpbGQpLEooZnMsIlxuICAgICAgLnZpZGVvLWpzIHtcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgICBoZWlnaHQ6IDE1MHB4O1xuICAgICAgfVxuXG4gICAgICAudmpzLWZsdWlkIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDU2LjI1JVxuICAgICAgfVxuICAgICIpfX1LKDEscHMpLHBzLlZFUlNJT049ZCxwcy5vcHRpb25zPXRzLnByb3RvdHlwZS5vcHRpb25zXyxwcy5nZXRQbGF5ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRzLnBsYXllcnN9LHBzLmdldFBsYXllcj1mdW5jdGlvbihlKXt2YXIgdCxpPXRzLnBsYXllcnM7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1kcyhlKSxyPWlbbl07aWYocilyZXR1cm4gcjt0PVcoIiMiK24pfWVsc2UgdD1lO2lmKGcodCkpe3ZhciBhPXQscz1hLnBsYXllcixvPWEucGxheWVySWQ7aWYoc3x8aVtvXSlyZXR1cm4gc3x8aVtvXX19LHBzLmdldEFsbFBsYXllcnM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModHMucGxheWVycykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0cy5wbGF5ZXJzW2VdfSkuZmlsdGVyKEJvb2xlYW4pfSxwcy5wbGF5ZXJzPXRzLnBsYXllcnMscHMuZ2V0Q29tcG9uZW50PU9lLmdldENvbXBvbmVudCxwcy5yZWdpc3RlckNvbXBvbmVudD1mdW5jdGlvbihlLHQpe2lyLmlzVGVjaCh0KSYmcC53YXJuKCJUaGUgIitlKyIgdGVjaCB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNvbXBvbmVudC4gSXQgc2hvdWxkIGluc3RlYWQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKSIpLE9lLnJlZ2lzdGVyQ29tcG9uZW50LmNhbGwoT2UsZSx0KX0scHMuZ2V0VGVjaD1pci5nZXRUZWNoLHBzLnJlZ2lzdGVyVGVjaD1pci5yZWdpc3RlclRlY2gscHMudXNlPWZ1bmN0aW9uKGUsdCl7bnJbZV09bnJbZV18fFtdLG5yW2VdLnB1c2godCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcywibWlkZGxld2FyZSIse3ZhbHVlOnt9LHdyaXRlYWJsZTohMSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHBzLm1pZGRsZXdhcmUsIlRFUk1JTkFUT1IiLHt2YWx1ZTphcix3cml0ZWFibGU6ITEsZW51bWVyYWJsZTohMH0pLHBzLmJyb3dzZXI9c3QscHMuVE9VQ0hfRU5BQkxFRD1hdCxwcy5leHRlbmQ9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9ZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbj17fTtmb3IodmFyIHIgaW4ib2JqZWN0Ij09dHlwZW9mIHQ/KHQuY29uc3RydWN0b3IhPT1PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yJiYoaT10LmNvbnN0cnVjdG9yKSxuPXQpOiJmdW5jdGlvbiI9PXR5cGVvZiB0JiYoaT10KSxmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihlLnN1cGVyXz10KX0oaSxlKSxuKW4uaGFzT3duUHJvcGVydHkocikmJihpLnByb3RvdHlwZVtyXT1uW3JdKTtyZXR1cm4gaX0scHMubWVyZ2VPcHRpb25zPUxlLHBzLmJpbmQ9ZGUscHMucmVnaXN0ZXJQbHVnaW49aHMucmVnaXN0ZXJQbHVnaW4scHMuZGVyZWdpc3RlclBsdWdpbj1ocy5kZXJlZ2lzdGVyUGx1Z2luLHBzLnBsdWdpbj1mdW5jdGlvbihlLHQpe3JldHVybiBwLndhcm4oInZpZGVvanMucGx1Z2luKCkgaXMgZGVwcmVjYXRlZDsgdXNlIHZpZGVvanMucmVnaXN0ZXJQbHVnaW4oKSBpbnN0ZWFkIiksaHMucmVnaXN0ZXJQbHVnaW4oZSx0KX0scHMuZ2V0UGx1Z2lucz1ocy5nZXRQbHVnaW5zLHBzLmdldFBsdWdpbj1ocy5nZXRQbHVnaW4scHMuZ2V0UGx1Z2luVmVyc2lvbj1ocy5nZXRQbHVnaW5WZXJzaW9uLHBzLmFkZExhbmd1YWdlPWZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIGU9KCIiK2UpLnRvTG93ZXJDYXNlKCkscHMub3B0aW9ucy5sYW5ndWFnZXM9TGUocHMub3B0aW9ucy5sYW5ndWFnZXMsKChpPXt9KVtlXT10LGkpKSxwcy5vcHRpb25zLmxhbmd1YWdlc1tlXX0scHMubG9nPXAscHMuY3JlYXRlTG9nZ2VyPWYscHMuY3JlYXRlVGltZVJhbmdlPXBzLmNyZWF0ZVRpbWVSYW5nZXM9bHQscHMuZm9ybWF0VGltZT1Pcixwcy5zZXRGb3JtYXRUaW1lPWZ1bmN0aW9uKGUpe0xyPWV9LHBzLnJlc2V0Rm9ybWF0VGltZT1mdW5jdGlvbigpe0xyPUlyfSxwcy5wYXJzZVVybD1EdCxwcy5pc0Nyb3NzT3JpZ2luPU10LHBzLkV2ZW50VGFyZ2V0PWZlLHBzLm9uPW9lLHBzLm9uZT1jZSxwcy5vZmY9dWUscHMudHJpZ2dlcj1sZSxwcy54aHI9bW4scHMuVGV4dFRyYWNrPWJuLHBzLkF1ZGlvVHJhY2s9VG4scHMuVmlkZW9UcmFjaz1TbixbImlzRWwiLCJpc1RleHROb2RlIiwiY3JlYXRlRWwiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsInNldEF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVzIiwiZW1wdHlFbCIsImFwcGVuZENvbnRlbnQiLCJpbnNlcnRDb250ZW50Il0uZm9yRWFjaChmdW5jdGlvbihlKXtwc1tlXT1mdW5jdGlvbigpe3JldHVybiBwLndhcm4oInZpZGVvanMuIitlKyIoKSBpcyBkZXByZWNhdGVkOyB1c2UgdmlkZW9qcy5kb20uIitlKyIoKSBpbnN0ZWFkIiksJFtlXS5hcHBseShudWxsLGFyZ3VtZW50cyl9fSkscHMuY29tcHV0ZWRTdHlsZT1uLHBzLmRvbT0kLHBzLnVybD1HdDt2YXIgZ3M9RXQoZnVuY3Rpb24oZSx0KXt2YXIgaSxjLG4scixoO2k9L14oKD86W2EtekEtWjAtOStcLS5dKzopPykoXC9cL1teXC8/I10qKT8oKD86W15cL1w/I10qXC8pKi4qPyk/Pyg7Lio/KT8oXD8uKj8pPygjLio/KT8kLyxjPS9eKFteXC8/I10qKSguKikkLyxuPS8oPzpcL3xeKVwuKD89XC8pL2cscj0vKD86XC98XilcLlwuXC8oPyFcLlwuXC8pLio/KD89XC8pL2csaD17YnVpbGRBYnNvbHV0ZVVSTDpmdW5jdGlvbihlLHQsaSl7aWYoaT1pfHx7fSxlPWUudHJpbSgpLCEodD10LnRyaW0oKSkpe2lmKCFpLmFsd2F5c05vcm1hbGl6ZSlyZXR1cm4gZTt2YXIgbj1oLnBhcnNlVVJMKGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLiIpO3JldHVybiBuLnBhdGg9aC5ub3JtYWxpemVQYXRoKG4ucGF0aCksaC5idWlsZFVSTEZyb21QYXJ0cyhuKX12YXIgcj1oLnBhcnNlVVJMKHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIHJlbGF0aXZlIFVSTC4iKTtpZihyLnNjaGVtZSlyZXR1cm4gaS5hbHdheXNOb3JtYWxpemU/KHIucGF0aD1oLm5vcm1hbGl6ZVBhdGgoci5wYXRoKSxoLmJ1aWxkVVJMRnJvbVBhcnRzKHIpKTp0O3ZhciBhPWgucGFyc2VVUkwoZSk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgYmFzZSBVUkwuIik7aWYoIWEubmV0TG9jJiZhLnBhdGgmJiIvIiE9PWEucGF0aFswXSl7dmFyIHM9Yy5leGVjKGEucGF0aCk7YS5uZXRMb2M9c1sxXSxhLnBhdGg9c1syXX1hLm5ldExvYyYmIWEucGF0aCYmKGEucGF0aD0iLyIpO3ZhciBvPXtzY2hlbWU6YS5zY2hlbWUsbmV0TG9jOnIubmV0TG9jLHBhdGg6bnVsbCxwYXJhbXM6ci5wYXJhbXMscXVlcnk6ci5xdWVyeSxmcmFnbWVudDpyLmZyYWdtZW50fTtpZighci5uZXRMb2MmJihvLm5ldExvYz1hLm5ldExvYywiLyIhPT1yLnBhdGhbMF0pKWlmKHIucGF0aCl7dmFyIHU9YS5wYXRoLGw9dS5zdWJzdHJpbmcoMCx1Lmxhc3RJbmRleE9mKCIvIikrMSkrci5wYXRoO28ucGF0aD1oLm5vcm1hbGl6ZVBhdGgobCl9ZWxzZSBvLnBhdGg9YS5wYXRoLHIucGFyYW1zfHwoby5wYXJhbXM9YS5wYXJhbXMsci5xdWVyeXx8KG8ucXVlcnk9YS5xdWVyeSkpO3JldHVybiBudWxsPT09by5wYXRoJiYoby5wYXRoPWkuYWx3YXlzTm9ybWFsaXplP2gubm9ybWFsaXplUGF0aChyLnBhdGgpOnIucGF0aCksaC5idWlsZFVSTEZyb21QYXJ0cyhvKX0scGFyc2VVUkw6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5leGVjKGUpO3JldHVybiB0P3tzY2hlbWU6dFsxXXx8IiIsbmV0TG9jOnRbMl18fCIiLHBhdGg6dFszXXx8IiIscGFyYW1zOnRbNF18fCIiLHF1ZXJ5OnRbNV18fCIiLGZyYWdtZW50OnRbNl18fCIifTpudWxsfSxub3JtYWxpemVQYXRoOmZ1bmN0aW9uKGUpe2ZvcihlPWUuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKS5yZXBsYWNlKG4sIiIpO2UubGVuZ3RoIT09KGU9ZS5yZXBsYWNlKHIsIiIpKS5sZW5ndGg7KTtyZXR1cm4gZS5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfSxidWlsZFVSTEZyb21QYXJ0czpmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hlbWUrZS5uZXRMb2MrZS5wYXRoK2UucGFyYW1zK2UucXVlcnkrZS5mcmFnbWVudH19LGUuZXhwb3J0cz1ofSk7Ci8qISBAbmFtZSBtM3U4LXBhcnNlciBAdmVyc2lvbiA0LjQuMCBAbGljZW5zZSBBcGFjaGUtMi4wICovZnVuY3Rpb24geXMoKXtyZXR1cm4oeXM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYoZVtuXT1pW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB2cyhlLHQpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLChlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lKS5fX3Byb3RvX189dH1mdW5jdGlvbiBfcyhlKXtmb3IodmFyIHQsaT1lLnNwbGl0KG5ldyBSZWdFeHAoJyg/Ol58LCkoKD86W149XSopPSg/OiJbXiJdKiJ8W14sXSopKScpKSxuPXt9LHI9aS5sZW5ndGg7ci0tOykiIiE9PWlbcl0mJigodD0vKFtePV0qKT0oLiopLy5leGVjKGlbcl0pLnNsaWNlKDEpKVswXT10WzBdLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSx0WzFdPXRbMV0ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLHRbMV09dFsxXS5yZXBsYWNlKC9eWyciXSguKilbJyJdJC9nLCIkMSIpLG5bdFswXV09dFsxXSk7cmV0dXJuIG59dmFyIGJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubGlzdGVuZXJzPXt9fXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0Lm9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5saXN0ZW5lcnNbZV18fCh0aGlzLmxpc3RlbmVyc1tlXT1bXSksdGhpcy5saXN0ZW5lcnNbZV0ucHVzaCh0KX0sdC5vZmY9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5saXN0ZW5lcnNbZV0pcmV0dXJuITE7dmFyIGk9dGhpcy5saXN0ZW5lcnNbZV0uaW5kZXhPZih0KTtyZXR1cm4gdGhpcy5saXN0ZW5lcnNbZV0uc3BsaWNlKGksMSksLTE8aX0sdC50cmlnZ2VyPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGE9dGhpcy5saXN0ZW5lcnNbZV07aWYoYSlpZigyPT09YXJndW1lbnRzLmxlbmd0aClmb3Iobj1hLmxlbmd0aCxpPTA7aTxuOysraSlhW2ldLmNhbGwodGhpcyx0KTtlbHNlIGZvcihyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPWEubGVuZ3RoLGk9MDtpPG47KytpKWFbaV0uYXBwbHkodGhpcyxyKX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lcnM9e319LHQucGlwZT1mdW5jdGlvbih0KXt0aGlzLm9uKCJkYXRhIixmdW5jdGlvbihlKXt0LnB1c2goZSl9KX0sZX0oKSxUcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU7cmV0dXJuKGU9dC5jYWxsKHRoaXMpfHx0aGlzKS5idWZmZXI9IiIsZX1yZXR1cm4gdnMoZSx0KSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0aGlzLmJ1ZmZlcis9ZSx0PXRoaXMuYnVmZmVyLmluZGV4T2YoIlxuIik7LTE8dDt0PXRoaXMuYnVmZmVyLmluZGV4T2YoIlxuIikpdGhpcy50cmlnZ2VyKCJkYXRhIix0aGlzLmJ1ZmZlci5zdWJzdHJpbmcoMCx0KSksdGhpcy5idWZmZXI9dGhpcy5idWZmZXIuc3Vic3RyaW5nKHQrMSl9LGV9KGJzKSxTcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU7cmV0dXJuKGU9dC5jYWxsKHRoaXMpfHx0aGlzKS5jdXN0b21QYXJzZXJzPVtdLGUudGFnTWFwcGVycz1bXSxlfXZzKGUsdCk7dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkucHVzaD1mdW5jdGlvbihuKXt2YXIgdSxsLGM9dGhpczswIT09KG49bi50cmltKCkpLmxlbmd0aCYmKCIjIj09PW5bMF0/dGhpcy50YWdNYXBwZXJzLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpPXQobik7cmV0dXJuIGk9PT1uP2U6ZS5jb25jYXQoW2ldKX0sW25dKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8Yy5jdXN0b21QYXJzZXJzLmxlbmd0aDt0KyspaWYoYy5jdXN0b21QYXJzZXJzW3RdLmNhbGwoYyxlKSlyZXR1cm47aWYoMD09PWUuaW5kZXhPZigiI0VYVCIpKWlmKGU9ZS5yZXBsYWNlKCJcciIsIiIpLHU9L14jRVhUTTNVLy5leGVjKGUpKWMudHJpZ2dlcigiZGF0YSIse3R5cGU6InRhZyIsdGFnVHlwZToibTN1In0pO2Vsc2V7aWYodT0vXiNFWFRJTkY6PyhbMC05XC5dKik/LD8oLiopPyQvLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToiaW5mIn0sdVsxXSYmKGwuZHVyYXRpb249cGFyc2VGbG9hdCh1WzFdKSksdVsyXSYmKGwudGl0bGU9dVsyXSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtVEFSR0VURFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToidGFyZ2V0ZHVyYXRpb24ifSx1WzFdJiYobC5kdXJhdGlvbj1wYXJzZUludCh1WzFdLDEwKSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jWkVOLVRPVEFMLURVUkFUSU9OOj8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InRvdGFsZHVyYXRpb24ifSx1WzFdJiYobC5kdXJhdGlvbj1wYXJzZUludCh1WzFdLDEwKSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtVkVSU0lPTjo/KFswLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gbD17dHlwZToidGFnIix0YWdUeXBlOiJ2ZXJzaW9uIn0sdVsxXSYmKGwudmVyc2lvbj1wYXJzZUludCh1WzFdLDEwKSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtTUVESUEtU0VRVUVOQ0U6PyhcLT9bMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToibWVkaWEtc2VxdWVuY2UifSx1WzFdJiYobC5udW1iZXI9cGFyc2VJbnQodVsxXSwxMCkpLHZvaWQgYy50cmlnZ2VyKCJkYXRhIixsKTtpZih1PS9eI0VYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0U6PyhcLT9bMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToiZGlzY29udGludWl0eS1zZXF1ZW5jZSJ9LHVbMV0mJihsLm51bWJlcj1wYXJzZUludCh1WzFdLDEwKSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtUExBWUxJU1QtVFlQRTo/KC4qKT8kLy5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InBsYXlsaXN0LXR5cGUifSx1WzFdJiYobC5wbGF5bGlzdFR5cGU9dVsxXSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtQllURVJBTkdFOj8oWzAtOS5dKik/QD8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImJ5dGVyYW5nZSJ9LHVbMV0mJihsLmxlbmd0aD1wYXJzZUludCh1WzFdLDEwKSksdVsyXSYmKGwub2Zmc2V0PXBhcnNlSW50KHVbMl0sMTApKSx2b2lkIGMudHJpZ2dlcigiZGF0YSIsbCk7aWYodT0vXiNFWFQtWC1BTExPVy1DQUNIRTo/KFlFU3xOTyk/Ly5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImFsbG93LWNhY2hlIn0sdVsxXSYmKGwuYWxsb3dlZD0hL05PLy50ZXN0KHVbMV0pKSx2b2lkIGMudHJpZ2dlcigiZGF0YSIsbCk7aWYodT0vXiNFWFQtWC1NQVA6PyguKikkLy5leGVjKGUpKXtpZihsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6Im1hcCJ9LHVbMV0pe3ZhciBpPV9zKHVbMV0pO2lmKGkuVVJJJiYobC51cmk9aS5VUkkpLGkuQllURVJBTkdFKXt2YXIgbj1pLkJZVEVSQU5HRS5zcGxpdCgiQCIpLHI9blswXSxhPW5bMV07bC5ieXRlcmFuZ2U9e30sciYmKGwuYnl0ZXJhbmdlLmxlbmd0aD1wYXJzZUludChyLDEwKSksYSYmKGwuYnl0ZXJhbmdlLm9mZnNldD1wYXJzZUludChhLDEwKSl9fWMudHJpZ2dlcigiZGF0YSIsbCl9ZWxzZSBpZih1PS9eI0VYVC1YLVNUUkVBTS1JTkY6PyguKikkLy5leGVjKGUpKXtpZihsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InN0cmVhbS1pbmYifSx1WzFdKXtpZihsLmF0dHJpYnV0ZXM9X3ModVsxXSksbC5hdHRyaWJ1dGVzLlJFU09MVVRJT04pe3ZhciBzPWwuYXR0cmlidXRlcy5SRVNPTFVUSU9OLnNwbGl0KCJ4Iiksbz17fTtzWzBdJiYoby53aWR0aD1wYXJzZUludChzWzBdLDEwKSksc1sxXSYmKG8uaGVpZ2h0PXBhcnNlSW50KHNbMV0sMTApKSxsLmF0dHJpYnV0ZXMuUkVTT0xVVElPTj1vfWwuYXR0cmlidXRlcy5CQU5EV0lEVEgmJihsLmF0dHJpYnV0ZXMuQkFORFdJRFRIPXBhcnNlSW50KGwuYXR0cmlidXRlcy5CQU5EV0lEVEgsMTApKSxsLmF0dHJpYnV0ZXNbIlBST0dSQU0tSUQiXSYmKGwuYXR0cmlidXRlc1siUFJPR1JBTS1JRCJdPXBhcnNlSW50KGwuYXR0cmlidXRlc1siUFJPR1JBTS1JRCJdLDEwKSl9Yy50cmlnZ2VyKCJkYXRhIixsKX1lbHNle2lmKHU9L14jRVhULVgtTUVESUE6PyguKikkLy5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6Im1lZGlhIn0sdVsxXSYmKGwuYXR0cmlidXRlcz1fcyh1WzFdKSksdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtRU5ETElTVC8uZXhlYyhlKSljLnRyaWdnZXIoImRhdGEiLHt0eXBlOiJ0YWciLHRhZ1R5cGU6ImVuZGxpc3QifSk7ZWxzZSBpZih1PS9eI0VYVC1YLURJU0NPTlRJTlVJVFkvLmV4ZWMoZSkpYy50cmlnZ2VyKCJkYXRhIix7dHlwZToidGFnIix0YWdUeXBlOiJkaXNjb250aW51aXR5In0pO2Vsc2V7aWYodT0vXiNFWFQtWC1QUk9HUkFNLURBVEUtVElNRTo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToicHJvZ3JhbS1kYXRlLXRpbWUifSx1WzFdJiYobC5kYXRlVGltZVN0cmluZz11WzFdLGwuZGF0ZVRpbWVPYmplY3Q9bmV3IERhdGUodVsxXSkpLHZvaWQgYy50cmlnZ2VyKCJkYXRhIixsKTtpZih1PS9eI0VYVC1YLUtFWTo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToia2V5In0sdVsxXSYmKGwuYXR0cmlidXRlcz1fcyh1WzFdKSxsLmF0dHJpYnV0ZXMuSVYmJigiMHgiPT09bC5hdHRyaWJ1dGVzLklWLnN1YnN0cmluZygwLDIpLnRvTG93ZXJDYXNlKCkmJihsLmF0dHJpYnV0ZXMuSVY9bC5hdHRyaWJ1dGVzLklWLnN1YnN0cmluZygyKSksbC5hdHRyaWJ1dGVzLklWPWwuYXR0cmlidXRlcy5JVi5tYXRjaCgvLns4fS9nKSxsLmF0dHJpYnV0ZXMuSVZbMF09cGFyc2VJbnQobC5hdHRyaWJ1dGVzLklWWzBdLDE2KSxsLmF0dHJpYnV0ZXMuSVZbMV09cGFyc2VJbnQobC5hdHRyaWJ1dGVzLklWWzFdLDE2KSxsLmF0dHJpYnV0ZXMuSVZbMl09cGFyc2VJbnQobC5hdHRyaWJ1dGVzLklWWzJdLDE2KSxsLmF0dHJpYnV0ZXMuSVZbM109cGFyc2VJbnQobC5hdHRyaWJ1dGVzLklWWzNdLDE2KSxsLmF0dHJpYnV0ZXMuSVY9bmV3IFVpbnQzMkFycmF5KGwuYXR0cmlidXRlcy5JVikpKSx2b2lkIGMudHJpZ2dlcigiZGF0YSIsbCk7aWYodT0vXiNFWFQtWC1TVEFSVDo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToic3RhcnQifSx1WzFdJiYobC5hdHRyaWJ1dGVzPV9zKHVbMV0pLGwuYXR0cmlidXRlc1siVElNRS1PRkZTRVQiXT1wYXJzZUZsb2F0KGwuYXR0cmlidXRlc1siVElNRS1PRkZTRVQiXSksbC5hdHRyaWJ1dGVzLlBSRUNJU0U9L1lFUy8udGVzdChsLmF0dHJpYnV0ZXMuUFJFQ0lTRSkpLHZvaWQgYy50cmlnZ2VyKCJkYXRhIixsKTtpZih1PS9eI0VYVC1YLUNVRS1PVVQtQ09OVDo/KC4qKT8kLy5leGVjKGUpKXJldHVybiBsPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImN1ZS1vdXQtY29udCJ9LHVbMV0/bC5kYXRhPXVbMV06bC5kYXRhPSIiLHZvaWQgYy50cmlnZ2VyKCJkYXRhIixsKTtpZih1PS9eI0VYVC1YLUNVRS1PVVQ6PyguKik/JC8uZXhlYyhlKSlyZXR1cm4gbD17dHlwZToidGFnIix0YWdUeXBlOiJjdWUtb3V0In0sdVsxXT9sLmRhdGE9dVsxXTpsLmRhdGE9IiIsdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2lmKHU9L14jRVhULVgtQ1VFLUlOOj8oLiopPyQvLmV4ZWMoZSkpcmV0dXJuIGw9e3R5cGU6InRhZyIsdGFnVHlwZToiY3VlLWluIn0sdVsxXT9sLmRhdGE9dVsxXTpsLmRhdGE9IiIsdm9pZCBjLnRyaWdnZXIoImRhdGEiLGwpO2MudHJpZ2dlcigiZGF0YSIse3R5cGU6InRhZyIsZGF0YTplLnNsaWNlKDQpfSl9fX1lbHNlIGMudHJpZ2dlcigiZGF0YSIse3R5cGU6ImNvbW1lbnQiLHRleHQ6ZS5zbGljZSgxKX0pfSk6dGhpcy50cmlnZ2VyKCJkYXRhIix7dHlwZToidXJpIix1cmk6bn0pKX0saS5hZGRQYXJzZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPWUuZXhwcmVzc2lvbixuPWUuY3VzdG9tVHlwZSxyPWUuZGF0YVBhcnNlcixhPWUuc2VnbWVudDsiZnVuY3Rpb24iIT10eXBlb2YgciYmKHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSx0aGlzLmN1c3RvbVBhcnNlcnMucHVzaChmdW5jdGlvbihlKXtpZihpLmV4ZWMoZSkpcmV0dXJuIHQudHJpZ2dlcigiZGF0YSIse3R5cGU6ImN1c3RvbSIsZGF0YTpyKGUpLGN1c3RvbVR5cGU6bixzZWdtZW50OmF9KSwhMH0pfSxpLmFkZFRhZ01hcHBlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmV4cHJlc3Npb24saT1lLm1hcDt0aGlzLnRhZ01hcHBlcnMucHVzaChmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpP2koZSk6ZX0pfSxlfShicyk7ZnVuY3Rpb24ga3MoZSl7cmV0dXJuISFlJiYib2JqZWN0Ij09dHlwZW9mIGV9ZnVuY3Rpb24gQ3MoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxpKXtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KHRbZV0pJiZBcnJheS5pc0FycmF5KGlbZV0pP3RbZV09dFtlXS5jb25jYXQoaVtlXSk6a3ModFtlXSkmJmtzKGlbZV0pP3RbZV09Q3ModFtlXSxpW2VdKTp0W2VdPWlbZV19KSx0fSx7fSl9ZnVuY3Rpb24gRXMoZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSxbXSl9ZnVuY3Rpb24gd3MoZSl7aWYoIWUubGVuZ3RoKXJldHVybltdO2Zvcih2YXIgdD1bXSxpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKGVbaV0pO3JldHVybiB0fXZhciBBcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU7KGU9dC5jYWxsKHRoaXMpfHx0aGlzKS5saW5lU3RyZWFtPW5ldyBUcyxlLnBhcnNlU3RyZWFtPW5ldyBTcyxlLmxpbmVTdHJlYW0ucGlwZShlLnBhcnNlU3RyZWFtKTt2YXIgcixhLHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKSxvPVtdLHU9e30sbD17QVVESU86e30sVklERU86e30sIkNMT1NFRC1DQVBUSU9OUyI6e30sU1VCVElUTEVTOnt9fSxjPTA7cmV0dXJuIGUubWFuaWZlc3Q9e2FsbG93Q2FjaGU6ITAsZGlzY29udGludWl0eVN0YXJ0czpbXSxzZWdtZW50czpbXX0sZS5wYXJzZVN0cmVhbS5vbigiZGF0YSIsZnVuY3Rpb24odCl7dmFyIGksbjsoe3RhZzpmdW5jdGlvbigpeyh7ImFsbG93LWNhY2hlIjpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuYWxsb3dDYWNoZT10LmFsbG93ZWQsImFsbG93ZWQiaW4gdHx8KHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6ImRlZmF1bHRpbmcgYWxsb3dDYWNoZSB0byBZRVMifSksdGhpcy5tYW5pZmVzdC5hbGxvd0NhY2hlPSEwKX0sYnl0ZXJhbmdlOmZ1bmN0aW9uKCl7dmFyIGU9e307Imxlbmd0aCJpbiB0JiYoKHUuYnl0ZXJhbmdlPWUpLmxlbmd0aD10Lmxlbmd0aCwib2Zmc2V0ImluIHR8fCh0aGlzLnRyaWdnZXIoImluZm8iLHttZXNzYWdlOiJkZWZhdWx0aW5nIG9mZnNldCB0byB6ZXJvIn0pLHQub2Zmc2V0PTApKSwib2Zmc2V0ImluIHQmJigodS5ieXRlcmFuZ2U9ZSkub2Zmc2V0PXQub2Zmc2V0KX0sZW5kbGlzdDpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuZW5kTGlzdD0hMH0saW5mOmZ1bmN0aW9uKCl7Im1lZGlhU2VxdWVuY2UiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT0wLHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6ImRlZmF1bHRpbmcgbWVkaWEgc2VxdWVuY2UgdG8gemVybyJ9KSksImRpc2NvbnRpbnVpdHlTZXF1ZW5jZSJpbiB0aGlzLm1hbmlmZXN0fHwodGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9MCx0aGlzLnRyaWdnZXIoImluZm8iLHttZXNzYWdlOiJkZWZhdWx0aW5nIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdG8gemVybyJ9KSksMDx0LmR1cmF0aW9uJiYodS5kdXJhdGlvbj10LmR1cmF0aW9uKSwwPT09dC5kdXJhdGlvbiYmKHUuZHVyYXRpb249LjAxLHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6InVwZGF0aW5nIHplcm8gc2VnbWVudCBkdXJhdGlvbiB0byBhIHNtYWxsIHZhbHVlIn0pKSx0aGlzLm1hbmlmZXN0LnNlZ21lbnRzPW99LGtleTpmdW5jdGlvbigpe2lmKHQuYXR0cmlidXRlcylpZigiTk9ORSIhPT10LmF0dHJpYnV0ZXMuTUVUSE9EKWlmKHQuYXR0cmlidXRlcy5VUkkpe2lmKCJ1cm46dXVpZDplZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQiPT09dC5hdHRyaWJ1dGVzLktFWUZPUk1BVCl7cmV0dXJuLTE9PT1bIlNBTVBMRS1BRVMiLCJTQU1QTEUtQUVTLUNUUiIsIlNBTVBMRS1BRVMtQ0VOQyJdLmluZGV4T2YodC5hdHRyaWJ1dGVzLk1FVEhPRCk/dm9pZCB0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpbnZhbGlkIGtleSBtZXRob2QgcHJvdmlkZWQgZm9yIFdpZGV2aW5lIn0pOigiU0FNUExFLUFFUy1DRU5DIj09PXQuYXR0cmlidXRlcy5NRVRIT0QmJnRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6IlNBTVBMRS1BRVMtQ0VOQyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFNBTVBMRS1BRVMtQ1RSIGluc3RlYWQifSksImRhdGE6dGV4dC9wbGFpbjtiYXNlNjQsIiE9PXQuYXR0cmlidXRlcy5VUkkuc3Vic3RyaW5nKDAsMjMpP3ZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaW52YWxpZCBrZXkgVVJJIHByb3ZpZGVkIGZvciBXaWRldmluZSJ9KTp0LmF0dHJpYnV0ZXMuS0VZSUQmJiIweCI9PT10LmF0dHJpYnV0ZXMuS0VZSUQuc3Vic3RyaW5nKDAsMik/dm9pZCh0aGlzLm1hbmlmZXN0LmNvbnRlbnRQcm90ZWN0aW9uPXsiY29tLndpZGV2aW5lLmFscGhhIjp7YXR0cmlidXRlczp7c2NoZW1lSWRVcmk6dC5hdHRyaWJ1dGVzLktFWUZPUk1BVCxrZXlJZDp0LmF0dHJpYnV0ZXMuS0VZSUQuc3Vic3RyaW5nKDIpfSxwc3NoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD12LmF0b2IoZXx8IiIpLGk9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLG49MDtuPHQubGVuZ3RoO24rKylpW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gaX0odC5hdHRyaWJ1dGVzLlVSSS5zcGxpdCgiLCIpWzFdKX19KTp2b2lkIHRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6ImludmFsaWQga2V5IElEIHByb3ZpZGVkIGZvciBXaWRldmluZSJ9KSl9dC5hdHRyaWJ1dGVzLk1FVEhPRHx8dGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiZGVmYXVsdGluZyBrZXkgbWV0aG9kIHRvIEFFUy0xMjgifSksYT17bWV0aG9kOnQuYXR0cmlidXRlcy5NRVRIT0R8fCJBRVMtMTI4Iix1cmk6dC5hdHRyaWJ1dGVzLlVSSX0sInVuZGVmaW5lZCIhPXR5cGVvZiB0LmF0dHJpYnV0ZXMuSVYmJihhLml2PXQuYXR0cmlidXRlcy5JVil9ZWxzZSB0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyBrZXkgZGVjbGFyYXRpb24gd2l0aG91dCBVUkkifSk7ZWxzZSBhPW51bGw7ZWxzZSB0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyBrZXkgZGVjbGFyYXRpb24gd2l0aG91dCBhdHRyaWJ1dGUgbGlzdCJ9KX0sIm1lZGlhLXNlcXVlbmNlIjpmdW5jdGlvbigpe2lzRmluaXRlKHQubnVtYmVyKT90aGlzLm1hbmlmZXN0Lm1lZGlhU2VxdWVuY2U9dC5udW1iZXI6dGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3JpbmcgaW52YWxpZCBtZWRpYSBzZXF1ZW5jZTogIit0Lm51bWJlcn0pfSwiZGlzY29udGludWl0eS1zZXF1ZW5jZSI6ZnVuY3Rpb24oKXtpc0Zpbml0ZSh0Lm51bWJlcik/KHRoaXMubWFuaWZlc3QuZGlzY29udGludWl0eVNlcXVlbmNlPXQubnVtYmVyLGM9dC5udW1iZXIpOnRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIGludmFsaWQgZGlzY29udGludWl0eSBzZXF1ZW5jZTogIit0Lm51bWJlcn0pfSwicGxheWxpc3QtdHlwZSI6ZnVuY3Rpb24oKXsvVk9EfEVWRU5ULy50ZXN0KHQucGxheWxpc3RUeXBlKT90aGlzLm1hbmlmZXN0LnBsYXlsaXN0VHlwZT10LnBsYXlsaXN0VHlwZTp0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyB1bmtub3duIHBsYXlsaXN0IHR5cGU6ICIrdC5wbGF5bGlzdH0pfSxtYXA6ZnVuY3Rpb24oKXtyPXt9LHQudXJpJiYoci51cmk9dC51cmkpLHQuYnl0ZXJhbmdlJiYoci5ieXRlcmFuZ2U9dC5ieXRlcmFuZ2UpfSwic3RyZWFtLWluZiI6ZnVuY3Rpb24oKXt0aGlzLm1hbmlmZXN0LnBsYXlsaXN0cz1vLHRoaXMubWFuaWZlc3QubWVkaWFHcm91cHM9dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwc3x8bCx0LmF0dHJpYnV0ZXM/KHUuYXR0cmlidXRlc3x8KHUuYXR0cmlidXRlcz17fSkseXModS5hdHRyaWJ1dGVzLHQuYXR0cmlidXRlcykpOnRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIGVtcHR5IHN0cmVhbS1pbmYgYXR0cmlidXRlcyJ9KX0sbWVkaWE6ZnVuY3Rpb24oKXtpZih0aGlzLm1hbmlmZXN0Lm1lZGlhR3JvdXBzPXRoaXMubWFuaWZlc3QubWVkaWFHcm91cHN8fGwsdC5hdHRyaWJ1dGVzJiZ0LmF0dHJpYnV0ZXMuVFlQRSYmdC5hdHRyaWJ1dGVzWyJHUk9VUC1JRCJdJiZ0LmF0dHJpYnV0ZXMuTkFNRSl7dmFyIGU9dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwc1t0LmF0dHJpYnV0ZXMuVFlQRV07ZVt0LmF0dHJpYnV0ZXNbIkdST1VQLUlEIl1dPWVbdC5hdHRyaWJ1dGVzWyJHUk9VUC1JRCJdXXx8e30saT1lW3QuYXR0cmlidXRlc1siR1JPVVAtSUQiXV0sKG49e2RlZmF1bHQ6L3llcy9pLnRlc3QodC5hdHRyaWJ1dGVzLkRFRkFVTFQpfSkuZGVmYXVsdD9uLmF1dG9zZWxlY3Q9ITA6bi5hdXRvc2VsZWN0PS95ZXMvaS50ZXN0KHQuYXR0cmlidXRlcy5BVVRPU0VMRUNUKSx0LmF0dHJpYnV0ZXMuTEFOR1VBR0UmJihuLmxhbmd1YWdlPXQuYXR0cmlidXRlcy5MQU5HVUFHRSksdC5hdHRyaWJ1dGVzLlVSSSYmKG4udXJpPXQuYXR0cmlidXRlcy5VUkkpLHQuYXR0cmlidXRlc1siSU5TVFJFQU0tSUQiXSYmKG4uaW5zdHJlYW1JZD10LmF0dHJpYnV0ZXNbIklOU1RSRUFNLUlEIl0pLHQuYXR0cmlidXRlcy5DSEFSQUNURVJJU1RJQ1MmJihuLmNoYXJhY3RlcmlzdGljcz10LmF0dHJpYnV0ZXMuQ0hBUkFDVEVSSVNUSUNTKSx0LmF0dHJpYnV0ZXMuRk9SQ0VEJiYobi5mb3JjZWQ9L3llcy9pLnRlc3QodC5hdHRyaWJ1dGVzLkZPUkNFRCkpLGlbdC5hdHRyaWJ1dGVzLk5BTUVdPW59ZWxzZSB0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyBpbmNvbXBsZXRlIG9yIG1pc3NpbmcgbWVkaWEgZ3JvdXAifSl9LGRpc2NvbnRpbnVpdHk6ZnVuY3Rpb24oKXtjKz0xLHUuZGlzY29udGludWl0eT0hMCx0aGlzLm1hbmlmZXN0LmRpc2NvbnRpbnVpdHlTdGFydHMucHVzaChvLmxlbmd0aCl9LCJwcm9ncmFtLWRhdGUtdGltZSI6ZnVuY3Rpb24oKXsidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMubWFuaWZlc3QuZGF0ZVRpbWVTdHJpbmcmJih0aGlzLm1hbmlmZXN0LmRhdGVUaW1lU3RyaW5nPXQuZGF0ZVRpbWVTdHJpbmcsdGhpcy5tYW5pZmVzdC5kYXRlVGltZU9iamVjdD10LmRhdGVUaW1lT2JqZWN0KSx1LmRhdGVUaW1lU3RyaW5nPXQuZGF0ZVRpbWVTdHJpbmcsdS5kYXRlVGltZU9iamVjdD10LmRhdGVUaW1lT2JqZWN0fSx0YXJnZXRkdXJhdGlvbjpmdW5jdGlvbigpeyFpc0Zpbml0ZSh0LmR1cmF0aW9uKXx8dC5kdXJhdGlvbjwwP3RoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIGludmFsaWQgdGFyZ2V0IGR1cmF0aW9uOiAiK3QuZHVyYXRpb259KTp0aGlzLm1hbmlmZXN0LnRhcmdldER1cmF0aW9uPXQuZHVyYXRpb259LHRvdGFsZHVyYXRpb246ZnVuY3Rpb24oKXshaXNGaW5pdGUodC5kdXJhdGlvbil8fHQuZHVyYXRpb248MD90aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyBpbnZhbGlkIHRvdGFsIGR1cmF0aW9uOiAiK3QuZHVyYXRpb259KTp0aGlzLm1hbmlmZXN0LnRvdGFsRHVyYXRpb249dC5kdXJhdGlvbn0sc3RhcnQ6ZnVuY3Rpb24oKXt0LmF0dHJpYnV0ZXMmJiFpc05hTih0LmF0dHJpYnV0ZXNbIlRJTUUtT0ZGU0VUIl0pP3RoaXMubWFuaWZlc3Quc3RhcnQ9e3RpbWVPZmZzZXQ6dC5hdHRyaWJ1dGVzWyJUSU1FLU9GRlNFVCJdLHByZWNpc2U6dC5hdHRyaWJ1dGVzLlBSRUNJU0V9OnRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIHN0YXJ0IGRlY2xhcmF0aW9uIHdpdGhvdXQgYXBwcm9wcmlhdGUgYXR0cmlidXRlIGxpc3QifSl9LCJjdWUtb3V0IjpmdW5jdGlvbigpe3UuY3VlT3V0PXQuZGF0YX0sImN1ZS1vdXQtY29udCI6ZnVuY3Rpb24oKXt1LmN1ZU91dENvbnQ9dC5kYXRhfSwiY3VlLWluIjpmdW5jdGlvbigpe3UuY3VlSW49dC5kYXRhfX1bdC50YWdUeXBlXXx8ZnVuY3Rpb24oKXt9KS5jYWxsKHMpfSx1cmk6ZnVuY3Rpb24oKXt1LnVyaT10LnVyaSxvLnB1c2godSksIXRoaXMubWFuaWZlc3QudGFyZ2V0RHVyYXRpb258fCJkdXJhdGlvbiJpbiB1fHwodGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiZGVmYXVsdGluZyBzZWdtZW50IGR1cmF0aW9uIHRvIHRoZSB0YXJnZXQgZHVyYXRpb24ifSksdS5kdXJhdGlvbj10aGlzLm1hbmlmZXN0LnRhcmdldER1cmF0aW9uKSxhJiYodS5rZXk9YSksdS50aW1lbGluZT1jLHImJih1Lm1hcD1yKSx1PXt9fSxjb21tZW50OmZ1bmN0aW9uKCl7fSxjdXN0b206ZnVuY3Rpb24oKXt0LnNlZ21lbnQ/KHUuY3VzdG9tPXUuY3VzdG9tfHx7fSx1LmN1c3RvbVt0LmN1c3RvbVR5cGVdPXQuZGF0YSk6KHRoaXMubWFuaWZlc3QuY3VzdG9tPXRoaXMubWFuaWZlc3QuY3VzdG9tfHx7fSx0aGlzLm1hbmlmZXN0LmN1c3RvbVt0LmN1c3RvbVR5cGVdPXQuZGF0YSl9fSlbdC50eXBlXS5jYWxsKHMpfSksZX12cyhlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5saW5lU3RyZWFtLnB1c2goZSl9LGkuZW5kPWZ1bmN0aW9uKCl7dGhpcy5saW5lU3RyZWFtLnB1c2goIlxuIil9LGkuYWRkUGFyc2VyPWZ1bmN0aW9uKGUpe3RoaXMucGFyc2VTdHJlYW0uYWRkUGFyc2VyKGUpfSxpLmFkZFRhZ01hcHBlcj1mdW5jdGlvbihlKXt0aGlzLnBhcnNlU3RyZWFtLmFkZFRhZ01hcHBlcihlKX0sZX0oYnMpLFBzPSJJTlZBTElEX05VTUJFUl9PRl9QRVJJT0QiLElzPSJEQVNIX0VNUFRZX01BTklGRVNUIixMcz0iREFTSF9JTlZBTElEX1hNTCIsT3M9Ik5PX0JBU0VfVVJMIix4cz0iU0VHTUVOVF9USU1FX1VOU1BFQ0lGSUVEIixEcz0iVU5TVVBQT1JURURfVVRDX1RJTUlOR19TQ0hFTUUiOwovKiEgQG5hbWUgbXBkLXBhcnNlciBAdmVyc2lvbiAwLjguMSBAbGljZW5zZSBBcGFjaGUtMi4wICovZnVuY3Rpb24gVXMoZSx0KXtyZXR1cm4vXlthLXpdKzovaS50ZXN0KHQpP3Q6KC9cL1wvL2kudGVzdChlKXx8KGU9WnMuYnVpbGRBYnNvbHV0ZVVSTCh2LmxvY2F0aW9uLmhyZWYsZSkpLFpzLmJ1aWxkQWJzb2x1dGVVUkwoZSx0KSl9ZnVuY3Rpb24gUnMoZSl7dmFyIHQ9ZS5iYXNlVXJsLGk9dm9pZCAwPT09dD8iIjp0LG49ZS5zb3VyY2Uscj12b2lkIDA9PT1uPyIiOm4sYT1lLnJhbmdlLHM9dm9pZCAwPT09YT8iIjphLG89ZS5pbmRleFJhbmdlLHU9dm9pZCAwPT09bz8iIjpvLGw9e3VyaTpyLHJlc29sdmVkVXJpOlVzKGl8fCIiLHIpfTtpZihzfHx1KXt2YXIgYz0oc3x8dSkuc3BsaXQoIi0iKSxoPXBhcnNlSW50KGNbMF0sMTApLGQ9cGFyc2VJbnQoY1sxXSwxMCk7bC5ieXRlcmFuZ2U9e2xlbmd0aDpkLWgrMSxvZmZzZXQ6aH19cmV0dXJuIGx9ZnVuY3Rpb24gTXMoZSl7dmFyIHQ9ZS50eXBlLGk9dm9pZCAwPT09dD8ic3RhdGljIjp0LG49ZS5kdXJhdGlvbixyPWUudGltZXNjYWxlLGE9dm9pZCAwPT09cj8xOnIscz1lLnNvdXJjZUR1cmF0aW9uLG89ZW9baV0oZSksdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1bXSxuPWU7bjx0O24rKylpLnB1c2gobik7cmV0dXJuIGl9KG8uc3RhcnQsby5lbmQpLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgaT1vLmR1cmF0aW9uLG49by50aW1lc2NhbGUscj12b2lkIDA9PT1uPzE6bixhPW8ucGVyaW9kSW5kZXgscz1vLnN0YXJ0TnVtYmVyO3JldHVybntudW1iZXI6KHZvaWQgMD09PXM/MTpzKStlLGR1cmF0aW9uOmkvcix0aW1lbGluZTphLHRpbWU6dCppfX19KGUpKTtpZigic3RhdGljIj09PWkpe3ZhciBsPXUubGVuZ3RoLTE7dVtsXS5kdXJhdGlvbj1zLW4vYSpsfXJldHVybiB1fWZ1bmN0aW9uIE5zKGUpe3ZhciB0PWUuYmFzZVVybCxpPWUuaW5pdGlhbGl6YXRpb24sbj12b2lkIDA9PT1pP3t9Omkscj1lLnNvdXJjZUR1cmF0aW9uLGE9ZS50aW1lc2NhbGUscz12b2lkIDA9PT1hPzE6YSxvPWUuaW5kZXhSYW5nZSx1PXZvaWQgMD09PW8/IiI6byxsPWUuZHVyYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKE9zKTt2YXIgYz1Scyh7YmFzZVVybDp0LHNvdXJjZTpuLnNvdXJjZVVSTCxyYW5nZTpuLnJhbmdlfSksaD1Scyh7YmFzZVVybDp0LHNvdXJjZTp0LGluZGV4UmFuZ2U6dX0pO2lmKGgubWFwPWMsbCl7dmFyIGQ9TXMoZSk7ZC5sZW5ndGgmJihoLmR1cmF0aW9uPWRbMF0uZHVyYXRpb24saC50aW1lbGluZT1kWzBdLnRpbWVsaW5lKX1lbHNlIHImJihoLmR1cmF0aW9uPXIvcyxoLnRpbWVsaW5lPTApO3JldHVybiBoLm51bWJlcj0wLFtoXX1mdW5jdGlvbiBCcyhlLHQsaSl7Zm9yKHZhciBuPWUuc2lkeC5tYXA/ZS5zaWR4Lm1hcDpudWxsLHI9ZS5zaWR4LmR1cmF0aW9uLGE9ZS50aW1lbGluZXx8MCxzPWUuc2lkeC5ieXRlcmFuZ2Usbz1zLm9mZnNldCtzLmxlbmd0aCx1PXQudGltZXNjYWxlLGw9dC5yZWZlcmVuY2VzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUucmVmZXJlbmNlVHlwZX0pLGM9W10saD1vK3QuZmlyc3RPZmZzZXQsZD0wO2Q8bC5sZW5ndGg7ZCsrKXt2YXIgcD10LnJlZmVyZW5jZXNbZF0sZj1wLnJlZmVyZW5jZWRTaXplLG09cC5zdWJzZWdtZW50RHVyYXRpb24sZz1Ocyh7YmFzZVVybDppLHRpbWVzY2FsZTp1LHRpbWVsaW5lOmEscGVyaW9kSW5kZXg6YSxkdXJhdGlvbjptLHNvdXJjZUR1cmF0aW9uOnIsaW5kZXhSYW5nZTpoKyItIisoaCtmLTEpfSlbMF07biYmKGcubWFwPW4pLGMucHVzaChnKSxoKz1mfXJldHVybiBlLnNlZ21lbnRzPWMsZX1mdW5jdGlvbiBqcyhlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pfShlLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpLG49dC5hdHRyaWJ1dGVzLmlkKyh0LmF0dHJpYnV0ZXMubGFuZ3x8IiIpO2Vbbl0/KHQuc2VnbWVudHNbMF0mJih0LnNlZ21lbnRzWzBdLmRpc2NvbnRpbnVpdHk9ITApLChpPWVbbl0uc2VnbWVudHMpLnB1c2guYXBwbHkoaSx0LnNlZ21lbnRzKSx0LmF0dHJpYnV0ZXMuY29udGVudFByb3RlY3Rpb24mJihlW25dLmF0dHJpYnV0ZXMuY29udGVudFByb3RlY3Rpb249dC5hdHRyaWJ1dGVzLmNvbnRlbnRQcm90ZWN0aW9uKSk6ZVtuXT10O3JldHVybiBlfSx7fSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNjb250aW51aXR5U3RhcnRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdFtuXSYmZS5wdXNoKGkpLGV9LFtdKX0oZS5zZWdtZW50cywiZGlzY29udGludWl0eSIpLGV9KX1mdW5jdGlvbiBGcyhlLHQpe2lmKHZvaWQgMD09PXQmJih0PXt9KSwhT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgaSBpbiBlKXt2YXIgbj1lW2ldO2lmKG4uc2lkeCl7dmFyIHI9bi5zaWR4LnVyaSsiLSIrKHM9bi5zaWR4LmJ5dGVyYW5nZSx2b2lkIDAsbz1zLm9mZnNldCtzLmxlbmd0aC0xLHMub2Zmc2V0KyItIitvKSxhPXRbcl0mJnRbcl0uc2lkeDtuLnNpZHgmJmEmJkJzKG4sYSxuLnNpZHgucmVzb2x2ZWRVcmkpfX12YXIgcyxvO3JldHVybiBlfWZ1bmN0aW9uIEhzKGUpe3ZhciB0LGk9ZS5hdHRyaWJ1dGVzLG49ZS5zZWdtZW50cyxyPWUuc2lkeCxhPXthdHRyaWJ1dGVzOih0PXtOQU1FOmkuaWQsQVVESU86ImF1ZGlvIixTVUJUSVRMRVM6InN1YnMiLFJFU09MVVRJT046e3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxDT0RFQ1M6aS5jb2RlY3MsQkFORFdJRFRIOmkuYmFuZHdpZHRofSx0WyJQUk9HUkFNLUlEIl09MSx0KSx1cmk6IiIsZW5kTGlzdDoic3RhdGljIj09PShpLnR5cGV8fCJzdGF0aWMiKSx0aW1lbGluZTppLnBlcmlvZEluZGV4LHJlc29sdmVkVXJpOiIiLHRhcmdldER1cmF0aW9uOmkuZHVyYXRpb24sc2VnbWVudHM6bixtZWRpYVNlcXVlbmNlOm4ubGVuZ3RoP25bMF0ubnVtYmVyOjF9O3JldHVybiBpLmNvbnRlbnRQcm90ZWN0aW9uJiYoYS5jb250ZW50UHJvdGVjdGlvbj1pLmNvbnRlbnRQcm90ZWN0aW9uKSxyJiYoYS5zaWR4PXIpLGF9ZnVuY3Rpb24gVnMoZSx0KXt2YXIgaTtpZih2b2lkIDA9PT10JiYodD17fSksIWUubGVuZ3RoKXJldHVybnt9O3ZhciBuPWVbMF0uYXR0cmlidXRlcyxyPW4uc291cmNlRHVyYXRpb24sYT1uLm1pbmltdW1VcGRhdGVQZXJpb2Qscz12b2lkIDA9PT1hPzA6YSxvPWpzKGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cmlidXRlcztyZXR1cm4idmlkZW8vbXA0Ij09PXQubWltZVR5cGV8fCJ2aWRlbyI9PT10LmNvbnRlbnRUeXBlfSkpLm1hcChIcyksdT1qcyhlLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXM7cmV0dXJuImF1ZGlvL21wNCI9PT10Lm1pbWVUeXBlfHwiYXVkaW8iPT09dC5jb250ZW50VHlwZX0pKSxsPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cmlidXRlcztyZXR1cm4idGV4dC92dHQiPT09dC5taW1lVHlwZXx8InRleHQiPT09dC5jb250ZW50VHlwZX0pLGM9e2FsbG93Q2FjaGU6ITAsZGlzY29udGludWl0eVN0YXJ0czpbXSxzZWdtZW50czpbXSxlbmRMaXN0OiEwLG1lZGlhR3JvdXBzOihpPXtBVURJTzp7fSxWSURFTzp7fX0saVsiQ0xPU0VELUNBUFRJT05TIl09e30saS5TVUJUSVRMRVM9e30saSksdXJpOiIiLGR1cmF0aW9uOnIscGxheWxpc3RzOkZzKG8sdCksbWluaW11bVVwZGF0ZVBlcmlvZDoxZTMqc307cmV0dXJuIHUubGVuZ3RoJiYoYy5tZWRpYUdyb3Vwcy5BVURJTy5hdWRpbz1mdW5jdGlvbihlLHMpe3ZhciBvO3ZvaWQgMD09PXMmJihzPXt9KTt2YXIgdD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpPXQuYXR0cmlidXRlcy5yb2xlJiZ0LmF0dHJpYnV0ZXMucm9sZS52YWx1ZXx8IiIsbj10LmF0dHJpYnV0ZXMubGFuZ3x8IiIscj0ibWFpbiI7aWYobil7dmFyIGE9aT8iICgiK2krIikiOiIiO3I9dC5hdHRyaWJ1dGVzLmxhbmcrYX1yZXR1cm4gZVtyXSYmZVtyXS5wbGF5bGlzdHNbMF0uYXR0cmlidXRlcy5CQU5EV0lEVEg+dC5hdHRyaWJ1dGVzLmJhbmR3aWR0aHx8KGVbcl09e2xhbmd1YWdlOm4sYXV0b3NlbGVjdDohMCxkZWZhdWx0OiJtYWluIj09PWkscGxheWxpc3RzOkZzKFtmdW5jdGlvbihlKXt2YXIgdCxpPWUuYXR0cmlidXRlcyxuPWUuc2VnbWVudHMscj1lLnNpZHgsYT17YXR0cmlidXRlczoodD17TkFNRTppLmlkLEJBTkRXSURUSDppLmJhbmR3aWR0aCxDT0RFQ1M6aS5jb2RlY3N9LHRbIlBST0dSQU0tSUQiXT0xLHQpLHVyaToiIixlbmRMaXN0OiJzdGF0aWMiPT09KGkudHlwZXx8InN0YXRpYyIpLHRpbWVsaW5lOmkucGVyaW9kSW5kZXgscmVzb2x2ZWRVcmk6IiIsdGFyZ2V0RHVyYXRpb246aS5kdXJhdGlvbixzZWdtZW50czpuLG1lZGlhU2VxdWVuY2U6bi5sZW5ndGg/blswXS5udW1iZXI6MX07cmV0dXJuIGkuY29udGVudFByb3RlY3Rpb24mJihhLmNvbnRlbnRQcm90ZWN0aW9uPWkuY29udGVudFByb3RlY3Rpb24pLHImJihhLnNpZHg9ciksYX0odCldLHMpLHVyaToiIn0sInVuZGVmaW5lZCI9PXR5cGVvZiBvJiYibWFpbiI9PT1pJiYoKG89dCkuZGVmYXVsdD0hMCkpLGV9LHt9KTtvfHwodFtPYmplY3Qua2V5cyh0KVswXV0uZGVmYXVsdD0hMCk7cmV0dXJuIHR9KHUsdCkpLGwubGVuZ3RoJiYoYy5tZWRpYUdyb3Vwcy5TVUJUSVRMRVMuc3Vicz1mdW5jdGlvbihlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSksZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgaT10LmF0dHJpYnV0ZXMubGFuZ3x8InRleHQiO3JldHVybiBlW2ldfHwoZVtpXT17bGFuZ3VhZ2U6aSxkZWZhdWx0OiExLGF1dG9zZWxlY3Q6ITEscGxheWxpc3RzOkZzKFtmdW5jdGlvbihlKXt2YXIgdCxpPWUuYXR0cmlidXRlcyxuPWUuc2VnbWVudHM7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBuJiYobj1be3VyaTppLmJhc2VVcmwsdGltZWxpbmU6aS5wZXJpb2RJbmRleCxyZXNvbHZlZFVyaTppLmJhc2VVcmx8fCIiLGR1cmF0aW9uOmkuc291cmNlRHVyYXRpb24sbnVtYmVyOjB9XSxpLmR1cmF0aW9uPWkuc291cmNlRHVyYXRpb24pLHthdHRyaWJ1dGVzOih0PXtOQU1FOmkuaWQsQkFORFdJRFRIOmkuYmFuZHdpZHRofSx0WyJQUk9HUkFNLUlEIl09MSx0KSx1cmk6IiIsZW5kTGlzdDoic3RhdGljIj09PShpLnR5cGV8fCJzdGF0aWMiKSx0aW1lbGluZTppLnBlcmlvZEluZGV4LHJlc29sdmVkVXJpOmkuYmFzZVVybHx8IiIsdGFyZ2V0RHVyYXRpb246aS5kdXJhdGlvbixzZWdtZW50czpuLG1lZGlhU2VxdWVuY2U6bi5sZW5ndGg/blswXS5udW1iZXI6MX19KHQpXSxuKSx1cmk6IiJ9KSxlfSx7fSl9KGwsdCkpLGN9ZnVuY3Rpb24gcXMoZSx0KXtmb3IodmFyIGksbixyLGEscyxvLHUsbCxjLGgsZCxwLGY9ZS50eXBlLG09dm9pZCAwPT09Zj8ic3RhdGljIjpmLGc9ZS5taW5pbXVtVXBkYXRlUGVyaW9kLHk9dm9pZCAwPT09Zz8wOmcsdj1lLm1lZGlhLF89dm9pZCAwPT09dj8iIjp2LGI9ZS5zb3VyY2VEdXJhdGlvbixUPWUudGltZXNjYWxlLFM9dm9pZCAwPT09VD8xOlQsaz1lLnN0YXJ0TnVtYmVyLEM9dm9pZCAwPT09az8xOmssRT1lLnBlcmlvZEluZGV4LHc9W10sQT0tMSxQPTA7UDx0Lmxlbmd0aDtQKyspe3ZhciBJPXRbUF0sTD1JLmQsTz1JLnJ8fDAseD1JLnR8fDA7QTwwJiYoQT14KSx4JiZBPHgmJihBPXgpO3ZhciBEPXZvaWQgMDtpZihPPDApe3ZhciBVPVArMTtEPVU9PT10Lmxlbmd0aD8iZHluYW1pYyI9PT1tJiYwPHkmJjA8Xy5pbmRleE9mKCIkTnVtYmVyJCIpPyhuPUEscj1MLHZvaWQgMCxhPShpPWUpLk5PVyxzPWkuY2xpZW50T2Zmc2V0LG89aS5hdmFpbGFiaWxpdHlTdGFydFRpbWUsdT1pLnRpbWVzY2FsZSxsPXZvaWQgMD09PXU/MTp1LGM9aS5zdGFydCxoPXZvaWQgMD09PWM/MDpjLGQ9aS5taW5pbXVtVXBkYXRlUGVyaW9kLHA9KGErcykvMWUzKyh2b2lkIDA9PT1kPzA6ZCktKG8raCksTWF0aC5jZWlsKChwKmwtbikvcikpOihiKlMtQSkvTDoodFtVXS50LUEpL0x9ZWxzZSBEPU8rMTtmb3IodmFyIFI9Qyt3Lmxlbmd0aCtELE09Qyt3Lmxlbmd0aDtNPFI7KXcucHVzaCh7bnVtYmVyOk0sZHVyYXRpb246TC9TLHRpbWU6QSx0aW1lbGluZTpFfSksQSs9TCxNKyt9cmV0dXJuIHd9ZnVuY3Rpb24gV3MoZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHRvLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihlLHQsaSxuKXtpZigiJCQiPT09ZSlyZXR1cm4iJCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBhW3RdKXJldHVybiBlO3ZhciByPSIiK2FbdF07cmV0dXJuIlJlcHJlc2VudGF0aW9uSUQiPT09dD9yOihuPWk/cGFyc2VJbnQobiwxMCk6MSk8PXIubGVuZ3RoP3I6bmV3IEFycmF5KG4tci5sZW5ndGgrMSkuam9pbigiMCIpK3J9fSh0KSl9ZnVuY3Rpb24genMoaSxlKXt2YXIgbj17UmVwcmVzZW50YXRpb25JRDppLmlkLEJhbmR3aWR0aDppLmJhbmR3aWR0aHx8MH0sdD1pLmluaXRpYWxpemF0aW9uLHI9dm9pZCAwPT09dD97c291cmNlVVJMOiIiLHJhbmdlOiIifTp0LGE9UnMoe2Jhc2VVcmw6aS5iYXNlVXJsLHNvdXJjZTpXcyhyLnNvdXJjZVVSTCxuKSxyYW5nZTpyLnJhbmdlfSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZHVyYXRpb258fHQ/ZS5kdXJhdGlvbj9NcyhlKTpxcyhlLHQpOlt7bnVtYmVyOmUuc3RhcnROdW1iZXJ8fDEsZHVyYXRpb246ZS5zb3VyY2VEdXJhdGlvbix0aW1lOjAsdGltZWxpbmU6ZS5wZXJpb2RJbmRleH1dfShpLGUpLm1hcChmdW5jdGlvbihlKXtuLk51bWJlcj1lLm51bWJlcixuLlRpbWU9ZS50aW1lO3ZhciB0PVdzKGkubWVkaWF8fCIiLG4pO3JldHVybnt1cmk6dCx0aW1lbGluZTplLnRpbWVsaW5lLGR1cmF0aW9uOmUuZHVyYXRpb24scmVzb2x2ZWRVcmk6VXMoaS5iYXNlVXJsfHwiIix0KSxtYXA6YSxudW1iZXI6ZS5udW1iZXJ9fSl9ZnVuY3Rpb24gJHModCxlKXt2YXIgaT10LmR1cmF0aW9uLG49dC5zZWdtZW50VXJscyxyPXZvaWQgMD09PW4/W106bjtpZighaSYmIWV8fGkmJmUpdGhyb3cgbmV3IEVycm9yKHhzKTt2YXIgYSxzPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBpPWUuYmFzZVVybCxuPWUuaW5pdGlhbGl6YXRpb24scj12b2lkIDA9PT1uP3t9Om4sYT1Scyh7YmFzZVVybDppLHNvdXJjZTpyLnNvdXJjZVVSTCxyYW5nZTpyLnJhbmdlfSkscz1Scyh7YmFzZVVybDppLHNvdXJjZTp0Lm1lZGlhLHJhbmdlOnQubWVkaWFSYW5nZX0pO3JldHVybiBzLm1hcD1hLHN9KHQsZSl9KTtyZXR1cm4gaSYmKGE9TXModCkpLGUmJihhPXFzKHQsZSkpLGEubWFwKGZ1bmN0aW9uKGUsdCl7aWYoc1t0XSl7dmFyIGk9c1t0XTtyZXR1cm4gaS50aW1lbGluZT1lLnRpbWVsaW5lLGkuZHVyYXRpb249ZS5kdXJhdGlvbixpLm51bWJlcj1lLm51bWJlcixpfX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfWZ1bmN0aW9uIEdzKGUpe3ZhciB0LGksbj1lLmF0dHJpYnV0ZXMscj1lLnNlZ21lbnRJbmZvO3IudGVtcGxhdGU/KGk9enMsdD1DcyhuLHIudGVtcGxhdGUpKTpyLmJhc2U/KGk9TnMsdD1DcyhuLHIuYmFzZSkpOnIubGlzdCYmKGk9JHMsdD1DcyhuLHIubGlzdCkpO3ZhciBhPXthdHRyaWJ1dGVzOm59O2lmKCFpKXJldHVybiBhO3ZhciBzPWkodCxyLnRpbWVsaW5lKTtpZih0LmR1cmF0aW9uKXt2YXIgbz10LHU9by5kdXJhdGlvbixsPW8udGltZXNjYWxlLGM9dm9pZCAwPT09bD8xOmw7dC5kdXJhdGlvbj11L2N9ZWxzZSBzLmxlbmd0aD90LmR1cmF0aW9uPXMucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5jZWlsKHQuZHVyYXRpb24pKX0sMCk6dC5kdXJhdGlvbj0wO3JldHVybiBhLmF0dHJpYnV0ZXM9dCxhLnNlZ21lbnRzPXMsci5iYXNlJiZ0LmluZGV4UmFuZ2UmJihhLnNpZHg9c1swXSxhLnNlZ21lbnRzPVtdKSxhfWZ1bmN0aW9uIFhzKGUsdCl7cmV0dXJuIHdzKGUuY2hpbGROb2RlcykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhZ05hbWU9PT10fSl9ZnVuY3Rpb24gS3MoZSl7cmV0dXJuIGUudGV4dENvbnRlbnQudHJpbSgpfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PS9QKD86KFxkKilZKT8oPzooXGQqKU0pPyg/OihcZCopRCk/KD86VCg/OihcZCopSCk/KD86KFxkKilNKT8oPzooW1xkLl0qKVMpPyk/Ly5leGVjKGUpO2lmKCF0KXJldHVybiAwO3ZhciBpPXQuc2xpY2UoMSksbj1pWzBdLHI9aVsxXSxhPWlbMl0scz1pWzNdLG89aVs0XSx1PWlbNV07cmV0dXJuIDMxNTM2ZTMqcGFyc2VGbG9hdChufHwwKSsyNTkyZTMqcGFyc2VGbG9hdChyfHwwKSs4NjQwMCpwYXJzZUZsb2F0KGF8fDApKzM2MDAqcGFyc2VGbG9hdChzfHwwKSs2MCpwYXJzZUZsb2F0KG98fDApK3BhcnNlRmxvYXQodXx8MCl9ZnVuY3Rpb24gUXMoZSl7cmV0dXJuIGUmJmUuYXR0cmlidXRlcz93cyhlLmF0dHJpYnV0ZXMpLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpPWlvW3QubmFtZV18fGlvLkRFRkFVTFQ7cmV0dXJuIGVbdC5uYW1lXT1pKHQudmFsdWUpLGV9LHt9KTp7fX12YXIgSnMsWnM9KGZ1bmN0aW9uKGUsdCl7dmFyIGksYyxuLHIsaDtpPS9eKCg/OlthLXpBLVowLTkrXC0uXSs6KT8pKFwvXC9bXlwvPyNdKik/KCg/OlteXC9cPyNdKlwvKSouKj8pPz8oOy4qPyk/KFw/Lio/KT8oIy4qPyk/JC8sYz0vXihbXlwvPyNdKikoLiopJC8sbj0vKD86XC98XilcLig/PVwvKS9nLHI9Lyg/OlwvfF4pXC5cLlwvKD8hXC5cLlwvKS4qPyg/PVwvKS9nLGg9e2J1aWxkQWJzb2x1dGVVUkw6ZnVuY3Rpb24oZSx0LGkpe2lmKGk9aXx8e30sZT1lLnRyaW0oKSwhKHQ9dC50cmltKCkpKXtpZighaS5hbHdheXNOb3JtYWxpemUpcmV0dXJuIGU7dmFyIG49aC5wYXJzZVVSTChlKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkVycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4iKTtyZXR1cm4gbi5wYXRoPWgubm9ybWFsaXplUGF0aChuLnBhdGgpLGguYnVpbGRVUkxGcm9tUGFydHMobil9dmFyIHI9aC5wYXJzZVVSTCh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoIkVycm9yIHRyeWluZyB0byBwYXJzZSByZWxhdGl2ZSBVUkwuIik7aWYoci5zY2hlbWUpcmV0dXJuIGkuYWx3YXlzTm9ybWFsaXplPyhyLnBhdGg9aC5ub3JtYWxpemVQYXRoKHIucGF0aCksaC5idWlsZFVSTEZyb21QYXJ0cyhyKSk6dDt2YXIgYT1oLnBhcnNlVVJMKGUpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLiIpO2lmKCFhLm5ldExvYyYmYS5wYXRoJiYiLyIhPT1hLnBhdGhbMF0pe3ZhciBzPWMuZXhlYyhhLnBhdGgpO2EubmV0TG9jPXNbMV0sYS5wYXRoPXNbMl19YS5uZXRMb2MmJiFhLnBhdGgmJihhLnBhdGg9Ii8iKTt2YXIgbz17c2NoZW1lOmEuc2NoZW1lLG5ldExvYzpyLm5ldExvYyxwYXRoOm51bGwscGFyYW1zOnIucGFyYW1zLHF1ZXJ5OnIucXVlcnksZnJhZ21lbnQ6ci5mcmFnbWVudH07aWYoIXIubmV0TG9jJiYoby5uZXRMb2M9YS5uZXRMb2MsIi8iIT09ci5wYXRoWzBdKSlpZihyLnBhdGgpe3ZhciB1PWEucGF0aCxsPXUuc3Vic3RyaW5nKDAsdS5sYXN0SW5kZXhPZigiLyIpKzEpK3IucGF0aDtvLnBhdGg9aC5ub3JtYWxpemVQYXRoKGwpfWVsc2Ugby5wYXRoPWEucGF0aCxyLnBhcmFtc3x8KG8ucGFyYW1zPWEucGFyYW1zLHIucXVlcnl8fChvLnF1ZXJ5PWEucXVlcnkpKTtyZXR1cm4gbnVsbD09PW8ucGF0aCYmKG8ucGF0aD1pLmFsd2F5c05vcm1hbGl6ZT9oLm5vcm1hbGl6ZVBhdGgoci5wYXRoKTpyLnBhdGgpLGguYnVpbGRVUkxGcm9tUGFydHMobyl9LHBhcnNlVVJMOmZ1bmN0aW9uKGUpe3ZhciB0PWkuZXhlYyhlKTtyZXR1cm4gdD97c2NoZW1lOnRbMV18fCIiLG5ldExvYzp0WzJdfHwiIixwYXRoOnRbM118fCIiLHBhcmFtczp0WzRdfHwiIixxdWVyeTp0WzVdfHwiIixmcmFnbWVudDp0WzZdfHwiIn06bnVsbH0sbm9ybWFsaXplUGF0aDpmdW5jdGlvbihlKXtmb3IoZT1lLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIikucmVwbGFjZShuLCIiKTtlLmxlbmd0aCE9PShlPWUucmVwbGFjZShyLCIiKSkubGVuZ3RoOyk7cmV0dXJuIGUuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKX0sYnVpbGRVUkxGcm9tUGFydHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NoZW1lK2UubmV0TG9jK2UucGF0aCtlLnBhcmFtcytlLnF1ZXJ5K2UuZnJhZ21lbnR9fSxlLmV4cG9ydHM9aH0oSnM9e2V4cG9ydHM6e319LEpzLmV4cG9ydHMpLEpzLmV4cG9ydHMpLGVvPXtzdGF0aWM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kdXJhdGlvbixpPWUudGltZXNjYWxlLG49dm9pZCAwPT09aT8xOmkscj1lLnNvdXJjZUR1cmF0aW9uO3JldHVybntzdGFydDowLGVuZDpNYXRoLmNlaWwoci8odC9uKSl9fSxkeW5hbWljOmZ1bmN0aW9uKGUpe3ZhciB0PWUuTk9XLGk9ZS5jbGllbnRPZmZzZXQsbj1lLmF2YWlsYWJpbGl0eVN0YXJ0VGltZSxyPWUudGltZXNjYWxlLGE9dm9pZCAwPT09cj8xOnIscz1lLmR1cmF0aW9uLG89ZS5zdGFydCx1PXZvaWQgMD09PW8/MDpvLGw9ZS5taW5pbXVtVXBkYXRlUGVyaW9kLGM9dm9pZCAwPT09bD8wOmwsaD1lLnRpbWVTaGlmdEJ1ZmZlckRlcHRoLGQ9dm9pZCAwPT09aD8xLzA6aCxwPSh0K2kpLzFlMyxmPW4rdSxtPXArYy1mLGc9TWF0aC5jZWlsKG0qYS9zKSx5PU1hdGguZmxvb3IoKHAtZi1kKSphL3MpLHY9TWF0aC5mbG9vcigocC1mKSphL3MpO3JldHVybntzdGFydDpNYXRoLm1heCgwLHkpLGVuZDpNYXRoLm1pbihnLHYpfX19LHRvPS9cJChbQS16XSopKD86KCUwKShbMC05XSspZCk/XCQvZyxpbz17bWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gWXMoZSl9LGF2YWlsYWJpbGl0eVN0YXJ0VGltZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuL15cZCstXGQrLVxkK1RcZCs6XGQrOlxkKyhcLlxkKyk/JC8udGVzdChlKSYmKGUrPSJaIiksRGF0ZS5wYXJzZShlKX0oZSkvMWUzfSxtaW5pbXVtVXBkYXRlUGVyaW9kOmZ1bmN0aW9uKGUpe3JldHVybiBZcyhlKX0sdGltZVNoaWZ0QnVmZmVyRGVwdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIFlzKGUpfSxzdGFydDpmdW5jdGlvbihlKXtyZXR1cm4gWXMoZSl9LHdpZHRoOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0saGVpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sYmFuZHdpZHRoOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sc3RhcnROdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSx0aW1lc2NhbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSxkdXJhdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1wYXJzZUludChlLDEwKTtyZXR1cm4gaXNOYU4odCk/WXMoZSk6dH0sZDpmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9LHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSxyOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sREVGQVVMVDpmdW5jdGlvbihlKXtyZXR1cm4gZX19O2Z1bmN0aW9uIG5vKGUsaSl7cmV0dXJuIGkubGVuZ3RoP0VzKGUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gVXModCxLcyhlKSl9KX0pKTplfWZ1bmN0aW9uIHJvKGUpe3ZhciB0PVhzKGUsIlNlZ21lbnRUZW1wbGF0ZSIpWzBdLGk9WHMoZSwiU2VnbWVudExpc3QiKVswXSxuPWkmJlhzKGksIlNlZ21lbnRVUkwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIENzKHt0YWc6IlNlZ21lbnRVUkwifSxRcyhlKSl9KSxyPVhzKGUsIlNlZ21lbnRCYXNlIilbMF0sYT1pfHx0LHM9YSYmWHMoYSwiU2VnbWVudFRpbWVsaW5lIilbMF0sbz1pfHxyfHx0LHU9byYmWHMobywiSW5pdGlhbGl6YXRpb24iKVswXSxsPXQmJlFzKHQpO2wmJnU/bC5pbml0aWFsaXphdGlvbj11JiZRcyh1KTpsJiZsLmluaXRpYWxpemF0aW9uJiYobC5pbml0aWFsaXphdGlvbj17c291cmNlVVJMOmwuaW5pdGlhbGl6YXRpb259KTt2YXIgYz17dGVtcGxhdGU6bCx0aW1lbGluZTpzJiZYcyhzLCJTIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBRcyhlKX0pLGxpc3Q6aSYmQ3MoUXMoaSkse3NlZ21lbnRVcmxzOm4saW5pdGlhbGl6YXRpb246UXModSl9KSxiYXNlOnImJkNzKFFzKHIpLHtpbml0aWFsaXphdGlvbjpRcyh1KX0pfTtyZXR1cm4gT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihlKXtjW2VdfHxkZWxldGUgY1tlXX0pLGN9ZnVuY3Rpb24gYW8oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIGk9UXModCksbj12b1tpLnNjaGVtZUlkVXJpXTtpZihuKXtlW25dPXthdHRyaWJ1dGVzOml9O3ZhciByPVhzKHQsImNlbmM6cHNzaCIpWzBdO2lmKHIpe3ZhciBhPUtzKHIpLHM9YSYmZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXYuYXRvYihlKSxpPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspaVtuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIGl9KGEpO2Vbbl0ucHNzaD1zfX1yZXR1cm4gZX0se30pfWZ1bmN0aW9uIHNvKGMsaCxkKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9UXMoZSksaT1ubyhoLFhzKGUsIkJhc2VVUkwiKSksbj1YcyhlLCJSb2xlIilbMF0scj17cm9sZTpRcyhuKX0sYT1DcyhjLHQscikscz1hbyhYcyhlLCJDb250ZW50UHJvdGVjdGlvbiIpKTtPYmplY3Qua2V5cyhzKS5sZW5ndGgmJihhPUNzKGEse2NvbnRlbnRQcm90ZWN0aW9uOnN9KSk7dmFyIG89cm8oZSksdT1YcyhlLCJSZXByZXNlbnRhdGlvbiIpLGw9Q3MoZCxvKTtyZXR1cm4gRXModS5tYXAoZnVuY3Rpb24oYSxzLG8pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1YcyhlLCJCYXNlVVJMIiksaT1ubyhzLHQpLG49Q3MoYSxRcyhlKSkscj1ybyhlKTtyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3NlZ21lbnRJbmZvOkNzKG8sciksYXR0cmlidXRlczpDcyhuLHtiYXNlVXJsOmV9KX19KX19KGEsaSxsKSkpfX1mdW5jdGlvbiBvbyhlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgaT10LG49aS5tYW5pZmVzdFVyaSxyPXZvaWQgMD09PW4/IiI6bixhPWkuTk9XLHM9dm9pZCAwPT09YT9EYXRlLm5vdygpOmEsbz1pLmNsaWVudE9mZnNldCx1PXZvaWQgMD09PW8/MDpvLGw9WHMoZSwiUGVyaW9kIik7aWYoIWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihQcyk7dmFyIGM9UXMoZSksaD1ubyhbcl0sWHMoZSwiQmFzZVVSTCIpKTtyZXR1cm4gYy5zb3VyY2VEdXJhdGlvbj1jLm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb258fDAsYy5OT1c9cyxjLmNsaWVudE9mZnNldD11LEVzKGwubWFwKGZ1bmN0aW9uKGwsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIGk9bm8oYyxYcyhlLCJCYXNlVVJMIikpLG49UXMoZSkscj1wYXJzZUludChuLmlkLDEwKSxhPXYuaXNOYU4ocik/dDpyLHM9Q3MobCx7cGVyaW9kSW5kZXg6YX0pLG89WHMoZSwiQWRhcHRhdGlvblNldCIpLHU9cm8oZSk7cmV0dXJuIEVzKG8ubWFwKHNvKHMsaSx1KSkpfX0oYyxoKSkpfWZ1bmN0aW9uIHVvKGUpe2lmKCIiPT09ZSl0aHJvdyBuZXcgRXJyb3IoSXMpO3ZhciB0PShuZXcgdi5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJhcHBsaWNhdGlvbi94bWwiKSxpPXQmJiJNUEQiPT09dC5kb2N1bWVudEVsZW1lbnQudGFnTmFtZT90LmRvY3VtZW50RWxlbWVudDpudWxsO2lmKCFpfHxpJiYwPGkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKXRocm93IG5ldyBFcnJvcihMcyk7cmV0dXJuIGl9ZnVuY3Rpb24gbG8oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLFZzKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChHcyl9KG9vKHVvKGUpLHQpKSx0LnNpZHhNYXBwaW5nKX1mdW5jdGlvbiBjbyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9WHMoZSwiVVRDVGltaW5nIilbMF07aWYoIXQpcmV0dXJuIG51bGw7dmFyIGk9UXModCk7c3dpdGNoKGkuc2NoZW1lSWRVcmkpe2Nhc2UidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1oZWFkOjIwMTQiOmNhc2UidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1oZWFkOjIwMTIiOmkubWV0aG9kPSJIRUFEIjticmVhaztjYXNlInVybjptcGVnOmRhc2g6dXRjOmh0dHAteHNkYXRlOjIwMTQiOmNhc2UidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1pc286MjAxNCI6Y2FzZSJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLXhzZGF0ZToyMDEyIjpjYXNlInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaXNvOjIwMTIiOmkubWV0aG9kPSJHRVQiO2JyZWFrO2Nhc2UidXJuOm1wZWc6ZGFzaDp1dGM6ZGlyZWN0OjIwMTQiOmNhc2UidXJuOm1wZWc6ZGFzaDp1dGM6ZGlyZWN0OjIwMTIiOmkubWV0aG9kPSJESVJFQ1QiLGkudmFsdWU9RGF0ZS5wYXJzZShpLnZhbHVlKTticmVhaztjYXNlInVybjptcGVnOmRhc2g6dXRjOmh0dHAtbnRwOjIwMTQiOmNhc2UidXJuOm1wZWc6ZGFzaDp1dGM6bnRwOjIwMTQiOmNhc2UidXJuOm1wZWc6ZGFzaDp1dGM6c250cDoyMDE0IjpkZWZhdWx0OnRocm93IG5ldyBFcnJvcihEcyl9cmV0dXJuIGl9KHVvKGUpKX12YXIgaG8scG8sZm8sbW8sZ28seW8sdm89eyJ1cm46dXVpZDoxMDc3ZWZlYy1jMGIyLTRkMDItYWNlMy0zYzFlNTJlMmZiNGIiOiJvcmcudzMuY2xlYXJrZXkiLCJ1cm46dXVpZDplZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQiOiJjb20ud2lkZXZpbmUuYWxwaGEiLCJ1cm46dXVpZDo5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUiOiJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSIsInVybjp1dWlkOmYyMzllNzY5LWVmYTMtNDg1MC05YzE2LWE5MDNjNjkzMmVmYiI6ImNvbS5hZG9iZS5wcmltZXRpbWUifSxfbz1mdW5jdGlvbihlKXtyZXR1cm4gZT4+PjB9LGJvPWZ1bmN0aW9uKGUpe3JldHVybigiMDAiK2UudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9O2ZvPWZ1bmN0aW9uKGUpe3JldHVybiBobyhlLFsibW9vdiIsInRyYWsiXSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGEscztyZXR1cm4oaT1obyh0LFsidGtoZCJdKVswXSk/KG49aVswXSxhPV9vKGlbcj0wPT09bj8xMjoyMF08PDI0fGlbcisxXTw8MTZ8aVtyKzJdPDw4fGlbciszXSksKHM9aG8odCxbIm1kaWEiLCJtZGhkIl0pWzBdKT8ocj0wPT09KG49c1swXSk/MTI6MjAsZVthXT1fbyhzW3JdPDwyNHxzW3IrMV08PDE2fHNbcisyXTw8OHxzW3IrM10pLGUpOm51bGwpOm51bGx9LHt9KX0sbW89ZnVuY3Rpb24ocixlKXt2YXIgdCxpLG47cmV0dXJuIHQ9aG8oZSxbIm1vb2YiLCJ0cmFmIl0pLGk9W10uY29uY2F0LmFwcGx5KFtdLHQubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBobyhuLFsidGZoZCJdKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQsaTtyZXR1cm4gdD1fbyhlWzRdPDwyNHxlWzVdPDwxNnxlWzZdPDw4fGVbN10pLGk9clt0XXx8OWU0LChobyhuLFsidGZkdCJdKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQsaTtyZXR1cm4gdD1lWzBdLGk9X28oZVs0XTw8MjR8ZVs1XTw8MTZ8ZVs2XTw8OHxlWzddKSwxPT09dCYmKGkqPU1hdGgucG93KDIsMzIpLGkrPV9vKGVbOF08PDI0fGVbOV08PDE2fGVbMTBdPDw4fGVbMTFdKSksaX0pWzBdfHwxLzApL2l9KX0pKSxuPU1hdGgubWluLmFwcGx5KG51bGwsaSksaXNGaW5pdGUobik/bjowfSxnbz1mdW5jdGlvbihlKXt2YXIgdD1obyhlLFsibW9vdiIsInRyYWsiXSksbz1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWhvKGUsWyJtZGlhIiwiaGRsciJdKSxzPWhvKGUsWyJ0a2hkIl0pO3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpLG4scj1wbyhlLnN1YmFycmF5KDgsMTIpKSxhPXNbdF07InZpZGUiPT09ciYmKG49MD09PShpPW5ldyBEYXRhVmlldyhhLmJ1ZmZlcixhLmJ5dGVPZmZzZXQsYS5ieXRlTGVuZ3RoKSkuZ2V0VWludDgoMCk/aS5nZXRVaW50MzIoMTIpOmkuZ2V0VWludDMyKDIwKSxvLnB1c2gobikpfSl9KSxvfSx5bz1mdW5jdGlvbihlKXt2YXIgdD1obyhlLFsibW9vdiIsInRyYWsiXSkscD1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LGksbj17fSxyPWhvKGUsWyJ0a2hkIl0pWzBdO3ImJihpPSh0PW5ldyBEYXRhVmlldyhyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKSkuZ2V0VWludDgoMCksbi5pZD0wPT09aT90LmdldFVpbnQzMigxMik6dC5nZXRVaW50MzIoMjApKTt2YXIgYT1obyhlLFsibWRpYSIsImhkbHIiXSlbMF07aWYoYSl7dmFyIHM9cG8oYS5zdWJhcnJheSg4LDEyKSk7bi50eXBlPSJ2aWRlIj09PXM/InZpZGVvIjoic291biI9PT1zPyJhdWRpbyI6c312YXIgbz1obyhlLFsibWRpYSIsIm1pbmYiLCJzdGJsIiwic3RzZCJdKVswXTtpZihvKXt2YXIgdT1vLnN1YmFycmF5KDgpO24uY29kZWM9cG8odS5zdWJhcnJheSg0LDgpKTt2YXIgbCxjPWhvKHUsW24uY29kZWNdKVswXTtjJiYoL15bYS16XXZjWzEtOV0kL2kudGVzdChuLmNvZGVjKT8obD1jLnN1YmFycmF5KDc4KSwiYXZjQyI9PT1wbyhsLnN1YmFycmF5KDQsOCkpJiYxMTxsLmxlbmd0aD8obi5jb2RlYys9Ii4iLG4uY29kZWMrPWJvKGxbOV0pLG4uY29kZWMrPWJvKGxbMTBdKSxuLmNvZGVjKz1ibyhsWzExXSkpOm4uY29kZWM9ImF2YzEuNGQ0MDBkIik6L15tcDRbYSx2XSQvaS50ZXN0KG4uY29kZWMpJiYobD1jLnN1YmFycmF5KDI4KSwiZXNkcyI9PT1wbyhsLnN1YmFycmF5KDQsOCkpJiYyMDxsLmxlbmd0aCYmMCE9PWxbMTldPyhuLmNvZGVjKz0iLiIrYm8obFsxOV0pLG4uY29kZWMrPSIuIitibyhsWzIwXT4+PjImNjMpLnJlcGxhY2UoL14wLywiIikpOm4uY29kZWM9Im1wNGEuNDAuMiIpKX12YXIgaD1obyhlLFsibWRpYSIsIm1kaGQiXSlbMF07aWYoaCYmcil7dmFyIGQ9MD09PWk/MTI6MjA7bi50aW1lc2NhbGU9X28oaFtkXTw8MjR8aFsxK2RdPDwxNnxoWzIrZF08PDh8aFszK2RdKX1wLnB1c2gobil9KSxwfTtmdW5jdGlvbiBUbyhlKXtyZXR1cm4gbmV3IERhdGUoMWUzKmUtMjA4Mjg0NDhlNSl9ZnVuY3Rpb24gU28oZSl7cmV0dXJue2lzTGVhZGluZzooMTImZVswXSk+Pj4yLGRlcGVuZHNPbjozJmVbMF0saXNEZXBlbmRlZE9uOigxOTImZVsxXSk+Pj42LGhhc1JlZHVuZGFuY3k6KDQ4JmVbMV0pPj4+NCxwYWRkaW5nVmFsdWU6KDE0JmVbMV0pPj4+MSxpc05vblN5bmNTYW1wbGU6MSZlWzFdLGRlZ3JhZGF0aW9uUHJpb3JpdHk6ZVsyXTw8OHxlWzNdfX1mdW5jdGlvbiBrbygpe3RoaXMuaW5pdD1mdW5jdGlvbigpe3ZhciBhPXt9O3RoaXMub249ZnVuY3Rpb24oZSx0KXthW2VdfHwoYVtlXT1bXSksYVtlXT1hW2VdLmNvbmNhdCh0KX0sdGhpcy5vZmY9ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4hIWFbZV0mJihpPWFbZV0uaW5kZXhPZih0KSxhW2VdPWFbZV0uc2xpY2UoKSxhW2VdLnNwbGljZShpLDEpLC0xPGkpfSx0aGlzLnRyaWdnZXI9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHI7aWYodD1hW2VdKWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcihuPXQubGVuZ3RoLGk9MDtpPG47KytpKXRbaV0uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7ZWxzZXtmb3Iocj1bXSxpPWFyZ3VtZW50cy5sZW5ndGgsaT0xO2k8YXJndW1lbnRzLmxlbmd0aDsrK2kpci5wdXNoKGFyZ3VtZW50c1tpXSk7Zm9yKG49dC5sZW5ndGgsaT0wO2k8bjsrK2kpdFtpXS5hcHBseSh0aGlzLHIpfX0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7YT17fX19fXZhciBDbyxFbyx3bz17ZmluZEJveDpobz1mdW5jdGlvbihlLHQpe3ZhciBpLG4scixhLHMsbz1bXTtpZighdC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGk9MDtpPGUuYnl0ZUxlbmd0aDspbj1fbyhlW2ldPDwyNHxlW2krMV08PDE2fGVbaSsyXTw8OHxlW2krM10pLHI9cG8oZS5zdWJhcnJheShpKzQsaSs4KSksYT0xPG4/aStuOmUuYnl0ZUxlbmd0aCxyPT09dFswXSYmKDE9PT10Lmxlbmd0aD9vLnB1c2goZS5zdWJhcnJheShpKzgsYSkpOihzPWhvKGUuc3ViYXJyYXkoaSs4LGEpLHQuc2xpY2UoMSkpKS5sZW5ndGgmJihvPW8uY29uY2F0KHMpKSksaT1hO3JldHVybiBvfSxwYXJzZVR5cGU6cG89ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVswXSksdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlWzFdKSx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbMl0pLHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVszXSl9LHRpbWVzY2FsZTpmbyxzdGFydFRpbWU6bW8sdmlkZW9UcmFja0lkczpnbyx0cmFja3M6eW99LEFvPXdvLnBhcnNlVHlwZSxQbz17YXZjMTpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7cmV0dXJue2RhdGFSZWZlcmVuY2VJbmRleDp0LmdldFVpbnQxNig2KSx3aWR0aDp0LmdldFVpbnQxNigyNCksaGVpZ2h0OnQuZ2V0VWludDE2KDI2KSxob3JpenJlc29sdXRpb246dC5nZXRVaW50MTYoMjgpK3QuZ2V0VWludDE2KDMwKS8xNix2ZXJ0cmVzb2x1dGlvbjp0LmdldFVpbnQxNigzMikrdC5nZXRVaW50MTYoMzQpLzE2LGZyYW1lQ291bnQ6dC5nZXRVaW50MTYoNDApLGRlcHRoOnQuZ2V0VWludDE2KDc0KSxjb25maWc6Q28oZS5zdWJhcnJheSg3OCxlLmJ5dGVMZW5ndGgpKX19LGF2Y0M6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIsYT1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscz17Y29uZmlndXJhdGlvblZlcnNpb246ZVswXSxhdmNQcm9maWxlSW5kaWNhdGlvbjplWzFdLHByb2ZpbGVDb21wYXRpYmlsaXR5OmVbMl0sYXZjTGV2ZWxJbmRpY2F0aW9uOmVbM10sbGVuZ3RoU2l6ZU1pbnVzT25lOjMmZVs0XSxzcHM6W10scHBzOltdfSxvPTMxJmVbNV07Zm9yKG49NixyPTA7cjxvO3IrKylpPWEuZ2V0VWludDE2KG4pLG4rPTIscy5zcHMucHVzaChuZXcgVWludDhBcnJheShlLnN1YmFycmF5KG4sbitpKSkpLG4rPWk7Zm9yKHQ9ZVtuXSxuKysscj0wO3I8dDtyKyspaT1hLmdldFVpbnQxNihuKSxuKz0yLHMucHBzLnB1c2gobmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheShuLG4raSkpKSxuKz1pO3JldHVybiBzfSxidHJ0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKTtyZXR1cm57YnVmZmVyU2l6ZURCOnQuZ2V0VWludDMyKDApLG1heEJpdHJhdGU6dC5nZXRVaW50MzIoNCksYXZnQml0cmF0ZTp0LmdldFVpbnQzMig4KX19LGVzZHM6ZnVuY3Rpb24oZSl7cmV0dXJue3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLGVzSWQ6ZVs2XTw8OHxlWzddLHN0cmVhbVByaW9yaXR5OjMxJmVbOF0sZGVjb2RlckNvbmZpZzp7b2JqZWN0UHJvZmlsZUluZGljYXRpb246ZVsxMV0sc3RyZWFtVHlwZTplWzEyXT4+PjImNjMsYnVmZmVyU2l6ZTplWzEzXTw8MTZ8ZVsxNF08PDh8ZVsxNV0sbWF4Qml0cmF0ZTplWzE2XTw8MjR8ZVsxN108PDE2fGVbMThdPDw4fGVbMTldLGF2Z0JpdHJhdGU6ZVsyMF08PDI0fGVbMjFdPDwxNnxlWzIyXTw8OHxlWzIzXSxkZWNvZGVyQ29uZmlnRGVzY3JpcHRvcjp7dGFnOmVbMjRdLGxlbmd0aDplWzI1XSxhdWRpb09iamVjdFR5cGU6ZVsyNl0+Pj4zJjMxLHNhbXBsaW5nRnJlcXVlbmN5SW5kZXg6KDcmZVsyNl0pPDwxfGVbMjddPj4+NyYxLGNoYW5uZWxDb25maWd1cmF0aW9uOmVbMjddPj4+MyYxNX19fX0sZnR5cDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLGk9e21ham9yQnJhbmQ6QW8oZS5zdWJhcnJheSgwLDQpKSxtaW5vclZlcnNpb246dC5nZXRVaW50MzIoNCksY29tcGF0aWJsZUJyYW5kczpbXX0sbj04O248ZS5ieXRlTGVuZ3RoOylpLmNvbXBhdGlibGVCcmFuZHMucHVzaChBbyhlLnN1YmFycmF5KG4sbis0KSkpLG4rPTQ7cmV0dXJuIGl9LGRpbmY6ZnVuY3Rpb24oZSl7cmV0dXJue2JveGVzOkNvKGUpfX0sZHJlZjpmdW5jdGlvbihlKXtyZXR1cm57dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksZGF0YVJlZmVyZW5jZXM6Q28oZS5zdWJhcnJheSg4KSl9fSxoZGxyOmZ1bmN0aW9uKGUpe3ZhciB0PXt2ZXJzaW9uOm5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKS5nZXRVaW50OCgwKSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLGhhbmRsZXJUeXBlOkFvKGUuc3ViYXJyYXkoOCwxMikpLG5hbWU6IiJ9LGk9ODtmb3IoaT0yNDtpPGUuYnl0ZUxlbmd0aDtpKyspe2lmKDA9PT1lW2ldKXtpKys7YnJlYWt9dC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pfXJldHVybiB0Lm5hbWU9ZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZSh0Lm5hbWUpKSx0fSxtZGF0OmZ1bmN0aW9uKGUpe3JldHVybntieXRlTGVuZ3RoOmUuYnl0ZUxlbmd0aCxuYWxzOmZ1bmN0aW9uKGUpe3ZhciB0LGksbj1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCkscj1bXTtmb3IodD0wO3QrNDxlLmxlbmd0aDt0Kz1pKWlmKGk9bi5nZXRVaW50MzIodCksdCs9NCxpPD0wKXIucHVzaCgiPHNwYW4gc3R5bGU9J2NvbG9yOnJlZDsnPk1BTEZPUk1FRCBEQVRBPC9zcGFuPiIpO2Vsc2Ugc3dpdGNoKDMxJmVbdF0pe2Nhc2UgMTpyLnB1c2goInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3AiKTticmVhaztjYXNlIDU6ci5wdXNoKCJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkciIpO2JyZWFrO2Nhc2UgNjpyLnB1c2goInNlaV9yYnNwIik7YnJlYWs7Y2FzZSA3OnIucHVzaCgic2VxX3BhcmFtZXRlcl9zZXRfcmJzcCIpO2JyZWFrO2Nhc2UgODpyLnB1c2goInBpY19wYXJhbWV0ZXJfc2V0X3Jic3AiKTticmVhaztjYXNlIDk6ci5wdXNoKCJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCIpO2JyZWFrO2RlZmF1bHQ6ci5wdXNoKCJVTktOT1dOIE5BTCAtICIrZVt0XSYzMSl9cmV0dXJuIHJ9KGUpfX0sbWRoZDpmdW5jdGlvbihlKXt2YXIgdCxpPW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxuPTQscj17dmVyc2lvbjppLmdldFVpbnQ4KDApLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksbGFuZ3VhZ2U6IiJ9O3JldHVybiAxPT09ci52ZXJzaW9uPyhuKz00LHIuY3JlYXRpb25UaW1lPVRvKGkuZ2V0VWludDMyKG4pKSxuKz04LHIubW9kaWZpY2F0aW9uVGltZT1UbyhpLmdldFVpbnQzMihuKSksbis9NCxyLnRpbWVzY2FsZT1pLmdldFVpbnQzMihuKSxuKz04KTooci5jcmVhdGlvblRpbWU9VG8oaS5nZXRVaW50MzIobikpLG4rPTQsci5tb2RpZmljYXRpb25UaW1lPVRvKGkuZ2V0VWludDMyKG4pKSxuKz00LHIudGltZXNjYWxlPWkuZ2V0VWludDMyKG4pLG4rPTQpLHIuZHVyYXRpb249aS5nZXRVaW50MzIobiksbis9NCx0PWkuZ2V0VWludDE2KG4pLHIubGFuZ3VhZ2UrPVN0cmluZy5mcm9tQ2hhckNvZGUoOTYrKHQ+PjEwKSksci5sYW5ndWFnZSs9U3RyaW5nLmZyb21DaGFyQ29kZSg5NisoKDk5MiZ0KT4+NSkpLHIubGFuZ3VhZ2UrPVN0cmluZy5mcm9tQ2hhckNvZGUoOTYrKDMxJnQpKSxyfSxtZGlhOmZ1bmN0aW9uKGUpe3JldHVybntib3hlczpDbyhlKX19LG1maGQ6ZnVuY3Rpb24oZSl7cmV0dXJue3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHNlcXVlbmNlTnVtYmVyOmVbNF08PDI0fGVbNV08PDE2fGVbNl08PDh8ZVs3XX19LG1pbmY6ZnVuY3Rpb24oZSl7cmV0dXJue2JveGVzOkNvKGUpfX0sbXA0YTpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksaT17ZGF0YVJlZmVyZW5jZUluZGV4OnQuZ2V0VWludDE2KDYpLGNoYW5uZWxjb3VudDp0LmdldFVpbnQxNigxNiksc2FtcGxlc2l6ZTp0LmdldFVpbnQxNigxOCksc2FtcGxlcmF0ZTp0LmdldFVpbnQxNigyNCkrdC5nZXRVaW50MTYoMjYpLzY1NTM2fTtyZXR1cm4gMjg8ZS5ieXRlTGVuZ3RoJiYoaS5zdHJlYW1EZXNjcmlwdG9yPUNvKGUuc3ViYXJyYXkoMjgpKVswXSksaX0sbW9vZjpmdW5jdGlvbihlKXtyZXR1cm57Ym94ZXM6Q28oZSl9fSxtb292OmZ1bmN0aW9uKGUpe3JldHVybntib3hlczpDbyhlKX19LG12ZXg6ZnVuY3Rpb24oZSl7cmV0dXJue2JveGVzOkNvKGUpfX0sbXZoZDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksaT00LG49e3ZlcnNpb246dC5nZXRVaW50OCgwKSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpfTtyZXR1cm4gMT09PW4udmVyc2lvbj8oaSs9NCxuLmNyZWF0aW9uVGltZT1Ubyh0LmdldFVpbnQzMihpKSksaSs9OCxuLm1vZGlmaWNhdGlvblRpbWU9VG8odC5nZXRVaW50MzIoaSkpLGkrPTQsbi50aW1lc2NhbGU9dC5nZXRVaW50MzIoaSksaSs9OCk6KG4uY3JlYXRpb25UaW1lPVRvKHQuZ2V0VWludDMyKGkpKSxpKz00LG4ubW9kaWZpY2F0aW9uVGltZT1Ubyh0LmdldFVpbnQzMihpKSksaSs9NCxuLnRpbWVzY2FsZT10LmdldFVpbnQzMihpKSxpKz00KSxuLmR1cmF0aW9uPXQuZ2V0VWludDMyKGkpLGkrPTQsbi5yYXRlPXQuZ2V0VWludDE2KGkpK3QuZ2V0VWludDE2KGkrMikvMTYsaSs9NCxuLnZvbHVtZT10LmdldFVpbnQ4KGkpK3QuZ2V0VWludDgoaSsxKS84LGkrPTIsaSs9MixpKz04LG4ubWF0cml4PW5ldyBVaW50MzJBcnJheShlLnN1YmFycmF5KGksaSszNikpLGkrPTM2LGkrPTI0LG4ubmV4dFRyYWNrSWQ9dC5nZXRVaW50MzIoaSksbn0scGRpbjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7cmV0dXJue3ZlcnNpb246dC5nZXRVaW50OCgwKSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHJhdGU6dC5nZXRVaW50MzIoNCksaW5pdGlhbERlbGF5OnQuZ2V0VWludDMyKDgpfX0sc2R0cDpmdW5jdGlvbihlKXt2YXIgdCxpPXt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKSxzYW1wbGVzOltdfTtmb3IodD00O3Q8ZS5ieXRlTGVuZ3RoO3QrKylpLnNhbXBsZXMucHVzaCh7ZGVwZW5kc09uOig0OCZlW3RdKT4+NCxpc0RlcGVuZGVkT246KDEyJmVbdF0pPj4yLGhhc1JlZHVuZGFuY3k6MyZlW3RdfSk7cmV0dXJuIGl9LHNpZHg6ZnVuY3Rpb24oZSl7dmFyIHQsaT1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksbj17dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSkscmVmZXJlbmNlczpbXSxyZWZlcmVuY2VJZDppLmdldFVpbnQzMig0KSx0aW1lc2NhbGU6aS5nZXRVaW50MzIoOCksZWFybGllc3RQcmVzZW50YXRpb25UaW1lOmkuZ2V0VWludDMyKDEyKSxmaXJzdE9mZnNldDppLmdldFVpbnQzMigxNil9LHI9aS5nZXRVaW50MTYoMjIpO2Zvcih0PTI0O3I7dCs9MTIsci0tKW4ucmVmZXJlbmNlcy5wdXNoKHtyZWZlcmVuY2VUeXBlOigxMjgmZVt0XSk+Pj43LHJlZmVyZW5jZWRTaXplOjIxNDc0ODM2NDcmaS5nZXRVaW50MzIodCksc3Vic2VnbWVudER1cmF0aW9uOmkuZ2V0VWludDMyKHQrNCksc3RhcnRzV2l0aFNhcDohISgxMjgmZVt0KzhdKSxzYXBUeXBlOigxMTImZVt0KzhdKT4+PjQsc2FwRGVsdGFUaW1lOjI2ODQzNTQ1NSZpLmdldFVpbnQzMih0KzgpfSk7cmV0dXJuIG59LHNtaGQ6ZnVuY3Rpb24oZSl7cmV0dXJue3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLGJhbGFuY2U6ZVs0XStlWzVdLzI1Nn19LHN0Ymw6ZnVuY3Rpb24oZSl7cmV0dXJue2JveGVzOkNvKGUpfX0sc3RjbzpmdW5jdGlvbihlKXt2YXIgdCxpPW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxuPXt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKSxjaHVua09mZnNldHM6W119LHI9aS5nZXRVaW50MzIoNCk7Zm9yKHQ9ODtyO3QrPTQsci0tKW4uY2h1bmtPZmZzZXRzLnB1c2goaS5nZXRVaW50MzIodCkpO3JldHVybiBufSxzdHNjOmZ1bmN0aW9uKGUpe3ZhciB0LGk9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLG49aS5nZXRVaW50MzIoNCkscj17dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksc2FtcGxlVG9DaHVua3M6W119O2Zvcih0PTg7bjt0Kz0xMixuLS0pci5zYW1wbGVUb0NodW5rcy5wdXNoKHtmaXJzdENodW5rOmkuZ2V0VWludDMyKHQpLHNhbXBsZXNQZXJDaHVuazppLmdldFVpbnQzMih0KzQpLHNhbXBsZURlc2NyaXB0aW9uSW5kZXg6aS5nZXRVaW50MzIodCs4KX0pO3JldHVybiByfSxzdHNkOmZ1bmN0aW9uKGUpe3JldHVybnt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKSxzYW1wbGVEZXNjcmlwdGlvbnM6Q28oZS5zdWJhcnJheSg4KSl9fSxzdHN6OmZ1bmN0aW9uKGUpe3ZhciB0LGk9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLG49e3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHNhbXBsZVNpemU6aS5nZXRVaW50MzIoNCksZW50cmllczpbXX07Zm9yKHQ9MTI7dDxlLmJ5dGVMZW5ndGg7dCs9NCluLmVudHJpZXMucHVzaChpLmdldFVpbnQzMih0KSk7cmV0dXJuIG59LHN0dHM6ZnVuY3Rpb24oZSl7dmFyIHQsaT1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksbj17dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksdGltZVRvU2FtcGxlczpbXX0scj1pLmdldFVpbnQzMig0KTtmb3IodD04O3I7dCs9OCxyLS0pbi50aW1lVG9TYW1wbGVzLnB1c2goe3NhbXBsZUNvdW50OmkuZ2V0VWludDMyKHQpLHNhbXBsZURlbHRhOmkuZ2V0VWludDMyKHQrNCl9KTtyZXR1cm4gbn0sc3R5cDpmdW5jdGlvbihlKXtyZXR1cm4gUG8uZnR5cChlKX0sdGZkdDpmdW5jdGlvbihlKXt2YXIgdD17dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksYmFzZU1lZGlhRGVjb2RlVGltZTplWzRdPDwyNHxlWzVdPDwxNnxlWzZdPDw4fGVbN119O3JldHVybiAxPT09dC52ZXJzaW9uJiYodC5iYXNlTWVkaWFEZWNvZGVUaW1lKj1NYXRoLnBvdygyLDMyKSx0LmJhc2VNZWRpYURlY29kZVRpbWUrPWVbOF08PDI0fGVbOV08PDE2fGVbMTBdPDw4fGVbMTFdKSx0fSx0ZmhkOmZ1bmN0aW9uKGUpe3ZhciB0LGk9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLG49e3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHRyYWNrSWQ6aS5nZXRVaW50MzIoNCl9LHI9MSZuLmZsYWdzWzJdLGE9MiZuLmZsYWdzWzJdLHM9OCZuLmZsYWdzWzJdLG89MTYmbi5mbGFnc1syXSx1PTMyJm4uZmxhZ3NbMl0sbD02NTUzNiZuLmZsYWdzWzBdLGM9MTMxMDcyJm4uZmxhZ3NbMF07cmV0dXJuIHQ9OCxyJiYodCs9NCxuLmJhc2VEYXRhT2Zmc2V0PWkuZ2V0VWludDMyKDEyKSx0Kz00KSxhJiYobi5zYW1wbGVEZXNjcmlwdGlvbkluZGV4PWkuZ2V0VWludDMyKHQpLHQrPTQpLHMmJihuLmRlZmF1bHRTYW1wbGVEdXJhdGlvbj1pLmdldFVpbnQzMih0KSx0Kz00KSxvJiYobi5kZWZhdWx0U2FtcGxlU2l6ZT1pLmdldFVpbnQzMih0KSx0Kz00KSx1JiYobi5kZWZhdWx0U2FtcGxlRmxhZ3M9aS5nZXRVaW50MzIodCkpLGwmJihuLmR1cmF0aW9uSXNFbXB0eT0hMCksIXImJmMmJihuLmJhc2VEYXRhT2Zmc2V0SXNNb29mPSEwKSxufSx0a2hkOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxpPTQsbj17dmVyc2lvbjp0LmdldFVpbnQ4KDApLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSl9O3JldHVybiAxPT09bi52ZXJzaW9uPyhpKz00LG4uY3JlYXRpb25UaW1lPVRvKHQuZ2V0VWludDMyKGkpKSxpKz04LG4ubW9kaWZpY2F0aW9uVGltZT1Ubyh0LmdldFVpbnQzMihpKSksaSs9NCxuLnRyYWNrSWQ9dC5nZXRVaW50MzIoaSksaSs9NCxpKz04KToobi5jcmVhdGlvblRpbWU9VG8odC5nZXRVaW50MzIoaSkpLGkrPTQsbi5tb2RpZmljYXRpb25UaW1lPVRvKHQuZ2V0VWludDMyKGkpKSxpKz00LG4udHJhY2tJZD10LmdldFVpbnQzMihpKSxpKz00LGkrPTQpLG4uZHVyYXRpb249dC5nZXRVaW50MzIoaSksaSs9NCxpKz04LG4ubGF5ZXI9dC5nZXRVaW50MTYoaSksaSs9MixuLmFsdGVybmF0ZUdyb3VwPXQuZ2V0VWludDE2KGkpLGkrPTIsbi52b2x1bWU9dC5nZXRVaW50OChpKSt0LmdldFVpbnQ4KGkrMSkvOCxpKz0yLGkrPTIsbi5tYXRyaXg9bmV3IFVpbnQzMkFycmF5KGUuc3ViYXJyYXkoaSxpKzM2KSksaSs9MzYsbi53aWR0aD10LmdldFVpbnQxNihpKSt0LmdldFVpbnQxNihpKzIpLzE2LGkrPTQsbi5oZWlnaHQ9dC5nZXRVaW50MTYoaSkrdC5nZXRVaW50MTYoaSsyKS8xNixufSx0cmFmOmZ1bmN0aW9uKGUpe3JldHVybntib3hlczpDbyhlKX19LHRyYWs6ZnVuY3Rpb24oZSl7cmV0dXJue2JveGVzOkNvKGUpfX0sdHJleDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7cmV0dXJue3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHRyYWNrSWQ6dC5nZXRVaW50MzIoNCksZGVmYXVsdFNhbXBsZURlc2NyaXB0aW9uSW5kZXg6dC5nZXRVaW50MzIoOCksZGVmYXVsdFNhbXBsZUR1cmF0aW9uOnQuZ2V0VWludDMyKDEyKSxkZWZhdWx0U2FtcGxlU2l6ZTp0LmdldFVpbnQzMigxNiksc2FtcGxlRGVwZW5kc09uOjMmZVsyMF0sc2FtcGxlSXNEZXBlbmRlZE9uOigxOTImZVsyMV0pPj42LHNhbXBsZUhhc1JlZHVuZGFuY3k6KDQ4JmVbMjFdKT4+NCxzYW1wbGVQYWRkaW5nVmFsdWU6KDE0JmVbMjFdKT4+MSxzYW1wbGVJc0RpZmZlcmVuY2VTYW1wbGU6ISEoMSZlWzIxXSksc2FtcGxlRGVncmFkYXRpb25Qcmlvcml0eTp0LmdldFVpbnQxNigyMil9fSx0cnVuOmZ1bmN0aW9uKGUpe3ZhciB0LGk9e3ZlcnNpb246ZVswXSxmbGFnczpuZXcgVWludDhBcnJheShlLnN1YmFycmF5KDEsNCkpLHNhbXBsZXM6W119LG49bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLHI9MSZpLmZsYWdzWzJdLGE9NCZpLmZsYWdzWzJdLHM9MSZpLmZsYWdzWzFdLG89MiZpLmZsYWdzWzFdLHU9NCZpLmZsYWdzWzFdLGw9OCZpLmZsYWdzWzFdLGM9bi5nZXRVaW50MzIoNCksaD04O2ZvcihyJiYoaS5kYXRhT2Zmc2V0PW4uZ2V0SW50MzIoaCksaCs9NCksYSYmYyYmKHQ9e2ZsYWdzOlNvKGUuc3ViYXJyYXkoaCxoKzQpKX0saCs9NCxzJiYodC5kdXJhdGlvbj1uLmdldFVpbnQzMihoKSxoKz00KSxvJiYodC5zaXplPW4uZ2V0VWludDMyKGgpLGgrPTQpLGwmJih0LmNvbXBvc2l0aW9uVGltZU9mZnNldD1uLmdldFVpbnQzMihoKSxoKz00KSxpLnNhbXBsZXMucHVzaCh0KSxjLS0pO2MtLTspdD17fSxzJiYodC5kdXJhdGlvbj1uLmdldFVpbnQzMihoKSxoKz00KSxvJiYodC5zaXplPW4uZ2V0VWludDMyKGgpLGgrPTQpLHUmJih0LmZsYWdzPVNvKGUuc3ViYXJyYXkoaCxoKzQpKSxoKz00KSxsJiYodC5jb21wb3NpdGlvblRpbWVPZmZzZXQ9bi5nZXRVaW50MzIoaCksaCs9NCksaS5zYW1wbGVzLnB1c2godCk7cmV0dXJuIGl9LCJ1cmwgIjpmdW5jdGlvbihlKXtyZXR1cm57dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSl9fSx2bWhkOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKTtyZXR1cm57dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksZ3JhcGhpY3Ntb2RlOnQuZ2V0VWludDE2KDQpLG9wY29sb3I6bmV3IFVpbnQxNkFycmF5KFt0LmdldFVpbnQxNig2KSx0LmdldFVpbnQxNig4KSx0LmdldFVpbnQxNigxMCldKX19fSxJbz17aW5zcGVjdDpDbz1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxuLHIsYSxzPTAsbz1bXSx1PW5ldyBBcnJheUJ1ZmZlcihlLmxlbmd0aCksbD1uZXcgVWludDhBcnJheSh1KSxjPTA7YzxlLmxlbmd0aDsrK2MpbFtjXT1lW2NdO2Zvcih0PW5ldyBEYXRhVmlldyh1KTtzPGUuYnl0ZUxlbmd0aDspaT10LmdldFVpbnQzMihzKSxuPUFvKGUuc3ViYXJyYXkocys0LHMrOCkpLHI9MTxpP3MraTplLmJ5dGVMZW5ndGgsKGE9KFBvW25dfHxmdW5jdGlvbihlKXtyZXR1cm57ZGF0YTplfX0pKGUuc3ViYXJyYXkocys4LHIpKSkuc2l6ZT1pLGEudHlwZT1uLG8ucHVzaChhKSxzPXI7cmV0dXJuIG99LHRleHRpZnk6RW89ZnVuY3Rpb24oZSx0KXt2YXIgYTtyZXR1cm4gdD10fHwwLGE9bmV3IEFycmF5KDIqdCsxKS5qb2luKCIgIiksZS5tYXAoZnVuY3Rpb24ocixlKXtyZXR1cm4gYStyLnR5cGUrIlxuIitPYmplY3Qua2V5cyhyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInR5cGUiIT09ZSYmImJveGVzIiE9PWV9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9YSsiICAiK2UrIjogIixpPXJbZV07aWYoaSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fGkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQ4QXJyYXkoaS5idWZmZXIsaS5ieXRlT2Zmc2V0LGkuYnl0ZUxlbmd0aCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iICIrKCIwMCIrZS50b1N0cmluZygxNikpLnNsaWNlKC0yKX0pLmpvaW4oIiIpLm1hdGNoKC8uezEsMjR9L2cpO3JldHVybiBuPzE9PT1uLmxlbmd0aD90KyI8IituLmpvaW4oIiIpLnNsaWNlKDEpKyI+Ijp0KyI8XG4iK24ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBhKyIgICIrZX0pLmpvaW4oIlxuIikrIlxuIithKyIgID4iOnQrIjw+In1yZXR1cm4gdCtKU09OLnN0cmluZ2lmeShpLG51bGwsMikuc3BsaXQoIlxuIikubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10P2U6YSsiICAiK2V9KS5qb2luKCJcbiIpfSkuam9pbigiXG4iKSsoci5ib3hlcz8iXG4iK0VvKHIuYm94ZXMsdCsxKToiIil9KS5qb2luKCJcbiIpfSxwYXJzZVRmZHQ6UG8udGZkdCxwYXJzZUhkbHI6UG8uaGRscixwYXJzZVRmaGQ6UG8udGZoZCxwYXJzZVRydW46UG8udHJ1bixwYXJzZVNpZHg6UG8uc2lkeH0sTG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsaT17cGF5bG9hZFR5cGU6LTEscGF5bG9hZFNpemU6MH0sbj0wLHI9MDt0PGUuYnl0ZUxlbmd0aCYmMTI4IT09ZVt0XTspe2Zvcig7MjU1PT09ZVt0XTspbis9MjU1LHQrKztmb3Iobis9ZVt0KytdOzI1NT09PWVbdF07KXIrPTI1NSx0Kys7aWYocis9ZVt0KytdLCFpLnBheWxvYWQmJjQ9PT1uKXtpLnBheWxvYWRUeXBlPW4saS5wYXlsb2FkU2l6ZT1yLGkucGF5bG9hZD1lLnN1YmFycmF5KHQsdCtyKTticmVha310Kz1yLHI9bj0wfXJldHVybiBpfSxPbz1mdW5jdGlvbihlKXtyZXR1cm4gMTgxIT09ZS5wYXlsb2FkWzBdP251bGw6NDkhPShlLnBheWxvYWRbMV08PDh8ZS5wYXlsb2FkWzJdKT9udWxsOiJHQTk0IiE9PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5wYXlsb2FkWzNdLGUucGF5bG9hZFs0XSxlLnBheWxvYWRbNV0sZS5wYXlsb2FkWzZdKT9udWxsOjMhPT1lLnBheWxvYWRbN10/bnVsbDplLnBheWxvYWQuc3ViYXJyYXkoOCxlLnBheWxvYWQubGVuZ3RoLTEpfSx4bz1mdW5jdGlvbihlLHQpe3ZhciBpLG4scixhLHM9W107aWYoISg2NCZ0WzBdKSlyZXR1cm4gcztmb3Iobj0zMSZ0WzBdLGk9MDtpPG47aSsrKWE9e3R5cGU6MyZ0WzIrKHI9MyppKV0scHRzOmV9LDQmdFsyK3JdJiYoYS5jY0RhdGE9dFszK3JdPDw4fHRbNCtyXSxzLnB1c2goYSkpO3JldHVybiBzfSxEbz1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxuPWUuYnl0ZUxlbmd0aCxyPVtdLGE9MTthPG4tMjspMD09PWVbYV0mJjA9PT1lW2ErMV0mJjM9PT1lW2ErMl0/KHIucHVzaChhKzIpLGErPTIpOmErKztpZigwPT09ci5sZW5ndGgpcmV0dXJuIGU7dD1uLXIubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkodCk7dmFyIHM9MDtmb3IoYT0wO2E8dDtzKyssYSsrKXM9PT1yWzBdJiYocysrLHIuc2hpZnQoKSksaVthXT1lW3NdO3JldHVybiBpfSxVbz00O2tvLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uKCJkYXRhIixmdW5jdGlvbihlKXt0LnB1c2goZSl9KSx0aGlzLm9uKCJkb25lIixmdW5jdGlvbihlKXt0LmZsdXNoKGUpfSksdGhpcy5vbigicGFydGlhbGRvbmUiLGZ1bmN0aW9uKGUpe3QucGFydGlhbEZsdXNoKGUpfSksdGhpcy5vbigiZW5kZWR0aW1lbGluZSIsZnVuY3Rpb24oZSl7dC5lbmRUaW1lbGluZShlKX0pLHRoaXMub24oInJlc2V0IixmdW5jdGlvbihlKXt0LnJlc2V0KGUpfSksdH0sa28ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKCJkYXRhIixlKX0sa28ucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3RoaXMudHJpZ2dlcigiZG9uZSIsZSl9LGtvLnByb3RvdHlwZS5wYXJ0aWFsRmx1c2g9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKCJwYXJ0aWFsZG9uZSIsZSl9LGtvLnByb3RvdHlwZS5lbmRUaW1lbGluZT1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoImVuZGVkdGltZWxpbmUiLGUpfSxrby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKCJyZXNldCIsZSl9O2Z1bmN0aW9uIFJvKCl7Um8ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmNhcHRpb25QYWNrZXRzXz1bXSx0aGlzLmNjU3RyZWFtc189W25ldyBIbygwLDApLG5ldyBIbygwLDEpLG5ldyBIbygxLDApLG5ldyBIbygxLDEpXSx0aGlzLnJlc2V0KCksdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5vbigiZGF0YSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZGF0YSIpKSxlLm9uKCJwYXJ0aWFsZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywicGFydGlhbGRvbmUiKSksZS5vbigiZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZG9uZSIpKX0sdGhpcyl9dmFyIE1vPWtvOyhSby5wcm90b3R5cGU9bmV3IE1vKS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGksbjtpZigic2VpX3Jic3AiPT09ZS5uYWxVbml0VHlwZSYmKHQ9TG8oZS5lc2NhcGVkUkJTUCkpLnBheWxvYWRUeXBlPT09VW8mJihpPU9vKHQpKSlpZihlLmR0czx0aGlzLmxhdGVzdER0c18pdGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSEwO2Vsc2V7aWYoZS5kdHM9PT10aGlzLmxhdGVzdER0c18mJnRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXylyZXR1cm4gdGhpcy5udW1TYW1lRHRzXy0tLHZvaWQodGhpcy5udW1TYW1lRHRzX3x8KHRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXz0hMSkpO249eG8oZS5wdHMsaSksdGhpcy5jYXB0aW9uUGFja2V0c189dGhpcy5jYXB0aW9uUGFja2V0c18uY29uY2F0KG4pLHRoaXMubGF0ZXN0RHRzXyE9PWUuZHRzJiYodGhpcy5udW1TYW1lRHRzXz0wKSx0aGlzLm51bVNhbWVEdHNfKyssdGhpcy5sYXRlc3REdHNfPWUuZHRzfX0sUm8ucHJvdG90eXBlLmZsdXNoQ0NTdHJlYW1zPWZ1bmN0aW9uKHQpe3RoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiJmbHVzaCI9PT10P2UuZmx1c2goKTplLnBhcnRpYWxGbHVzaCgpfSx0aGlzKX0sUm8ucHJvdG90eXBlLmZsdXNoU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aCYmKHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLnByZXNvcnRJbmRleD10fSksdGhpcy5jYXB0aW9uUGFja2V0c18uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnB0cz09PXQucHRzP2UucHJlc29ydEluZGV4LXQucHJlc29ydEluZGV4OmUucHRzLXQucHRzfSksdGhpcy5jYXB0aW9uUGFja2V0c18uZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU8MiYmdGhpcy5kaXNwYXRjaENlYTYwOFBhY2tldChlKX0sdGhpcyksdGhpcy5jYXB0aW9uUGFja2V0c18ubGVuZ3RoPTApLHRoaXMuZmx1c2hDQ1N0cmVhbXMoZSl9LFJvLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsdXNoU3RyZWFtKCJmbHVzaCIpfSxSby5wcm90b3R5cGUucGFydGlhbEZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmx1c2hTdHJlYW0oInBhcnRpYWxGbHVzaCIpfSxSby5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxhdGVzdER0c189bnVsbCx0aGlzLmlnbm9yZU5leHRFcXVhbER0c189ITEsdGhpcy5udW1TYW1lRHRzXz0wLHRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF89W251bGwsbnVsbF0sdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZXNldCgpfSl9LFJvLnByb3RvdHlwZS5kaXNwYXRjaENlYTYwOFBhY2tldD1mdW5jdGlvbihlKXt0aGlzLnNldHNUZXh0T3JYRFNBY3RpdmUoZSk/dGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPW51bGw6dGhpcy5zZXRzQ2hhbm5lbDFBY3RpdmUoZSk/dGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPTA6dGhpcy5zZXRzQ2hhbm5lbDJBY3RpdmUoZSkmJih0aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV09MSksbnVsbCE9PXRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXSYmdGhpcy5jY1N0cmVhbXNfWyhlLnR5cGU8PDEpK3RoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXV0ucHVzaChlKX0sUm8ucHJvdG90eXBlLnNldHNDaGFubmVsMUFjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gNDA5Nj09KDMwNzIwJmUuY2NEYXRhKX0sUm8ucHJvdG90eXBlLnNldHNDaGFubmVsMkFjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gNjE0ND09KDMwNzIwJmUuY2NEYXRhKX0sUm8ucHJvdG90eXBlLnNldHNUZXh0T3JYRFNBY3RpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI1Nj09KDI4OTI4JmUuY2NEYXRhKXx8NDEzOD09KDMwOTc0JmUuY2NEYXRhKXx8NjE4Nj09KDMwOTc0JmUuY2NEYXRhKX07ZnVuY3Rpb24gTm8oZSl7cmV0dXJuIG51bGw9PT1lPyIiOihlPWpvW2VdfHxlLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpfWZ1bmN0aW9uIEJvKCl7Zm9yKHZhciBlPVtdLHQ9MTU7dC0tOyllLnB1c2goIiIpO3JldHVybiBlfXZhciBqbz17NDI6MjI1LDkyOjIzMyw5NDoyMzcsOTU6MjQzLDk2OjI1MCwxMjM6MjMxLDEyNDoyNDcsMTI1OjIwOSwxMjY6MjQxLDEyNzo5NjA4LDMwNDoxNzQsMzA1OjE3NiwzMDY6MTg5LDMwNzoxOTEsMzA4Ojg0ODIsMzA5OjE2MiwzMTA6MTYzLDMxMTo5ODM0LDMxMjoyMjQsMzEzOjE2MCwzMTQ6MjMyLDMxNToyMjYsMzE2OjIzNCwzMTc6MjM4LDMxODoyNDQsMzE5OjI1MSw1NDQ6MTkzLDU0NToyMDEsNTQ2OjIxMSw1NDc6MjE4LDU0ODoyMjAsNTQ5OjI1Miw1NTA6ODIxNiw1NTE6MTYxLDU1Mjo0Miw1NTM6MzksNTU0OjgyMTIsNTU1OjE2OSw1NTY6ODQ4MCw1NTc6ODIyNiw1NTg6ODIyMCw1NTk6ODIyMSw1NjA6MTkyLDU2MToxOTQsNTYyOjE5OSw1NjM6MjAwLDU2NDoyMDIsNTY1OjIwMyw1NjY6MjM1LDU2NzoyMDYsNTY4OjIwNyw1Njk6MjM5LDU3MDoyMTIsNTcxOjIxNyw1NzI6MjQ5LDU3MzoyMTksNTc0OjE3MSw1NzU6MTg3LDgwMDoxOTUsODAxOjIyNyw4MDI6MjA1LDgwMzoyMDQsODA0OjIzNiw4MDU6MjEwLDgwNjoyNDIsODA3OjIxMyw4MDg6MjQ1LDgwOToxMjMsODEwOjEyNSw4MTE6OTIsODEyOjk0LDgxMzo5NSw4MTQ6MTI0LDgxNToxMjYsODE2OjE5Niw4MTc6MjI4LDgxODoyMTQsODE5OjI0Niw4MjA6MjIzLDgyMToxNjUsODIyOjE2NCw4MjM6OTQ3NCw4MjQ6MTk3LDgyNToyMjksODI2OjIxNiw4Mjc6MjQ4LDgyODo5NDg0LDgyOTo5NDg4LDgzMDo5NDkyLDgzMTo5NDk2fSxGbz1bNDM1Miw0Mzg0LDQ2MDgsNDY0MCw1Mzc2LDU0MDgsNTYzMiw1NjY0LDU4ODgsNTkyMCw0MDk2LDQ4NjQsNDg5Niw1MTIwLDUxNTJdLEhvPWZ1bmN0aW9uIGUodCxpKXtlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5maWVsZF89dHx8MCx0aGlzLmRhdGFDaGFubmVsXz1pfHwwLHRoaXMubmFtZV89IkNDIisoMSsodGhpcy5maWVsZF88PDF8dGhpcy5kYXRhQ2hhbm5lbF8pKSx0aGlzLnNldENvbnN0YW50cygpLHRoaXMucmVzZXQoKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIsYTtpZigodD0zMjYzOSZlLmNjRGF0YSkhPT10aGlzLmxhc3RDb250cm9sQ29kZV8pe2lmKDQwOTY9PSg2MTQ0MCZ0KT90aGlzLmxhc3RDb250cm9sQ29kZV89dDp0IT09dGhpcy5QQURESU5HXyYmKHRoaXMubGFzdENvbnRyb2xDb2RlXz1udWxsKSxuPXQ+Pj44LHI9MjU1JnQsdCE9PXRoaXMuUEFERElOR18paWYodD09PXRoaXMuUkVTVU1FX0NBUFRJT05fTE9BRElOR18pdGhpcy5tb2RlXz0icG9wT24iO2Vsc2UgaWYodD09PXRoaXMuRU5EX09GX0NBUFRJT05fKXRoaXMubW9kZV89InBvcE9uIix0aGlzLmNsZWFyRm9ybWF0dGluZyhlLnB0cyksdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksaT10aGlzLmRpc3BsYXllZF8sdGhpcy5kaXNwbGF5ZWRfPXRoaXMubm9uRGlzcGxheWVkXyx0aGlzLm5vbkRpc3BsYXllZF89aSx0aGlzLnN0YXJ0UHRzXz1lLnB0cztlbHNlIGlmKHQ9PT10aGlzLlJPTExfVVBfMl9ST1dTXyl0aGlzLnJvbGxVcFJvd3NfPTIsdGhpcy5zZXRSb2xsVXAoZS5wdHMpO2Vsc2UgaWYodD09PXRoaXMuUk9MTF9VUF8zX1JPV1NfKXRoaXMucm9sbFVwUm93c189Myx0aGlzLnNldFJvbGxVcChlLnB0cyk7ZWxzZSBpZih0PT09dGhpcy5ST0xMX1VQXzRfUk9XU18pdGhpcy5yb2xsVXBSb3dzXz00LHRoaXMuc2V0Um9sbFVwKGUucHRzKTtlbHNlIGlmKHQ9PT10aGlzLkNBUlJJQUdFX1JFVFVSTl8pdGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZS5wdHMpLHRoaXMuc2hpZnRSb3dzVXBfKCksdGhpcy5zdGFydFB0c189ZS5wdHM7ZWxzZSBpZih0PT09dGhpcy5CQUNLU1BBQ0VfKSJwb3BPbiI9PT10aGlzLm1vZGVfP3RoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpOnRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpO2Vsc2UgaWYodD09PXRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV8pdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksdGhpcy5kaXNwbGF5ZWRfPUJvKCk7ZWxzZSBpZih0PT09dGhpcy5FUkFTRV9OT05fRElTUExBWUVEX01FTU9SWV8pdGhpcy5ub25EaXNwbGF5ZWRfPUJvKCk7ZWxzZSBpZih0PT09dGhpcy5SRVNVTUVfRElSRUNUX0NBUFRJT05JTkdfKSJwYWludE9uIiE9PXRoaXMubW9kZV8mJih0aGlzLmZsdXNoRGlzcGxheWVkKGUucHRzKSx0aGlzLmRpc3BsYXllZF89Qm8oKSksdGhpcy5tb2RlXz0icGFpbnRPbiIsdGhpcy5zdGFydFB0c189ZS5wdHM7ZWxzZSBpZih0aGlzLmlzU3BlY2lhbENoYXJhY3RlcihuLHIpKWE9Tm8oKG49KDMmbik8PDgpfHIpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsYSksdGhpcy5jb2x1bW5fKys7ZWxzZSBpZih0aGlzLmlzRXh0Q2hhcmFjdGVyKG4scikpInBvcE9uIj09PXRoaXMubW9kZV8/dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X109dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X10uc2xpY2UoMCwtMSk6dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X109dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X10uc2xpY2UoMCwtMSksYT1Obygobj0oMyZuKTw8OCl8ciksdGhpc1t0aGlzLm1vZGVfXShlLnB0cyxhKSx0aGlzLmNvbHVtbl8rKztlbHNlIGlmKHRoaXMuaXNNaWRSb3dDb2RlKG4scikpdGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsIiAiKSx0aGlzLmNvbHVtbl8rKywxND09KDE0JnIpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsWyJpIl0pLDE9PSgxJnIpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsWyJ1Il0pO2Vsc2UgaWYodGhpcy5pc09mZnNldENvbnRyb2xDb2RlKG4scikpdGhpcy5jb2x1bW5fKz0zJnI7ZWxzZSBpZih0aGlzLmlzUEFDKG4scikpe3ZhciBzPUZvLmluZGV4T2YoNzk2OCZ0KTsicm9sbFVwIj09PXRoaXMubW9kZV8mJihzLXRoaXMucm9sbFVwUm93c18rMTwwJiYocz10aGlzLnJvbGxVcFJvd3NfLTEpLHRoaXMuc2V0Um9sbFVwKGUucHRzLHMpKSxzIT09dGhpcy5yb3dfJiYodGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMucm93Xz1zKSwxJnImJi0xPT09dGhpcy5mb3JtYXR0aW5nXy5pbmRleE9mKCJ1IikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbInUiXSksMTY9PSgxNiZ0KSYmKHRoaXMuY29sdW1uXz00KigoMTQmdCk+PjEpKSx0aGlzLmlzQ29sb3JQQUMocikmJjE0PT0oMTQmcikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbImkiXSl9ZWxzZSB0aGlzLmlzTm9ybWFsQ2hhcihuKSYmKDA9PT1yJiYocj1udWxsKSxhPU5vKG4pLGErPU5vKHIpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsYSksdGhpcy5jb2x1bW5fKz1hLmxlbmd0aCl9ZWxzZSB0aGlzLmxhc3RDb250cm9sQ29kZV89bnVsbH19O0hvLnByb3RvdHlwZT1uZXcgTW8sSG8ucHJvdG90eXBlLmZsdXNoRGlzcGxheWVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGlzcGxheWVkXy5tYXAoZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLnRyaW0oKX1jYXRjaChlKXtyZXR1cm4iIn19KS5qb2luKCJcbiIpLnJlcGxhY2UoL15cbit8XG4rJC9nLCIiKTt0Lmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJkYXRhIix7c3RhcnRQdHM6dGhpcy5zdGFydFB0c18sZW5kUHRzOmUsdGV4dDp0LHN0cmVhbTp0aGlzLm5hbWVffSl9LEhvLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubW9kZV89InBvcE9uIix0aGlzLnRvcFJvd189MCx0aGlzLnN0YXJ0UHRzXz0wLHRoaXMuZGlzcGxheWVkXz1CbygpLHRoaXMubm9uRGlzcGxheWVkXz1CbygpLHRoaXMubGFzdENvbnRyb2xDb2RlXz1udWxsLHRoaXMuY29sdW1uXz0wLHRoaXMucm93Xz0xNCx0aGlzLnJvbGxVcFJvd3NfPTIsdGhpcy5mb3JtYXR0aW5nXz1bXX0sSG8ucHJvdG90eXBlLnNldENvbnN0YW50cz1mdW5jdGlvbigpezA9PT10aGlzLmRhdGFDaGFubmVsXz8odGhpcy5CQVNFXz0xNix0aGlzLkVYVF89MTcsdGhpcy5DT05UUk9MXz0oMjB8dGhpcy5maWVsZF8pPDw4LHRoaXMuT0ZGU0VUXz0yMyk6MT09PXRoaXMuZGF0YUNoYW5uZWxfJiYodGhpcy5CQVNFXz0yNCx0aGlzLkVYVF89MjUsdGhpcy5DT05UUk9MXz0oMjh8dGhpcy5maWVsZF8pPDw4LHRoaXMuT0ZGU0VUXz0zMSksdGhpcy5QQURESU5HXz0wLHRoaXMuUkVTVU1FX0NBUFRJT05fTE9BRElOR189MzJ8dGhpcy5DT05UUk9MXyx0aGlzLkVORF9PRl9DQVBUSU9OXz00N3x0aGlzLkNPTlRST0xfLHRoaXMuUk9MTF9VUF8yX1JPV1NfPTM3fHRoaXMuQ09OVFJPTF8sdGhpcy5ST0xMX1VQXzNfUk9XU189Mzh8dGhpcy5DT05UUk9MXyx0aGlzLlJPTExfVVBfNF9ST1dTXz0zOXx0aGlzLkNPTlRST0xfLHRoaXMuQ0FSUklBR0VfUkVUVVJOXz00NXx0aGlzLkNPTlRST0xfLHRoaXMuUkVTVU1FX0RJUkVDVF9DQVBUSU9OSU5HXz00MXx0aGlzLkNPTlRST0xfLHRoaXMuQkFDS1NQQUNFXz0zM3x0aGlzLkNPTlRST0xfLHRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV89NDR8dGhpcy5DT05UUk9MXyx0aGlzLkVSQVNFX05PTl9ESVNQTEFZRURfTUVNT1JZXz00Nnx0aGlzLkNPTlRST0xffSxIby5wcm90b3R5cGUuaXNTcGVjaWFsQ2hhcmFjdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10aGlzLkVYVF8mJjQ4PD10JiZ0PD02M30sSG8ucHJvdG90eXBlLmlzRXh0Q2hhcmFjdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9PT10aGlzLkVYVF8rMXx8ZT09PXRoaXMuRVhUXysyKSYmMzI8PXQmJnQ8PTYzfSxIby5wcm90b3R5cGUuaXNNaWRSb3dDb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10aGlzLkVYVF8mJjMyPD10JiZ0PD00N30sSG8ucHJvdG90eXBlLmlzT2Zmc2V0Q29udHJvbENvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXRoaXMuT0ZGU0VUXyYmMzM8PXQmJnQ8PTM1fSxIby5wcm90b3R5cGUuaXNQQUM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT49dGhpcy5CQVNFXyYmZTx0aGlzLkJBU0VfKzgmJjY0PD10JiZ0PD0xMjd9LEhvLnByb3RvdHlwZS5pc0NvbG9yUEFDPWZ1bmN0aW9uKGUpe3JldHVybiA2NDw9ZSYmZTw9Nzl8fDk2PD1lJiZlPD0xMjd9LEhvLnByb3RvdHlwZS5pc05vcm1hbENoYXI9ZnVuY3Rpb24oZSl7cmV0dXJuIDMyPD1lJiZlPD0xMjd9LEhvLnByb3RvdHlwZS5zZXRSb2xsVXA9ZnVuY3Rpb24oZSx0KXtpZigicm9sbFVwIiE9PXRoaXMubW9kZV8mJih0aGlzLnJvd189MTQsdGhpcy5tb2RlXz0icm9sbFVwIix0aGlzLmZsdXNoRGlzcGxheWVkKGUpLHRoaXMubm9uRGlzcGxheWVkXz1CbygpLHRoaXMuZGlzcGxheWVkXz1CbygpKSx2b2lkIDAhPT10JiZ0IT09dGhpcy5yb3dfKWZvcih2YXIgaT0wO2k8dGhpcy5yb2xsVXBSb3dzXztpKyspdGhpcy5kaXNwbGF5ZWRfW3QtaV09dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93Xy1pXSx0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfLWldPSIiO3ZvaWQgMD09PXQmJih0PXRoaXMucm93XyksdGhpcy50b3BSb3dfPXQtdGhpcy5yb2xsVXBSb3dzXysxfSxIby5wcm90b3R5cGUuYWRkRm9ybWF0dGluZz1mdW5jdGlvbihlLHQpe3RoaXMuZm9ybWF0dGluZ189dGhpcy5mb3JtYXR0aW5nXy5jb25jYXQodCk7dmFyIGk9dC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiPCIrdCsiPiJ9LCIiKTt0aGlzW3RoaXMubW9kZV9dKGUsaSl9LEhvLnByb3RvdHlwZS5jbGVhckZvcm1hdHRpbmc9ZnVuY3Rpb24oZSl7aWYodGhpcy5mb3JtYXR0aW5nXy5sZW5ndGgpe3ZhciB0PXRoaXMuZm9ybWF0dGluZ18ucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlKyI8LyIrdCsiPiJ9LCIiKTt0aGlzLmZvcm1hdHRpbmdfPVtdLHRoaXNbdGhpcy5tb2RlX10oZSx0KX19LEhvLnByb3RvdHlwZS5wb3BPbj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dO2krPXQsdGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X109aX0sSG8ucHJvdG90eXBlLnJvbGxVcD1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dO2krPXQsdGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X109aX0sSG8ucHJvdG90eXBlLnNoaWZ0Um93c1VwXz1mdW5jdGlvbigpe3ZhciBlO2ZvcihlPTA7ZTx0aGlzLnRvcFJvd187ZSsrKXRoaXMuZGlzcGxheWVkX1tlXT0iIjtmb3IoZT10aGlzLnJvd18rMTtlPDE1O2UrKyl0aGlzLmRpc3BsYXllZF9bZV09IiI7Zm9yKGU9dGhpcy50b3BSb3dfO2U8dGhpcy5yb3dfO2UrKyl0aGlzLmRpc3BsYXllZF9bZV09dGhpcy5kaXNwbGF5ZWRfW2UrMV07dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X109IiJ9LEhvLnByb3RvdHlwZS5wYWludE9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X107aSs9dCx0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT1pfTtmdW5jdGlvbiBWbyhlLHQpe2Zvcih2YXIgaT1lLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihpPHIuc2l6ZSlyZXR1cm4gcjtpLT1yLnNpemV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcW8oZSxjKXt2YXIgbj13by5maW5kQm94KGUsWyJtb29mIiwidHJhZiJdKSx0PXdvLmZpbmRCb3goZSxbIm1kYXQiXSksaD17fSxyPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgaT1uW3RdO3IucHVzaCh7bWRhdDplLHRyYWY6aX0pfSksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LGk9ZS5tZGF0LG49ZS50cmFmLHI9d28uZmluZEJveChuLFsidGZoZCJdKSxhPUlvLnBhcnNlVGZoZChyWzBdKSxzPWEudHJhY2tJZCxvPXdvLmZpbmRCb3gobixbInRmZHQiXSksdT0wPG8ubGVuZ3RoP0lvLnBhcnNlVGZkdChvWzBdKS5iYXNlTWVkaWFEZWNvZGVUaW1lOjAsbD13by5maW5kQm94KG4sWyJ0cnVuIl0pO2M9PT1zJiYwPGwubGVuZ3RoJiYodD1mdW5jdGlvbihlLHQsaSl7dmFyIG4scixhLHMsbz1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksdT1bXTtmb3Iocj0wO3IrNDxlLmxlbmd0aDtyKz1hKWlmKGE9by5nZXRVaW50MzIocikscis9NCwhKGE8PTApKXN3aXRjaCgzMSZlW3JdKXtjYXNlIDY6dmFyIGw9ZS5zdWJhcnJheShyKzEscisxK2EpLGM9Vm8ocix0KTtuPXtuYWxVbml0VHlwZToic2VpX3Jic3AiLHNpemU6YSxkYXRhOmwsZXNjYXBlZFJCU1A6em8obCksdHJhY2tJZDppfSxjPyhuLnB0cz1jLnB0cyxuLmR0cz1jLmR0cyxzPWMpOihuLnB0cz1zLnB0cyxuLmR0cz1zLmR0cyksdS5wdXNoKG4pfXJldHVybiB1fShpLGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10LHI9aS5kZWZhdWx0U2FtcGxlRHVyYXRpb258fDAsYT1pLmRlZmF1bHRTYW1wbGVTaXplfHwwLHM9aS50cmFja0lkLG89W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1Jby5wYXJzZVRydW4oZSkuc2FtcGxlczt0LmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5kdXJhdGlvbiYmKGUuZHVyYXRpb249ciksdm9pZCAwPT09ZS5zaXplJiYoZS5zaXplPWEpLGUudHJhY2tJZD1zLGUuZHRzPW4sdm9pZCAwPT09ZS5jb21wb3NpdGlvblRpbWVPZmZzZXQmJihlLmNvbXBvc2l0aW9uVGltZU9mZnNldD0wKSxlLnB0cz1uK2UuY29tcG9zaXRpb25UaW1lT2Zmc2V0LG4rPWUuZHVyYXRpb259KSxvPW8uY29uY2F0KHQpfSksb30obCx1LGEpLHMpLGhbc118fChoW3NdPVtdKSxoW3NdPWhbc10uY29uY2F0KHQpKX0pLGh9ZnVuY3Rpb24gV28oZSx0KXt2YXIgaT0xO2Zvcih0PGUmJihpPS0xKTs0Mjk0OTY3Mjk2PE1hdGguYWJzKHQtZSk7KWUrPTg1ODk5MzQ1OTIqaTtyZXR1cm4gZX12YXIgem89RG8sJG89Um8sR289ZnVuY3Rpb24oKXt2YXIgdCxhLHMsbyx1LGksbj0hMTt0aGlzLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sdGhpcy5pbml0PWZ1bmN0aW9uKGUpe3Q9bmV3ICRvLG49ITAsaT0hIWUmJmUuaXNQYXJ0aWFsLHQub24oImRhdGEiLGZ1bmN0aW9uKGUpe2Uuc3RhcnRUaW1lPWUuc3RhcnRQdHMvbyxlLmVuZFRpbWU9ZS5lbmRQdHMvbyx1LmNhcHRpb25zLnB1c2goZSksdS5jYXB0aW9uU3RyZWFtc1tlLnN0cmVhbV09ITB9KX0sdGhpcy5pc05ld0luaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKGUmJjA9PT1lLmxlbmd0aHx8dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYwPT09T2JqZWN0LmtleXModCkubGVuZ3RoKSYmKHMhPT1lWzBdfHxvIT09dFtzXSl9LHRoaXMucGFyc2U9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuO2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSlyZXR1cm4gbnVsbDtpZighdHx8IWkpcmV0dXJuIG51bGw7aWYodGhpcy5pc05ld0luaXQodCxpKSlzPXRbMF0sbz1pW3NdO2Vsc2UgaWYobnVsbD09PXN8fCFvKXJldHVybiBhLnB1c2goZSksbnVsbDtmb3IoOzA8YS5sZW5ndGg7KXt2YXIgcj1hLnNoaWZ0KCk7dGhpcy5wYXJzZShyLHQsaSl9cmV0dXJuIG51bGwhPT0obj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIG51bGw9PT10P251bGw6e3NlaU5hbHM6cW8oZSx0KVt0XSx0aW1lc2NhbGU6aX19KGUscyxvKSkmJm4uc2VpTmFscz8odGhpcy5wdXNoTmFscyhuLnNlaU5hbHMpLHRoaXMuZmx1c2hTdHJlYW0oKSx1KTpudWxsfSx0aGlzLnB1c2hOYWxzPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKXx8IWV8fDA9PT1lLmxlbmd0aClyZXR1cm4gbnVsbDtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSl9LHRoaXMuZmx1c2hTdHJlYW09ZnVuY3Rpb24oKXtpZighdGhpcy5pc0luaXRpYWxpemVkKCkpcmV0dXJuIG51bGw7aT90LnBhcnRpYWxGbHVzaCgpOnQuZmx1c2goKX0sdGhpcy5jbGVhclBhcnNlZENhcHRpb25zPWZ1bmN0aW9uKCl7dS5jYXB0aW9ucz1bXSx1LmNhcHRpb25TdHJlYW1zPXt9fSx0aGlzLnJlc2V0Q2FwdGlvblN0cmVhbT1mdW5jdGlvbigpe2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSlyZXR1cm4gbnVsbDt0LnJlc2V0KCl9LHRoaXMuY2xlYXJBbGxDYXB0aW9ucz1mdW5jdGlvbigpe3RoaXMuY2xlYXJQYXJzZWRDYXB0aW9ucygpLHRoaXMucmVzZXRDYXB0aW9uU3RyZWFtKCl9LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXthPVtdLG89cz1udWxsLHU/dGhpcy5jbGVhclBhcnNlZENhcHRpb25zKCk6dT17Y2FwdGlvbnM6W10sY2FwdGlvblN0cmVhbXM6e319LHRoaXMucmVzZXRDYXB0aW9uU3RyZWFtKCl9LHRoaXMucmVzZXQoKX0sWG89MjcsS289MTUsWW89MjE7bmV3IE1vO2Z1bmN0aW9uIFFvKGUpe3ZhciB0PTMxJmVbMV07cmV0dXJuIHQ8PD04LHR8PWVbMl19ZnVuY3Rpb24gSm8oZSl7cmV0dXJuISEoNjQmZVsxXSl9ZnVuY3Rpb24gWm8oZSl7dmFyIHQ9MDtyZXR1cm4gMTwoNDgmZVszXSk+Pj40JiYodCs9ZVs0XSsxKSx0fWZ1bmN0aW9uIGV1KGUpe3N3aXRjaChlKXtjYXNlIDU6cmV0dXJuInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyIjtjYXNlIDY6cmV0dXJuInNlaV9yYnNwIjtjYXNlIDc6cmV0dXJuInNlcV9wYXJhbWV0ZXJfc2V0X3Jic3AiO2Nhc2UgODpyZXR1cm4icGljX3BhcmFtZXRlcl9zZXRfcmJzcCI7Y2FzZSA5OnJldHVybiJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCI7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gdHUoZSl7cmV0dXJuIGVbMF08PDIxfGVbMV08PDE0fGVbMl08PDd8ZVszXX12YXIgaXUsbnUscnUsYXUsc3U9e3BhcnNlVHlwZTpmdW5jdGlvbihlLHQpe3ZhciBpPVFvKGUpO3JldHVybiAwPT09aT8icGF0IjppPT09dD8icG10Ijp0PyJwZXMiOm51bGx9LHBhcnNlUGF0OmZ1bmN0aW9uKGUpe3ZhciB0PUpvKGUpLGk9NCtabyhlKTtyZXR1cm4gdCYmKGkrPWVbaV0rMSksKDMxJmVbaSsxMF0pPDw4fGVbaSsxMV19LHBhcnNlUG10OmZ1bmN0aW9uKGUpe3ZhciB0PXt9LGk9Sm8oZSksbj00K1pvKGUpO2lmKGkmJihuKz1lW25dKzEpLDEmZVtuKzVdKXt2YXIgcjtyPTMrKCgxNSZlW24rMV0pPDw4fGVbbisyXSktNDtmb3IodmFyIGE9MTIrKCgxNSZlW24rMTBdKTw8OHxlW24rMTFdKTthPHI7KXt2YXIgcz1uK2E7dFsoMzEmZVtzKzFdKTw8OHxlW3MrMl1dPWVbc10sYSs9NSsoKDE1JmVbcyszXSk8PDh8ZVtzKzRdKX1yZXR1cm4gdH19LHBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcjpKbyxwYXJzZVBlc1R5cGU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godFtRbyhlKV0pe2Nhc2UgWG86cmV0dXJuInZpZGVvIjtjYXNlIEtvOnJldHVybiJhdWRpbyI7Y2FzZSBZbzpyZXR1cm4idGltZWQtbWV0YWRhdGEiO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxwYXJzZVBlc1RpbWU6ZnVuY3Rpb24oZSl7aWYoIUpvKGUpKXJldHVybiBudWxsO3ZhciB0PTQrWm8oZSk7aWYodD49ZS5ieXRlTGVuZ3RoKXJldHVybiBudWxsO3ZhciBpLG49bnVsbDtyZXR1cm4gMTkyJihpPWVbdCs3XSkmJigobj17fSkucHRzPSgxNCZlW3QrOV0pPDwyN3woMjU1JmVbdCsxMF0pPDwyMHwoMjU0JmVbdCsxMV0pPDwxMnwoMjU1JmVbdCsxMl0pPDw1fCgyNTQmZVt0KzEzXSk+Pj4zLG4ucHRzKj00LG4ucHRzKz0oNiZlW3QrMTNdKT4+PjEsbi5kdHM9bi5wdHMsNjQmaSYmKG4uZHRzPSgxNCZlW3QrMTRdKTw8Mjd8KDI1NSZlW3QrMTVdKTw8MjB8KDI1NCZlW3QrMTZdKTw8MTJ8KDI1NSZlW3QrMTddKTw8NXwoMjU0JmVbdCsxOF0pPj4+MyxuLmR0cyo9NCxuLmR0cys9KDYmZVt0KzE4XSk+Pj4xKSksbn0sdmlkZW9QYWNrZXRDb250YWluc0tleUZyYW1lOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD00K1pvKGUpLGk9ZS5zdWJhcnJheSh0KSxuPTAscj0wLGE9ITE7cjxpLmJ5dGVMZW5ndGgtMztyKyspaWYoMT09PWlbcisyXSl7bj1yKzU7YnJlYWt9Zm9yKDtuPGkuYnl0ZUxlbmd0aDspc3dpdGNoKGlbbl0pe2Nhc2UgMDppZigwIT09aVtuLTFdKXtuKz0yO2JyZWFrfWlmKDAhPT1pW24tMl0pe24rKzticmVha31mb3IociszIT09bi0yJiYic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHIiPT09ZXUoMzEmaVtyKzNdKSYmKGE9ITApOzEhPT1pWysrbl0mJm48aS5sZW5ndGg7KTtyPW4tMixuKz0zO2JyZWFrO2Nhc2UgMTppZigwIT09aVtuLTFdfHwwIT09aVtuLTJdKXtuKz0zO2JyZWFrfSJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkciI9PT1ldSgzMSZpW3IrM10pJiYoYT0hMCkscj1uLTIsbis9MzticmVhaztkZWZhdWx0Om4rPTN9cmV0dXJuIGk9aS5zdWJhcnJheShyKSxuLT1yLHI9MCxpJiYzPGkuYnl0ZUxlbmd0aCYmInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyIj09PWV1KDMxJmlbciszXSkmJihhPSEwKSxhfX0sb3U9Wzk2ZTMsODgyMDAsNjRlMyw0OGUzLDQ0MTAwLDMyZTMsMjRlMywyMjA1MCwxNmUzLDEyZTMsMTEwMjUsOGUzLDczNTBdLHV1PXtpc0xpa2VseUFhY0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT0iSSIuY2hhckNvZGVBdCgwKSYmZVsxXT09PSJEIi5jaGFyQ29kZUF0KDApJiZlWzJdPT09IjMiLmNoYXJDb2RlQXQoMCl9LHBhcnNlSWQzVGFnU2l6ZTpmdW5jdGlvbihlLHQpe3ZhciBpPWVbdCs2XTw8MjF8ZVt0KzddPDwxNHxlW3QrOF08PDd8ZVt0KzldO3JldHVybigxNiZlW3QrNV0pPj40PzIwK2k6MTAraX0scGFyc2VBZHRzU2l6ZTpmdW5jdGlvbihlLHQpe3ZhciBpPSgyMjQmZVt0KzVdKT4+NSxuPWVbdCs0XTw8MztyZXR1cm4gNjE0NCZlW3QrM118bnxpfSxwYXJzZVR5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT09PSJJIi5jaGFyQ29kZUF0KDApJiZlW3QrMV09PT0iRCIuY2hhckNvZGVBdCgwKSYmZVt0KzJdPT09IjMiLmNoYXJDb2RlQXQoMCk/InRpbWVkLW1ldGFkYXRhIjohMCZlW3RdJiYyNDA9PSgyNDAmZVt0KzFdKT8iYXVkaW8iOm51bGx9LHBhcnNlU2FtcGxlUmF0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0KzU8ZS5sZW5ndGg7KXtpZigyNTU9PT1lW3RdJiYyNDA9PSgyNDYmZVt0KzFdKSlyZXR1cm4gb3VbKDYwJmVbdCsyXSk+Pj4yXTt0Kyt9cmV0dXJuIG51bGx9LHBhcnNlQWFjVGltZXN0YW1wOmZ1bmN0aW9uKGUpe3ZhciB0LGksbjt0PTEwLDY0JmVbNV0mJih0Kz00LHQrPXR1KGUuc3ViYXJyYXkoMTAsMTQpKSk7ZG97aWYoKGk9dHUoZS5zdWJhcnJheSh0KzQsdCs4KSkpPDEpcmV0dXJuIG51bGw7aWYoIlBSSVYiPT09U3RyaW5nLmZyb21DaGFyQ29kZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKSl7bj1lLnN1YmFycmF5KHQrMTAsdCtpKzEwKTtmb3IodmFyIHI9MDtyPG4uYnl0ZUxlbmd0aDtyKyspaWYoMD09PW5bcl0pe2lmKCJjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCIhPT11bmVzY2FwZShmdW5jdGlvbihlLHQsaSl7dmFyIG4scj0iIjtmb3Iobj10O248aTtuKyspcis9IiUiKygiMDAiK2Vbbl0udG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIHJ9KG4sMCxyKSkpYnJlYWs7dmFyIGE9bi5zdWJhcnJheShyKzEpLHM9KDEmYVszXSk8PDMwfGFbNF08PDIyfGFbNV08PDE0fGFbNl08PDZ8YVs3XT4+PjI7cmV0dXJuIHMqPTQscys9MyZhWzddfX10Kz0xMCx0Kz1pfXdoaWxlKHQ8ZS5ieXRlTGVuZ3RoKTtyZXR1cm4gbnVsbH19LGx1PTllNCxjdT0oaXU9ZnVuY3Rpb24oZSl7cmV0dXJuIDllNCplfSxudT1mdW5jdGlvbihlLHQpe3JldHVybiBlKnR9LHJ1PWZ1bmN0aW9uKGUpe3JldHVybiBlLzllNH0sYXU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS90fSxXbyksaHU9e307aHUudHM9c3UsaHUuYWFjPXV1O2Z1bmN0aW9uIGR1KGUsdCxpKXtmb3IodmFyIG4scixhLHMsbz0wLHU9Z3UsbD0hMTt1PD1lLmJ5dGVMZW5ndGg7KWlmKDcxIT09ZVtvXXx8NzEhPT1lW3VdJiZ1IT09ZS5ieXRlTGVuZ3RoKW8rKyx1Kys7ZWxzZXtzd2l0Y2gobj1lLnN1YmFycmF5KG8sdSksaHUudHMucGFyc2VUeXBlKG4sdC5waWQpKXtjYXNlInBlcyI6cj1odS50cy5wYXJzZVBlc1R5cGUobix0LnRhYmxlKSxhPWh1LnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihuKSwiYXVkaW8iPT09ciYmYSYmKHM9aHUudHMucGFyc2VQZXNUaW1lKG4pKSYmKHMudHlwZT0iYXVkaW8iLGkuYXVkaW8ucHVzaChzKSxsPSEwKX1pZihsKWJyZWFrO28rPWd1LHUrPWd1fWZvcihvPSh1PWUuYnl0ZUxlbmd0aCktZ3UsbD0hMTswPD1vOylpZig3MSE9PWVbb118fDcxIT09ZVt1XSYmdSE9PWUuYnl0ZUxlbmd0aClvLS0sdS0tO2Vsc2V7c3dpdGNoKG49ZS5zdWJhcnJheShvLHUpLGh1LnRzLnBhcnNlVHlwZShuLHQucGlkKSl7Y2FzZSJwZXMiOnI9aHUudHMucGFyc2VQZXNUeXBlKG4sdC50YWJsZSksYT1odS50cy5wYXJzZVBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3IobiksImF1ZGlvIj09PXImJmEmJihzPWh1LnRzLnBhcnNlUGVzVGltZShuKSkmJihzLnR5cGU9ImF1ZGlvIixpLmF1ZGlvLnB1c2gocyksbD0hMCl9aWYobClicmVhaztvLT1ndSx1LT1ndX19ZnVuY3Rpb24gcHUoZSx0LGkpe2Zvcih2YXIgbixyLGEscyxvLHUsbCxjPTAsaD1ndSxkPSExLHA9e2RhdGE6W10sc2l6ZTowfTtoPGUuYnl0ZUxlbmd0aDspaWYoNzEhPT1lW2NdfHw3MSE9PWVbaF0pYysrLGgrKztlbHNle3N3aXRjaChuPWUuc3ViYXJyYXkoYyxoKSxodS50cy5wYXJzZVR5cGUobix0LnBpZCkpe2Nhc2UicGVzIjppZihyPWh1LnRzLnBhcnNlUGVzVHlwZShuLHQudGFibGUpLGE9aHUudHMucGFyc2VQYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yKG4pLCJ2aWRlbyI9PT1yJiYoYSYmIWQmJihzPWh1LnRzLnBhcnNlUGVzVGltZShuKSkmJihzLnR5cGU9InZpZGVvIixpLnZpZGVvLnB1c2gocyksZD0hMCksIWkuZmlyc3RLZXlGcmFtZSkpe2lmKGEmJjAhPT1wLnNpemUpe2ZvcihvPW5ldyBVaW50OEFycmF5KHAuc2l6ZSksdT0wO3AuZGF0YS5sZW5ndGg7KWw9cC5kYXRhLnNoaWZ0KCksby5zZXQobCx1KSx1Kz1sLmJ5dGVMZW5ndGg7aWYoaHUudHMudmlkZW9QYWNrZXRDb250YWluc0tleUZyYW1lKG8pKXt2YXIgZj1odS50cy5wYXJzZVBlc1RpbWUobyk7ZiYmKGkuZmlyc3RLZXlGcmFtZT1mLGkuZmlyc3RLZXlGcmFtZS50eXBlPSJ2aWRlbyIpfXAuc2l6ZT0wfXAuZGF0YS5wdXNoKG4pLHAuc2l6ZSs9bi5ieXRlTGVuZ3RofX1pZihkJiZpLmZpcnN0S2V5RnJhbWUpYnJlYWs7Yys9Z3UsaCs9Z3V9Zm9yKGM9KGg9ZS5ieXRlTGVuZ3RoKS1ndSxkPSExOzA8PWM7KWlmKDcxIT09ZVtjXXx8NzEhPT1lW2hdKWMtLSxoLS07ZWxzZXtzd2l0Y2gobj1lLnN1YmFycmF5KGMsaCksaHUudHMucGFyc2VUeXBlKG4sdC5waWQpKXtjYXNlInBlcyI6cj1odS50cy5wYXJzZVBlc1R5cGUobix0LnRhYmxlKSxhPWh1LnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihuKSwidmlkZW8iPT09ciYmYSYmKHM9aHUudHMucGFyc2VQZXNUaW1lKG4pKSYmKHMudHlwZT0idmlkZW8iLGkudmlkZW8ucHVzaChzKSxkPSEwKX1pZihkKWJyZWFrO2MtPWd1LGgtPWd1fX1mdW5jdGlvbiBmdShlKXt2YXIgdD17cGlkOm51bGwsdGFibGU6bnVsbH0saT17fTtmb3IodmFyIG4gaW4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIGksbj0wLHI9Z3U7cjxlLmJ5dGVMZW5ndGg7KWlmKDcxIT09ZVtuXXx8NzEhPT1lW3JdKW4rKyxyKys7ZWxzZXtzd2l0Y2goaT1lLnN1YmFycmF5KG4sciksaHUudHMucGFyc2VUeXBlKGksdC5waWQpKXtjYXNlInBhdCI6dC5waWR8fCh0LnBpZD1odS50cy5wYXJzZVBhdChpKSk7YnJlYWs7Y2FzZSJwbXQiOnQudGFibGV8fCh0LnRhYmxlPWh1LnRzLnBhcnNlUG10KGkpKX1pZih0LnBpZCYmdC50YWJsZSlyZXR1cm47bis9Z3Uscis9Z3V9fShlLHQpLHQudGFibGUpe2lmKHQudGFibGUuaGFzT3duUHJvcGVydHkobikpc3dpdGNoKHQudGFibGVbbl0pe2Nhc2UgWG86aS52aWRlbz1bXSxwdShlLHQsaSksMD09PWkudmlkZW8ubGVuZ3RoJiZkZWxldGUgaS52aWRlbzticmVhaztjYXNlIEtvOmkuYXVkaW89W10sZHUoZSx0LGkpLDA9PT1pLmF1ZGlvLmxlbmd0aCYmZGVsZXRlIGkuYXVkaW99fXJldHVybiBpfXZhciBtdT1sdSxndT0xODgseXU9ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4oaT1odS5hYWMuaXNMaWtlbHlBYWNEYXRhKGUpP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPSExLG49MCxyPW51bGwsYT1udWxsLHM9MCxvPTA7Mzw9ZS5sZW5ndGgtbzspe3N3aXRjaChodS5hYWMucGFyc2VUeXBlKGUsbykpe2Nhc2UidGltZWQtbWV0YWRhdGEiOmlmKGUubGVuZ3RoLW88MTApe2k9ITA7YnJlYWt9aWYoKHM9aHUuYWFjLnBhcnNlSWQzVGFnU2l6ZShlLG8pKT5lLmxlbmd0aCl7aT0hMDticmVha31udWxsPT09YSYmKHQ9ZS5zdWJhcnJheShvLG8rcyksYT1odS5hYWMucGFyc2VBYWNUaW1lc3RhbXAodCkpLG8rPXM7YnJlYWs7Y2FzZSJhdWRpbyI6aWYoZS5sZW5ndGgtbzw3KXtpPSEwO2JyZWFrfWlmKChzPWh1LmFhYy5wYXJzZUFkdHNTaXplKGUsbykpPmUubGVuZ3RoKXtpPSEwO2JyZWFrfW51bGw9PT1yJiYodD1lLnN1YmFycmF5KG8sbytzKSxyPWh1LmFhYy5wYXJzZVNhbXBsZVJhdGUodCkpLG4rKyxvKz1zO2JyZWFrO2RlZmF1bHQ6bysrfWlmKGkpcmV0dXJuIG51bGx9aWYobnVsbD09PXJ8fG51bGw9PT1hKXJldHVybiBudWxsO3ZhciB1PW11L3I7cmV0dXJue2F1ZGlvOlt7dHlwZToiYXVkaW8iLGR0czphLHB0czphfSx7dHlwZToiYXVkaW8iLGR0czphKzEwMjQqbip1LHB0czphKzEwMjQqbip1fV19fShlKTpmdShlKSkmJihpLmF1ZGlvfHxpLnZpZGVvKT8oZnVuY3Rpb24oZSx0KXtpZihlLmF1ZGlvJiZlLmF1ZGlvLmxlbmd0aCl7dmFyIGk9dDsidW5kZWZpbmVkIj09dHlwZW9mIGkmJihpPWUuYXVkaW9bMF0uZHRzKSxlLmF1ZGlvLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kdHM9Y3UoZS5kdHMsaSksZS5wdHM9Y3UoZS5wdHMsaSksZS5kdHNUaW1lPWUuZHRzL211LGUucHRzVGltZT1lLnB0cy9tdX0pfWlmKGUudmlkZW8mJmUudmlkZW8ubGVuZ3RoKXt2YXIgbj10O2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgbiYmKG49ZS52aWRlb1swXS5kdHMpLGUudmlkZW8uZm9yRWFjaChmdW5jdGlvbihlKXtlLmR0cz1jdShlLmR0cyxuKSxlLnB0cz1jdShlLnB0cyxuKSxlLmR0c1RpbWU9ZS5kdHMvbXUsZS5wdHNUaW1lPWUucHRzL211fSksZS5maXJzdEtleUZyYW1lKXt2YXIgcj1lLmZpcnN0S2V5RnJhbWU7ci5kdHM9Y3Uoci5kdHMsbiksci5wdHM9Y3Uoci5wdHMsbiksci5kdHNUaW1lPXIuZHRzL211LHIucHRzVGltZT1yLmR0cy9tdX19fShpLHQpLGkpOm51bGx9O2Z1bmN0aW9uIHZ1KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9dmFyIF91PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdCYmYnUoZS5wcm90b3R5cGUsdCksaSYmYnUoZSxpKSxlfTtmdW5jdGlvbiBidShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXZhciBUdT1udWxsLFN1PShrdS5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbihlLHQsaSxuLHIsYSl7dmFyIHM9dGhpcy5fa2V5WzFdLG89ZV5zWzBdLHU9bl5zWzFdLGw9aV5zWzJdLGM9dF5zWzNdLGg9dm9pZCAwLGQ9dm9pZCAwLHA9dm9pZCAwLGY9cy5sZW5ndGgvNC0yLG09dm9pZCAwLGc9NCx5PXRoaXMuX3RhYmxlc1sxXSx2PXlbMF0sXz15WzFdLGI9eVsyXSxUPXlbM10sUz15WzRdO2ZvcihtPTA7bTxmO20rKyloPXZbbz4+PjI0XV5fW3U+PjE2JjI1NV1eYltsPj44JjI1NV1eVFsyNTUmY11ec1tnXSxkPXZbdT4+PjI0XV5fW2w+PjE2JjI1NV1eYltjPj44JjI1NV1eVFsyNTUmb11ec1tnKzFdLHA9dltsPj4+MjRdXl9bYz4+MTYmMjU1XV5iW28+PjgmMjU1XV5UWzI1NSZ1XV5zW2crMl0sYz12W2M+Pj4yNF1eX1tvPj4xNiYyNTVdXmJbdT4+OCYyNTVdXlRbMjU1JmxdXnNbZyszXSxnKz00LG89aCx1PWQsbD1wO2ZvcihtPTA7bTw0O20rKylyWygzJi1tKSthXT1TW28+Pj4yNF08PDI0XlNbdT4+MTYmMjU1XTw8MTZeU1tsPj44JjI1NV08PDheU1syNTUmY11ec1tnKytdLGg9byxvPXUsdT1sLGw9YyxjPWh9LGt1KTtmdW5jdGlvbiBrdShlKXt2dSh0aGlzLGt1KSxUdT1UdXx8ZnVuY3Rpb24oKXt2YXIgZT1bW1tdLFtdLFtdLFtdLFtdXSxbW10sW10sW10sW10sW11dXSx0PWVbMF0saT1lWzFdLG49dFs0XSxyPWlbNF0sYT12b2lkIDAscz12b2lkIDAsbz12b2lkIDAsdT1bXSxsPVtdLGM9dm9pZCAwLGg9dm9pZCAwLGQ9dm9pZCAwLHA9dm9pZCAwLGY9dm9pZCAwO2ZvcihhPTA7YTwyNTY7YSsrKWxbKHVbYV09YTw8MV4yODMqKGE+PjcpKV5hXT1hO2ZvcihzPW89MDshbltzXTtzXj1jfHwxLG89bFtvXXx8MSlmb3IoZD0oZD1vXm88PDFebzw8Ml5vPDwzXm88PDQpPj44XjI1NSZkXjk5LGY9MTY4NDMwMDkqdVtoPXVbYz11W3JbbltzXT1kXT1zXV1dXjY1NTM3KmheMjU3KmNeMTY4NDMwMDgqcyxwPTI1Nyp1W2RdXjE2ODQzMDA4KmQsYT0wO2E8NDthKyspdFthXVtzXT1wPXA8PDI0XnA+Pj44LGlbYV1bZF09Zj1mPDwyNF5mPj4+ODtmb3IoYT0wO2E8NTthKyspdFthXT10W2FdLnNsaWNlKDApLGlbYV09aVthXS5zbGljZSgwKTtyZXR1cm4gZX0oKSx0aGlzLl90YWJsZXM9W1tUdVswXVswXS5zbGljZSgpLFR1WzBdWzFdLnNsaWNlKCksVHVbMF1bMl0uc2xpY2UoKSxUdVswXVszXS5zbGljZSgpLFR1WzBdWzRdLnNsaWNlKCldLFtUdVsxXVswXS5zbGljZSgpLFR1WzFdWzFdLnNsaWNlKCksVHVbMV1bMl0uc2xpY2UoKSxUdVsxXVszXS5zbGljZSgpLFR1WzFdWzRdLnNsaWNlKCldXTt2YXIgdD12b2lkIDAsaT12b2lkIDAsbj12b2lkIDAscj12b2lkIDAsYT12b2lkIDAscz10aGlzLl90YWJsZXNbMF1bNF0sbz10aGlzLl90YWJsZXNbMV0sdT1lLmxlbmd0aCxsPTE7aWYoNCE9PXUmJjYhPT11JiY4IT09dSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYWVzIGtleSBzaXplIik7Zm9yKHI9ZS5zbGljZSgwKSxhPVtdLHRoaXMuX2tleT1bcixhXSx0PXU7dDw0KnUrMjg7dCsrKW49clt0LTFdLCh0JXU9PTB8fDg9PT11JiZ0JXU9PTQpJiYobj1zW24+Pj4yNF08PDI0XnNbbj4+MTYmMjU1XTw8MTZec1tuPj44JjI1NV08PDhec1syNTUmbl0sdCV1PT0wJiYobj1uPDw4Xm4+Pj4yNF5sPDwyNCxsPWw8PDFeMjgzKihsPj43KSkpLHJbdF09clt0LXVdXm47Zm9yKGk9MDt0O2krKyx0LS0pbj1yWzMmaT90OnQtNF0sYVtpXT10PD00fHxpPDQ/bjpvWzBdW3Nbbj4+PjI0XV1eb1sxXVtzW24+PjE2JjI1NV1dXm9bMl1bc1tuPj44JjI1NV1dXm9bM11bc1syNTUmbl1dfXZhciBDdT0oRXUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5saXN0ZW5lcnNbZV18fCh0aGlzLmxpc3RlbmVyc1tlXT1bXSksdGhpcy5saXN0ZW5lcnNbZV0ucHVzaCh0KX0sRXUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLmxpc3RlbmVyc1tlXSlyZXR1cm4hMTt2YXIgaT10aGlzLmxpc3RlbmVyc1tlXS5pbmRleE9mKHQpO3JldHVybiB0aGlzLmxpc3RlbmVyc1tlXS5zcGxpY2UoaSwxKSwtMTxpfSxFdS5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMubGlzdGVuZXJzW2VdO2lmKGkpaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuPWkubGVuZ3RoLHI9MDtyPG47KytyKWlbcl0uY2FsbCh0aGlzLHQpO2Vsc2UgZm9yKHZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxzPWkubGVuZ3RoLG89MDtvPHM7KytvKWlbb10uYXBwbHkodGhpcyxhKX0sRXUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVycz17fX0sRXUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCl7dGhpcy5vbigiZGF0YSIsZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSl9LEV1KTtmdW5jdGlvbiBFdSgpe3Z1KHRoaXMsRXUpLHRoaXMubGlzdGVuZXJzPXt9fXZhciB3dSxBdT0oZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfShQdSx3dT1DdSksUHUucHJvdG90eXBlLnByb2Nlc3NKb2JfPWZ1bmN0aW9uKCl7dGhpcy5qb2JzLnNoaWZ0KCkoKSx0aGlzLmpvYnMubGVuZ3RoP3RoaXMudGltZW91dF89c2V0VGltZW91dCh0aGlzLnByb2Nlc3NKb2JfLmJpbmQodGhpcyksdGhpcy5kZWxheSk6dGhpcy50aW1lb3V0Xz1udWxsfSxQdS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt0aGlzLmpvYnMucHVzaChlKSx0aGlzLnRpbWVvdXRffHwodGhpcy50aW1lb3V0Xz1zZXRUaW1lb3V0KHRoaXMucHJvY2Vzc0pvYl8uYmluZCh0aGlzKSx0aGlzLmRlbGF5KSl9LFB1KTtmdW5jdGlvbiBQdSgpe3Z1KHRoaXMsUHUpO3ZhciBlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPXR5cGVvZiB0JiYiZnVuY3Rpb24iIT10eXBlb2YgdD9lOnR9KHRoaXMsd3UuY2FsbCh0aGlzLEN1KSk7cmV0dXJuIGUuam9icz1bXSxlLmRlbGF5PTEsZS50aW1lb3V0Xz1udWxsLGV9ZnVuY3Rpb24gSXUoZSl7cmV0dXJuIGU8PDI0fCg2NTI4MCZlKTw8OHwoMTY3MTE2ODAmZSk+Pjh8ZT4+PjI0fWZ1bmN0aW9uIEx1KGUsdCxpKXt2YXIgbj1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoPj4yKSxyPW5ldyBTdShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSksYT1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgpLHM9bmV3IEludDMyQXJyYXkoYS5idWZmZXIpLG89dm9pZCAwLHU9dm9pZCAwLGw9dm9pZCAwLGM9dm9pZCAwLGg9dm9pZCAwLGQ9dm9pZCAwLHA9dm9pZCAwLGY9dm9pZCAwLG09dm9pZCAwO2ZvcihvPWlbMF0sdT1pWzFdLGw9aVsyXSxjPWlbM10sbT0wO208bi5sZW5ndGg7bSs9NCloPUl1KG5bbV0pLGQ9SXUoblttKzFdKSxwPUl1KG5bbSsyXSksZj1JdShuW20rM10pLHIuZGVjcnlwdChoLGQscCxmLHMsbSksc1ttXT1JdShzW21dXm8pLHNbbSsxXT1JdShzW20rMV1edSksc1ttKzJdPUl1KHNbbSsyXV5sKSxzW20rM109SXUoc1ttKzNdXmMpLG89aCx1PWQsbD1wLGM9ZjtyZXR1cm4gYX12YXIgT3U9KHh1LnByb3RvdHlwZS5kZWNyeXB0Q2h1bmtfPWZ1bmN0aW9uKHQsaSxuLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUx1KHQsaSxuKTtyLnNldChlLHQuYnl0ZU9mZnNldCl9fSxfdSh4dSxudWxsLFt7a2V5OiJTVEVQIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMzJlM319XSkseHUpO2Z1bmN0aW9uIHh1KGUsdCxpLG4pe3Z1KHRoaXMseHUpO3ZhciByPXh1LlNURVAsYT1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcikscz1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgpLG89MDtmb3IodGhpcy5hc3luY1N0cmVhbV89bmV3IEF1LHRoaXMuYXN5bmNTdHJlYW1fLnB1c2godGhpcy5kZWNyeXB0Q2h1bmtfKGEuc3ViYXJyYXkobyxvK3IpLHQsaSxzKSksbz1yO288YS5sZW5ndGg7bys9cilpPW5ldyBVaW50MzJBcnJheShbSXUoYVtvLTRdKSxJdShhW28tM10pLEl1KGFbby0yXSksSXUoYVtvLTFdKV0pLHRoaXMuYXN5bmNTdHJlYW1fLnB1c2godGhpcy5kZWNyeXB0Q2h1bmtfKGEuc3ViYXJyYXkobyxvK3IpLHQsaSxzKSk7dGhpcy5hc3luY1N0cmVhbV8ucHVzaChmdW5jdGlvbigpe24obnVsbCxmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJhcnJheSgwLGUuYnl0ZUxlbmd0aC1lW2UuYnl0ZUxlbmd0aC0xXSl9KHMpKX0pfWZ1bmN0aW9uIER1KGUsdCl7cmV0dXJuL15bYS16XSs6L2kudGVzdCh0KT90OigvXC9cLy9pLnRlc3QoZSl8fChlPWdzLmJ1aWxkQWJzb2x1dGVVUkwodi5sb2NhdGlvbi5ocmVmLGUpKSxncy5idWlsZEFic29sdXRlVVJMKGUsdCkpfWZ1bmN0aW9uIFV1KGUsdCxpKXtyZXR1cm4gZSYmaS5yZXNwb25zZVVSTCYmdCE9PWkucmVzcG9uc2VVUkw/aS5yZXNwb25zZVVSTDp0fWZ1bmN0aW9uIFJ1KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9Ci8qKgogICAqIEB2aWRlb2pzL2h0dHAtc3RyZWFtaW5nCiAgICogQHZlcnNpb24gMS4xMC42CiAgICogQGNvcHlyaWdodCAyMDE5IEJyaWdodGNvdmUsIEluYwogICAqIEBsaWNlbnNlIEFwYWNoZS0yLjAKICAgKi8KdmFyIE11PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdCYmTnUoZS5wcm90b3R5cGUsdCksaSYmTnUoZSxpKSxlfTtmdW5jdGlvbiBOdShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fWZ1bmN0aW9uIEJ1KGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiBqdShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIEZ1KHIsYSl7WyJBVURJTyIsIlNVQlRJVExFUyJdLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHIubWVkaWFHcm91cHNbZV0pZm9yKHZhciBpIGluIHIubWVkaWFHcm91cHNbZV1bdF0pe3ZhciBuPXIubWVkaWFHcm91cHNbZV1bdF1baV07YShuLGUsdCxpKX19KX1mdW5jdGlvbiBIdShlLHQpe3ZhciBpPSR1KGUse30pLG49aS5wbGF5bGlzdHNbdC51cmldO2lmKCFuKXJldHVybiBudWxsO2lmKG4uc2VnbWVudHMmJnQuc2VnbWVudHMmJm4uc2VnbWVudHMubGVuZ3RoPT09dC5zZWdtZW50cy5sZW5ndGgmJm4uZW5kTGlzdD09PXQuZW5kTGlzdCYmbi5tZWRpYVNlcXVlbmNlPT09dC5tZWRpYVNlcXVlbmNlKXJldHVybiBudWxsO3ZhciByPSR1KG4sdCk7bi5zZWdtZW50cyYmKHIuc2VnbWVudHM9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXQuc2xpY2UoKTtpPWl8fDA7Zm9yKHZhciByPU1hdGgubWluKGUubGVuZ3RoLHQubGVuZ3RoK2kpLGE9aTthPHI7YSsrKW5bYS1pXT0kdShlW2FdLG5bYS1pXSk7cmV0dXJuIG59KG4uc2VnbWVudHMsdC5zZWdtZW50cyx0Lm1lZGlhU2VxdWVuY2Utbi5tZWRpYVNlcXVlbmNlKSksci5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLHQpe2UucmVzb2x2ZWRVcml8fChlLnJlc29sdmVkVXJpPUR1KHQsZS51cmkpKSxlLmtleSYmIWUua2V5LnJlc29sdmVkVXJpJiYoZS5rZXkucmVzb2x2ZWRVcmk9RHUodCxlLmtleS51cmkpKSxlLm1hcCYmIWUubWFwLnJlc29sdmVkVXJpJiYoZS5tYXAucmVzb2x2ZWRVcmk9RHUodCxlLm1hcC51cmkpKX0oZSxyLnJlc29sdmVkVXJpKX0pO2Zvcih2YXIgYT0wO2E8aS5wbGF5bGlzdHMubGVuZ3RoO2ErKylpLnBsYXlsaXN0c1thXS51cmk9PT10LnVyaSYmKGkucGxheWxpc3RzW2FdPXIpO3JldHVybiBpLnBsYXlsaXN0c1t0LnVyaV09cixpfWZ1bmN0aW9uIFZ1KGUpe2Zvcih2YXIgdD1lLnBsYXlsaXN0cy5sZW5ndGg7dC0tOyl7dmFyIGk9ZS5wbGF5bGlzdHNbdF07KGUucGxheWxpc3RzW2kudXJpXT1pKS5yZXNvbHZlZFVyaT1EdShlLnVyaSxpLnVyaSksaS5pZD10LGkuYXR0cmlidXRlc3x8KGkuYXR0cmlidXRlcz17fSxHdS53YXJuKCJJbnZhbGlkIHBsYXlsaXN0IFNUUkVBTS1JTkYgZGV0ZWN0ZWQuIE1pc3NpbmcgQkFORFdJRFRIIGF0dHJpYnV0ZS4iKSl9fWZ1bmN0aW9uIHF1KHQpe0Z1KHQsZnVuY3Rpb24oZSl7ZS51cmkmJihlLnJlc29sdmVkVXJpPUR1KHQudXJpLGUudXJpKSl9KX1mdW5jdGlvbiBXdShlLHQpe3ZhciBpPWUuc2VnbWVudHNbZS5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIHQmJmkmJmkuZHVyYXRpb24/MWUzKmkuZHVyYXRpb246NTAwKihlLnRhcmdldER1cmF0aW9ufHwxMCl9dmFyIHp1PWZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBpPVtdLG49ITAscj0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBzLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShzPW8ubmV4dCgpKS5kb25lKSYmKGkucHVzaChzLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtuPSEwKTt9Y2F0Y2goZSl7cj0hMCxhPWV9ZmluYWxseXt0cnl7IW4mJm8ucmV0dXJuJiZvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBhfX1yZXR1cm4gaX0oZSx0KTt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9LCR1PXBzLm1lcmdlT3B0aW9ucyxHdT1wcy5sb2csWHU9KEJ1KEt1LHBzLkV2ZW50VGFyZ2V0KSxNdShLdSxbe2tleToicGxheWxpc3RSZXF1ZXN0RXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt0aGlzLnJlcXVlc3Q9bnVsbCxpJiYodGhpcy5zdGF0ZT1pKSx0aGlzLmVycm9yPXtwbGF5bGlzdDp0aGlzLm1hc3Rlci5wbGF5bGlzdHNbdF0sc3RhdHVzOmUuc3RhdHVzLG1lc3NhZ2U6IkhMUyBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogIit0KyIuIixyZXNwb25zZVRleHQ6ZS5yZXNwb25zZVRleHQsY29kZTo1MDA8PWUuc3RhdHVzPzQ6Mn0sdGhpcy50cmlnZ2VyKCJlcnJvciIpfX0se2tleToiaGF2ZU1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7dGhpcy5yZXF1ZXN0PW51bGwsdGhpcy5zdGF0ZT0iSEFWRV9NRVRBREFUQSI7dmFyIG49bmV3IEFzO3RoaXMuY3VzdG9tVGFnUGFyc2Vycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmFkZFBhcnNlcihlKX0pLHRoaXMuY3VzdG9tVGFnTWFwcGVycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmFkZFRhZ01hcHBlcihlKX0pLG4ucHVzaChlLnJlc3BvbnNlVGV4dCksbi5lbmQoKSxuLm1hbmlmZXN0LnVyaT10LG4ubWFuaWZlc3QuYXR0cmlidXRlcz1uLm1hbmlmZXN0LmF0dHJpYnV0ZXN8fHt9O3ZhciByPUh1KHRoaXMubWFzdGVyLG4ubWFuaWZlc3QpO3RoaXMudGFyZ2V0RHVyYXRpb249bi5tYW5pZmVzdC50YXJnZXREdXJhdGlvbixyPyh0aGlzLm1hc3Rlcj1yLHRoaXMubWVkaWFfPXRoaXMubWFzdGVyLnBsYXlsaXN0c1tuLm1hbmlmZXN0LnVyaV0pOnRoaXMudHJpZ2dlcigicGxheWxpc3R1bmNoYW5nZWQiKSx0aGlzLm1lZGlhKCkuZW5kTGlzdHx8KHYuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD12LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnRyaWdnZXIoIm1lZGlhdXBkYXRldGltZW91dCIpfSxXdSh0aGlzLm1lZGlhKCksISFyKSkpLHRoaXMudHJpZ2dlcigibG9hZGVkcGxheWxpc3QiKX19LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wUmVxdWVzdCgpLHYuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSx2LmNsZWFyVGltZW91dCh0aGlzLmZpbmFsUmVuZGl0aW9uVGltZW91dCl9fSx7a2V5OiJzdG9wUmVxdWVzdCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnJlcXVlc3Qpe3ZhciBlPXRoaXMucmVxdWVzdDt0aGlzLnJlcXVlc3Q9bnVsbCxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGUuYWJvcnQoKX19fSx7a2V5OiJtZWRpYSIsdmFsdWU6ZnVuY3Rpb24oaSxlKXt2YXIgbj10aGlzO2lmKCFpKXJldHVybiB0aGlzLm1lZGlhXztpZigiSEFWRV9OT1RISU5HIj09PXRoaXMuc3RhdGUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc3dpdGNoIG1lZGlhIHBsYXlsaXN0IGZyb20gIit0aGlzLnN0YXRlKTtpZigic3RyaW5nIj09dHlwZW9mIGkpe2lmKCF0aGlzLm1hc3Rlci5wbGF5bGlzdHNbaV0pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHBsYXlsaXN0IFVSSTogIitpKTtpPXRoaXMubWFzdGVyLnBsYXlsaXN0c1tpXX1pZih2LmNsZWFyVGltZW91dCh0aGlzLmZpbmFsUmVuZGl0aW9uVGltZW91dCksZSl7dmFyIHQ9aS50YXJnZXREdXJhdGlvbi8yKjFlM3x8NWUzO3RoaXMuZmluYWxSZW5kaXRpb25UaW1lb3V0PXYuc2V0VGltZW91dCh0aGlzLm1lZGlhLmJpbmQodGhpcyxpLCExKSx0KX1lbHNle3ZhciByPXRoaXMuc3RhdGUsYT0hdGhpcy5tZWRpYV98fGkudXJpIT09dGhpcy5tZWRpYV8udXJpO2lmKHRoaXMubWFzdGVyLnBsYXlsaXN0c1tpLnVyaV0uZW5kTGlzdClyZXR1cm4gdGhpcy5yZXF1ZXN0JiYodGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHRoaXMucmVxdWVzdC5hYm9ydCgpLHRoaXMucmVxdWVzdD1udWxsKSx0aGlzLnN0YXRlPSJIQVZFX01FVEFEQVRBIix0aGlzLm1lZGlhXz1pLHZvaWQoYSYmKHRoaXMudHJpZ2dlcigibWVkaWFjaGFuZ2luZyIpLHRoaXMudHJpZ2dlcigibWVkaWFjaGFuZ2UiKSkpO2lmKGEpe2lmKHRoaXMuc3RhdGU9IlNXSVRDSElOR19NRURJQSIsdGhpcy5yZXF1ZXN0KXtpZihpLnJlc29sdmVkVXJpPT09dGhpcy5yZXF1ZXN0LnVybClyZXR1cm47dGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHRoaXMucmVxdWVzdC5hYm9ydCgpLHRoaXMucmVxdWVzdD1udWxsfXRoaXMubWVkaWFfJiZ0aGlzLnRyaWdnZXIoIm1lZGlhY2hhbmdpbmciKSx0aGlzLnJlcXVlc3Q9dGhpcy5obHNfLnhocih7dXJpOmkucmVzb2x2ZWRVcmksd2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzfSxmdW5jdGlvbihlLHQpe2lmKG4ucmVxdWVzdCl7aWYoaS5yZXNvbHZlZFVyaT1VdShuLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLGkucmVzb2x2ZWRVcmksdCksZSlyZXR1cm4gbi5wbGF5bGlzdFJlcXVlc3RFcnJvcihuLnJlcXVlc3QsaS51cmkscik7bi5oYXZlTWV0YWRhdGEodCxpLnVyaSksIkhBVkVfTUFTVEVSIj09PXI/bi50cmlnZ2VyKCJsb2FkZWRtZXRhZGF0YSIpOm4udHJpZ2dlcigibWVkaWFjaGFuZ2UiKX19KX19fX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wUmVxdWVzdCgpLHYuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSwiSEFWRV9OT1RISU5HIj09PXRoaXMuc3RhdGUmJih0aGlzLnN0YXJ0ZWQ9ITEpLCJTV0lUQ0hJTkdfTUVESUEiPT09dGhpcy5zdGF0ZT90aGlzLm1lZGlhXz90aGlzLnN0YXRlPSJIQVZFX01FVEFEQVRBIjp0aGlzLnN0YXRlPSJIQVZFX01BU1RFUiI6IkhBVkVfQ1VSUkVOVF9NRVRBREFUQSI9PT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT0iSEFWRV9NRVRBREFUQSIpfX0se2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2LmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7dmFyIGk9dGhpcy5tZWRpYSgpO2lmKGUpe3ZhciBuPWk/aS50YXJnZXREdXJhdGlvbi8yKjFlMzo1ZTM7dGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQ9di5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQubG9hZCgpfSxuKX1lbHNlIHRoaXMuc3RhcnRlZD9pJiYhaS5lbmRMaXN0P3RoaXMudHJpZ2dlcigibWVkaWF1cGRhdGV0aW1lb3V0Iik6dGhpcy50cmlnZ2VyKCJsb2FkZWRwbGF5bGlzdCIpOnRoaXMuc3RhcnQoKX19LHtrZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5zdGFydGVkPSEwLHRoaXMucmVxdWVzdD10aGlzLmhsc18ueGhyKHt1cmk6dGhpcy5zcmNVcmwsd2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzfSxmdW5jdGlvbihlLHQpe2lmKG4ucmVxdWVzdCl7aWYobi5yZXF1ZXN0PW51bGwsZSlyZXR1cm4gbi5lcnJvcj17c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkhMUyBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogIituLnNyY1VybCsiLiIscmVzcG9uc2VUZXh0OnQucmVzcG9uc2VUZXh0LGNvZGU6Mn0sIkhBVkVfTk9USElORyI9PT1uLnN0YXRlJiYobi5zdGFydGVkPSExKSxuLnRyaWdnZXIoImVycm9yIik7dmFyIGk9bmV3IEFzO3JldHVybiBuLmN1c3RvbVRhZ1BhcnNlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaS5hZGRQYXJzZXIoZSl9KSxuLmN1c3RvbVRhZ01hcHBlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gaS5hZGRUYWdNYXBwZXIoZSl9KSxpLnB1c2godC5yZXNwb25zZVRleHQpLGkuZW5kKCksbi5zdGF0ZT0iSEFWRV9NQVNURVIiLG4uc3JjVXJsPVV1KG4uaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMsbi5zcmNVcmwsdCksaS5tYW5pZmVzdC51cmk9bi5zcmNVcmwsaS5tYW5pZmVzdC5wbGF5bGlzdHM/KG4ubWFzdGVyPWkubWFuaWZlc3QsVnUobi5tYXN0ZXIpLHF1KG4ubWFzdGVyKSxuLnRyaWdnZXIoImxvYWRlZHBsYXlsaXN0Iiksdm9pZChuLnJlcXVlc3R8fG4ubWVkaWEoaS5tYW5pZmVzdC5wbGF5bGlzdHNbMF0pKSk6KG4ubWFzdGVyPXttZWRpYUdyb3Vwczp7QVVESU86e30sVklERU86e30sIkNMT1NFRC1DQVBUSU9OUyI6e30sU1VCVElUTEVTOnt9fSx1cmk6di5sb2NhdGlvbi5ocmVmLHBsYXlsaXN0czpbe3VyaTpuLnNyY1VybCxpZDowLHJlc29sdmVkVXJpOm4uc3JjVXJsLGF0dHJpYnV0ZXM6e319XX0sbi5tYXN0ZXIucGxheWxpc3RzW24uc3JjVXJsXT1uLm1hc3Rlci5wbGF5bGlzdHNbMF0sbi5oYXZlTWV0YWRhdGEodCxuLnNyY1VybCksbi50cmlnZ2VyKCJsb2FkZWRtZXRhZGF0YSIpKX19KX19XSksS3UpO2Z1bmN0aW9uIEt1KGUsdCl7dmFyIGk9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O1J1KHRoaXMsS3UpO3ZhciBuPWp1KHRoaXMsKEt1Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEt1KSkuY2FsbCh0aGlzKSkscj1pLndpdGhDcmVkZW50aWFscyxhPXZvaWQgMCE9PXImJnIscz1pLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLG89dm9pZCAwIT09cyYmcztuLnNyY1VybD1lLG4uaGxzXz10LG4ud2l0aENyZWRlbnRpYWxzPWEsbi5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cz1vO3ZhciB1PXQub3B0aW9uc187aWYobi5jdXN0b21UYWdQYXJzZXJzPXUmJnUuY3VzdG9tVGFnUGFyc2Vyc3x8W10sbi5jdXN0b21UYWdNYXBwZXJzPXUmJnUuY3VzdG9tVGFnTWFwcGVyc3x8W10sIW4uc3JjVXJsKXRocm93IG5ldyBFcnJvcigiQSBub24tZW1wdHkgcGxheWxpc3QgVVJMIGlzIHJlcXVpcmVkIik7cmV0dXJuIG4uc3RhdGU9IkhBVkVfTk9USElORyIsbi5vbigibWVkaWF1cGRhdGV0aW1lb3V0IixmdW5jdGlvbigpeyJIQVZFX01FVEFEQVRBIj09PW4uc3RhdGUmJihuLnN0YXRlPSJIQVZFX0NVUlJFTlRfTUVUQURBVEEiLG4ucmVxdWVzdD1uLmhsc18ueGhyKHt1cmk6RHUobi5tYXN0ZXIudXJpLG4ubWVkaWEoKS51cmkpLHdpdGhDcmVkZW50aWFsczpuLndpdGhDcmVkZW50aWFsc30sZnVuY3Rpb24oZSx0KXtpZihuLnJlcXVlc3QpcmV0dXJuIGU/bi5wbGF5bGlzdFJlcXVlc3RFcnJvcihuLnJlcXVlc3Qsbi5tZWRpYSgpLnVyaSwiSEFWRV9NRVRBREFUQSIpOnZvaWQgbi5oYXZlTWV0YWRhdGEobi5yZXF1ZXN0LG4ubWVkaWEoKS51cmkpfSkpfSksbn1mdW5jdGlvbiBZdShlLHQsaSl7dmFyIG4scjtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHQmJih0PWUubWVkaWFTZXF1ZW5jZStlLnNlZ21lbnRzLmxlbmd0aCksdDxlLm1lZGlhU2VxdWVuY2U/MDoobj1mdW5jdGlvbihlLHQpe3ZhciBpPTAsbj10LWUubWVkaWFTZXF1ZW5jZSxyPWUuc2VnbWVudHNbbl07aWYocil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiByLnN0YXJ0KXJldHVybntyZXN1bHQ6ci5zdGFydCxwcmVjaXNlOiEwfTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHIuZW5kKXJldHVybntyZXN1bHQ6ci5lbmQtci5kdXJhdGlvbixwcmVjaXNlOiEwfX1mb3IoO24tLTspe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Yocj1lLnNlZ21lbnRzW25dKS5lbmQpcmV0dXJue3Jlc3VsdDppK3IuZW5kLHByZWNpc2U6ITB9O2lmKGkrPXIuZHVyYXRpb24sInVuZGVmaW5lZCIhPXR5cGVvZiByLnN0YXJ0KXJldHVybntyZXN1bHQ6aStyLnN0YXJ0LHByZWNpc2U6ITB9fXJldHVybntyZXN1bHQ6aSxwcmVjaXNlOiExfX0oZSx0KSkucHJlY2lzZT9uLnJlc3VsdDoocj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wLG49dm9pZCAwLHI9dC1lLm1lZGlhU2VxdWVuY2U7cjxlLnNlZ21lbnRzLmxlbmd0aDtyKyspe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Yobj1lLnNlZ21lbnRzW3JdKS5zdGFydClyZXR1cm57cmVzdWx0Om4uc3RhcnQtaSxwcmVjaXNlOiEwfTtpZihpKz1uLmR1cmF0aW9uLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5lbmQpcmV0dXJue3Jlc3VsdDpuLmVuZC1pLHByZWNpc2U6ITB9fXJldHVybntyZXN1bHQ6LTEscHJlY2lzZTohMX19KGUsdCkpLnByZWNpc2U/ci5yZXN1bHQ6bi5yZXN1bHQraX1mdW5jdGlvbiBRdShlLHQsaSl7aWYoIWUpcmV0dXJuIDA7aWYoIm51bWJlciIhPXR5cGVvZiBpJiYoaT0wKSwidW5kZWZpbmVkIj09dHlwZW9mIHQpe2lmKGUudG90YWxEdXJhdGlvbilyZXR1cm4gZS50b3RhbER1cmF0aW9uO2lmKCFlLmVuZExpc3QpcmV0dXJuIHYuSW5maW5pdHl9cmV0dXJuIFl1KGUsdCxpKX1mdW5jdGlvbiBKdShlLHQsaSl7dmFyIG49MDtpZihpPHQpe3ZhciByPVtpLHRdO3Q9clswXSxpPXJbMV19aWYodDwwKXtmb3IodmFyIGE9dDthPE1hdGgubWluKDAsaSk7YSsrKW4rPWUudGFyZ2V0RHVyYXRpb247dD0wfWZvcih2YXIgcz10O3M8aTtzKyspbis9ZS5zZWdtZW50c1tzXS5kdXJhdGlvbjtyZXR1cm4gbn1mdW5jdGlvbiBadShlKXtpZighZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJuIDA7Zm9yKHZhciB0PWUuc2VnbWVudHMubGVuZ3RoLTEsaT1lLnNlZ21lbnRzW3RdLmR1cmF0aW9ufHxlLnRhcmdldER1cmF0aW9uLG49aSsyKmUudGFyZ2V0RHVyYXRpb247dC0tJiYhKG48PShpKz1lLnNlZ21lbnRzW3RdLmR1cmF0aW9uKSk7KTtyZXR1cm4gTWF0aC5tYXgoMCx0KX1mdW5jdGlvbiBlbChlLHQsaSl7aWYoIWV8fCFlLnNlZ21lbnRzKXJldHVybiBudWxsO2lmKGUuZW5kTGlzdClyZXR1cm4gUXUoZSk7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7dD10fHwwO3ZhciBuPWk/WnUoZSk6ZS5zZWdtZW50cy5sZW5ndGg7cmV0dXJuIFl1KGUsZS5tZWRpYVNlcXVlbmNlK24sdCl9ZnVuY3Rpb24gdGwoZSl7cmV0dXJuIGUtTWF0aC5mbG9vcihlKT09MH1mdW5jdGlvbiBpbChlLHQpe2lmKHRsKHQpKXJldHVybiB0Ky4xKmU7Zm9yKHZhciBpPXQudG9TdHJpbmcoKS5zcGxpdCgiLiIpWzFdLmxlbmd0aCxuPTE7bjw9aTtuKyspe3ZhciByPU1hdGgucG93KDEwLG4pLGE9dCpyO2lmKHRsKGEpfHxuPT09aSlyZXR1cm4oYStlKS9yfX1mdW5jdGlvbiBubChlKXtyZXR1cm4gZS5leGNsdWRlVW50aWwmJmUuZXhjbHVkZVVudGlsPkRhdGUubm93KCl9ZnVuY3Rpb24gcmwoZSl7cmV0dXJuIGUuZXhjbHVkZVVudGlsJiZlLmV4Y2x1ZGVVbnRpbD09PTEvMH1mdW5jdGlvbiBhbChlKXt2YXIgdD1ubChlKTtyZXR1cm4hZS5kaXNhYmxlZCYmIXR9ZnVuY3Rpb24gc2woZSx0KXtyZXR1cm4gdC5hdHRyaWJ1dGVzJiZ0LmF0dHJpYnV0ZXNbZV19ZnVuY3Rpb24gb2woZSx0KXtpZigxPT09ZS5wbGF5bGlzdHMubGVuZ3RoKXJldHVybiEwO3ZhciBpPXQuYXR0cmlidXRlcy5CQU5EV0lEVEh8fE51bWJlci5NQVhfVkFMVUU7cmV0dXJuIDA9PT1lLnBsYXlsaXN0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFhbChlKSYmKGUuYXR0cmlidXRlcy5CQU5EV0lEVEh8fDApPGl9KS5sZW5ndGh9ZnVuY3Rpb24gdWwoKXtyZXR1cm4gZnVuY3Rpb24gZSh0LG4pe3Q9T2woe3RpbWVvdXQ6NDVlM30sdCk7dmFyIGk9ZS5iZWZvcmVSZXF1ZXN0fHxwcy5IbHMueGhyLmJlZm9yZVJlcXVlc3Q7aWYoaSYmImZ1bmN0aW9uIj09dHlwZW9mIGkpe3ZhciByPWkodCk7ciYmKHQ9cil9dmFyIGE9TGwodCxmdW5jdGlvbihlLHQpe3ZhciBpPWEucmVzcG9uc2U7IWUmJmkmJihhLnJlc3BvbnNlVGltZT1EYXRlLm5vdygpLGEucm91bmRUcmlwVGltZT1hLnJlc3BvbnNlVGltZS1hLnJlcXVlc3RUaW1lLGEuYnl0ZXNSZWNlaXZlZD1pLmJ5dGVMZW5ndGh8fGkubGVuZ3RoLGEuYmFuZHdpZHRofHwoYS5iYW5kd2lkdGg9TWF0aC5mbG9vcihhLmJ5dGVzUmVjZWl2ZWQvYS5yb3VuZFRyaXBUaW1lKjgqMWUzKSkpLHQuaGVhZGVycyYmKGEucmVzcG9uc2VIZWFkZXJzPXQuaGVhZGVycyksZSYmIkVUSU1FRE9VVCI9PT1lLmNvZGUmJihhLnRpbWVkb3V0PSEwKSxlfHxhLmFib3J0ZWR8fDIwMD09PXQuc3RhdHVzQ29kZXx8MjA2PT09dC5zdGF0dXNDb2RlfHwwPT09dC5zdGF0dXNDb2RlfHwoZT1uZXcgRXJyb3IoIlhIUiBGYWlsZWQgd2l0aCBhIHJlc3BvbnNlIG9mOiAiKyhhJiYoaXx8YS5yZXNwb25zZVRleHQpKSkpLG4oZSxhKX0pLHM9YS5hYm9ydDtyZXR1cm4gYS5hYm9ydD1mdW5jdGlvbigpe3JldHVybiBhLmFib3J0ZWQ9ITAscy5hcHBseShhLGFyZ3VtZW50cyl9LGEudXJpPXQudXJpLGEucmVxdWVzdFRpbWU9RGF0ZS5ub3coKSxhfX1mdW5jdGlvbiBsbChlKXt2YXIgdD17fTtyZXR1cm4gZS5ieXRlcmFuZ2UmJih0LlJhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PWUub2Zmc2V0K2UubGVuZ3RoLTEsImJ5dGVzPSIrZS5vZmZzZXQrIi0iK3R9KGUuYnl0ZXJhbmdlKSksdH1mdW5jdGlvbiBjbChlLHQpe3ZhciBpPWUudG9TdHJpbmcoMTYpO3JldHVybiIwMCIuc3Vic3RyaW5nKDAsMi1pLmxlbmd0aCkraSsodCUyPyIgIjoiIil9ZnVuY3Rpb24gaGwoZSl7cmV0dXJuIDMyPD1lJiZlPDEyNj9TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOiIuIn1mdW5jdGlvbiBkbChpKXt2YXIgbj17fTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pW2VdO0FycmF5QnVmZmVyLmlzVmlldyh0KT9uW2VdPXtieXRlczp0LmJ1ZmZlcixieXRlT2Zmc2V0OnQuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOnQuYnl0ZUxlbmd0aH06bltlXT10fSksbn1mdW5jdGlvbiBwbChlKXt2YXIgdD1lLmJ5dGVyYW5nZXx8e2xlbmd0aDoxLzAsb2Zmc2V0OjB9O3JldHVyblt0Lmxlbmd0aCx0Lm9mZnNldCxlLnJlc29sdmVkVXJpXS5qb2luKCIsIil9ZnVuY3Rpb24gZmwoZSl7cmV0dXJuIGUucmVzb2x2ZWRVcml9ZnVuY3Rpb24gbWwoZSl7Zm9yKHZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpLGk9IiIsbj0wO248dC5sZW5ndGgvMTY7bisrKWkrPXQuc2xpY2UoMTYqbiwxNipuKzE2KS5tYXAoY2wpLmpvaW4oIiIpKyIgIit0LnNsaWNlKDE2Km4sMTYqbisxNikubWFwKGhsKS5qb2luKCIiKSsiXG4iO3JldHVybiBpfWZ1bmN0aW9uIGdsKGUpe3ZhciB0PWUucGxheWxpc3QsaT1lLnRpbWUsbj12b2lkIDA9PT1pP3ZvaWQgMDppLHI9ZS5jYWxsYmFjaztpZighcil0aHJvdyBuZXcgRXJyb3IoImdldFByb2dyYW1UaW1lOiBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkIik7aWYoIXR8fHZvaWQgMD09PW4pcmV0dXJuIHIoe21lc3NhZ2U6ImdldFByb2dyYW1UaW1lOiBwbGF5bGlzdCBhbmQgdGltZSBtdXN0IGJlIHByb3ZpZGVkIn0pO3ZhciBhPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCF0LnNlZ21lbnRzfHwwPT09dC5zZWdtZW50cy5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBpPTAsbj12b2lkIDAscj0wO3I8dC5zZWdtZW50cy5sZW5ndGgmJiEoZTw9KGk9KG49dC5zZWdtZW50c1tyXSkudmlkZW9UaW1pbmdJbmZvP24udmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQ6aStuLmR1cmF0aW9uKSk7cisrKTt2YXIgYT10LnNlZ21lbnRzW3Quc2VnbWVudHMubGVuZ3RoLTFdO2lmKGEudmlkZW9UaW1pbmdJbmZvJiZhLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uRW5kPGUpcmV0dXJuIG51bGw7aWYoaTxlKXtpZihlPmkrLjI1KmEuZHVyYXRpb24pcmV0dXJuIG51bGw7bj1hfXJldHVybntzZWdtZW50Om4sZXN0aW1hdGVkU3RhcnQ6bi52aWRlb1RpbWluZ0luZm8/bi52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvblN0YXJ0Omktbi5kdXJhdGlvbix0eXBlOm4udmlkZW9UaW1pbmdJbmZvPyJhY2N1cmF0ZSI6ImVzdGltYXRlIn19KG4sdCk7aWYoIWEpcmV0dXJuIHIoe21lc3NhZ2U6InZhbGlkIHByb2dyYW1UaW1lIHdhcyBub3QgZm91bmQifSk7aWYoImVzdGltYXRlIj09PWEudHlwZSlyZXR1cm4gcih7bWVzc2FnZToiQWNjdXJhdGUgcHJvZ3JhbVRpbWUgY291bGQgbm90IGJlIGRldGVybWluZWQuIFBsZWFzZSBzZWVrIHRvIGUuc2Vla1RpbWUgYW5kIHRyeSBhZ2FpbiIsc2Vla1RpbWU6YS5lc3RpbWF0ZWRTdGFydH0pO3ZhciBzPXttZWRpYVNlY29uZHM6bn0sbz1mdW5jdGlvbihlLHQpe2lmKCF0LmRhdGVUaW1lT2JqZWN0KXJldHVybiBudWxsO3ZhciBpPXQudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZXJQcmVwZW5kZWRTZWNvbmRzLG49ZS0odC52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvblN0YXJ0K2kpO3JldHVybiBuZXcgRGF0ZSh0LmRhdGVUaW1lT2JqZWN0LmdldFRpbWUoKSsxZTMqbil9KG4sYS5zZWdtZW50KTtyZXR1cm4gbyYmKHMucHJvZ3JhbURhdGVUaW1lPW8udG9JU09TdHJpbmcoKSkscihudWxsLHMpfWZ1bmN0aW9uIHlsKGUpe3ZhciB0PWUucHJvZ3JhbVRpbWUsaT1lLnBsYXlsaXN0LG49ZS5yZXRyeUNvdW50LHI9dm9pZCAwPT09bj8yOm4sYT1lLnNlZWtUbyxzPWUucGF1c2VBZnRlclNlZWssbz12b2lkIDA9PT1zfHxzLHU9ZS50ZWNoLGw9ZS5jYWxsYmFjaztpZighbCl0aHJvdyBuZXcgRXJyb3IoInNlZWtUb1Byb2dyYW1UaW1lOiBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkIik7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0fHwhaXx8IWEpcmV0dXJuIGwoe21lc3NhZ2U6InNlZWtUb1Byb2dyYW1UaW1lOiBwcm9ncmFtVGltZSwgc2Vla1RvIGFuZCBwbGF5bGlzdCBtdXN0IGJlIHByb3ZpZGVkIn0pO2lmKCFpLmVuZExpc3QmJiF1Lmhhc1N0YXJ0ZWRfKXJldHVybiBsKHttZXNzYWdlOiJwbGF5ZXIgbXVzdCBiZSBwbGF5aW5nIGEgbGl2ZSBzdHJlYW0gdG8gc3RhcnQgYnVmZmVyaW5nIn0pO2lmKCFmdW5jdGlvbihlKXtpZighZS5zZWdtZW50c3x8MD09PWUuc2VnbWVudHMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8ZS5zZWdtZW50cy5sZW5ndGg7dCsrKXtpZighZS5zZWdtZW50c1t0XS5kYXRlVGltZU9iamVjdClyZXR1cm4hMX1yZXR1cm4hMH0oaSkpcmV0dXJuIGwoe21lc3NhZ2U6InByb2dyYW1EYXRlVGltZSB0YWdzIG11c3QgYmUgcHJvdmlkZWQgaW4gdGhlIG1hbmlmZXN0ICIraS5yZXNvbHZlZFVyaX0pO3ZhciBjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dm9pZCAwO3RyeXtpPW5ldyBEYXRlKGUpfWNhdGNoKGUpe3JldHVybiBudWxsfWlmKCF0fHwhdC5zZWdtZW50c3x8MD09PXQuc2VnbWVudHMubGVuZ3RoKXJldHVybiBudWxsO3ZhciBuPXQuc2VnbWVudHNbMF07aWYoaTxuLmRhdGVUaW1lT2JqZWN0KXJldHVybiBudWxsO2Zvcih2YXIgcj0wO3I8dC5zZWdtZW50cy5sZW5ndGgtMTtyKyspe2lmKG49dC5zZWdtZW50c1tyXSxpPHQuc2VnbWVudHNbcisxXS5kYXRlVGltZU9iamVjdClicmVha312YXIgYT10LnNlZ21lbnRzW3Quc2VnbWVudHMubGVuZ3RoLTFdLHM9YS5kYXRlVGltZU9iamVjdCxvPWEudmlkZW9UaW1pbmdJbmZvP2Z1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQtZS50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQtZS50cmFuc211eGVyUHJlcGVuZGVkU2Vjb25kc30oYS52aWRlb1RpbWluZ0luZm8pOmEuZHVyYXRpb24rLjI1KmEuZHVyYXRpb247cmV0dXJuIG5ldyBEYXRlKHMuZ2V0VGltZSgpKzFlMypvKTxpP251bGw6KHM8aSYmKG49YSkse3NlZ21lbnQ6bixlc3RpbWF0ZWRTdGFydDpuLnZpZGVvVGltaW5nSW5mbz9uLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQ6SWwuZHVyYXRpb24odCx0Lm1lZGlhU2VxdWVuY2UrdC5zZWdtZW50cy5pbmRleE9mKG4pKSx0eXBlOm4udmlkZW9UaW1pbmdJbmZvPyJhY2N1cmF0ZSI6ImVzdGltYXRlIn0pfSh0LGkpO2lmKCFjKXJldHVybiBsKHttZXNzYWdlOnQrIiB3YXMgbm90IGZvdW5kIGluIHRoZSBzdHJlYW0ifSk7dmFyIGg9Yy5zZWdtZW50LGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT12b2lkIDAsbj12b2lkIDA7dHJ5e2k9bmV3IERhdGUoZSksbj1uZXcgRGF0ZSh0KX1jYXRjaChlKXt9dmFyIHI9aS5nZXRUaW1lKCk7cmV0dXJuKG4uZ2V0VGltZSgpLXIpLzFlM30oaC5kYXRlVGltZU9iamVjdCx0KTtpZigiZXN0aW1hdGUiPT09Yy50eXBlKXJldHVybiAwPT09cj9sKHttZXNzYWdlOnQrIiBpcyBub3QgYnVmZmVyZWQgeWV0LiBUcnkgYWdhaW4ifSk6KGEoYy5lc3RpbWF0ZWRTdGFydCtkKSx2b2lkIHUub25lKCJzZWVrZWQiLGZ1bmN0aW9uKCl7eWwoe3Byb2dyYW1UaW1lOnQscGxheWxpc3Q6aSxyZXRyeUNvdW50OnItMSxzZWVrVG86YSxwYXVzZUFmdGVyU2VlazpvLHRlY2g6dSxjYWxsYmFjazpsfSl9KSk7dmFyIHA9aC5zdGFydCtkO3Uub25lKCJzZWVrZWQiLGZ1bmN0aW9uKCl7cmV0dXJuIGwobnVsbCx1LmN1cnJlbnRUaW1lKCkpfSksbyYmdS5wYXVzZSgpLGEocCl9ZnVuY3Rpb24gdmwoZSx0KXt2YXIgaT1bXSxuPXZvaWQgMDtpZihlJiZlLmxlbmd0aClmb3Iobj0wO248ZS5sZW5ndGg7bisrKXQoZS5zdGFydChuKSxlLmVuZChuKSkmJmkucHVzaChbZS5zdGFydChuKSxlLmVuZChuKV0pO3JldHVybiBwcy5jcmVhdGVUaW1lUmFuZ2VzKGkpfWZ1bmN0aW9uIF9sKGUsaSl7cmV0dXJuIHZsKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS0uMTw9aSYmaTw9dCsuMX0pfWZ1bmN0aW9uIGJsKGUsdCl7cmV0dXJuIHZsKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQ8PWUtMS8zMH0pfWZ1bmN0aW9uIFRsKGUpe3ZhciB0PVtdO2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuIiI7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKGUuc3RhcnQoaSkrIiA9PiAiK2UuZW5kKGkpKTtyZXR1cm4gdC5qb2luKCIsICIpfWZ1bmN0aW9uIFNsKGUpe2Zvcih2YXIgdD1bXSxpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKHtzdGFydDplLnN0YXJ0KGkpLGVuZDplLmVuZChpKX0pO3JldHVybiB0fWZ1bmN0aW9uIGtsKGUsdCxpKXt2YXIgbj12b2lkIDAscj12b2lkIDA7aWYoaSYmaS5jdWVzKWZvcihuPWkuY3Vlcy5sZW5ndGg7bi0tOykocj1pLmN1ZXNbbl0pLnN0YXJ0VGltZTw9dCYmci5lbmRUaW1lPj1lJiZpLnJlbW92ZUN1ZShyKX1mdW5jdGlvbiBDbChlKXtyZXR1cm4gaXNOYU4oZSl8fE1hdGguYWJzKGUpPT09MS8wP051bWJlci5NQVhfVkFMVUU6ZX1mdW5jdGlvbiBFbChlLHQsaSl7dmFyIG49di5XZWJLaXREYXRhQ3VlfHx2LlZUVEN1ZTtpZih0JiZ0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdHJlYW07dGhpcy5pbmJhbmRUZXh0VHJhY2tzX1t0XS5hZGRDdWUobmV3IG4oZS5zdGFydFRpbWUrdGhpcy50aW1lc3RhbXBPZmZzZXQsZS5lbmRUaW1lK3RoaXMudGltZXN0YW1wT2Zmc2V0LGUudGV4dCkpfSxlKSxpKXt2YXIgcj1DbChlLm1lZGlhU291cmNlXy5kdXJhdGlvbik7aWYoaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPWUuY3VlVGltZSt0aGlzLnRpbWVzdGFtcE9mZnNldDshKCJudW1iZXIiIT10eXBlb2YgaXx8di5pc05hTihpKXx8aTwwKSYmaTwxLzAmJmUuZnJhbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG4oaSxpLGUudmFsdWV8fGUudXJsfHxlLmRhdGF8fCIiKTt0LmZyYW1lPWUsdC52YWx1ZT1lLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUuZnJhbWUse2lkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHMubG9nLndhcm4oImN1ZS5mcmFtZS5pZCBpcyBkZXByZWNhdGVkLiBVc2UgY3VlLnZhbHVlLmtleSBpbnN0ZWFkLiIpLGUudmFsdWUua2V5fX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBwcy5sb2cud2FybigiY3VlLmZyYW1lLnZhbHVlIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUuZGF0YSBpbnN0ZWFkLiIpLGUudmFsdWUuZGF0YX19LHByaXZhdGVEYXRhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHMubG9nLndhcm4oImN1ZS5mcmFtZS5wcml2YXRlRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgY3VlLnZhbHVlLmRhdGEgaW5zdGVhZC4iKSxlLnZhbHVlLmRhdGF9fX0pfSh0KSx0aGlzLm1ldGFkYXRhVHJhY2tfLmFkZEN1ZSh0KX0sdGhpcyl9LGUpLGUubWV0YWRhdGFUcmFja18mJmUubWV0YWRhdGFUcmFja18uY3VlcyYmZS5tZXRhZGF0YVRyYWNrXy5jdWVzLmxlbmd0aCl7Zm9yKHZhciBhPWUubWV0YWRhdGFUcmFja18uY3VlcyxzPVtdLG89MDtvPGEubGVuZ3RoO28rKylhW29dJiZzLnB1c2goYVtvXSk7dmFyIHU9cy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgaT1lW3Quc3RhcnRUaW1lXXx8W107cmV0dXJuIGkucHVzaCh0KSxlW3Quc3RhcnRUaW1lXT1pLGV9LHt9KSxsPU9iamVjdC5rZXlzKHUpLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTnVtYmVyKGUpLU51bWJlcih0KX0pO2wuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPXVbZV0sbj1OdW1iZXIobFt0KzFdKXx8cjtpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5lbmRUaW1lPW59KX0pfX19dmFyIHdsPXBzLmNyZWF0ZVRpbWVSYW5nZSxBbD1pbC5iaW5kKG51bGwsMSksUGw9aWwuYmluZChudWxsLC0xKSxJbD17ZHVyYXRpb246UXUsc2Vla2FibGU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10fHwwLG49ZWwoZSx0LCEwKTtyZXR1cm4gbnVsbD09PW4/d2woKTp3bChpLG4pfSxzYWZlTGl2ZUluZGV4Olp1LGdldE1lZGlhSW5mb0ZvclRpbWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9dm9pZCAwLGE9dm9pZCAwLHM9ZS5zZWdtZW50cy5sZW5ndGgsbz10LW47aWYobzwwKXtpZigwPGkpZm9yKHI9aS0xOzA8PXI7ci0tKWlmKGE9ZS5zZWdtZW50c1tyXSwwPChvKz1QbChhLmR1cmF0aW9uKSkpcmV0dXJue21lZGlhSW5kZXg6cixzdGFydFRpbWU6bi1KdShlLGkscil9O3JldHVybnttZWRpYUluZGV4OjAsc3RhcnRUaW1lOnR9fWlmKGk8MCl7Zm9yKHI9aTtyPDA7cisrKWlmKChvLT1lLnRhcmdldER1cmF0aW9uKTwwKXJldHVybnttZWRpYUluZGV4OjAsc3RhcnRUaW1lOnR9O2k9MH1mb3Iocj1pO3I8cztyKyspaWYoYT1lLnNlZ21lbnRzW3JdLChvLT1BbChhLmR1cmF0aW9uKSk8MClyZXR1cm57bWVkaWFJbmRleDpyLHN0YXJ0VGltZTpuK0p1KGUsaSxyKX07cmV0dXJue21lZGlhSW5kZXg6cy0xLHN0YXJ0VGltZTp0fX0saXNFbmFibGVkOmFsLGlzRGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWR9LGlzQmxhY2tsaXN0ZWQ6bmwsaXNJbmNvbXBhdGlibGU6cmwscGxheWxpc3RFbmQ6ZWwsaXNBZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnNlZ21lbnRzLmxlbmd0aDt0KyspaWYoZS5zZWdtZW50c1t0XS5rZXkpcmV0dXJuITA7cmV0dXJuITF9LGlzRm1wNDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuc2VnbWVudHMubGVuZ3RoO3QrKylpZihlLnNlZ21lbnRzW3RdLm1hcClyZXR1cm4hMDtyZXR1cm4hMX0saGFzQXR0cmlidXRlOnNsLGVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09bj9uOjA7cmV0dXJuIHNsKCJCQU5EV0lEVEgiLGkpPyhlKmkuYXR0cmlidXRlcy5CQU5EV0lEVEgtOCpyKS90Ok5hTn0saXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uOm9sfSxMbD1wcy54aHIsT2w9cHMubWVyZ2VPcHRpb25zLHhsPU9iamVjdC5mcmVlemUoe2NyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2U6ZGwsaW5pdFNlZ21lbnRJZDpwbCxzZWdtZW50S2V5SWQ6ZmwsaGV4RHVtcDptbCx0YWdEdW1wOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYnl0ZXM7cmV0dXJuIG1sKHQpfSx0ZXh0UmFuZ2VzOmZ1bmN0aW9uKGUpe3ZhciB0LGksbj0iIixyPXZvaWQgMDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKW4rPShpPXIsKHQ9ZSkuc3RhcnQoaSkrIi0iK3QuZW5kKGkpKyIgIik7cmV0dXJuIG59fSksRGw9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LFVsPSJ1bmRlZmluZWQiPT10eXBlb2YgU3ltYm9sPyJfX3RhcmdldCI6U3ltYm9sKCksUmw9ImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiLE1sPURsLkJsb2JCdWlsZGVyfHxEbC5XZWJLaXRCbG9iQnVpbGRlcnx8RGwuTW96QmxvYkJ1aWxkZXJ8fERsLk1TQmxvYkJ1aWxkZXIsTmw9RGwuVVJMfHxEbC53ZWJraXRVUkx8fE5sJiZObC5tc1VSTCxCbD1EbC5Xb3JrZXI7ZnVuY3Rpb24gamwocixhKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighYSlyZXR1cm4gbmV3IEJsKHIpO2lmKEJsJiYhZSl7dmFyIGk9cWwoYS50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbi4rP3svLCIiKS5zbGljZSgwLC0xKSk7cmV0dXJuIHRoaXNbVWxdPW5ldyBCbChpKSxmdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm47dmFyIGk9ZS50ZXJtaW5hdGU7ZS5vYmpVUkw9dCxlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe2Uub2JqVVJMJiZObC5yZXZva2VPYmplY3RVUkwoZS5vYmpVUkwpLGkuY2FsbChlKX19KHRoaXNbVWxdLGkpLHRoaXNbVWxdfXZhciBuPXtwb3N0TWVzc2FnZTpmdW5jdGlvbihlKXt0Lm9ubWVzc2FnZSYmc2V0VGltZW91dChmdW5jdGlvbigpe3Qub25tZXNzYWdlKHtkYXRhOmUsdGFyZ2V0Om59KX0pfX07YS5jYWxsKG4pLHRoaXMucG9zdE1lc3NhZ2U9ZnVuY3Rpb24oZSl7c2V0VGltZW91dChmdW5jdGlvbigpe24ub25tZXNzYWdlKHtkYXRhOmUsdGFyZ2V0OnR9KX0pfSx0aGlzLmlzVGhpc1RocmVhZD0hMH19aWYoQmwpe3ZhciBGbCxIbD1xbCgic2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7fSIpLFZsPW5ldyBVaW50OEFycmF5KDEpO3RyeXsoRmw9bmV3IEJsKEhsKSkucG9zdE1lc3NhZ2UoVmwsW1ZsLmJ1ZmZlcl0pfWNhdGNoKGUpe0JsPW51bGx9ZmluYWxseXtObC5yZXZva2VPYmplY3RVUkwoSGwpLEZsJiZGbC50ZXJtaW5hdGUoKX19ZnVuY3Rpb24gcWwodCl7dHJ5e3JldHVybiBObC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3RdLHt0eXBlOlJsfSkpfWNhdGNoKGUpe3ZhciBpPW5ldyBNbDtyZXR1cm4gaS5hcHBlbmQodCksTmwuY3JlYXRlT2JqZWN0VVJMKGkuZ2V0QmxvYih0eXBlKSl9fWZ1bmN0aW9uIFdsKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9hdmMxXC4oXGQrKVwuKFxkKykvaSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuImF2YzEuIisoIjAwIitOdW1iZXIodCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikrIjAwIisoIjAwIitOdW1iZXIoaSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KX0pfWZ1bmN0aW9uIHpsKGUpe3ZhciB0LGk9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6IiIsbj17Y29kZWNDb3VudDowfTtyZXR1cm4gbi5jb2RlY0NvdW50PWkuc3BsaXQoIiwiKS5sZW5ndGgsbi5jb2RlY0NvdW50PW4uY29kZWNDb3VudHx8MiwodD0vKF58XHN8LCkrKGF2Y1sxM10pKFteICxdKikvaS5leGVjKGkpKSYmKG4udmlkZW9Db2RlYz10WzJdLG4udmlkZW9PYmplY3RUeXBlSW5kaWNhdG9yPXRbM10pLG4uYXVkaW9Qcm9maWxlPS8oXnxcc3wsKSttcDRhLlswLTlBLUZhLWZdK1wuKFswLTlBLUZhLWZdKykvaS5leGVjKGkpLG4uYXVkaW9Qcm9maWxlPW4uYXVkaW9Qcm9maWxlJiZuLmF1ZGlvUHJvZmlsZVsyXSxufWZ1bmN0aW9uICRsKGUsdCxpKXtyZXR1cm4gZSsiLyIrdCsnOyBjb2RlY3M9IicraS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlfSkuam9pbigiLCAiKSsnIid9ZnVuY3Rpb24gR2woZSx0KXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50cyYmZS5zZWdtZW50cy5sZW5ndGgmJmUuc2VnbWVudHNbMF0ubWFwPyJtcDQiOiJtcDJ0In0odCksbj1mdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXN8fHt9O3JldHVybiB0LkNPREVDUz96bCh0LkNPREVDUyk6UWx9KHQpLHI9dC5hdHRyaWJ1dGVzfHx7fSxhPSEwLHM9ITE7aWYoIXQpcmV0dXJuW107aWYoZS5tZWRpYUdyb3Vwcy5BVURJTyYmci5BVURJTyl7dmFyIG89ZS5tZWRpYUdyb3Vwcy5BVURJT1tyLkFVRElPXTtpZihvKWZvcih2YXIgdSBpbiBhPSEocz0hMCksbylpZighb1t1XS51cmkmJiFvW3VdLnBsYXlsaXN0cyl7YT0hMDticmVha319cyYmIW4uYXVkaW9Qcm9maWxlJiYoYXx8KG4uYXVkaW9Qcm9maWxlPWZ1bmN0aW9uKGUsdCl7aWYoIWUubWVkaWFHcm91cHMuQVVESU98fCF0KXJldHVybiBudWxsO3ZhciBpPWUubWVkaWFHcm91cHMuQVVESU9bdF07aWYoIWkpcmV0dXJuIG51bGw7Zm9yKHZhciBuIGluIGkpe3ZhciByPWlbbl07aWYoci5kZWZhdWx0JiZyLnBsYXlsaXN0cylyZXR1cm4gemwoci5wbGF5bGlzdHNbMF0uYXR0cmlidXRlcy5DT0RFQ1MpLmF1ZGlvUHJvZmlsZX1yZXR1cm4gbnVsbH0oZSxyLkFVRElPKSksbi5hdWRpb1Byb2ZpbGV8fChwcy5sb2cud2FybigiTXVsdGlwbGUgYXVkaW8gdHJhY2tzIHByZXNlbnQgYnV0IG5vIGF1ZGlvIGNvZGVjIHN0cmluZyBpcyBzcGVjaWZpZWQuIEF0dGVtcHRpbmcgdG8gdXNlIHRoZSBkZWZhdWx0IGF1ZGlvIGNvZGVjIChtcDRhLjQwLjIpIiksbi5hdWRpb1Byb2ZpbGU9UWwuYXVkaW9Qcm9maWxlKSk7dmFyIGw9e307bi52aWRlb0NvZGVjJiYobC52aWRlbz0iIituLnZpZGVvQ29kZWMrbi52aWRlb09iamVjdFR5cGVJbmRpY2F0b3IpLG4uYXVkaW9Qcm9maWxlJiYobC5hdWRpbz0ibXA0YS40MC4iK24uYXVkaW9Qcm9maWxlKTt2YXIgYz0kbCgiYXVkaW8iLGksW2wuYXVkaW9dKSxoPSRsKCJ2aWRlbyIsaSxbbC52aWRlb10pLGQ9JGwoInZpZGVvIixpLFtsLnZpZGVvLGwuYXVkaW9dKTtyZXR1cm4gcz8hYSYmbC52aWRlbz9baCxjXTphfHxsLnZpZGVvP1tkLGNdOltjLGNdOmwudmlkZW8/W2RdOltjXX1mdW5jdGlvbiBYbChlKXtyZXR1cm4vbXA0YVwuXGQrLlxkKy9pLnRlc3QoZSl9ZnVuY3Rpb24gS2woZSl7cmV0dXJuL2F2YzFcLltcZGEtZl0rL2kudGVzdChlKX12YXIgWWw9bmV3IGpsKCIuL3RyYW5zbXV4ZXItd29ya2VyLndvcmtlci5qcyIsZnVuY3Rpb24oZSx0KXt2YXIga3Q9dGhpczshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9e307dGhpcy5vbj1mdW5jdGlvbihlLHQpe2FbZV18fChhW2VdPVtdKSxhW2VdPWFbZV0uY29uY2F0KHQpfSx0aGlzLm9mZj1mdW5jdGlvbihlLHQpe3ZhciBpO3JldHVybiEhYVtlXSYmKGk9YVtlXS5pbmRleE9mKHQpLGFbZV09YVtlXS5zbGljZSgpLGFbZV0uc3BsaWNlKGksMSksLTE8aSl9LHRoaXMudHJpZ2dlcj1mdW5jdGlvbihlKXt2YXIgdCxpLG4scjtpZih0PWFbZV0paWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKG49dC5sZW5ndGgsaT0wO2k8bjsrK2kpdFtpXS5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTtlbHNle2ZvcihyPVtdLGk9YXJndW1lbnRzLmxlbmd0aCxpPTE7aTxhcmd1bWVudHMubGVuZ3RoOysraSlyLnB1c2goYXJndW1lbnRzW2ldKTtmb3Iobj10Lmxlbmd0aCxpPTA7aTxuOysraSl0W2ldLmFwcGx5KHRoaXMscil9fSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXthPXt9fX19ZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbigiZGF0YSIsZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSksdGhpcy5vbigiZG9uZSIsZnVuY3Rpb24oZSl7dC5mbHVzaChlKX0pLHRoaXMub24oInBhcnRpYWxkb25lIixmdW5jdGlvbihlKXt0LnBhcnRpYWxGbHVzaChlKX0pLHRoaXMub24oImVuZGVkdGltZWxpbmUiLGZ1bmN0aW9uKGUpe3QuZW5kVGltZWxpbmUoZSl9KSx0aGlzLm9uKCJyZXNldCIsZnVuY3Rpb24oZSl7dC5yZXNldChlKX0pLHR9LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKCJkYXRhIixlKX0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKCJkb25lIixlKX0sZS5wcm90b3R5cGUucGFydGlhbEZsdXNoPWZ1bmN0aW9uKGUpe3RoaXMudHJpZ2dlcigicGFydGlhbGRvbmUiLGUpfSxlLnByb3RvdHlwZS5lbmRUaW1lbGluZT1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoImVuZGVkdGltZWxpbmUiLGUpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoInJlc2V0IixlKX07dmFyIGwsdCxpLHIsYSxuLHMsbyx1LGMsaCxkLHAsZixtLGcseSx2LF8sYixULFMsayxDLEUsdyxBLFAsSSxMLE8seCxELFUsUixNLE4sQixqLEYsSD1lLFY9TWF0aC5wb3coMiwzMiktMTshZnVuY3Rpb24oKXt2YXIgZTtpZihTPXthdmMxOltdLGF2Y0M6W10sYnRydDpbXSxkaW5mOltdLGRyZWY6W10sZXNkczpbXSxmdHlwOltdLGhkbHI6W10sbWRhdDpbXSxtZGhkOltdLG1kaWE6W10sbWZoZDpbXSxtaW5mOltdLG1vb2Y6W10sbW9vdjpbXSxtcDRhOltdLG12ZXg6W10sbXZoZDpbXSxwYXNwOltdLHNkdHA6W10sc21oZDpbXSxzdGJsOltdLHN0Y286W10sc3RzYzpbXSxzdHNkOltdLHN0c3o6W10sc3R0czpbXSxzdHlwOltdLHRmZHQ6W10sdGZoZDpbXSx0cmFmOltdLHRyYWs6W10sdHJ1bjpbXSx0cmV4OltdLHRraGQ6W10sdm1oZDpbXX0sInVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5KXtmb3IoZSBpbiBTKVMuaGFzT3duUHJvcGVydHkoZSkmJihTW2VdPVtlLmNoYXJDb2RlQXQoMCksZS5jaGFyQ29kZUF0KDEpLGUuY2hhckNvZGVBdCgyKSxlLmNoYXJDb2RlQXQoMyldKTtrPW5ldyBVaW50OEFycmF5KFsiaSIuY2hhckNvZGVBdCgwKSwicyIuY2hhckNvZGVBdCgwKSwibyIuY2hhckNvZGVBdCgwKSwibSIuY2hhckNvZGVBdCgwKV0pLEU9bmV3IFVpbnQ4QXJyYXkoWyJhIi5jaGFyQ29kZUF0KDApLCJ2Ii5jaGFyQ29kZUF0KDApLCJjIi5jaGFyQ29kZUF0KDApLCIxIi5jaGFyQ29kZUF0KDApXSksQz1uZXcgVWludDhBcnJheShbMCwwLDAsMV0pLHc9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxMTgsMTA1LDEwMCwxMDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsODYsMTA1LDEwMCwxMDEsMTExLDcyLDk3LDExMCwxMDAsMTA4LDEwMSwxMTQsMF0pLEE9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxMTUsMTExLDExNywxMTAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsODMsMTExLDExNywxMTAsMTAwLDcyLDk3LDExMCwxMDAsMTA4LDEwMSwxMTQsMF0pLFA9e3ZpZGVvOncsYXVkaW86QX0sTz1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDEyLDExNywxMTQsMTA4LDMyLDAsMCwwLDFdKSxMPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDBdKSx4PW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDBdKSxEPXgsVT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdKSxSPXgsST1uZXcgVWludDhBcnJheShbMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDBdKX19KCksbD1mdW5jdGlvbihlKXt2YXIgdCxpLG49W10scj0wO2Zvcih0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluLnB1c2goYXJndW1lbnRzW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KXIrPW5bdF0uYnl0ZUxlbmd0aDtmb3IoaT1uZXcgVWludDhBcnJheShyKzgpLG5ldyBEYXRhVmlldyhpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQsaS5ieXRlTGVuZ3RoKS5zZXRVaW50MzIoMCxpLmJ5dGVMZW5ndGgpLGkuc2V0KGUsNCksdD0wLHI9ODt0PG4ubGVuZ3RoO3QrKylpLnNldChuW3RdLHIpLHIrPW5bdF0uYnl0ZUxlbmd0aDtyZXR1cm4gaX0sdD1mdW5jdGlvbigpe3JldHVybiBsKFMuZGluZixsKFMuZHJlZixPKSl9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoUy5lc2RzLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDMsMjUsMCwwLDAsNCwxNyw2NCwyMSwwLDYsMCwwLDAsMjE4LDE5MiwwLDAsMjE4LDE5Miw1LDIsZS5hdWRpb29iamVjdHR5cGU8PDN8ZS5zYW1wbGluZ2ZyZXF1ZW5jeWluZGV4Pj4+MSxlLnNhbXBsaW5nZnJlcXVlbmN5aW5kZXg8PDd8ZS5jaGFubmVsY291bnQ8PDMsNiwxLDJdKSl9LG09ZnVuY3Rpb24oZSl7cmV0dXJuIGwoUy5oZGxyLFBbZV0pfSxmPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDIsMCwwLDAsMywwLDEsOTUsMTQ0LGUuZHVyYXRpb24+Pj4yNCYyNTUsZS5kdXJhdGlvbj4+PjE2JjI1NSxlLmR1cmF0aW9uPj4+OCYyNTUsMjU1JmUuZHVyYXRpb24sODUsMTk2LDAsMF0pO3JldHVybiBlLnNhbXBsZXJhdGUmJih0WzEyXT1lLnNhbXBsZXJhdGU+Pj4yNCYyNTUsdFsxM109ZS5zYW1wbGVyYXRlPj4+MTYmMjU1LHRbMTRdPWUuc2FtcGxlcmF0ZT4+PjgmMjU1LHRbMTVdPTI1NSZlLnNhbXBsZXJhdGUpLGwoUy5tZGhkLHQpfSxwPWZ1bmN0aW9uKGUpe3JldHVybiBsKFMubWRpYSxmKGUpLG0oZS50eXBlKSxuKGUpKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbChTLm1maGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsKDQyNzgxOTAwODAmZSk+PjI0LCgxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlXSkpfSxuPWZ1bmN0aW9uKGUpe3JldHVybiBsKFMubWluZiwidmlkZW8iPT09ZS50eXBlP2woUy52bWhkLEkpOmwoUy5zbWhkLEwpLHQoKSx5KGUpKX0scz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1bXSxuPXQubGVuZ3RoO24tLTspaVtuXT1fKHRbbl0pO3JldHVybiBsLmFwcGx5KG51bGwsW1MubW9vZixhKGUpXS5jb25jYXQoaSkpfSxvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxpPVtdO3QtLTspaVt0XT1oKGVbdF0pO3JldHVybiBsLmFwcGx5KG51bGwsW1MubW9vdixjKDQyOTQ5NjcyOTUpXS5jb25jYXQoaSkuY29uY2F0KHUoZSkpKX0sdT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsaT1bXTt0LS07KWlbdF09YihlW3RdKTtyZXR1cm4gbC5hcHBseShudWxsLFtTLm12ZXhdLmNvbmNhdChpKSl9LGM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwyLDAsMSw5NSwxNDQsKDQyNzgxOTAwODAmZSk+PjI0LCgxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDAsMSwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDY0LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDI1NSwyNTUsMjU1LDI1NV0pO3JldHVybiBsKFMubXZoZCx0KX0sZz1mdW5jdGlvbihlKXt2YXIgdCxpLG49ZS5zYW1wbGVzfHxbXSxyPW5ldyBVaW50OEFycmF5KDQrbi5sZW5ndGgpO2ZvcihpPTA7aTxuLmxlbmd0aDtpKyspdD1uW2ldLmZsYWdzLHJbaSs0XT10LmRlcGVuZHNPbjw8NHx0LmlzRGVwZW5kZWRPbjw8Mnx0Lmhhc1JlZHVuZGFuY3k7cmV0dXJuIGwoUy5zZHRwLHIpfSx5PWZ1bmN0aW9uKGUpe3JldHVybiBsKFMuc3RibCx2KGUpLGwoUy5zdHRzLFIpLGwoUy5zdHNjLEQpLGwoUy5zdHN6LFUpLGwoUy5zdGNvLHgpKX0sdj1mdW5jdGlvbihlKXtyZXR1cm4gbChTLnN0c2QsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMV0pLCJ2aWRlbyI9PT1lLnR5cGU/TShlKTpOKGUpKX0sTT1mdW5jdGlvbihlKXt2YXIgdCxpLG49ZS5zcHN8fFtdLHI9ZS5wcHN8fFtdLGE9W10scz1bXTtmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKWEucHVzaCgoNjUyODAmblt0XS5ieXRlTGVuZ3RoKT4+PjgpLGEucHVzaCgyNTUmblt0XS5ieXRlTGVuZ3RoKSxhPWEuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG5bdF0pKTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKXMucHVzaCgoNjUyODAmclt0XS5ieXRlTGVuZ3RoKT4+PjgpLHMucHVzaCgyNTUmclt0XS5ieXRlTGVuZ3RoKSxzPXMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJbdF0pKTtpZihpPVtTLmF2YzEsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLCg2NTI4MCZlLndpZHRoKT4+OCwyNTUmZS53aWR0aCwoNjUyODAmZS5oZWlnaHQpPj44LDI1NSZlLmhlaWdodCwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwxOSwxMTgsMTA1LDEwMCwxMDEsMTExLDEwNiwxMTUsNDUsOTksMTExLDExMCwxMTYsMTE0LDEwNSw5OCw0NSwxMDQsMTA4LDExNSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDI0LDE3LDE3XSksbChTLmF2Y0MsbmV3IFVpbnQ4QXJyYXkoWzEsZS5wcm9maWxlSWRjLGUucHJvZmlsZUNvbXBhdGliaWxpdHksZS5sZXZlbElkYywyNTVdLmNvbmNhdChbbi5sZW5ndGhdLGEsW3IubGVuZ3RoXSxzKSkpLGwoUy5idHJ0LG5ldyBVaW50OEFycmF5KFswLDI4LDE1NiwxMjgsMCw0NSwxOTgsMTkyLDAsNDUsMTk4LDE5Ml0pKV0sZS5zYXJSYXRpbyl7dmFyIG89ZS5zYXJSYXRpb1swXSx1PWUuc2FyUmF0aW9bMV07aS5wdXNoKGwoUy5wYXNwLG5ldyBVaW50OEFycmF5KFsoNDI3ODE5MDA4MCZvKT4+MjQsKDE2NzExNjgwJm8pPj4xNiwoNjUyODAmbyk+PjgsMjU1Jm8sKDQyNzgxOTAwODAmdSk+PjI0LCgxNjcxMTY4MCZ1KT4+MTYsKDY1MjgwJnUpPj44LDI1NSZ1XSkpKX1yZXR1cm4gbC5hcHBseShudWxsLGkpfSxOPWZ1bmN0aW9uKGUpe3JldHVybiBsKFMubXA0YSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwoNjUyODAmZS5jaGFubmVsY291bnQpPj44LDI1NSZlLmNoYW5uZWxjb3VudCwoNjUyODAmZS5zYW1wbGVzaXplKT4+OCwyNTUmZS5zYW1wbGVzaXplLDAsMCwwLDAsKDY1MjgwJmUuc2FtcGxlcmF0ZSk+PjgsMjU1JmUuc2FtcGxlcmF0ZSwwLDBdKSxpKGUpKX0sZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShbMCwwLDAsNywwLDAsMCwwLDAsMCwwLDAsKDQyNzgxOTAwODAmZS5pZCk+PjI0LCgxNjcxMTY4MCZlLmlkKT4+MTYsKDY1MjgwJmUuaWQpPj44LDI1NSZlLmlkLDAsMCwwLDAsKDQyNzgxOTAwODAmZS5kdXJhdGlvbik+PjI0LCgxNjcxMTY4MCZlLmR1cmF0aW9uKT4+MTYsKDY1MjgwJmUuZHVyYXRpb24pPj44LDI1NSZlLmR1cmF0aW9uLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDY0LDAsMCwwLCg2NTI4MCZlLndpZHRoKT4+OCwyNTUmZS53aWR0aCwwLDAsKDY1MjgwJmUuaGVpZ2h0KT4+OCwyNTUmZS5oZWlnaHQsMCwwXSk7cmV0dXJuIGwoUy50a2hkLHQpfSxfPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGEscztyZXR1cm4gdD1sKFMudGZoZCxuZXcgVWludDhBcnJheShbMCwwLDAsNTgsKDQyNzgxOTAwODAmZS5pZCk+PjI0LCgxNjcxMTY4MCZlLmlkKT4+MTYsKDY1MjgwJmUuaWQpPj44LDI1NSZlLmlkLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdKSksYT1NYXRoLmZsb29yKGUuYmFzZU1lZGlhRGVjb2RlVGltZS8oMStWKSkscz1NYXRoLmZsb29yKGUuYmFzZU1lZGlhRGVjb2RlVGltZSUoMStWKSksaT1sKFMudGZkdCxuZXcgVWludDhBcnJheShbMSwwLDAsMCxhPj4+MjQmMjU1LGE+Pj4xNiYyNTUsYT4+PjgmMjU1LDI1NSZhLHM+Pj4yNCYyNTUscz4+PjE2JjI1NSxzPj4+OCYyNTUsMjU1JnNdKSksOTIsImF1ZGlvIj09PWUudHlwZT8obj1UKGUsOTIpLGwoUy50cmFmLHQsaSxuKSk6KHI9ZyhlKSxuPVQoZSxyLmxlbmd0aCs5MiksbChTLnRyYWYsdCxpLG4scikpfSxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLmR1cmF0aW9uPWUuZHVyYXRpb258fDQyOTQ5NjcyOTUsbChTLnRyYWssZChlKSxwKGUpKX0sYj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwoNDI3ODE5MDA4MCZlLmlkKT4+MjQsKDE2NzExNjgwJmUuaWQpPj4xNiwoNjUyODAmZS5pZCk+PjgsMjU1JmUuaWQsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMV0pO3JldHVybiJ2aWRlbyIhPT1lLnR5cGUmJih0W3QubGVuZ3RoLTFdPTApLGwoUy50cmV4LHQpfSxGPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MCxuPTAscj0wLGE9MDtyZXR1cm4gZS5sZW5ndGgmJih2b2lkIDAhPT1lWzBdLmR1cmF0aW9uJiYoaT0xKSx2b2lkIDAhPT1lWzBdLnNpemUmJihuPTIpLHZvaWQgMCE9PWVbMF0uZmxhZ3MmJihyPTQpLHZvaWQgMCE9PWVbMF0uY29tcG9zaXRpb25UaW1lT2Zmc2V0JiYoYT04KSksWzAsMCxpfG58cnxhLDEsKDQyNzgxOTAwODAmZS5sZW5ndGgpPj4+MjQsKDE2NzExNjgwJmUubGVuZ3RoKT4+PjE2LCg2NTI4MCZlLmxlbmd0aCk+Pj44LDI1NSZlLmxlbmd0aCwoNDI3ODE5MDA4MCZ0KT4+PjI0LCgxNjcxMTY4MCZ0KT4+PjE2LCg2NTI4MCZ0KT4+PjgsMjU1JnRdfSxqPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGE7Zm9yKHQrPTIwKzE2KihuPWUuc2FtcGxlc3x8W10pLmxlbmd0aCxpPUYobix0KSxhPTA7YTxuLmxlbmd0aDthKyspcj1uW2FdLGk9aS5jb25jYXQoWyg0Mjc4MTkwMDgwJnIuZHVyYXRpb24pPj4+MjQsKDE2NzExNjgwJnIuZHVyYXRpb24pPj4+MTYsKDY1MjgwJnIuZHVyYXRpb24pPj4+OCwyNTUmci5kdXJhdGlvbiwoNDI3ODE5MDA4MCZyLnNpemUpPj4+MjQsKDE2NzExNjgwJnIuc2l6ZSk+Pj4xNiwoNjUyODAmci5zaXplKT4+PjgsMjU1JnIuc2l6ZSxyLmZsYWdzLmlzTGVhZGluZzw8MnxyLmZsYWdzLmRlcGVuZHNPbixyLmZsYWdzLmlzRGVwZW5kZWRPbjw8NnxyLmZsYWdzLmhhc1JlZHVuZGFuY3k8PDR8ci5mbGFncy5wYWRkaW5nVmFsdWU8PDF8ci5mbGFncy5pc05vblN5bmNTYW1wbGUsNjE0NDAmci5mbGFncy5kZWdyYWRhdGlvblByaW9yaXR5LDE1JnIuZmxhZ3MuZGVncmFkYXRpb25Qcmlvcml0eSwoNDI3ODE5MDA4MCZyLmNvbXBvc2l0aW9uVGltZU9mZnNldCk+Pj4yNCwoMTY3MTE2ODAmci5jb21wb3NpdGlvblRpbWVPZmZzZXQpPj4+MTYsKDY1MjgwJnIuY29tcG9zaXRpb25UaW1lT2Zmc2V0KT4+PjgsMjU1JnIuY29tcG9zaXRpb25UaW1lT2Zmc2V0XSk7cmV0dXJuIGwoUy50cnVuLG5ldyBVaW50OEFycmF5KGkpKX0sQj1mdW5jdGlvbihlLHQpe3ZhciBpLG4scixhO2Zvcih0Kz0yMCs4KihuPWUuc2FtcGxlc3x8W10pLmxlbmd0aCxpPUYobix0KSxhPTA7YTxuLmxlbmd0aDthKyspcj1uW2FdLGk9aS5jb25jYXQoWyg0Mjc4MTkwMDgwJnIuZHVyYXRpb24pPj4+MjQsKDE2NzExNjgwJnIuZHVyYXRpb24pPj4+MTYsKDY1MjgwJnIuZHVyYXRpb24pPj4+OCwyNTUmci5kdXJhdGlvbiwoNDI3ODE5MDA4MCZyLnNpemUpPj4+MjQsKDE2NzExNjgwJnIuc2l6ZSk+Pj4xNiwoNjUyODAmci5zaXplKT4+PjgsMjU1JnIuc2l6ZV0pO3JldHVybiBsKFMudHJ1bixuZXcgVWludDhBcnJheShpKSl9LFQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iYXVkaW8iPT09ZS50eXBlP0IoZSx0KTpqKGUsdCl9O3I9ZnVuY3Rpb24oKXtyZXR1cm4gbChTLmZ0eXAsayxDLGssRSl9O2Z1bmN0aW9uIHEoZSx0KXt2YXIgaT17c2l6ZTowLGZsYWdzOntpc0xlYWRpbmc6MCxkZXBlbmRzT246MSxpc0RlcGVuZGVkT246MCxoYXNSZWR1bmRhbmN5OjAsZGVncmFkYXRpb25Qcmlvcml0eTowLGlzTm9uU3luY1NhbXBsZToxfX07cmV0dXJuIGkuZGF0YU9mZnNldD10LGkuY29tcG9zaXRpb25UaW1lT2Zmc2V0PWUucHRzLWUuZHRzLGkuZHVyYXRpb249ZS5kdXJhdGlvbixpLnNpemU9NCplLmxlbmd0aCxpLnNpemUrPWUuYnl0ZUxlbmd0aCxlLmtleUZyYW1lJiYoaS5mbGFncy5kZXBlbmRzT249MixpLmZsYWdzLmlzTm9uU3luY1NhbXBsZT0wKSxpfWZ1bmN0aW9uIFcoZSl7Zm9yKHZhciB0PVtdO2UtLTspdC5wdXNoKDApO3JldHVybiB0fWZ1bmN0aW9uIHooKXt6LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5jYXB0aW9uUGFja2V0c189W10sdGhpcy5jY1N0cmVhbXNfPVtuZXcgSWUoMCwwKSxuZXcgSWUoMCwxKSxuZXcgSWUoMSwwKSxuZXcgSWUoMSwxKV0sdGhpcy5yZXNldCgpLHRoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uub24oImRhdGEiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRhdGEiKSksZS5vbigicGFydGlhbGRvbmUiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsInBhcnRpYWxkb25lIikpLGUub24oImRvbmUiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRvbmUiKSl9LHRoaXMpfXZhciAkLEcsWCxLLFksUT1mdW5jdGlvbihlKXtyZXR1cm4gbChTLm1kYXQsZSl9LEo9cyxaPWZ1bmN0aW9uKGUpe3ZhciB0LGk9cigpLG49byhlKTtyZXR1cm4odD1uZXcgVWludDhBcnJheShpLmJ5dGVMZW5ndGgrbi5ieXRlTGVuZ3RoKSkuc2V0KGkpLHQuc2V0KG4saS5ieXRlTGVuZ3RoKSx0fSxlZT1mdW5jdGlvbihlKXt2YXIgdCxpLG49W10scj1bXTtmb3Ioci5ieXRlTGVuZ3RoPTAsci5uYWxDb3VudD0wLHIuZHVyYXRpb249MCx0PW4uYnl0ZUxlbmd0aD0wO3Q8ZS5sZW5ndGg7dCsrKSJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCI9PT0oaT1lW3RdKS5uYWxVbml0VHlwZT8obi5sZW5ndGgmJihuLmR1cmF0aW9uPWkuZHRzLW4uZHRzLHIuYnl0ZUxlbmd0aCs9bi5ieXRlTGVuZ3RoLHIubmFsQ291bnQrPW4ubGVuZ3RoLHIuZHVyYXRpb24rPW4uZHVyYXRpb24sci5wdXNoKG4pKSwobj1baV0pLmJ5dGVMZW5ndGg9aS5kYXRhLmJ5dGVMZW5ndGgsbi5wdHM9aS5wdHMsbi5kdHM9aS5kdHMpOigic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHIiPT09aS5uYWxVbml0VHlwZSYmKG4ua2V5RnJhbWU9ITApLG4uZHVyYXRpb249aS5kdHMtbi5kdHMsbi5ieXRlTGVuZ3RoKz1pLmRhdGEuYnl0ZUxlbmd0aCxuLnB1c2goaSkpO3JldHVybiByLmxlbmd0aCYmKCFuLmR1cmF0aW9ufHxuLmR1cmF0aW9uPD0wKSYmKG4uZHVyYXRpb249cltyLmxlbmd0aC0xXS5kdXJhdGlvbiksci5ieXRlTGVuZ3RoKz1uLmJ5dGVMZW5ndGgsci5uYWxDb3VudCs9bi5sZW5ndGgsci5kdXJhdGlvbis9bi5kdXJhdGlvbixyLnB1c2gobikscn0sdGU9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPVtdLHI9W107Zm9yKG4uYnl0ZUxlbmd0aD0wLG4ubmFsQ291bnQ9MCxuLmR1cmF0aW9uPTAsbi5wdHM9ZVswXS5wdHMsbi5kdHM9ZVswXS5kdHMsci5ieXRlTGVuZ3RoPTAsci5uYWxDb3VudD0wLHIuZHVyYXRpb249MCxyLnB0cz1lWzBdLnB0cyxyLmR0cz1lWzBdLmR0cyx0PTA7dDxlLmxlbmd0aDt0KyspKGk9ZVt0XSkua2V5RnJhbWU/KG4ubGVuZ3RoJiYoci5wdXNoKG4pLHIuYnl0ZUxlbmd0aCs9bi5ieXRlTGVuZ3RoLHIubmFsQ291bnQrPW4ubmFsQ291bnQsci5kdXJhdGlvbis9bi5kdXJhdGlvbiksKG49W2ldKS5uYWxDb3VudD1pLmxlbmd0aCxuLmJ5dGVMZW5ndGg9aS5ieXRlTGVuZ3RoLG4ucHRzPWkucHRzLG4uZHRzPWkuZHRzLG4uZHVyYXRpb249aS5kdXJhdGlvbik6KG4uZHVyYXRpb24rPWkuZHVyYXRpb24sbi5uYWxDb3VudCs9aS5sZW5ndGgsbi5ieXRlTGVuZ3RoKz1pLmJ5dGVMZW5ndGgsbi5wdXNoKGkpKTtyZXR1cm4gci5sZW5ndGgmJm4uZHVyYXRpb248PTAmJihuLmR1cmF0aW9uPXJbci5sZW5ndGgtMV0uZHVyYXRpb24pLHIuYnl0ZUxlbmd0aCs9bi5ieXRlTGVuZ3RoLHIubmFsQ291bnQrPW4ubmFsQ291bnQsci5kdXJhdGlvbis9bi5kdXJhdGlvbixyLnB1c2gobikscn0saWU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIWVbMF1bMF0ua2V5RnJhbWUmJjE8ZS5sZW5ndGgmJih0PWUuc2hpZnQoKSxlLmJ5dGVMZW5ndGgtPXQuYnl0ZUxlbmd0aCxlLm5hbENvdW50LT10Lm5hbENvdW50LGVbMF1bMF0uZHRzPXQuZHRzLGVbMF1bMF0ucHRzPXQucHRzLGVbMF1bMF0uZHVyYXRpb24rPXQuZHVyYXRpb24pLGV9LG5lPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGEscyxvPXR8fDAsdT1bXTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWZvcihhPWVbaV0sbj0wO248YS5sZW5ndGg7bisrKXM9YVtuXSxvKz0ocj1xKHMsbykpLnNpemUsdS5wdXNoKHIpO3JldHVybiB1fSxyZT1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhLHMsbz0wLHU9ZS5ieXRlTGVuZ3RoLGw9ZS5uYWxDb3VudCxjPW5ldyBVaW50OEFycmF5KHUrNCpsKSxoPW5ldyBEYXRhVmlldyhjLmJ1ZmZlcik7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylmb3Iocj1lW3RdLGk9MDtpPHIubGVuZ3RoO2krKylmb3IoYT1yW2ldLG49MDtuPGEubGVuZ3RoO24rKylzPWFbbl0saC5zZXRVaW50MzIobyxzLmRhdGEuYnl0ZUxlbmd0aCksbys9NCxjLnNldChzLmRhdGEsbyksbys9cy5kYXRhLmJ5dGVMZW5ndGg7cmV0dXJuIGN9LGFlPVszMywxNiw1LDMyLDE2NCwyN10sc2U9WzMzLDY1LDEwOCw4NCwxLDIsNCw4LDE2OCwyLDQsOCwxNywxOTEsMjUyXSxvZT17OTZlMzpbYWUsWzIyNyw2NF0sVygxNTQpLFs1Nl1dLDg4MjAwOlthZSxbMjMxXSxXKDE3MCksWzU2XV0sNjRlMzpbYWUsWzI0OCwxOTJdLFcoMjQwKSxbNTZdXSw0OGUzOlthZSxbMjU1LDE5Ml0sVygyNjgpLFs1NSwxNDgsMTI4XSxXKDU0KSxbMTEyXV0sNDQxMDA6W2FlLFsyNTUsMTkyXSxXKDI2OCksWzU1LDE2MywxMjhdLFcoODQpLFsxMTJdXSwzMmUzOlthZSxbMjU1LDE5Ml0sVygyNjgpLFs1NSwyMzRdLFcoMjI2KSxbMTEyXV0sMjRlMzpbYWUsWzI1NSwxOTJdLFcoMjY4KSxbNTUsMjU1LDEyOF0sVygyNjgpLFsxMTEsMTEyXSxXKDEyNiksWzIyNF1dLDE2ZTM6W2FlLFsyNTUsMTkyXSxXKDI2OCksWzU1LDI1NSwxMjhdLFcoMjY4KSxbMTExLDI1NV0sVygyNjkpLFsyMjMsMTA4XSxXKDE5NSksWzEsMTkyXV0sMTJlMzpbc2UsVygyNjgpLFszLDEyNywyNDhdLFcoMjY4KSxbNiwyNTUsMjQwXSxXKDI2OCksWzEzLDI1NSwyMjRdLFcoMjY4KSxbMjcsMjUzLDEyOF0sVygyNTkpLFs1Nl1dLDExMDI1OltzZSxXKDI2OCksWzMsMTI3LDI0OF0sVygyNjgpLFs2LDI1NSwyNDBdLFcoMjY4KSxbMTMsMjU1LDIyNF0sVygyNjgpLFsyNywyNTUsMTkyXSxXKDI2OCksWzU1LDE3NSwxMjhdLFcoMTA4KSxbMTEyXV0sOGUzOltzZSxXKDI2OCksWzMsMTIxLDE2XSxXKDQ3KSxbN11dfSx1ZT0oJD1vZSxPYmplY3Qua2V5cygkKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1uZXcgVWludDhBcnJheSgkW3RdLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0sW10pKSxlfSx7fSkpLGxlPTllNCxjZT0oRz1mdW5jdGlvbihlKXtyZXR1cm4gOWU0KmV9LFg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSp0fSxLPWZ1bmN0aW9uKGUpe3JldHVybiBlLzllNH0sWT1mdW5jdGlvbihlLHQpe3JldHVybiBlL3R9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEcoWShlLHQpKX0pLGhlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFgoSyhlKSx0KX0sZGU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBLKGk/ZTplLXQpfSxwZT1mdW5jdGlvbihlLHQsaSxuKXt2YXIgcixhLHMsbyx1LGw9MCxjPTAsaD0wO2lmKHQubGVuZ3RoJiYocj1jZShlLmJhc2VNZWRpYURlY29kZVRpbWUsZS5zYW1wbGVyYXRlKSxhPU1hdGguY2VpbChsZS8oZS5zYW1wbGVyYXRlLzEwMjQpKSxpJiZuJiYobD1yLU1hdGgubWF4KGksbiksaD0oYz1NYXRoLmZsb29yKGwvYSkpKmEpLCEoYzwxfHxsZS8yPGgpKSl7Zm9yKHM9KHM9dWVbZS5zYW1wbGVyYXRlXSl8fHRbMF0uZGF0YSxvPTA7bzxjO28rKyl1PXRbMF0sdC5zcGxpY2UoMCwwLHtkYXRhOnMsZHRzOnUuZHRzLWEscHRzOnUucHRzLWF9KTtlLmJhc2VNZWRpYURlY29kZVRpbWUtPU1hdGguZmxvb3IoaGUoaCxlLnNhbXBsZXJhdGUpKX19LGZlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdC5taW5TZWdtZW50RHRzPj1pP2U6KHQubWluU2VnbWVudER0cz0xLzAsZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZHRzPj1pJiYodC5taW5TZWdtZW50RHRzPU1hdGgubWluKHQubWluU2VnbWVudER0cyxlLmR0cyksdC5taW5TZWdtZW50UHRzPXQubWluU2VnbWVudER0cywhMCl9KSl9LG1lPWZ1bmN0aW9uKGUpe3ZhciB0LGksbj1bXTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWk9ZVt0XSxuLnB1c2goe3NpemU6aS5kYXRhLmJ5dGVMZW5ndGgsZHVyYXRpb246MTAyNH0pO3JldHVybiBufSxnZT1mdW5jdGlvbihlKXt2YXIgdCxpLG49MCxyPW5ldyBVaW50OEFycmF5KGZ1bmN0aW9uKGUpe3ZhciB0LGk9MDtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWkrPWVbdF0uZGF0YS5ieXRlTGVuZ3RoO3JldHVybiBpfShlKSk7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylpPWVbdF0sci5zZXQoaS5kYXRhLG4pLG4rPWkuZGF0YS5ieXRlTGVuZ3RoO3JldHVybiByfSx5ZT1sZSx2ZT1mdW5jdGlvbihlKXtkZWxldGUgZS5taW5TZWdtZW50RHRzLGRlbGV0ZSBlLm1heFNlZ21lbnREdHMsZGVsZXRlIGUubWluU2VnbWVudFB0cyxkZWxldGUgZS5tYXhTZWdtZW50UHRzfSxfZT1mdW5jdGlvbihlLHQpe3ZhciBpLG49ZS5taW5TZWdtZW50RHRzO3JldHVybiB0fHwobi09ZS50aW1lbGluZVN0YXJ0SW5mby5kdHMpLGk9ZS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lLGkrPW4saT1NYXRoLm1heCgwLGkpLCJhdWRpbyI9PT1lLnR5cGUmJihpKj1lLnNhbXBsZXJhdGUveWUsaT1NYXRoLmZsb29yKGkpKSxpfSxiZT1mdW5jdGlvbihlLHQpeyJudW1iZXIiPT10eXBlb2YgdC5wdHMmJih2b2lkIDA9PT1lLnRpbWVsaW5lU3RhcnRJbmZvLnB0cyYmKGUudGltZWxpbmVTdGFydEluZm8ucHRzPXQucHRzKSx2b2lkIDA9PT1lLm1pblNlZ21lbnRQdHM/ZS5taW5TZWdtZW50UHRzPXQucHRzOmUubWluU2VnbWVudFB0cz1NYXRoLm1pbihlLm1pblNlZ21lbnRQdHMsdC5wdHMpLHZvaWQgMD09PWUubWF4U2VnbWVudFB0cz9lLm1heFNlZ21lbnRQdHM9dC5wdHM6ZS5tYXhTZWdtZW50UHRzPU1hdGgubWF4KGUubWF4U2VnbWVudFB0cyx0LnB0cykpLCJudW1iZXIiPT10eXBlb2YgdC5kdHMmJih2b2lkIDA9PT1lLnRpbWVsaW5lU3RhcnRJbmZvLmR0cyYmKGUudGltZWxpbmVTdGFydEluZm8uZHRzPXQuZHRzKSx2b2lkIDA9PT1lLm1pblNlZ21lbnREdHM/ZS5taW5TZWdtZW50RHRzPXQuZHRzOmUubWluU2VnbWVudER0cz1NYXRoLm1pbihlLm1pblNlZ21lbnREdHMsdC5kdHMpLHZvaWQgMD09PWUubWF4U2VnbWVudER0cz9lLm1heFNlZ21lbnREdHM9dC5kdHM6ZS5tYXhTZWdtZW50RHRzPU1hdGgubWF4KGUubWF4U2VnbWVudER0cyx0LmR0cykpfSxUZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPXtwYXlsb2FkVHlwZTotMSxwYXlsb2FkU2l6ZTowfSxuPTAscj0wO3Q8ZS5ieXRlTGVuZ3RoJiYxMjghPT1lW3RdOyl7Zm9yKDsyNTU9PT1lW3RdOyluKz0yNTUsdCsrO2ZvcihuKz1lW3QrK107MjU1PT09ZVt0XTspcis9MjU1LHQrKztpZihyKz1lW3QrK10sIWkucGF5bG9hZCYmND09PW4pe2kucGF5bG9hZFR5cGU9bixpLnBheWxvYWRTaXplPXIsaS5wYXlsb2FkPWUuc3ViYXJyYXkodCx0K3IpO2JyZWFrfXQrPXIscj1uPTB9cmV0dXJuIGl9LFNlPWZ1bmN0aW9uKGUpe3JldHVybiAxODEhPT1lLnBheWxvYWRbMF0/bnVsbDo0OSE9KGUucGF5bG9hZFsxXTw8OHxlLnBheWxvYWRbMl0pP251bGw6IkdBOTQiIT09U3RyaW5nLmZyb21DaGFyQ29kZShlLnBheWxvYWRbM10sZS5wYXlsb2FkWzRdLGUucGF5bG9hZFs1XSxlLnBheWxvYWRbNl0pP251bGw6MyE9PWUucGF5bG9hZFs3XT9udWxsOmUucGF5bG9hZC5zdWJhcnJheSg4LGUucGF5bG9hZC5sZW5ndGgtMSl9LGtlPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGEscz1bXTtpZighKDY0JnRbMF0pKXJldHVybiBzO2ZvcihuPTMxJnRbMF0saT0wO2k8bjtpKyspYT17dHlwZTozJnRbMisocj0zKmkpXSxwdHM6ZX0sNCZ0WzIrcl0mJihhLmNjRGF0YT10WzMrcl08PDh8dFs0K3JdLHMucHVzaChhKSk7cmV0dXJuIHN9LENlPTQ7KHoucHJvdG90eXBlPW5ldyBIKS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGksbjtpZigic2VpX3Jic3AiPT09ZS5uYWxVbml0VHlwZSYmKHQ9VGUoZS5lc2NhcGVkUkJTUCkpLnBheWxvYWRUeXBlPT09Q2UmJihpPVNlKHQpKSlpZihlLmR0czx0aGlzLmxhdGVzdER0c18pdGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSEwO2Vsc2V7aWYoZS5kdHM9PT10aGlzLmxhdGVzdER0c18mJnRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXylyZXR1cm4gdGhpcy5udW1TYW1lRHRzXy0tLHZvaWQodGhpcy5udW1TYW1lRHRzX3x8KHRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXz0hMSkpO249a2UoZS5wdHMsaSksdGhpcy5jYXB0aW9uUGFja2V0c189dGhpcy5jYXB0aW9uUGFja2V0c18uY29uY2F0KG4pLHRoaXMubGF0ZXN0RHRzXyE9PWUuZHRzJiYodGhpcy5udW1TYW1lRHRzXz0wKSx0aGlzLm51bVNhbWVEdHNfKyssdGhpcy5sYXRlc3REdHNfPWUuZHRzfX0sei5wcm90b3R5cGUuZmx1c2hDQ1N0cmVhbXM9ZnVuY3Rpb24odCl7dGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuImZsdXNoIj09PXQ/ZS5mbHVzaCgpOmUucGFydGlhbEZsdXNoKCl9LHRoaXMpfSx6LnByb3RvdHlwZS5mbHVzaFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLmNhcHRpb25QYWNrZXRzXy5sZW5ndGgmJih0aGlzLmNhcHRpb25QYWNrZXRzXy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5wcmVzb3J0SW5kZXg9dH0pLHRoaXMuY2FwdGlvblBhY2tldHNfLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wdHM9PT10LnB0cz9lLnByZXNvcnRJbmRleC10LnByZXNvcnRJbmRleDplLnB0cy10LnB0c30pLHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50eXBlPDImJnRoaXMuZGlzcGF0Y2hDZWE2MDhQYWNrZXQoZSl9LHRoaXMpLHRoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aD0wKSx0aGlzLmZsdXNoQ0NTdHJlYW1zKGUpfSx6LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsdXNoU3RyZWFtKCJmbHVzaCIpfSx6LnByb3RvdHlwZS5wYXJ0aWFsRmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbHVzaFN0cmVhbSgicGFydGlhbEZsdXNoIil9LHoucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXRlc3REdHNfPW51bGwsdGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSExLHRoaXMubnVtU2FtZUR0c189MCx0aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfPVtudWxsLG51bGxdLHRoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVzZXQoKX0pfSx6LnByb3RvdHlwZS5kaXNwYXRjaENlYTYwOFBhY2tldD1mdW5jdGlvbihlKXt0aGlzLnNldHNUZXh0T3JYRFNBY3RpdmUoZSk/dGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPW51bGw6dGhpcy5zZXRzQ2hhbm5lbDFBY3RpdmUoZSk/dGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPTA6dGhpcy5zZXRzQ2hhbm5lbDJBY3RpdmUoZSkmJih0aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV09MSksbnVsbCE9PXRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXSYmdGhpcy5jY1N0cmVhbXNfWyhlLnR5cGU8PDEpK3RoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXV0ucHVzaChlKX0sei5wcm90b3R5cGUuc2V0c0NoYW5uZWwxQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiA0MDk2PT0oMzA3MjAmZS5jY0RhdGEpfSx6LnByb3RvdHlwZS5zZXRzQ2hhbm5lbDJBY3RpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDYxNDQ9PSgzMDcyMCZlLmNjRGF0YSl9LHoucHJvdG90eXBlLnNldHNUZXh0T3JYRFNBY3RpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI1Nj09KDI4OTI4JmUuY2NEYXRhKXx8NDEzOD09KDMwOTc0JmUuY2NEYXRhKXx8NjE4Nj09KDMwOTc0JmUuY2NEYXRhKX07ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIG51bGw9PT1lPyIiOihlPUFlW2VdfHxlLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpfWZ1bmN0aW9uIHdlKCl7Zm9yKHZhciBlPVtdLHQ9MTU7dC0tOyllLnB1c2goIiIpO3JldHVybiBlfXZhciBBZT17NDI6MjI1LDkyOjIzMyw5NDoyMzcsOTU6MjQzLDk2OjI1MCwxMjM6MjMxLDEyNDoyNDcsMTI1OjIwOSwxMjY6MjQxLDEyNzo5NjA4LDMwNDoxNzQsMzA1OjE3NiwzMDY6MTg5LDMwNzoxOTEsMzA4Ojg0ODIsMzA5OjE2MiwzMTA6MTYzLDMxMTo5ODM0LDMxMjoyMjQsMzEzOjE2MCwzMTQ6MjMyLDMxNToyMjYsMzE2OjIzNCwzMTc6MjM4LDMxODoyNDQsMzE5OjI1MSw1NDQ6MTkzLDU0NToyMDEsNTQ2OjIxMSw1NDc6MjE4LDU0ODoyMjAsNTQ5OjI1Miw1NTA6ODIxNiw1NTE6MTYxLDU1Mjo0Miw1NTM6MzksNTU0OjgyMTIsNTU1OjE2OSw1NTY6ODQ4MCw1NTc6ODIyNiw1NTg6ODIyMCw1NTk6ODIyMSw1NjA6MTkyLDU2MToxOTQsNTYyOjE5OSw1NjM6MjAwLDU2NDoyMDIsNTY1OjIwMyw1NjY6MjM1LDU2NzoyMDYsNTY4OjIwNyw1Njk6MjM5LDU3MDoyMTIsNTcxOjIxNyw1NzI6MjQ5LDU3MzoyMTksNTc0OjE3MSw1NzU6MTg3LDgwMDoxOTUsODAxOjIyNyw4MDI6MjA1LDgwMzoyMDQsODA0OjIzNiw4MDU6MjEwLDgwNjoyNDIsODA3OjIxMyw4MDg6MjQ1LDgwOToxMjMsODEwOjEyNSw4MTE6OTIsODEyOjk0LDgxMzo5NSw4MTQ6MTI0LDgxNToxMjYsODE2OjE5Niw4MTc6MjI4LDgxODoyMTQsODE5OjI0Niw4MjA6MjIzLDgyMToxNjUsODIyOjE2NCw4MjM6OTQ3NCw4MjQ6MTk3LDgyNToyMjksODI2OjIxNiw4Mjc6MjQ4LDgyODo5NDg0LDgyOTo5NDg4LDgzMDo5NDkyLDgzMTo5NDk2fSxQZT1bNDM1Miw0Mzg0LDQ2MDgsNDY0MCw1Mzc2LDU0MDgsNTYzMiw1NjY0LDU4ODgsNTkyMCw0MDk2LDQ4NjQsNDg5Niw1MTIwLDUxNTJdLEllPWZ1bmN0aW9uIGUodCxpKXtlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5maWVsZF89dHx8MCx0aGlzLmRhdGFDaGFubmVsXz1pfHwwLHRoaXMubmFtZV89IkNDIisoMSsodGhpcy5maWVsZF88PDF8dGhpcy5kYXRhQ2hhbm5lbF8pKSx0aGlzLnNldENvbnN0YW50cygpLHRoaXMucmVzZXQoKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIsYTtpZigodD0zMjYzOSZlLmNjRGF0YSkhPT10aGlzLmxhc3RDb250cm9sQ29kZV8pe2lmKDQwOTY9PSg2MTQ0MCZ0KT90aGlzLmxhc3RDb250cm9sQ29kZV89dDp0IT09dGhpcy5QQURESU5HXyYmKHRoaXMubGFzdENvbnRyb2xDb2RlXz1udWxsKSxuPXQ+Pj44LHI9MjU1JnQsdCE9PXRoaXMuUEFERElOR18paWYodD09PXRoaXMuUkVTVU1FX0NBUFRJT05fTE9BRElOR18pdGhpcy5tb2RlXz0icG9wT24iO2Vsc2UgaWYodD09PXRoaXMuRU5EX09GX0NBUFRJT05fKXRoaXMubW9kZV89InBvcE9uIix0aGlzLmNsZWFyRm9ybWF0dGluZyhlLnB0cyksdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksaT10aGlzLmRpc3BsYXllZF8sdGhpcy5kaXNwbGF5ZWRfPXRoaXMubm9uRGlzcGxheWVkXyx0aGlzLm5vbkRpc3BsYXllZF89aSx0aGlzLnN0YXJ0UHRzXz1lLnB0cztlbHNlIGlmKHQ9PT10aGlzLlJPTExfVVBfMl9ST1dTXyl0aGlzLnJvbGxVcFJvd3NfPTIsdGhpcy5zZXRSb2xsVXAoZS5wdHMpO2Vsc2UgaWYodD09PXRoaXMuUk9MTF9VUF8zX1JPV1NfKXRoaXMucm9sbFVwUm93c189Myx0aGlzLnNldFJvbGxVcChlLnB0cyk7ZWxzZSBpZih0PT09dGhpcy5ST0xMX1VQXzRfUk9XU18pdGhpcy5yb2xsVXBSb3dzXz00LHRoaXMuc2V0Um9sbFVwKGUucHRzKTtlbHNlIGlmKHQ9PT10aGlzLkNBUlJJQUdFX1JFVFVSTl8pdGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZS5wdHMpLHRoaXMuc2hpZnRSb3dzVXBfKCksdGhpcy5zdGFydFB0c189ZS5wdHM7ZWxzZSBpZih0PT09dGhpcy5CQUNLU1BBQ0VfKSJwb3BPbiI9PT10aGlzLm1vZGVfP3RoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpOnRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpO2Vsc2UgaWYodD09PXRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV8pdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksdGhpcy5kaXNwbGF5ZWRfPXdlKCk7ZWxzZSBpZih0PT09dGhpcy5FUkFTRV9OT05fRElTUExBWUVEX01FTU9SWV8pdGhpcy5ub25EaXNwbGF5ZWRfPXdlKCk7ZWxzZSBpZih0PT09dGhpcy5SRVNVTUVfRElSRUNUX0NBUFRJT05JTkdfKSJwYWludE9uIiE9PXRoaXMubW9kZV8mJih0aGlzLmZsdXNoRGlzcGxheWVkKGUucHRzKSx0aGlzLmRpc3BsYXllZF89d2UoKSksdGhpcy5tb2RlXz0icGFpbnRPbiIsdGhpcy5zdGFydFB0c189ZS5wdHM7ZWxzZSBpZih0aGlzLmlzU3BlY2lhbENoYXJhY3RlcihuLHIpKWE9RWUoKG49KDMmbik8PDgpfHIpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsYSksdGhpcy5jb2x1bW5fKys7ZWxzZSBpZih0aGlzLmlzRXh0Q2hhcmFjdGVyKG4scikpInBvcE9uIj09PXRoaXMubW9kZV8/dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X109dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X10uc2xpY2UoMCwtMSk6dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X109dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X10uc2xpY2UoMCwtMSksYT1FZSgobj0oMyZuKTw8OCl8ciksdGhpc1t0aGlzLm1vZGVfXShlLnB0cyxhKSx0aGlzLmNvbHVtbl8rKztlbHNlIGlmKHRoaXMuaXNNaWRSb3dDb2RlKG4scikpdGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsIiAiKSx0aGlzLmNvbHVtbl8rKywxND09KDE0JnIpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsWyJpIl0pLDE9PSgxJnIpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsWyJ1Il0pO2Vsc2UgaWYodGhpcy5pc09mZnNldENvbnRyb2xDb2RlKG4scikpdGhpcy5jb2x1bW5fKz0zJnI7ZWxzZSBpZih0aGlzLmlzUEFDKG4scikpe3ZhciBzPVBlLmluZGV4T2YoNzk2OCZ0KTsicm9sbFVwIj09PXRoaXMubW9kZV8mJihzLXRoaXMucm9sbFVwUm93c18rMTwwJiYocz10aGlzLnJvbGxVcFJvd3NfLTEpLHRoaXMuc2V0Um9sbFVwKGUucHRzLHMpKSxzIT09dGhpcy5yb3dfJiYodGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMucm93Xz1zKSwxJnImJi0xPT09dGhpcy5mb3JtYXR0aW5nXy5pbmRleE9mKCJ1IikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbInUiXSksMTY9PSgxNiZ0KSYmKHRoaXMuY29sdW1uXz00KigoMTQmdCk+PjEpKSx0aGlzLmlzQ29sb3JQQUMocikmJjE0PT0oMTQmcikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbImkiXSl9ZWxzZSB0aGlzLmlzTm9ybWFsQ2hhcihuKSYmKDA9PT1yJiYocj1udWxsKSxhPUVlKG4pLGErPUVlKHIpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsYSksdGhpcy5jb2x1bW5fKz1hLmxlbmd0aCl9ZWxzZSB0aGlzLmxhc3RDb250cm9sQ29kZV89bnVsbH19O0llLnByb3RvdHlwZT1uZXcgSCxJZS5wcm90b3R5cGUuZmx1c2hEaXNwbGF5ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kaXNwbGF5ZWRfLm1hcChmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUudHJpbSgpfWNhdGNoKGUpe3JldHVybiIifX0pLmpvaW4oIlxuIikucmVwbGFjZSgvXlxuK3xcbiskL2csIiIpO3QubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoImRhdGEiLHtzdGFydFB0czp0aGlzLnN0YXJ0UHRzXyxlbmRQdHM6ZSx0ZXh0OnQsc3RyZWFtOnRoaXMubmFtZV99KX0sSWUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5tb2RlXz0icG9wT24iLHRoaXMudG9wUm93Xz0wLHRoaXMuc3RhcnRQdHNfPTAsdGhpcy5kaXNwbGF5ZWRfPXdlKCksdGhpcy5ub25EaXNwbGF5ZWRfPXdlKCksdGhpcy5sYXN0Q29udHJvbENvZGVfPW51bGwsdGhpcy5jb2x1bW5fPTAsdGhpcy5yb3dfPTE0LHRoaXMucm9sbFVwUm93c189Mix0aGlzLmZvcm1hdHRpbmdfPVtdfSxJZS5wcm90b3R5cGUuc2V0Q29uc3RhbnRzPWZ1bmN0aW9uKCl7MD09PXRoaXMuZGF0YUNoYW5uZWxfPyh0aGlzLkJBU0VfPTE2LHRoaXMuRVhUXz0xNyx0aGlzLkNPTlRST0xfPSgyMHx0aGlzLmZpZWxkXyk8PDgsdGhpcy5PRkZTRVRfPTIzKToxPT09dGhpcy5kYXRhQ2hhbm5lbF8mJih0aGlzLkJBU0VfPTI0LHRoaXMuRVhUXz0yNSx0aGlzLkNPTlRST0xfPSgyOHx0aGlzLmZpZWxkXyk8PDgsdGhpcy5PRkZTRVRfPTMxKSx0aGlzLlBBRERJTkdfPTAsdGhpcy5SRVNVTUVfQ0FQVElPTl9MT0FESU5HXz0zMnx0aGlzLkNPTlRST0xfLHRoaXMuRU5EX09GX0NBUFRJT05fPTQ3fHRoaXMuQ09OVFJPTF8sdGhpcy5ST0xMX1VQXzJfUk9XU189Mzd8dGhpcy5DT05UUk9MXyx0aGlzLlJPTExfVVBfM19ST1dTXz0zOHx0aGlzLkNPTlRST0xfLHRoaXMuUk9MTF9VUF80X1JPV1NfPTM5fHRoaXMuQ09OVFJPTF8sdGhpcy5DQVJSSUFHRV9SRVRVUk5fPTQ1fHRoaXMuQ09OVFJPTF8sdGhpcy5SRVNVTUVfRElSRUNUX0NBUFRJT05JTkdfPTQxfHRoaXMuQ09OVFJPTF8sdGhpcy5CQUNLU1BBQ0VfPTMzfHRoaXMuQ09OVFJPTF8sdGhpcy5FUkFTRV9ESVNQTEFZRURfTUVNT1JZXz00NHx0aGlzLkNPTlRST0xfLHRoaXMuRVJBU0VfTk9OX0RJU1BMQVlFRF9NRU1PUllfPTQ2fHRoaXMuQ09OVFJPTF99LEllLnByb3RvdHlwZS5pc1NwZWNpYWxDaGFyYWN0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXRoaXMuRVhUXyYmNDg8PXQmJnQ8PTYzfSxJZS5wcm90b3R5cGUuaXNFeHRDaGFyYWN0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT09PXRoaXMuRVhUXysxfHxlPT09dGhpcy5FWFRfKzIpJiYzMjw9dCYmdDw9NjN9LEllLnByb3RvdHlwZS5pc01pZFJvd0NvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXRoaXMuRVhUXyYmMzI8PXQmJnQ8PTQ3fSxJZS5wcm90b3R5cGUuaXNPZmZzZXRDb250cm9sQ29kZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dGhpcy5PRkZTRVRfJiYzMzw9dCYmdDw9MzV9LEllLnByb3RvdHlwZS5pc1BBQz1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10aGlzLkJBU0VfJiZlPHRoaXMuQkFTRV8rOCYmNjQ8PXQmJnQ8PTEyN30sSWUucHJvdG90eXBlLmlzQ29sb3JQQUM9ZnVuY3Rpb24oZSl7cmV0dXJuIDY0PD1lJiZlPD03OXx8OTY8PWUmJmU8PTEyN30sSWUucHJvdG90eXBlLmlzTm9ybWFsQ2hhcj1mdW5jdGlvbihlKXtyZXR1cm4gMzI8PWUmJmU8PTEyN30sSWUucHJvdG90eXBlLnNldFJvbGxVcD1mdW5jdGlvbihlLHQpe2lmKCJyb2xsVXAiIT09dGhpcy5tb2RlXyYmKHRoaXMucm93Xz0xNCx0aGlzLm1vZGVfPSJyb2xsVXAiLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZSksdGhpcy5ub25EaXNwbGF5ZWRfPXdlKCksdGhpcy5kaXNwbGF5ZWRfPXdlKCkpLHZvaWQgMCE9PXQmJnQhPT10aGlzLnJvd18pZm9yKHZhciBpPTA7aTx0aGlzLnJvbGxVcFJvd3NfO2krKyl0aGlzLmRpc3BsYXllZF9bdC1pXT10aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfLWldLHRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd18taV09IiI7dm9pZCAwPT09dCYmKHQ9dGhpcy5yb3dfKSx0aGlzLnRvcFJvd189dC10aGlzLnJvbGxVcFJvd3NfKzF9LEllLnByb3RvdHlwZS5hZGRGb3JtYXR0aW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5mb3JtYXR0aW5nXz10aGlzLmZvcm1hdHRpbmdfLmNvbmNhdCh0KTt2YXIgaT10LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlKyI8Iit0KyI+In0sIiIpO3RoaXNbdGhpcy5tb2RlX10oZSxpKX0sSWUucHJvdG90eXBlLmNsZWFyRm9ybWF0dGluZz1mdW5jdGlvbihlKXtpZih0aGlzLmZvcm1hdHRpbmdfLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtYXR0aW5nXy5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIjwvIit0KyI+In0sIiIpO3RoaXMuZm9ybWF0dGluZ189W10sdGhpc1t0aGlzLm1vZGVfXShlLHQpfX0sSWUucHJvdG90eXBlLnBvcE9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X107aSs9dCx0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXT1pfSxJZS5wcm90b3R5cGUucm9sbFVwPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X107aSs9dCx0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT1pfSxJZS5wcm90b3R5cGUuc2hpZnRSb3dzVXBfPWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9MDtlPHRoaXMudG9wUm93XztlKyspdGhpcy5kaXNwbGF5ZWRfW2VdPSIiO2ZvcihlPXRoaXMucm93XysxO2U8MTU7ZSsrKXRoaXMuZGlzcGxheWVkX1tlXT0iIjtmb3IoZT10aGlzLnRvcFJvd187ZTx0aGlzLnJvd187ZSsrKXRoaXMuZGlzcGxheWVkX1tlXT10aGlzLmRpc3BsYXllZF9bZSsxXTt0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT0iIn0sSWUucHJvdG90eXBlLnBhaW50T249ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXTtpKz10LHRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dPWl9O2Z1bmN0aW9uIExlKGUsdCl7dmFyIGk9MTtmb3IodDxlJiYoaT0tMSk7NDI5NDk2NzI5NjxNYXRoLmFicyh0LWUpOyllKz04NTg5OTM0NTkyKmk7cmV0dXJuIGV9ZnVuY3Rpb24gT2UoZSl7dmFyIHQsaTtPZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMudHlwZV89ZXx8InNoYXJlZCIsdGhpcy5wdXNoPWZ1bmN0aW9uKGUpeyJzaGFyZWQiIT09dGhpcy50eXBlXyYmZS50eXBlIT09dGhpcy50eXBlX3x8KHZvaWQgMD09PWkmJihpPWUuZHRzKSxlLmR0cz1MZShlLmR0cyxpKSxlLnB0cz1MZShlLnB0cyxpKSx0PWUuZHRzLHRoaXMudHJpZ2dlcigiZGF0YSIsZSkpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7aT10LHRoaXMudHJpZ2dlcigiZG9uZSIpfSx0aGlzLmVuZFRpbWVsaW5lPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpLHRoaXMudHJpZ2dlcigiZW5kZWR0aW1lbGluZSIpfSx0aGlzLmRpc2NvbnRpbnVpdHk9ZnVuY3Rpb24oKXt0PWk9dm9pZCAwfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5kaXNjb250aW51aXR5KCksdGhpcy50cmlnZ2VyKCJyZXNldCIpfX12YXIgeGU9e0NhcHRpb25TdHJlYW06eixDZWE2MDhTdHJlYW06SWV9LERlPXtIMjY0X1NUUkVBTV9UWVBFOjI3LEFEVFNfU1RSRUFNX1RZUEU6MTUsTUVUQURBVEFfU1RSRUFNX1RZUEU6MjF9O09lLnByb3RvdHlwZT1uZXcgSDtmdW5jdGlvbiBVZShlLHQsaSl7dmFyIG4scj0iIjtmb3Iobj10O248aTtuKyspcis9IiUiKygiMDAiK2Vbbl0udG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIHJ9ZnVuY3Rpb24gUmUoZSx0LGkpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoVWUoZSx0LGkpKX1mdW5jdGlvbiBNZShlKXtyZXR1cm4gZVswXTw8MjF8ZVsxXTw8MTR8ZVsyXTw8N3xlWzNdfXZhciBOZSxCZT1PZSxqZT17VFhYWDpmdW5jdGlvbihlKXt2YXIgdDtpZigzPT09ZS5kYXRhWzBdKXtmb3IodD0xO3Q8ZS5kYXRhLmxlbmd0aDt0KyspaWYoMD09PWUuZGF0YVt0XSl7ZS5kZXNjcmlwdGlvbj1SZShlLmRhdGEsMSx0KSxlLnZhbHVlPVJlKGUuZGF0YSx0KzEsZS5kYXRhLmxlbmd0aCkucmVwbGFjZSgvXDAqJC8sIiIpO2JyZWFrfWUuZGF0YT1lLnZhbHVlfX0sV1hYWDpmdW5jdGlvbihlKXt2YXIgdDtpZigzPT09ZS5kYXRhWzBdKWZvcih0PTE7dDxlLmRhdGEubGVuZ3RoO3QrKylpZigwPT09ZS5kYXRhW3RdKXtlLmRlc2NyaXB0aW9uPVJlKGUuZGF0YSwxLHQpLGUudXJsPVJlKGUuZGF0YSx0KzEsZS5kYXRhLmxlbmd0aCk7YnJlYWt9fSxQUklWOmZ1bmN0aW9uKGUpe3ZhciB0LGk7Zm9yKHQ9MDt0PGUuZGF0YS5sZW5ndGg7dCsrKWlmKDA9PT1lLmRhdGFbdF0pe2Uub3duZXI9KGk9ZS5kYXRhLHVuZXNjYXBlKFVlKGksMCx0KSkpO2JyZWFrfWUucHJpdmF0ZURhdGE9ZS5kYXRhLnN1YmFycmF5KHQrMSksZS5kYXRhPWUucHJpdmF0ZURhdGF9fTsoTmU9ZnVuY3Rpb24oZSl7dmFyIHQsdT17ZGVidWc6ISghZXx8IWUuZGVidWcpLGRlc2NyaXB0b3I6ZSYmZS5kZXNjcmlwdG9yfSxsPTAsYz1bXSxoPTA7aWYoTmUucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmRpc3BhdGNoVHlwZT1EZS5NRVRBREFUQV9TVFJFQU1fVFlQRS50b1N0cmluZygxNiksdS5kZXNjcmlwdG9yKWZvcih0PTA7dDx1LmRlc2NyaXB0b3IubGVuZ3RoO3QrKyl0aGlzLmRpc3BhdGNoVHlwZSs9KCIwMCIrdS5kZXNjcmlwdG9yW3RdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3RoaXMucHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhO2lmKCJ0aW1lZC1tZXRhZGF0YSI9PT1lLnR5cGUpaWYoZS5kYXRhQWxpZ25tZW50SW5kaWNhdG9yJiYoaD0wLGMubGVuZ3RoPTApLDA9PT1jLmxlbmd0aCYmKGUuZGF0YS5sZW5ndGg8MTB8fGUuZGF0YVswXSE9PSJJIi5jaGFyQ29kZUF0KDApfHxlLmRhdGFbMV0hPT0iRCIuY2hhckNvZGVBdCgwKXx8ZS5kYXRhWzJdIT09IjMiLmNoYXJDb2RlQXQoMCkpKXUuZGVidWc7ZWxzZSBpZihjLnB1c2goZSksaCs9ZS5kYXRhLmJ5dGVMZW5ndGgsMT09PWMubGVuZ3RoJiYobD1NZShlLmRhdGEuc3ViYXJyYXkoNiwxMCkpLGwrPTEwKSwhKGg8bCkpe2Zvcih0PXtkYXRhOm5ldyBVaW50OEFycmF5KGwpLGZyYW1lczpbXSxwdHM6Y1swXS5wdHMsZHRzOmNbMF0uZHRzfSxhPTA7YTxsOyl0LmRhdGEuc2V0KGNbMF0uZGF0YS5zdWJhcnJheSgwLGwtYSksYSksYSs9Y1swXS5kYXRhLmJ5dGVMZW5ndGgsaC09Y1swXS5kYXRhLmJ5dGVMZW5ndGgsYy5zaGlmdCgpO2k9MTAsNjQmdC5kYXRhWzVdJiYoaSs9NCxpKz1NZSh0LmRhdGEuc3ViYXJyYXkoMTAsMTQpKSxsLT1NZSh0LmRhdGEuc3ViYXJyYXkoMTYsMjApKSk7ZG97aWYoKG49TWUodC5kYXRhLnN1YmFycmF5KGkrNCxpKzgpKSk8MSlyZXR1cm47aWYoKHI9e2lkOlN0cmluZy5mcm9tQ2hhckNvZGUodC5kYXRhW2ldLHQuZGF0YVtpKzFdLHQuZGF0YVtpKzJdLHQuZGF0YVtpKzNdKSxkYXRhOnQuZGF0YS5zdWJhcnJheShpKzEwLGkrbisxMCl9KS5rZXk9ci5pZCxqZVtyLmlkXSYmKGplW3IuaWRdKHIpLCJjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCI9PT1yLm93bmVyKSl7dmFyIHM9ci5kYXRhLG89KDEmc1szXSk8PDMwfHNbNF08PDIyfHNbNV08PDE0fHNbNl08PDZ8c1s3XT4+PjI7byo9NCxvKz0zJnNbN10sci50aW1lU3RhbXA9byx2b2lkIDA9PT10LnB0cyYmdm9pZCAwPT09dC5kdHMmJih0LnB0cz1yLnRpbWVTdGFtcCx0LmR0cz1yLnRpbWVTdGFtcCksdGhpcy50cmlnZ2VyKCJ0aW1lc3RhbXAiLHIpfXQuZnJhbWVzLnB1c2gociksaSs9MTAsaSs9bn13aGlsZShpPGwpO3RoaXMudHJpZ2dlcigiZGF0YSIsdCl9fX0pLnByb3RvdHlwZT1uZXcgSDt2YXIgRmUsSGUsVmUscWU9TmUsV2U9QmU7KEZlPWZ1bmN0aW9uKCl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoMTg4KSxhPTA7RmUucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaT0wLG49MTg4O2ZvcihhPygodD1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrYSkpLnNldChyLnN1YmFycmF5KDAsYSkpLHQuc2V0KGUsYSksYT0wKTp0PWU7bjx0LmJ5dGVMZW5ndGg7KTcxIT09dFtpXXx8NzEhPT10W25dPyhpKyssbisrKToodGhpcy50cmlnZ2VyKCJkYXRhIix0LnN1YmFycmF5KGksbikpLGkrPTE4OCxuKz0xODgpO2k8dC5ieXRlTGVuZ3RoJiYoci5zZXQodC5zdWJhcnJheShpKSwwKSxhPXQuYnl0ZUxlbmd0aC1pKX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpezE4OD09PWEmJjcxPT09clswXSYmKHRoaXMudHJpZ2dlcigiZGF0YSIsciksYT0wKSx0aGlzLnRyaWdnZXIoImRvbmUiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe3RoaXMuZmx1c2goKSx0aGlzLnRyaWdnZXIoImVuZGVkdGltZWxpbmUiKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe2E9MCx0aGlzLnRyaWdnZXIoInJlc2V0Iil9fSkucHJvdG90eXBlPW5ldyBILChIZT1mdW5jdGlvbigpe3ZhciBuLHIsYSxzO0hlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksKHM9dGhpcykucGFja2V0c1dhaXRpbmdGb3JQbXQ9W10sdGhpcy5wcm9ncmFtTWFwVGFibGU9dm9pZCAwLG49ZnVuY3Rpb24oZSx0KXt2YXIgaT0wO3QucGF5bG9hZFVuaXRTdGFydEluZGljYXRvciYmKGkrPWVbaV0rMSksInBhdCI9PT10LnR5cGU/cihlLnN1YmFycmF5KGkpLHQpOmEoZS5zdWJhcnJheShpKSx0KX0scj1mdW5jdGlvbihlLHQpe3Quc2VjdGlvbl9udW1iZXI9ZVs3XSx0Lmxhc3Rfc2VjdGlvbl9udW1iZXI9ZVs4XSxzLnBtdFBpZD0oMzEmZVsxMF0pPDw4fGVbMTFdLHQucG10UGlkPXMucG10UGlkfSxhPWZ1bmN0aW9uKGUsdCl7dmFyIGksbjtpZigxJmVbNV0pe2ZvcihzLnByb2dyYW1NYXBUYWJsZT17dmlkZW86bnVsbCxhdWRpbzpudWxsLCJ0aW1lZC1tZXRhZGF0YSI6e319LGk9MysoKDE1JmVbMV0pPDw4fGVbMl0pLTQsbj0xMisoKDE1JmVbMTBdKTw8OHxlWzExXSk7bjxpOyl7dmFyIHI9ZVtuXSxhPSgzMSZlW24rMV0pPDw4fGVbbisyXTtyPT09RGUuSDI2NF9TVFJFQU1fVFlQRSYmbnVsbD09PXMucHJvZ3JhbU1hcFRhYmxlLnZpZGVvP3MucHJvZ3JhbU1hcFRhYmxlLnZpZGVvPWE6cj09PURlLkFEVFNfU1RSRUFNX1RZUEUmJm51bGw9PT1zLnByb2dyYW1NYXBUYWJsZS5hdWRpbz9zLnByb2dyYW1NYXBUYWJsZS5hdWRpbz1hOnI9PT1EZS5NRVRBREFUQV9TVFJFQU1fVFlQRSYmKHMucHJvZ3JhbU1hcFRhYmxlWyJ0aW1lZC1tZXRhZGF0YSJdW2FdPXIpLG4rPTUrKCgxNSZlW24rM10pPDw4fGVbbis0XSl9dC5wcm9ncmFtTWFwVGFibGU9cy5wcm9ncmFtTWFwVGFibGV9fSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9e30saT00O2lmKHQucGF5bG9hZFVuaXRTdGFydEluZGljYXRvcj0hISg2NCZlWzFdKSx0LnBpZD0zMSZlWzFdLHQucGlkPDw9OCx0LnBpZHw9ZVsyXSwxPCg0OCZlWzNdKT4+PjQmJihpKz1lW2ldKzEpLDA9PT10LnBpZCl0LnR5cGU9InBhdCIsbihlLnN1YmFycmF5KGkpLHQpLHRoaXMudHJpZ2dlcigiZGF0YSIsdCk7ZWxzZSBpZih0LnBpZD09PXRoaXMucG10UGlkKWZvcih0LnR5cGU9InBtdCIsbihlLnN1YmFycmF5KGkpLHQpLHRoaXMudHJpZ2dlcigiZGF0YSIsdCk7dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5sZW5ndGg7KXRoaXMucHJvY2Vzc1Blc18uYXBwbHkodGhpcyx0aGlzLnBhY2tldHNXYWl0aW5nRm9yUG10LnNoaWZ0KCkpO2Vsc2Ugdm9pZCAwPT09dGhpcy5wcm9ncmFtTWFwVGFibGU/dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5wdXNoKFtlLGksdF0pOnRoaXMucHJvY2Vzc1Blc18oZSxpLHQpfSx0aGlzLnByb2Nlc3NQZXNfPWZ1bmN0aW9uKGUsdCxpKXtpLnBpZD09PXRoaXMucHJvZ3JhbU1hcFRhYmxlLnZpZGVvP2kuc3RyZWFtVHlwZT1EZS5IMjY0X1NUUkVBTV9UWVBFOmkucGlkPT09dGhpcy5wcm9ncmFtTWFwVGFibGUuYXVkaW8/aS5zdHJlYW1UeXBlPURlLkFEVFNfU1RSRUFNX1RZUEU6aS5zdHJlYW1UeXBlPXRoaXMucHJvZ3JhbU1hcFRhYmxlWyJ0aW1lZC1tZXRhZGF0YSJdW2kucGlkXSxpLnR5cGU9InBlcyIsaS5kYXRhPWUuc3ViYXJyYXkodCksdGhpcy50cmlnZ2VyKCJkYXRhIixpKX19KS5wcm90b3R5cGU9bmV3IEgsSGUuU1RSRUFNX1RZUEVTPXtoMjY0OjI3LGFkdHM6MTV9LChWZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oZSx0LGkpe3ZhciBuLHIsYT1uZXcgVWludDhBcnJheShlLnNpemUpLHM9e3R5cGU6dH0sbz0wLHU9MDtpZihlLmRhdGEubGVuZ3RoJiYhKGUuc2l6ZTw5KSl7Zm9yKHMudHJhY2tJZD1lLmRhdGFbMF0ucGlkLG89MDtvPGUuZGF0YS5sZW5ndGg7bysrKXI9ZS5kYXRhW29dLGEuc2V0KHIuZGF0YSx1KSx1Kz1yLmRhdGEuYnl0ZUxlbmd0aDshZnVuY3Rpb24oZSx0KXt2YXIgaTt0LnBhY2tldExlbmd0aD02KyhlWzRdPDw4fGVbNV0pLHQuZGF0YUFsaWdubWVudEluZGljYXRvcj0wIT0oNCZlWzZdKSwxOTImKGk9ZVs3XSkmJih0LnB0cz0oMTQmZVs5XSk8PDI3fCgyNTUmZVsxMF0pPDwyMHwoMjU0JmVbMTFdKTw8MTJ8KDI1NSZlWzEyXSk8PDV8KDI1NCZlWzEzXSk+Pj4zLHQucHRzKj00LHQucHRzKz0oNiZlWzEzXSk+Pj4xLHQuZHRzPXQucHRzLDY0JmkmJih0LmR0cz0oMTQmZVsxNF0pPDwyN3woMjU1JmVbMTVdKTw8MjB8KDI1NCZlWzE2XSk8PDEyfCgyNTUmZVsxN10pPDw1fCgyNTQmZVsxOF0pPj4+Myx0LmR0cyo9NCx0LmR0cys9KDYmZVsxOF0pPj4+MSkpLHQuZGF0YT1lLnN1YmFycmF5KDkrZVs4XSl9KGEscyksbj0idmlkZW8iPT09dHx8cy5wYWNrZXRMZW5ndGg8PWUuc2l6ZSwoaXx8bikmJihlLnNpemU9MCxlLmRhdGEubGVuZ3RoPTApLG4mJmwudHJpZ2dlcigiZGF0YSIscyl9fXZhciB0LGw9dGhpcyxyPXtkYXRhOltdLHNpemU6MH0sYT17ZGF0YTpbXSxzaXplOjB9LHM9e2RhdGE6W10sc2l6ZTowfTtWZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihpKXsoe3BhdDpmdW5jdGlvbigpe30scGVzOmZ1bmN0aW9uKCl7dmFyIGUsdDtzd2l0Y2goaS5zdHJlYW1UeXBlKXtjYXNlIERlLkgyNjRfU1RSRUFNX1RZUEU6Y2FzZSBEZS5IMjY0X1NUUkVBTV9UWVBFOmU9cix0PSJ2aWRlbyI7YnJlYWs7Y2FzZSBEZS5BRFRTX1NUUkVBTV9UWVBFOmU9YSx0PSJhdWRpbyI7YnJlYWs7Y2FzZSBEZS5NRVRBREFUQV9TVFJFQU1fVFlQRTplPXMsdD0idGltZWQtbWV0YWRhdGEiO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWkucGF5bG9hZFVuaXRTdGFydEluZGljYXRvciYmbihlLHQsITApLGUuZGF0YS5wdXNoKGkpLGUuc2l6ZSs9aS5kYXRhLmJ5dGVMZW5ndGh9LHBtdDpmdW5jdGlvbigpe3ZhciBlPXt0eXBlOiJtZXRhZGF0YSIsdHJhY2tzOltdfTtudWxsIT09KHQ9aS5wcm9ncmFtTWFwVGFibGUpLnZpZGVvJiZlLnRyYWNrcy5wdXNoKHt0aW1lbGluZVN0YXJ0SW5mbzp7YmFzZU1lZGlhRGVjb2RlVGltZTowfSxpZDordC52aWRlbyxjb2RlYzoiYXZjIix0eXBlOiJ2aWRlbyJ9KSxudWxsIT09dC5hdWRpbyYmZS50cmFja3MucHVzaCh7dGltZWxpbmVTdGFydEluZm86e2Jhc2VNZWRpYURlY29kZVRpbWU6MH0saWQ6K3QuYXVkaW8sY29kZWM6ImFkdHMiLHR5cGU6ImF1ZGlvIn0pLGwudHJpZ2dlcigiZGF0YSIsZSl9fSlbaS50eXBlXSgpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7ci5zaXplPTAsci5kYXRhLmxlbmd0aD0wLGEuc2l6ZT0wLGEuZGF0YS5sZW5ndGg9MCx0aGlzLnRyaWdnZXIoInJlc2V0Iil9LHRoaXMuZmx1c2hTdHJlYW1zXz1mdW5jdGlvbigpe24ociwidmlkZW8iKSxuKGEsImF1ZGlvIiksbihzLCJ0aW1lZC1tZXRhZGF0YSIpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaFN0cmVhbXNfKCksdGhpcy50cmlnZ2VyKCJkb25lIil9fSkucHJvdG90eXBlPW5ldyBIO3ZhciB6ZT17UEFUX1BJRDowLE1QMlRfUEFDS0VUX0xFTkdUSDoxODgsVHJhbnNwb3J0UGFja2V0U3RyZWFtOkZlLFRyYW5zcG9ydFBhcnNlU3RyZWFtOkhlLEVsZW1lbnRhcnlTdHJlYW06VmUsVGltZXN0YW1wUm9sbG92ZXJTdHJlYW06V2UsQ2FwdGlvblN0cmVhbTp4ZS5DYXB0aW9uU3RyZWFtLENlYTYwOFN0cmVhbTp4ZS5DZWE2MDhTdHJlYW0sTWV0YWRhdGFTdHJlYW06cWV9O2Zvcih2YXIgJGUgaW4gRGUpRGUuaGFzT3duUHJvcGVydHkoJGUpJiYoemVbJGVdPURlWyRlXSk7dmFyIEdlLFhlPXplLEtlPWxlLFllPVs5NmUzLDg4MjAwLDY0ZTMsNDhlMyw0NDEwMCwzMmUzLDI0ZTMsMjIwNTAsMTZlMywxMmUzLDExMDI1LDhlMyw3MzUwXTsoR2U9ZnVuY3Rpb24odSl7dmFyIGwsYz0wO0dlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGEscyxvPTA7aWYodXx8KGM9MCksImF1ZGlvIj09PWUudHlwZSlmb3IobD8ocj1sLChsPW5ldyBVaW50OEFycmF5KHIuYnl0ZUxlbmd0aCtlLmRhdGEuYnl0ZUxlbmd0aCkpLnNldChyKSxsLnNldChlLmRhdGEsci5ieXRlTGVuZ3RoKSk6bD1lLmRhdGE7bys1PGwubGVuZ3RoOylpZigyNTU9PT1sW29dJiYyNDA9PSgyNDYmbFtvKzFdKSl7aWYoaT0yKigxJn5sW28rMV0pLHQ9KDMmbFtvKzNdKTw8MTF8bFtvKzRdPDwzfCgyMjQmbFtvKzVdKT4+NSxzPShhPTEwMjQqKDErKDMmbFtvKzZdKSkpKktlL1llWyg2MCZsW28rMl0pPj4+Ml0sbj1vK3QsbC5ieXRlTGVuZ3RoPG4pcmV0dXJuO2lmKHRoaXMudHJpZ2dlcigiZGF0YSIse3B0czplLnB0cytjKnMsZHRzOmUuZHRzK2MqcyxzYW1wbGVDb3VudDphLGF1ZGlvb2JqZWN0dHlwZToxKyhsW28rMl0+Pj42JjMpLGNoYW5uZWxjb3VudDooMSZsW28rMl0pPDwyfCgxOTImbFtvKzNdKT4+PjYsc2FtcGxlcmF0ZTpZZVsoNjAmbFtvKzJdKT4+PjJdLHNhbXBsaW5nZnJlcXVlbmN5aW5kZXg6KDYwJmxbbysyXSk+Pj4yLHNhbXBsZXNpemU6MTYsZGF0YTpsLnN1YmFycmF5KG8rNytpLG4pfSksYysrLGwuYnl0ZUxlbmd0aD09PW4pcmV0dXJuIHZvaWQobD12b2lkIDApO2w9bC5zdWJhcnJheShuKX1lbHNlIG8rK30sdGhpcy5mbHVzaD1mdW5jdGlvbigpe2M9MCx0aGlzLnRyaWdnZXIoImRvbmUiKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe2w9dm9pZCAwLHRoaXMudHJpZ2dlcigicmVzZXQiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe2w9dm9pZCAwLHRoaXMudHJpZ2dlcigiZW5kZWR0aW1lbGluZSIpfX0pLnByb3RvdHlwZT1uZXcgSDt2YXIgUWUsSmUsWmUsZXQ9R2UsdHQ9ZnVuY3Rpb24obil7dmFyIHI9bi5ieXRlTGVuZ3RoLGE9MCxzPTA7dGhpcy5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gOCpyfSx0aGlzLmJpdHNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gOCpyK3N9LHRoaXMubG9hZFdvcmQ9ZnVuY3Rpb24oKXt2YXIgZT1uLmJ5dGVMZW5ndGgtcix0PW5ldyBVaW50OEFycmF5KDQpLGk9TWF0aC5taW4oNCxyKTtpZigwPT09aSl0aHJvdyBuZXcgRXJyb3IoIm5vIGJ5dGVzIGF2YWlsYWJsZSIpO3Quc2V0KG4uc3ViYXJyYXkoZSxlK2kpKSxhPW5ldyBEYXRhVmlldyh0LmJ1ZmZlcikuZ2V0VWludDMyKDApLHM9OCppLHItPWl9LHRoaXMuc2tpcEJpdHM9ZnVuY3Rpb24oZSl7dmFyIHQ7ZTxzfHwoZS09cyxlLT04Kih0PU1hdGguZmxvb3IoZS84KSksci09dCx0aGlzLmxvYWRXb3JkKCkpLGE8PD1lLHMtPWV9LHRoaXMucmVhZEJpdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5taW4ocyxlKSxpPWE+Pj4zMi10O3JldHVybiAwPChzLT10KT9hPDw9dDowPHImJnRoaXMubG9hZFdvcmQoKSwwPCh0PWUtdCk/aTw8dHx0aGlzLnJlYWRCaXRzKHQpOml9LHRoaXMuc2tpcExlYWRpbmdaZXJvcz1mdW5jdGlvbigpe3ZhciBlO2ZvcihlPTA7ZTxzOysrZSlpZigwIT0oYSYyMTQ3NDgzNjQ4Pj4+ZSkpcmV0dXJuIGE8PD1lLHMtPWUsZTtyZXR1cm4gdGhpcy5sb2FkV29yZCgpLGUrdGhpcy5za2lwTGVhZGluZ1plcm9zKCl9LHRoaXMuc2tpcFVuc2lnbmVkRXhwR29sb21iPWZ1bmN0aW9uKCl7dGhpcy5za2lwQml0cygxK3RoaXMuc2tpcExlYWRpbmdaZXJvcygpKX0sdGhpcy5za2lwRXhwR29sb21iPWZ1bmN0aW9uKCl7dGhpcy5za2lwQml0cygxK3RoaXMuc2tpcExlYWRpbmdaZXJvcygpKX0sdGhpcy5yZWFkVW5zaWduZWRFeHBHb2xvbWI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNraXBMZWFkaW5nWmVyb3MoKTtyZXR1cm4gdGhpcy5yZWFkQml0cyhlKzEpLTF9LHRoaXMucmVhZEV4cEdvbG9tYj1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7cmV0dXJuIDEmZT8xK2U+Pj4xOi0xKihlPj4+MSl9LHRoaXMucmVhZEJvb2xlYW49ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucmVhZEJpdHMoMSl9LHRoaXMucmVhZFVuc2lnbmVkQnl0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRCaXRzKDgpfSx0aGlzLmxvYWRXb3JkKCl9OyhKZT1mdW5jdGlvbigpe3ZhciBuLHIsYT0wO0plLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPShyPXI/KCh0PW5ldyBVaW50OEFycmF5KHIuYnl0ZUxlbmd0aCtlLmRhdGEuYnl0ZUxlbmd0aCkpLnNldChyKSx0LnNldChlLmRhdGEsci5ieXRlTGVuZ3RoKSx0KTplLmRhdGEpLmJ5dGVMZW5ndGg7YTxpLTM7YSsrKWlmKDE9PT1yW2ErMl0pe249YSs1O2JyZWFrfWZvcig7bjxpOylzd2l0Y2gocltuXSl7Y2FzZSAwOmlmKDAhPT1yW24tMV0pe24rPTI7YnJlYWt9aWYoMCE9PXJbbi0yXSl7bisrO2JyZWFrfWZvcihhKzMhPT1uLTImJnRoaXMudHJpZ2dlcigiZGF0YSIsci5zdWJhcnJheShhKzMsbi0yKSk7MSE9PXJbKytuXSYmbjxpOyk7YT1uLTIsbis9MzticmVhaztjYXNlIDE6aWYoMCE9PXJbbi0xXXx8MCE9PXJbbi0yXSl7bis9MzticmVha310aGlzLnRyaWdnZXIoImRhdGEiLHIuc3ViYXJyYXkoYSszLG4tMikpLGE9bi0yLG4rPTM7YnJlYWs7ZGVmYXVsdDpuKz0zfXI9ci5zdWJhcnJheShhKSxuLT1hLGE9MH0sdGhpcy5yZXNldD1mdW5jdGlvbigpe3I9bnVsbCxhPTAsdGhpcy50cmlnZ2VyKCJyZXNldCIpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7ciYmMzxyLmJ5dGVMZW5ndGgmJnRoaXMudHJpZ2dlcigiZGF0YSIsci5zdWJhcnJheShhKzMpKSxyPW51bGwsYT0wLHRoaXMudHJpZ2dlcigiZG9uZSIpfSx0aGlzLmVuZFRpbWVsaW5lPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpLHRoaXMudHJpZ2dlcigiZW5kZWR0aW1lbGluZSIpfX0pLnByb3RvdHlwZT1uZXcgSCxaZT17MTAwOiEwLDExMDohMCwxMjI6ITAsMjQ0OiEwLDQ0OiEwLDgzOiEwLDg2OiEwLDExODohMCwxMjg6ITAsMTM4OiEwLDEzOTohMCwxMzQ6ITB9LChRZT1mdW5jdGlvbigpe3ZhciBpLG4scixhLHMsbyxfLHQ9bmV3IEplO1FlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksKGk9dGhpcykucHVzaD1mdW5jdGlvbihlKXsidmlkZW8iPT09ZS50eXBlJiYobj1lLnRyYWNrSWQscj1lLnB0cyxhPWUuZHRzLHQucHVzaChlKSl9LHQub24oImRhdGEiLGZ1bmN0aW9uKGUpe3ZhciB0PXt0cmFja0lkOm4scHRzOnIsZHRzOmEsZGF0YTplfTtzd2l0Y2goMzEmZVswXSl7Y2FzZSA1OnQubmFsVW5pdFR5cGU9InNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyIjticmVhaztjYXNlIDY6dC5uYWxVbml0VHlwZT0ic2VpX3Jic3AiLHQuZXNjYXBlZFJCU1A9cyhlLnN1YmFycmF5KDEpKTticmVhaztjYXNlIDc6dC5uYWxVbml0VHlwZT0ic2VxX3BhcmFtZXRlcl9zZXRfcmJzcCIsdC5lc2NhcGVkUkJTUD1zKGUuc3ViYXJyYXkoMSkpLHQuY29uZmlnPW8odC5lc2NhcGVkUkJTUCk7YnJlYWs7Y2FzZSA4OnQubmFsVW5pdFR5cGU9InBpY19wYXJhbWV0ZXJfc2V0X3Jic3AiO2JyZWFrO2Nhc2UgOTp0Lm5hbFVuaXRUeXBlPSJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCJ9aS50cmlnZ2VyKCJkYXRhIix0KX0pLHQub24oImRvbmUiLGZ1bmN0aW9uKCl7aS50cmlnZ2VyKCJkb25lIil9KSx0Lm9uKCJwYXJ0aWFsZG9uZSIsZnVuY3Rpb24oKXtpLnRyaWdnZXIoInBhcnRpYWxkb25lIil9KSx0Lm9uKCJyZXNldCIsZnVuY3Rpb24oKXtpLnRyaWdnZXIoInJlc2V0Iil9KSx0Lm9uKCJlbmRlZHRpbWVsaW5lIixmdW5jdGlvbigpe2kudHJpZ2dlcigiZW5kZWR0aW1lbGluZSIpfSksdGhpcy5mbHVzaD1mdW5jdGlvbigpe3QuZmx1c2goKX0sdGhpcy5wYXJ0aWFsRmx1c2g9ZnVuY3Rpb24oKXt0LnBhcnRpYWxGbHVzaCgpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dC5yZXNldCgpfSx0aGlzLmVuZFRpbWVsaW5lPWZ1bmN0aW9uKCl7dC5lbmRUaW1lbGluZSgpfSxfPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj04LHI9ODtmb3IoaT0wO2k8ZTtpKyspMCE9PXImJihyPShuK3QucmVhZEV4cEdvbG9tYigpKzI1NiklMjU2KSxuPTA9PT1yP246cn0scz1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxuPWUuYnl0ZUxlbmd0aCxyPVtdLGE9MTthPG4tMjspMD09PWVbYV0mJjA9PT1lW2ErMV0mJjM9PT1lW2ErMl0/KHIucHVzaChhKzIpLGErPTIpOmErKztpZigwPT09ci5sZW5ndGgpcmV0dXJuIGU7dD1uLXIubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkodCk7dmFyIHM9MDtmb3IoYT0wO2E8dDtzKyssYSsrKXM9PT1yWzBdJiYocysrLHIuc2hpZnQoKSksaVthXT1lW3NdO3JldHVybiBpfSxvPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGEscyxvLHUsbCxjLGgsZCxwLGY9MCxtPTAsZz0wLHk9MCx2PTE7aWYoaT0odD1uZXcgdHQoZSkpLnJlYWRVbnNpZ25lZEJ5dGUoKSxyPXQucmVhZFVuc2lnbmVkQnl0ZSgpLG49dC5yZWFkVW5zaWduZWRCeXRlKCksdC5za2lwVW5zaWduZWRFeHBHb2xvbWIoKSxaZVtpXSYmKDM9PT0oYT10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpKSYmdC5za2lwQml0cygxKSx0LnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLHQuc2tpcFVuc2lnbmVkRXhwR29sb21iKCksdC5za2lwQml0cygxKSx0LnJlYWRCb29sZWFuKCkpKWZvcihoPTMhPT1hPzg6MTIscD0wO3A8aDtwKyspdC5yZWFkQm9vbGVhbigpJiZfKHA8Nj8xNjo2NCx0KTtpZih0LnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLDA9PT0ocz10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpKSl0LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpO2Vsc2UgaWYoMT09PXMpZm9yKHQuc2tpcEJpdHMoMSksdC5za2lwRXhwR29sb21iKCksdC5za2lwRXhwR29sb21iKCksbz10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLHA9MDtwPG87cCsrKXQuc2tpcEV4cEdvbG9tYigpO2lmKHQuc2tpcFVuc2lnbmVkRXhwR29sb21iKCksdC5za2lwQml0cygxKSx1PXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksbD10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLDA9PT0oYz10LnJlYWRCaXRzKDEpKSYmdC5za2lwQml0cygxKSx0LnNraXBCaXRzKDEpLHQucmVhZEJvb2xlYW4oKSYmKGY9dC5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSxtPXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksZz10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLHk9dC5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSksdC5yZWFkQm9vbGVhbigpJiZ0LnJlYWRCb29sZWFuKCkpe3N3aXRjaCh0LnJlYWRVbnNpZ25lZEJ5dGUoKSl7Y2FzZSAxOmQ9WzEsMV07YnJlYWs7Y2FzZSAyOmQ9WzEyLDExXTticmVhaztjYXNlIDM6ZD1bMTAsMTFdO2JyZWFrO2Nhc2UgNDpkPVsxNiwxMV07YnJlYWs7Y2FzZSA1OmQ9WzQwLDMzXTticmVhaztjYXNlIDY6ZD1bMjQsMTFdO2JyZWFrO2Nhc2UgNzpkPVsyMCwxMV07YnJlYWs7Y2FzZSA4OmQ9WzMyLDExXTticmVhaztjYXNlIDk6ZD1bODAsMzNdO2JyZWFrO2Nhc2UgMTA6ZD1bMTgsMTFdO2JyZWFrO2Nhc2UgMTE6ZD1bMTUsMTFdO2JyZWFrO2Nhc2UgMTI6ZD1bNjQsMzNdO2JyZWFrO2Nhc2UgMTM6ZD1bMTYwLDk5XTticmVhaztjYXNlIDE0OmQ9WzQsM107YnJlYWs7Y2FzZSAxNTpkPVszLDJdO2JyZWFrO2Nhc2UgMTY6ZD1bMiwxXTticmVhaztjYXNlIDI1NTpkPVt0LnJlYWRVbnNpZ25lZEJ5dGUoKTw8OHx0LnJlYWRVbnNpZ25lZEJ5dGUoKSx0LnJlYWRVbnNpZ25lZEJ5dGUoKTw8OHx0LnJlYWRVbnNpZ25lZEJ5dGUoKV19ZCYmKHY9ZFswXS9kWzFdKX1yZXR1cm57cHJvZmlsZUlkYzppLGxldmVsSWRjOm4scHJvZmlsZUNvbXBhdGliaWxpdHk6cix3aWR0aDpNYXRoLmNlaWwoKDE2Kih1KzEpLTIqZi0yKm0pKnYpLGhlaWdodDooMi1jKSoobCsxKSoxNi0yKmctMip5LHNhclJhdGlvOmR9fX0pLnByb3RvdHlwZT1uZXcgSDt2YXIgaXQsbnQ9e0gyNjRTdHJlYW06UWUsTmFsQnl0ZVN0cmVhbTpKZX0scnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT0iSSIuY2hhckNvZGVBdCgwKSYmZVsxXT09PSJEIi5jaGFyQ29kZUF0KDApJiZlWzJdPT09IjMiLmNoYXJDb2RlQXQoMCl9LGF0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0KzZdPDwyMXxlW3QrN108PDE0fGVbdCs4XTw8N3xlW3QrOV07cmV0dXJuKDE2JmVbdCs1XSk+PjQ/MjAraToxMCtpfSxzdD1mdW5jdGlvbihlLHQpe3ZhciBpPSgyMjQmZVt0KzVdKT4+NSxuPWVbdCs0XTw8MztyZXR1cm4gNjE0NCZlW3QrM118bnxpfTsoaXQ9ZnVuY3Rpb24oKXt2YXIgbz1uZXcgVWludDhBcnJheSx1PTA7aXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnNldFRpbWVzdGFtcD1mdW5jdGlvbihlKXt1PWV9LHRoaXMucHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhPTAscz0wO2ZvcihvLmxlbmd0aD8ocj1vLmxlbmd0aCwobz1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrcikpLnNldChvLnN1YmFycmF5KDAscikpLG8uc2V0KGUscikpOm89ZTszPD1vLmxlbmd0aC1zOylpZihvW3NdIT09IkkiLmNoYXJDb2RlQXQoMCl8fG9bcysxXSE9PSJEIi5jaGFyQ29kZUF0KDApfHxvW3MrMl0hPT0iMyIuY2hhckNvZGVBdCgwKSlpZigyNTUhPSgyNTUmb1tzXSl8fDI0MCE9KDI0MCZvW3MrMV0pKXMrKztlbHNle2lmKG8ubGVuZ3RoLXM8NylicmVhaztpZihzKyhhPXN0KG8scykpPm8ubGVuZ3RoKWJyZWFrO249e3R5cGU6ImF1ZGlvIixkYXRhOm8uc3ViYXJyYXkocyxzK2EpLHB0czp1LGR0czp1fSx0aGlzLnRyaWdnZXIoImRhdGEiLG4pLHMrPWF9ZWxzZXtpZihvLmxlbmd0aC1zPDEwKWJyZWFrO2lmKHMrKGE9YXQobyxzKSk+by5sZW5ndGgpYnJlYWs7aT17dHlwZToidGltZWQtbWV0YWRhdGEiLGRhdGE6by5zdWJhcnJheShzLHMrYSl9LHRoaXMudHJpZ2dlcigiZGF0YSIsaSkscys9YX10PW8ubGVuZ3RoLXMsbz0wPHQ/by5zdWJhcnJheShzKTpuZXcgVWludDhBcnJheX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe289bmV3IFVpbnQ4QXJyYXksdGhpcy50cmlnZ2VyKCJyZXNldCIpfSx0aGlzLmVuZFRpbWVsaW5lPWZ1bmN0aW9uKCl7bz1uZXcgVWludDhBcnJheSx0aGlzLnRyaWdnZXIoImVuZGVkdGltZWxpbmUiKX19KS5wcm90b3R5cGU9bmV3IEg7ZnVuY3Rpb24gb3QoZSx0KXt2YXIgaTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXSE9PXRbaV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdXQoZSx0LGksbixyLGEpe3JldHVybntzdGFydDp7ZHRzOmUscHRzOmUrKGktdCl9LGVuZDp7ZHRzOmUrKG4tdCkscHRzOmUrKHItaSl9LHByZXBlbmRlZENvbnRlbnREdXJhdGlvbjphLGJhc2VNZWRpYURlY29kZVRpbWU6ZX19dmFyIGx0LGN0LGh0LGR0LHB0PWl0LGZ0PW50LkgyNjRTdHJlYW0sbXQ9cnQsZ3Q9bGUseXQ9WyJhdWRpb29iamVjdHR5cGUiLCJjaGFubmVsY291bnQiLCJzYW1wbGVyYXRlIiwic2FtcGxpbmdmcmVxdWVuY3lpbmRleCIsInNhbXBsZXNpemUiXSx2dD1bIndpZHRoIiwiaGVpZ2h0IiwicHJvZmlsZUlkYyIsImxldmVsSWRjIiwicHJvZmlsZUNvbXBhdGliaWxpdHkiLCJzYXJSYXRpbyJdOyhjdD1mdW5jdGlvbihhLHMpe3ZhciBvPVtdLHU9MCxsPTAsYz0wLGg9MS8wO3M9c3x8e30sY3QucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24odCl7YmUoYSx0KSxhJiZ5dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09dFtlXX0pLG8ucHVzaCh0KX0sdGhpcy5zZXRFYXJsaWVzdER0cz1mdW5jdGlvbihlKXtsPWUtYS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lfSx0aGlzLnNldFZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZT1mdW5jdGlvbihlKXtoPWV9LHRoaXMuc2V0QXVkaW9BcHBlbmRTdGFydD1mdW5jdGlvbihlKXtjPWV9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXt2YXIgZSx0LGksbixyOzAhPT1vLmxlbmd0aCYmKGU9ZmUobyxhLGwpLGEuYmFzZU1lZGlhRGVjb2RlVGltZT1fZShhLHMua2VlcE9yaWdpbmFsVGltZXN0YW1wcykscGUoYSxlLGMsaCksYS5zYW1wbGVzPW1lKGUpLGk9UShnZShlKSksbz1bXSx0PUoodSxbYV0pLG49bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoK2kuYnl0ZUxlbmd0aCksdSsrLG4uc2V0KHQpLG4uc2V0KGksdC5ieXRlTGVuZ3RoKSx2ZShhKSxyPU1hdGguY2VpbCgxMDI0Kmd0L2Euc2FtcGxlcmF0ZSksZS5sZW5ndGgmJnRoaXMudHJpZ2dlcigidGltaW5nSW5mbyIse3N0YXJ0OmVbMF0uZHRzLGVuZDplWzBdLmR0cytlLmxlbmd0aCpyfSksdGhpcy50cmlnZ2VyKCJkYXRhIix7dHJhY2s6YSxib3hlczpufSkpLHRoaXMudHJpZ2dlcigiZG9uZSIsIkF1ZGlvU2VnbWVudFN0cmVhbSIpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dmUoYSksbz1bXSx0aGlzLnRyaWdnZXIoInJlc2V0Iil9fSkucHJvdG90eXBlPW5ldyBILChsdD1mdW5jdGlvbihjLGgpe3ZhciB0LGksZD0wLHA9W10sZj1bXTtoPWh8fHt9LGx0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksZGVsZXRlIGMubWluUFRTLHRoaXMuZ29wQ2FjaGVfPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXtiZShjLGUpLCJzZXFfcGFyYW1ldGVyX3NldF9yYnNwIiE9PWUubmFsVW5pdFR5cGV8fHR8fCh0PWUuY29uZmlnLGMuc3BzPVtlLmRhdGFdLHZ0LmZvckVhY2goZnVuY3Rpb24oZSl7Y1tlXT10W2VdfSx0aGlzKSksInBpY19wYXJhbWV0ZXJfc2V0X3Jic3AiIT09ZS5uYWxVbml0VHlwZXx8aXx8KGk9ZS5kYXRhLGMucHBzPVtlLmRhdGFdKSxwLnB1c2goZSl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxpLG4scixhLHMsbyx1PTA7cC5sZW5ndGgmJiJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCIhPT1wWzBdLm5hbFVuaXRUeXBlOylwLnNoaWZ0KCk7aWYoMD09PXAubGVuZ3RoKXJldHVybiB0aGlzLnJlc2V0U3RyZWFtXygpLHZvaWQgdGhpcy50cmlnZ2VyKCJkb25lIiwiVmlkZW9TZWdtZW50U3RyZWFtIik7aWYoZT1lZShwKSwoaT10ZShlKSlbMF1bMF0ua2V5RnJhbWV8fCgodD10aGlzLmdldEdvcEZvckZ1c2lvbl8ocFswXSxjKSk/KHU9dC5kdXJhdGlvbixpLnVuc2hpZnQodCksaS5ieXRlTGVuZ3RoKz10LmJ5dGVMZW5ndGgsaS5uYWxDb3VudCs9dC5uYWxDb3VudCxpLnB0cz10LnB0cyxpLmR0cz10LmR0cyxpLmR1cmF0aW9uKz10LmR1cmF0aW9uKTppPWllKGkpKSxmLmxlbmd0aCl7dmFyIGw7aWYoIShsPWguYWxpZ25Hb3BzQXRFbmQ/dGhpcy5hbGlnbkdvcHNBdEVuZF8oaSk6dGhpcy5hbGlnbkdvcHNBdFN0YXJ0XyhpKSkpcmV0dXJuIHRoaXMuZ29wQ2FjaGVfLnVuc2hpZnQoe2dvcDppLnBvcCgpLHBwczpjLnBwcyxzcHM6Yy5zcHN9KSx0aGlzLmdvcENhY2hlXy5sZW5ndGg9TWF0aC5taW4oNix0aGlzLmdvcENhY2hlXy5sZW5ndGgpLHA9W10sdGhpcy5yZXNldFN0cmVhbV8oKSx2b2lkIHRoaXMudHJpZ2dlcigiZG9uZSIsIlZpZGVvU2VnbWVudFN0cmVhbSIpO3ZlKGMpLGk9bH1iZShjLGkpLGMuc2FtcGxlcz1uZShpKSxyPVEocmUoaSkpLGMuYmFzZU1lZGlhRGVjb2RlVGltZT1fZShjLGgua2VlcE9yaWdpbmFsVGltZXN0YW1wcyksdGhpcy50cmlnZ2VyKCJwcm9jZXNzZWRHb3BzSW5mbyIsaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3B0czplLnB0cyxkdHM6ZS5kdHMsYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGh9fSkpLHM9aVswXSxvPWlbaS5sZW5ndGgtMV0sdGhpcy50cmlnZ2VyKCJzZWdtZW50VGltaW5nSW5mbyIsdXQoYy5iYXNlTWVkaWFEZWNvZGVUaW1lLHMuZHRzLHMucHRzLG8uZHRzK28uZHVyYXRpb24sby5wdHMrby5kdXJhdGlvbix1KSksdGhpcy50cmlnZ2VyKCJ0aW1pbmdJbmZvIix7c3RhcnQ6aVswXS5kdHMsZW5kOmlbaS5sZW5ndGgtMV0uZHRzK2lbaS5sZW5ndGgtMV0uZHVyYXRpb259KSx0aGlzLmdvcENhY2hlXy51bnNoaWZ0KHtnb3A6aS5wb3AoKSxwcHM6Yy5wcHMsc3BzOmMuc3BzfSksdGhpcy5nb3BDYWNoZV8ubGVuZ3RoPU1hdGgubWluKDYsdGhpcy5nb3BDYWNoZV8ubGVuZ3RoKSxwPVtdLHRoaXMudHJpZ2dlcigiYmFzZU1lZGlhRGVjb2RlVGltZSIsYy5iYXNlTWVkaWFEZWNvZGVUaW1lKSx0aGlzLnRyaWdnZXIoInRpbWVsaW5lU3RhcnRJbmZvIixjLnRpbWVsaW5lU3RhcnRJbmZvKSxuPUooZCxbY10pLGE9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZCsrLGEuc2V0KG4pLGEuc2V0KHIsbi5ieXRlTGVuZ3RoKSx0aGlzLnRyaWdnZXIoImRhdGEiLHt0cmFjazpjLGJveGVzOmF9KSx0aGlzLnJlc2V0U3RyZWFtXygpLHRoaXMudHJpZ2dlcigiZG9uZSIsIlZpZGVvU2VnbWVudFN0cmVhbSIpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5yZXNldFN0cmVhbV8oKSxwPVtdLHRoaXMuZ29wQ2FjaGVfLmxlbmd0aD0wLGYubGVuZ3RoPTAsdGhpcy50cmlnZ2VyKCJyZXNldCIpfSx0aGlzLnJlc2V0U3RyZWFtXz1mdW5jdGlvbigpe3ZlKGMpLGk9dD12b2lkIDB9LHRoaXMuZ2V0R29wRm9yRnVzaW9uXz1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhLHM9MS8wO2ZvcihhPTA7YTx0aGlzLmdvcENhY2hlXy5sZW5ndGg7YSsrKW49KHI9dGhpcy5nb3BDYWNoZV9bYV0pLmdvcCxjLnBwcyYmb3QoYy5wcHNbMF0sci5wcHNbMF0pJiZjLnNwcyYmb3QoYy5zcHNbMF0sci5zcHNbMF0pJiYobi5kdHM8Yy50aW1lbGluZVN0YXJ0SW5mby5kdHN8fC0xZTQ8PSh0PWUuZHRzLW4uZHRzLW4uZHVyYXRpb24pJiZ0PD00NWUzJiYoIWl8fHQ8cykmJihpPXIscz10KSk7cmV0dXJuIGk/aS5nb3A6bnVsbH0sdGhpcy5hbGlnbkdvcHNBdFN0YXJ0Xz1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhLHMsbyx1O2ZvcihhPWUuYnl0ZUxlbmd0aCxzPWUubmFsQ291bnQsbz1lLmR1cmF0aW9uLHQ9aT0wO3Q8Zi5sZW5ndGgmJmk8ZS5sZW5ndGgmJihuPWZbdF0scj1lW2ldLG4ucHRzIT09ci5wdHMpOylyLnB0cz5uLnB0cz90Kys6KGkrKyxhLT1yLmJ5dGVMZW5ndGgscy09ci5uYWxDb3VudCxvLT1yLmR1cmF0aW9uKTtyZXR1cm4gMD09PWk/ZTppPT09ZS5sZW5ndGg/bnVsbDooKHU9ZS5zbGljZShpKSkuYnl0ZUxlbmd0aD1hLHUuZHVyYXRpb249byx1Lm5hbENvdW50PXMsdS5wdHM9dVswXS5wdHMsdS5kdHM9dVswXS5kdHMsdSl9LHRoaXMuYWxpZ25Hb3BzQXRFbmRfPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGEscyxvO2Zvcih0PWYubGVuZ3RoLTEsaT1lLmxlbmd0aC0xLGE9bnVsbCxzPSExOzA8PXQmJjA8PWk7KXtpZihuPWZbdF0scj1lW2ldLG4ucHRzPT09ci5wdHMpe3M9ITA7YnJlYWt9bi5wdHM+ci5wdHM/dC0tOih0PT09Zi5sZW5ndGgtMSYmKGE9aSksaS0tKX1pZighcyYmbnVsbD09PWEpcmV0dXJuIG51bGw7aWYoMD09PShvPXM/aTphKSlyZXR1cm4gZTt2YXIgdT1lLnNsaWNlKG8pLGw9dS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ieXRlTGVuZ3RoKz10LmJ5dGVMZW5ndGgsZS5kdXJhdGlvbis9dC5kdXJhdGlvbixlLm5hbENvdW50Kz10Lm5hbENvdW50LGV9LHtieXRlTGVuZ3RoOjAsZHVyYXRpb246MCxuYWxDb3VudDowfSk7cmV0dXJuIHUuYnl0ZUxlbmd0aD1sLmJ5dGVMZW5ndGgsdS5kdXJhdGlvbj1sLmR1cmF0aW9uLHUubmFsQ291bnQ9bC5uYWxDb3VudCx1LnB0cz11WzBdLnB0cyx1LmR0cz11WzBdLmR0cyx1fSx0aGlzLmFsaWduR29wc1dpdGg9ZnVuY3Rpb24oZSl7Zj1lfX0pLnByb3RvdHlwZT1uZXcgSCwoZHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm51bWJlck9mVHJhY2tzPTAsdGhpcy5tZXRhZGF0YVN0cmVhbT10LCJ1bmRlZmluZWQiIT10eXBlb2YoZT1lfHx7fSkucmVtdXg/dGhpcy5yZW11eFRyYWNrcz0hIWUucmVtdXg6dGhpcy5yZW11eFRyYWNrcz0hMCwiYm9vbGVhbiI9PXR5cGVvZiBlLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHM/dGhpcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzPWUua2VlcE9yaWdpbmFsVGltZXN0YW1wczp0aGlzLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHM9ITEsdGhpcy5wZW5kaW5nVHJhY2tzPVtdLHRoaXMudmlkZW9UcmFjaz1udWxsLHRoaXMucGVuZGluZ0JveGVzPVtdLHRoaXMucGVuZGluZ0NhcHRpb25zPVtdLHRoaXMucGVuZGluZ01ldGFkYXRhPVtdLHRoaXMucGVuZGluZ0J5dGVzPTAsdGhpcy5lbWl0dGVkVHJhY2tzPTAsZHQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dD90aGlzLnBlbmRpbmdDYXB0aW9ucy5wdXNoKGUpOmUuZnJhbWVzP3RoaXMucGVuZGluZ01ldGFkYXRhLnB1c2goZSk6KHRoaXMucGVuZGluZ1RyYWNrcy5wdXNoKGUudHJhY2spLHRoaXMucGVuZGluZ0J5dGVzKz1lLmJveGVzLmJ5dGVMZW5ndGgsInZpZGVvIj09PWUudHJhY2sudHlwZSYmKHRoaXMudmlkZW9UcmFjaz1lLnRyYWNrLHRoaXMucGVuZGluZ0JveGVzLnB1c2goZS5ib3hlcykpLHZvaWQoImF1ZGlvIj09PWUudHJhY2sudHlwZSYmKHRoaXMuYXVkaW9UcmFjaz1lLnRyYWNrLHRoaXMucGVuZGluZ0JveGVzLnVuc2hpZnQoZS5ib3hlcykpKSl9fSkucHJvdG90eXBlPW5ldyBILGR0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhPTAscz17Y2FwdGlvbnM6W10sY2FwdGlvblN0cmVhbXM6e30sbWV0YWRhdGE6W10saW5mbzp7fX0sbz0wO2lmKHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg8dGhpcy5udW1iZXJPZlRyYWNrcyl7aWYoIlZpZGVvU2VnbWVudFN0cmVhbSIhPT1lJiYiQXVkaW9TZWdtZW50U3RyZWFtIiE9PWUpcmV0dXJuO2lmKHRoaXMucmVtdXhUcmFja3MpcmV0dXJuO2lmKDA9PT10aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoKXJldHVybiB0aGlzLmVtaXR0ZWRUcmFja3MrKyx2b2lkKHRoaXMuZW1pdHRlZFRyYWNrcz49dGhpcy5udW1iZXJPZlRyYWNrcyYmKHRoaXMudHJpZ2dlcigiZG9uZSIpLHRoaXMuZW1pdHRlZFRyYWNrcz0wKSl9aWYodGhpcy52aWRlb1RyYWNrPyhvPXRoaXMudmlkZW9UcmFjay50aW1lbGluZVN0YXJ0SW5mby5wdHMsdnQuZm9yRWFjaChmdW5jdGlvbihlKXtzLmluZm9bZV09dGhpcy52aWRlb1RyYWNrW2VdfSx0aGlzKSk6dGhpcy5hdWRpb1RyYWNrJiYobz10aGlzLmF1ZGlvVHJhY2sudGltZWxpbmVTdGFydEluZm8ucHRzLHl0LmZvckVhY2goZnVuY3Rpb24oZSl7cy5pbmZvW2VdPXRoaXMuYXVkaW9UcmFja1tlXX0sdGhpcykpLHRoaXMudmlkZW9UcmFja3x8dGhpcy5hdWRpb1RyYWNrKXtmb3IoMT09PXRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg/cy50eXBlPXRoaXMucGVuZGluZ1RyYWNrc1swXS50eXBlOnMudHlwZT0iY29tYmluZWQiLHRoaXMuZW1pdHRlZFRyYWNrcys9dGhpcy5wZW5kaW5nVHJhY2tzLmxlbmd0aCxuPVoodGhpcy5wZW5kaW5nVHJhY2tzKSxzLmluaXRTZWdtZW50PW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCkscy5pbml0U2VnbWVudC5zZXQobikscy5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMucGVuZGluZ0J5dGVzKSxyPTA7cjx0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGg7cisrKXMuZGF0YS5zZXQodGhpcy5wZW5kaW5nQm94ZXNbcl0sYSksYSs9dGhpcy5wZW5kaW5nQm94ZXNbcl0uYnl0ZUxlbmd0aDtmb3Iocj0wO3I8dGhpcy5wZW5kaW5nQ2FwdGlvbnMubGVuZ3RoO3IrKykodD10aGlzLnBlbmRpbmdDYXB0aW9uc1tyXSkuc3RhcnRUaW1lPWRlKHQuc3RhcnRQdHMsbyx0aGlzLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHMpLHQuZW5kVGltZT1kZSh0LmVuZFB0cyxvLHRoaXMua2VlcE9yaWdpbmFsVGltZXN0YW1wcykscy5jYXB0aW9uU3RyZWFtc1t0LnN0cmVhbV09ITAscy5jYXB0aW9ucy5wdXNoKHQpO2ZvcihyPTA7cjx0aGlzLnBlbmRpbmdNZXRhZGF0YS5sZW5ndGg7cisrKShpPXRoaXMucGVuZGluZ01ldGFkYXRhW3JdKS5jdWVUaW1lPWRlKGkucHRzLG8sdGhpcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSxzLm1ldGFkYXRhLnB1c2goaSk7Zm9yKHMubWV0YWRhdGEuZGlzcGF0Y2hUeXBlPXRoaXMubWV0YWRhdGFTdHJlYW0uZGlzcGF0Y2hUeXBlLHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg9MCx0aGlzLnZpZGVvVHJhY2s9bnVsbCx0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdDYXB0aW9ucy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdCeXRlcz0wLHRoaXMucGVuZGluZ01ldGFkYXRhLmxlbmd0aD0wLHRoaXMudHJpZ2dlcigiZGF0YSIscykscj0wO3I8cy5jYXB0aW9ucy5sZW5ndGg7cisrKXQ9cy5jYXB0aW9uc1tyXSx0aGlzLnRyaWdnZXIoImNhcHRpb24iLHQpO2ZvcihyPTA7cjxzLm1ldGFkYXRhLmxlbmd0aDtyKyspaT1zLm1ldGFkYXRhW3JdLHRoaXMudHJpZ2dlcigiaWQzRnJhbWUiLGkpfXRoaXMuZW1pdHRlZFRyYWNrcz49dGhpcy5udW1iZXJPZlRyYWNrcyYmKHRoaXMudHJpZ2dlcigiZG9uZSIpLHRoaXMuZW1pdHRlZFRyYWNrcz0wKX0sZHQucHJvdG90eXBlLnNldFJlbXV4PWZ1bmN0aW9uKGUpe3RoaXMucmVtdXhUcmFja3M9ZX0sKGh0PWZ1bmN0aW9uKG4pe3ZhciByLGEscz10aGlzLGk9ITA7aHQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSxuPW58fHt9LHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZT1uLmJhc2VNZWRpYURlY29kZVRpbWV8fDAsdGhpcy50cmFuc211eFBpcGVsaW5lXz17fSx0aGlzLnNldHVwQWFjUGlwZWxpbmU9ZnVuY3Rpb24oKXt2YXIgdD17fTsodGhpcy50cmFuc211eFBpcGVsaW5lXz10KS50eXBlPSJhYWMiLHQubWV0YWRhdGFTdHJlYW09bmV3IFhlLk1ldGFkYXRhU3RyZWFtLHQuYWFjU3RyZWFtPW5ldyBwdCx0LmF1ZGlvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW09bmV3IFhlLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKCJhdWRpbyIpLHQudGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtPW5ldyBYZS5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSgidGltZWQtbWV0YWRhdGEiKSx0LmFkdHNTdHJlYW09bmV3IGV0LHQuY29hbGVzY2VTdHJlYW09bmV3IGR0KG4sdC5tZXRhZGF0YVN0cmVhbSksdC5oZWFkT2ZQaXBlbGluZT10LmFhY1N0cmVhbSx0LmFhY1N0cmVhbS5waXBlKHQuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZSh0LmFkdHNTdHJlYW0pLHQuYWFjU3RyZWFtLnBpcGUodC50aW1lZE1ldGFkYXRhVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0pLnBpcGUodC5tZXRhZGF0YVN0cmVhbSkucGlwZSh0LmNvYWxlc2NlU3RyZWFtKSx0Lm1ldGFkYXRhU3RyZWFtLm9uKCJ0aW1lc3RhbXAiLGZ1bmN0aW9uKGUpe3QuYWFjU3RyZWFtLnNldFRpbWVzdGFtcChlLnRpbWVTdGFtcCl9KSx0LmFhY1N0cmVhbS5vbigiZGF0YSIsZnVuY3Rpb24oZSl7InRpbWVkLW1ldGFkYXRhIiE9PWUudHlwZXx8dC5hdWRpb1NlZ21lbnRTdHJlYW18fChhPWF8fHt0aW1lbGluZVN0YXJ0SW5mbzp7YmFzZU1lZGlhRGVjb2RlVGltZTpzLmJhc2VNZWRpYURlY29kZVRpbWV9LGNvZGVjOiJhZHRzIix0eXBlOiJhdWRpbyJ9LHQuY29hbGVzY2VTdHJlYW0ubnVtYmVyT2ZUcmFja3MrKyx0LmF1ZGlvU2VnbWVudFN0cmVhbT1uZXcgY3QoYSxuKSx0LmF1ZGlvU2VnbWVudFN0cmVhbS5vbigidGltaW5nSW5mbyIscy50cmlnZ2VyLmJpbmQocywiYXVkaW9UaW1pbmdJbmZvIikpLHQuYWR0c1N0cmVhbS5waXBlKHQuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKHQuY29hbGVzY2VTdHJlYW0pKSxzLnRyaWdnZXIoInRyYWNraW5mbyIse2hhc0F1ZGlvOiEhYSxoYXNWaWRlbzohIXJ9KX0pLHQuY29hbGVzY2VTdHJlYW0ub24oImRhdGEiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRhdGEiKSksdC5jb2FsZXNjZVN0cmVhbS5vbigiZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZG9uZSIpKX0sdGhpcy5zZXR1cFRzUGlwZWxpbmU9ZnVuY3Rpb24oKXt2YXIgaT17fTsodGhpcy50cmFuc211eFBpcGVsaW5lXz1pKS50eXBlPSJ0cyIsaS5tZXRhZGF0YVN0cmVhbT1uZXcgWGUuTWV0YWRhdGFTdHJlYW0saS5wYWNrZXRTdHJlYW09bmV3IFhlLlRyYW5zcG9ydFBhY2tldFN0cmVhbSxpLnBhcnNlU3RyZWFtPW5ldyBYZS5UcmFuc3BvcnRQYXJzZVN0cmVhbSxpLmVsZW1lbnRhcnlTdHJlYW09bmV3IFhlLkVsZW1lbnRhcnlTdHJlYW0saS50aW1lc3RhbXBSb2xsb3ZlclN0cmVhbT1uZXcgWGUuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0saS5hZHRzU3RyZWFtPW5ldyBldCxpLmgyNjRTdHJlYW09bmV3IGZ0LGkuY2FwdGlvblN0cmVhbT1uZXcgWGUuQ2FwdGlvblN0cmVhbSxpLmNvYWxlc2NlU3RyZWFtPW5ldyBkdChuLGkubWV0YWRhdGFTdHJlYW0pLGkuaGVhZE9mUGlwZWxpbmU9aS5wYWNrZXRTdHJlYW0saS5wYWNrZXRTdHJlYW0ucGlwZShpLnBhcnNlU3RyZWFtKS5waXBlKGkuZWxlbWVudGFyeVN0cmVhbSkucGlwZShpLnRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKSxpLnRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLnBpcGUoaS5oMjY0U3RyZWFtKSxpLnRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLnBpcGUoaS5hZHRzU3RyZWFtKSxpLnRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLnBpcGUoaS5tZXRhZGF0YVN0cmVhbSkucGlwZShpLmNvYWxlc2NlU3RyZWFtKSxpLmgyNjRTdHJlYW0ucGlwZShpLmNhcHRpb25TdHJlYW0pLnBpcGUoaS5jb2FsZXNjZVN0cmVhbSksaS5lbGVtZW50YXJ5U3RyZWFtLm9uKCJkYXRhIixmdW5jdGlvbihlKXt2YXIgdDtpZigibWV0YWRhdGEiPT09ZS50eXBlKXtmb3IodD1lLnRyYWNrcy5sZW5ndGg7dC0tOylyfHwidmlkZW8iIT09ZS50cmFja3NbdF0udHlwZT9hfHwiYXVkaW8iIT09ZS50cmFja3NbdF0udHlwZXx8KChhPWUudHJhY2tzW3RdKS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lPXMuYmFzZU1lZGlhRGVjb2RlVGltZSk6KHI9ZS50cmFja3NbdF0pLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWU9cy5iYXNlTWVkaWFEZWNvZGVUaW1lO3ImJiFpLnZpZGVvU2VnbWVudFN0cmVhbSYmKGkuY29hbGVzY2VTdHJlYW0ubnVtYmVyT2ZUcmFja3MrKyxpLnZpZGVvU2VnbWVudFN0cmVhbT1uZXcgbHQocixuKSxpLnZpZGVvU2VnbWVudFN0cmVhbS5vbigidGltZWxpbmVTdGFydEluZm8iLGZ1bmN0aW9uKGUpe2EmJihhLnRpbWVsaW5lU3RhcnRJbmZvPWUsaS5hdWRpb1NlZ21lbnRTdHJlYW0uc2V0RWFybGllc3REdHMoZS5kdHMpKX0pLGkudmlkZW9TZWdtZW50U3RyZWFtLm9uKCJwcm9jZXNzZWRHb3BzSW5mbyIscy50cmlnZ2VyLmJpbmQocywiZ29wSW5mbyIpKSxpLnZpZGVvU2VnbWVudFN0cmVhbS5vbigic2VnbWVudFRpbWluZ0luZm8iLHMudHJpZ2dlci5iaW5kKHMsInZpZGVvU2VnbWVudFRpbWluZ0luZm8iKSksaS52aWRlb1NlZ21lbnRTdHJlYW0ub24oImJhc2VNZWRpYURlY29kZVRpbWUiLGZ1bmN0aW9uKGUpe2EmJmkuYXVkaW9TZWdtZW50U3RyZWFtLnNldFZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZShlKX0pLGkudmlkZW9TZWdtZW50U3RyZWFtLm9uKCJ0aW1pbmdJbmZvIixzLnRyaWdnZXIuYmluZChzLCJ2aWRlb1RpbWluZ0luZm8iKSksaS5oMjY0U3RyZWFtLnBpcGUoaS52aWRlb1NlZ21lbnRTdHJlYW0pLnBpcGUoaS5jb2FsZXNjZVN0cmVhbSkpLGEmJiFpLmF1ZGlvU2VnbWVudFN0cmVhbSYmKGkuY29hbGVzY2VTdHJlYW0ubnVtYmVyT2ZUcmFja3MrKyxpLmF1ZGlvU2VnbWVudFN0cmVhbT1uZXcgY3QoYSxuKSxpLmF1ZGlvU2VnbWVudFN0cmVhbS5vbigidGltaW5nSW5mbyIscy50cmlnZ2VyLmJpbmQocywiYXVkaW9UaW1pbmdJbmZvIikpLGkuYWR0c1N0cmVhbS5waXBlKGkuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKGkuY29hbGVzY2VTdHJlYW0pKSxzLnRyaWdnZXIoInRyYWNraW5mbyIse2hhc0F1ZGlvOiEhYSxoYXNWaWRlbzohIXJ9KX19KSxpLmNvYWxlc2NlU3RyZWFtLm9uKCJkYXRhIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCJkYXRhIikpLGkuY29hbGVzY2VTdHJlYW0ub24oImlkM0ZyYW1lIixmdW5jdGlvbihlKXtlLmRpc3BhdGNoVHlwZT1pLm1ldGFkYXRhU3RyZWFtLmRpc3BhdGNoVHlwZSxzLnRyaWdnZXIoImlkM0ZyYW1lIixlKX0pLGkuY29hbGVzY2VTdHJlYW0ub24oImNhcHRpb24iLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImNhcHRpb24iKSksaS5jb2FsZXNjZVN0cmVhbS5vbigiZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZG9uZSIpKX0sdGhpcy5zZXRCYXNlTWVkaWFEZWNvZGVUaW1lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNtdXhQaXBlbGluZV87bi5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzfHwodGhpcy5iYXNlTWVkaWFEZWNvZGVUaW1lPWUpLGEmJihhLnRpbWVsaW5lU3RhcnRJbmZvLmR0cz12b2lkIDAsYS50aW1lbGluZVN0YXJ0SW5mby5wdHM9dm9pZCAwLHZlKGEpLG4ua2VlcE9yaWdpbmFsVGltZXN0YW1wc3x8KGEudGltZWxpbmVTdGFydEluZm8uYmFzZU1lZGlhRGVjb2RlVGltZT1lKSx0LmF1ZGlvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0mJnQuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5kaXNjb250aW51aXR5KCkpLHImJih0LnZpZGVvU2VnbWVudFN0cmVhbSYmKHQudmlkZW9TZWdtZW50U3RyZWFtLmdvcENhY2hlXz1bXSksci50aW1lbGluZVN0YXJ0SW5mby5kdHM9dm9pZCAwLHIudGltZWxpbmVTdGFydEluZm8ucHRzPXZvaWQgMCx2ZShyKSx0LmNhcHRpb25TdHJlYW0ucmVzZXQoKSxuLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHN8fChyLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWU9ZSkpLHQudGltZXN0YW1wUm9sbG92ZXJTdHJlYW0mJnQudGltZXN0YW1wUm9sbG92ZXJTdHJlYW0uZGlzY29udGludWl0eSgpfSx0aGlzLnNldEF1ZGlvQXBwZW5kU3RhcnQ9ZnVuY3Rpb24oZSl7YSYmdGhpcy50cmFuc211eFBpcGVsaW5lXy5hdWRpb1NlZ21lbnRTdHJlYW0uc2V0QXVkaW9BcHBlbmRTdGFydChlKX0sdGhpcy5zZXRSZW11eD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zbXV4UGlwZWxpbmVfO24ucmVtdXg9ZSx0JiZ0LmNvYWxlc2NlU3RyZWFtJiZ0LmNvYWxlc2NlU3RyZWFtLnNldFJlbXV4KGUpfSx0aGlzLmFsaWduR29wc1dpdGg9ZnVuY3Rpb24oZSl7ciYmdGhpcy50cmFuc211eFBpcGVsaW5lXy52aWRlb1NlZ21lbnRTdHJlYW0mJnRoaXMudHJhbnNtdXhQaXBlbGluZV8udmlkZW9TZWdtZW50U3RyZWFtLmFsaWduR29wc1dpdGgoZSl9LHRoaXMucHVzaD1mdW5jdGlvbihlKXtpZihpKXt2YXIgdD1tdChlKTt0JiYiYWFjIiE9PXRoaXMudHJhbnNtdXhQaXBlbGluZV8udHlwZT90aGlzLnNldHVwQWFjUGlwZWxpbmUoKTp0fHwidHMiPT09dGhpcy50cmFuc211eFBpcGVsaW5lXy50eXBlfHx0aGlzLnNldHVwVHNQaXBlbGluZSgpLGk9ITF9dGhpcy50cmFuc211eFBpcGVsaW5lXy5oZWFkT2ZQaXBlbGluZS5wdXNoKGUpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7aT0hMCx0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLmZsdXNoKCl9LHRoaXMuZW5kVGltZWxpbmU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLmVuZFRpbWVsaW5lKCl9LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lJiZ0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLnJlc2V0KCl9LHRoaXMucmVzZXRDYXB0aW9ucz1mdW5jdGlvbigpe3RoaXMudHJhbnNtdXhQaXBlbGluZV8uY2FwdGlvblN0cmVhbSYmdGhpcy50cmFuc211eFBpcGVsaW5lXy5jYXB0aW9uU3RyZWFtLnJlc2V0KCl9fSkucHJvdG90eXBlPW5ldyBIO3ZhciBfdD17VHJhbnNtdXhlcjpodCxWaWRlb1NlZ21lbnRTdHJlYW06bHQsQXVkaW9TZWdtZW50U3RyZWFtOmN0LEFVRElPX1BST1BFUlRJRVM6eXQsVklERU9fUFJPUEVSVElFUzp2dCxnZW5lcmF0ZVZpZGVvU2VnbWVudFRpbWluZ0luZm86dXR9O2Z1bmN0aW9uIGJ0KGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19dmFyIFR0PShmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQmJmJ0KGUucHJvdG90eXBlLHQpLGkmJmJ0KGUsaSksZX0oU3QsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc211eGVyJiZ0aGlzLnRyYW5zbXV4ZXIuZGlzcG9zZSgpLHRoaXMudHJhbnNtdXhlcj1uZXcgX3QuVHJhbnNtdXhlcih0aGlzLm9wdGlvbnMpLGZ1bmN0aW9uKG4sZSl7ZS5vbigiZGF0YSIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbml0U2VnbWVudDtlLmluaXRTZWdtZW50PXtkYXRhOnQuYnVmZmVyLGJ5dGVPZmZzZXQ6dC5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6dC5ieXRlTGVuZ3RofTt2YXIgaT1lLmRhdGE7ZS5kYXRhPWkuYnVmZmVyLG4ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZGF0YSIsc2VnbWVudDplLGJ5dGVPZmZzZXQ6aS5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6aS5ieXRlTGVuZ3RofSxbZS5kYXRhXSl9KSxlLmNhcHRpb25TdHJlYW0mJmUuY2FwdGlvblN0cmVhbS5vbigiZGF0YSIsZnVuY3Rpb24oZSl7bi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJjYXB0aW9uIixkYXRhOmV9KX0pLGUub24oImRvbmUiLGZ1bmN0aW9uKGUpe24ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZG9uZSJ9KX0pLGUub24oImdvcEluZm8iLGZ1bmN0aW9uKGUpe24ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZ29wSW5mbyIsZ29wSW5mbzplfSl9KSxlLm9uKCJ2aWRlb1NlZ21lbnRUaW1pbmdJbmZvIixmdW5jdGlvbihlKXtuLnBvc3RNZXNzYWdlKHthY3Rpb246InZpZGVvU2VnbWVudFRpbWluZ0luZm8iLHZpZGVvU2VnbWVudFRpbWluZ0luZm86ZX0pfSl9KHRoaXMuc2VsZix0aGlzLnRyYW5zbXV4ZXIpfX0se2tleToicHVzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5kYXRhLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpO3RoaXMudHJhbnNtdXhlci5wdXNoKHQpfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0KCl9fSx7a2V5OiJzZXRUaW1lc3RhbXBPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGltZXN0YW1wT2Zmc2V0fHwwO3RoaXMudHJhbnNtdXhlci5zZXRCYXNlTWVkaWFEZWNvZGVUaW1lKE1hdGgucm91bmQoOWU0KnQpKX19LHtrZXk6InNldEF1ZGlvQXBwZW5kU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudHJhbnNtdXhlci5zZXRBdWRpb0FwcGVuZFN0YXJ0KE1hdGguY2VpbCg5ZTQqZS5hcHBlbmRTdGFydCkpfX0se2tleToiZmx1c2giLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudHJhbnNtdXhlci5mbHVzaCgpfX0se2tleToicmVzZXRDYXB0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbXV4ZXIucmVzZXRDYXB0aW9ucygpfX0se2tleToiYWxpZ25Hb3BzV2l0aCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy50cmFuc211eGVyLmFsaWduR29wc1dpdGgoZS5nb3BzVG9BbGlnbldpdGguc2xpY2UoKSl9fV0pLFN0KTtmdW5jdGlvbiBTdChlLHQpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLFN0KSx0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5zZWxmPWUsdGhpcy5pbml0KCl9bmV3IGZ1bmN0aW9uKHQpe3Qub25tZXNzYWdlPWZ1bmN0aW9uKGUpeyJpbml0Ij09PWUuZGF0YS5hY3Rpb24mJmUuZGF0YS5vcHRpb25zP3RoaXMubWVzc2FnZUhhbmRsZXJzPW5ldyBUdCh0LGUuZGF0YS5vcHRpb25zKToodGhpcy5tZXNzYWdlSGFuZGxlcnN8fCh0aGlzLm1lc3NhZ2VIYW5kbGVycz1uZXcgVHQodCkpLGUuZGF0YSYmZS5kYXRhLmFjdGlvbiYmImluaXQiIT09ZS5kYXRhLmFjdGlvbiYmdGhpcy5tZXNzYWdlSGFuZGxlcnNbZS5kYXRhLmFjdGlvbl0mJnRoaXMubWVzc2FnZUhhbmRsZXJzW2UuZGF0YS5hY3Rpb25dKGUuZGF0YSkpfX0oa3QpfSgpfSksUWw9e3ZpZGVvQ29kZWM6ImF2YzEiLHZpZGVvT2JqZWN0VHlwZUluZGljYXRvcjoiLjRkNDAwZCIsYXVkaW9Qcm9maWxlOiIyIn0sSmw9KEJ1KFpsLHBzLkV2ZW50VGFyZ2V0KSxNdShabCxbe2tleToiZGF0YV8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YS5zZWdtZW50O3QuZGF0YT1uZXcgVWludDhBcnJheSh0LmRhdGEsZS5kYXRhLmJ5dGVPZmZzZXQsZS5kYXRhLmJ5dGVMZW5ndGgpLHQuaW5pdFNlZ21lbnQ9bmV3IFVpbnQ4QXJyYXkodC5pbml0U2VnbWVudC5kYXRhLHQuaW5pdFNlZ21lbnQuYnl0ZU9mZnNldCx0LmluaXRTZWdtZW50LmJ5dGVMZW5ndGgpLGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10LnBsYXllcl87aWYoaS5jYXB0aW9ucyYmaS5jYXB0aW9ucy5sZW5ndGgpZm9yKHZhciByIGluIGUuaW5iYW5kVGV4dFRyYWNrc198fChlLmluYmFuZFRleHRUcmFja3NfPXt9KSxpLmNhcHRpb25TdHJlYW1zKWlmKCFlLmluYmFuZFRleHRUcmFja3NfW3JdKXtuLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtNjA4In0pO3ZhciBhPW4udGV4dFRyYWNrcygpLmdldFRyYWNrQnlJZChyKTtlLmluYmFuZFRleHRUcmFja3NfW3JdPWF8fG4uYWRkUmVtb3RlVGV4dFRyYWNrKHtraW5kOiJjYXB0aW9ucyIsaWQ6cixsYWJlbDpyfSwhMSkudHJhY2t9aS5tZXRhZGF0YSYmaS5tZXRhZGF0YS5sZW5ndGgmJiFlLm1ldGFkYXRhVHJhY2tfJiYoZS5tZXRhZGF0YVRyYWNrXz1uLmFkZFJlbW90ZVRleHRUcmFjayh7a2luZDoibWV0YWRhdGEiLGxhYmVsOiJUaW1lZCBNZXRhZGF0YSJ9LCExKS50cmFjayxlLm1ldGFkYXRhVHJhY2tfLmluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGU9aS5tZXRhZGF0YS5kaXNwYXRjaFR5cGUpfSh0aGlzLHRoaXMubWVkaWFTb3VyY2VfLHQpLHRoaXMucGVuZGluZ0J1ZmZlcnNfLnB1c2godCl9fSx7a2V5OiJkb25lXyIsdmFsdWU6ZnVuY3Rpb24oZSl7ImNsb3NlZCIhPT10aGlzLm1lZGlhU291cmNlXy5yZWFkeVN0YXRlP3RoaXMucHJvY2Vzc1BlbmRpbmdTZWdtZW50c18oKTp0aGlzLnBlbmRpbmdCdWZmZXJzXy5sZW5ndGg9MH19LHtrZXk6InZpZGVvU2VnbWVudFRpbWluZ0luZm9fIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17c3RhcnQ6e2RlY29kZTplLnN0YXJ0LmR0cy85ZTQscHJlc2VudGF0aW9uOmUuc3RhcnQucHRzLzllNH0sZW5kOntkZWNvZGU6ZS5lbmQuZHRzLzllNCxwcmVzZW50YXRpb246ZS5lbmQucHRzLzllNH0sYmFzZU1lZGlhRGVjb2RlVGltZTplLmJhc2VNZWRpYURlY29kZVRpbWUvOWU0fTtlLnByZXBlbmRlZENvbnRlbnREdXJhdGlvbiYmKHQucHJlcGVuZGVkQ29udGVudER1cmF0aW9uPWUucHJlcGVuZGVkQ29udGVudER1cmF0aW9uLzllNCksdGhpcy50cmlnZ2VyKHt0eXBlOiJ2aWRlb1NlZ21lbnRUaW1pbmdJbmZvIix2aWRlb1NlZ21lbnRUaW1pbmdJbmZvOnR9KX19LHtrZXk6ImNyZWF0ZVJlYWxTb3VyY2VCdWZmZXJzXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9WyJhdWRpbyIsInZpZGVvIl07ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKG5bdCsiQ29kZWNfIl0mJiFuW3QrIkJ1ZmZlcl8iXSl7dmFyIGk9bnVsbDtpZihuLm1lZGlhU291cmNlX1t0KyJCdWZmZXJfIl0pKGk9bi5tZWRpYVNvdXJjZV9bdCsiQnVmZmVyXyJdKS51cGRhdGluZz0hMTtlbHNle3ZhciBlPXQrJy9tcDQ7Y29kZWNzPSInK25bdCsiQ29kZWNfIl0rJyInO2k9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmFkZFNvdXJjZUJ1ZmZlcih0KSxuPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gcih0KXsiZnVuY3Rpb24iPT10eXBlb2YgaVt0XT9uW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGlbdF0uYXBwbHkoaSxhcmd1bWVudHMpfToidW5kZWZpbmVkIj09dHlwZW9mIG5bdF0mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBpW3RdfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGlbdF09ZX19KX1mb3IodmFyIGEgaW4gbi51cGRhdGluZz0hMSxuLnJlYWxCdWZmZXJfPWkpcihhKTtyZXR1cm4gbn0obi5tZWRpYVNvdXJjZV8ubmF0aXZlTWVkaWFTb3VyY2VfLGUpLG4ubWVkaWFTb3VyY2VfW3QrIkJ1ZmZlcl8iXT1pfW5bdCsiQnVmZmVyXyJdPWksWyJ1cGRhdGUiLCJ1cGRhdGVzdGFydCIsInVwZGF0ZWVuZCJdLmZvckVhY2goZnVuY3Rpb24oZSl7aS5hZGRFdmVudExpc3RlbmVyKGUsZnVuY3Rpb24oKXtpZigiYXVkaW8iIT09dHx8IW4uYXVkaW9EaXNhYmxlZF8pcmV0dXJuInVwZGF0ZWVuZCI9PT1lJiYoblt0KyJCdWZmZXJfIl0udXBkYXRpbmc9ITEpLHIuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuISgiYXVkaW8iIT09ZXx8IW4uYXVkaW9EaXNhYmxlZF8pfHx0PT09ZXx8IW5bZSsiQnVmZmVyXyJdfHwhbltlKyJCdWZmZXJfIl0udXBkYXRpbmd9KT9uLnRyaWdnZXIoZSk6dm9pZCAwfSl9KX19KX19LHtrZXk6ImFwcGVuZEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5idWZmZXJVcGRhdGluZ189ITAsdGhpcy5hdWRpb0J1ZmZlcl8mJnRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aCl7dmFyIHQ9dGhpcy5hdWRpb0J1ZmZlcl8uYnVmZmVyZWQ7dGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzZXRBdWRpb0FwcGVuZFN0YXJ0IixhcHBlbmRTdGFydDp0LmVuZCh0Lmxlbmd0aC0xKX0pfXRoaXMudmlkZW9CdWZmZXJfJiZ0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246ImFsaWduR29wc1dpdGgiLGdvcHNUb0FsaWduV2l0aDpmdW5jdGlvbihlLHQsaSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0fHxudWxsPT09dHx8IWUubGVuZ3RoKXJldHVybltdO3ZhciBuPU1hdGguY2VpbCg5ZTQqKHQtaSszKSkscj12b2lkIDA7Zm9yKHI9MDtyPGUubGVuZ3RoJiYhKGVbcl0ucHRzPm4pO3IrKyk7cmV0dXJuIGUuc2xpY2Uocil9KHRoaXMuZ29wQnVmZmVyXyx0aGlzLm1lZGlhU291cmNlXy5wbGF5ZXJfP3RoaXMubWVkaWFTb3VyY2VfLnBsYXllcl8uY3VycmVudFRpbWUoKTpudWxsLHRoaXMudGltZU1hcHBpbmdfKX0pLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicHVzaCIsZGF0YTplLmJ1ZmZlcixieXRlT2Zmc2V0OmUuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOmUuYnl0ZUxlbmd0aH0sW2UuYnVmZmVyXSksdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJmbHVzaCJ9KX19LHtrZXk6ImFwcGVuZEdvcEluZm9fIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdvcEJ1ZmZlcl89ZnVuY3Rpb24oZSx0LGkpe2lmKCF0Lmxlbmd0aClyZXR1cm4gZTtpZihpKXJldHVybiB0LnNsaWNlKCk7Zm9yKHZhciBuPXRbMF0ucHRzLHI9MDtyPGUubGVuZ3RoJiYhKGVbcl0ucHRzPj1uKTtyKyspO3JldHVybiBlLnNsaWNlKDAscikuY29uY2F0KHQpfSh0aGlzLmdvcEJ1ZmZlcl8sZS5kYXRhLmdvcEluZm8sdGhpcy5zYWZlQXBwZW5kXyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy52aWRlb0J1ZmZlcl8mJih0aGlzLnZpZGVvQnVmZmVyXy51cGRhdGluZz0hMCx0aGlzLnZpZGVvQnVmZmVyXy5yZW1vdmUoZSx0KSx0aGlzLmdvcEJ1ZmZlcl89ZnVuY3Rpb24oZSx0LGksbil7Zm9yKHZhciByPU1hdGguY2VpbCg5ZTQqKHQtbikpLGE9TWF0aC5jZWlsKDllNCooaS1uKSkscz1lLnNsaWNlKCksbz1lLmxlbmd0aDtvLS0mJiEoZVtvXS5wdHM8PWEpOyk7aWYoLTE9PT1vKXJldHVybiBzO2Zvcih2YXIgdT1vKzE7dS0tJiYhKGVbdV0ucHRzPD1yKTspO3JldHVybiB1PU1hdGgubWF4KHUsMCkscy5zcGxpY2UodSxvLXUrMSksc30odGhpcy5nb3BCdWZmZXJfLGUsdCx0aGlzLnRpbWVNYXBwaW5nXykpLCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmKHRoaXMuYXVkaW9CdWZmZXJfLnVwZGF0aW5nPSEwLHRoaXMuYXVkaW9CdWZmZXJfLnJlbW92ZShlLHQpKSxrbChlLHQsdGhpcy5tZXRhZGF0YVRyYWNrXyksdGhpcy5pbmJhbmRUZXh0VHJhY2tzXylmb3IodmFyIGkgaW4gdGhpcy5pbmJhbmRUZXh0VHJhY2tzXylrbChlLHQsdGhpcy5pbmJhbmRUZXh0VHJhY2tzX1tpXSl9fSx7a2V5OiJwcm9jZXNzUGVuZGluZ1NlZ21lbnRzXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17dmlkZW86e3NlZ21lbnRzOltdLGJ5dGVzOjB9LGF1ZGlvOntzZWdtZW50czpbXSxieXRlczowfSxjYXB0aW9uczpbXSxtZXRhZGF0YTpbXX07aWYoIXRoaXMucGVuZGluZ0J1ZmZlcnNfLmxlbmd0aClyZXR1cm4gdGhpcy50cmlnZ2VyKCJ1cGRhdGVlbmQiKSx2b2lkKHRoaXMuYnVmZmVyVXBkYXRpbmdfPSExKTtlPXRoaXMucGVuZGluZ0J1ZmZlcnNfLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpPXQudHlwZSxuPXQuZGF0YSxyPXQuaW5pdFNlZ21lbnQ7cmV0dXJuIGVbaV0uc2VnbWVudHMucHVzaChuKSxlW2ldLmJ5dGVzKz1uLmJ5dGVMZW5ndGgsZVtpXS5pbml0U2VnbWVudD1yLHQuY2FwdGlvbnMmJihlLmNhcHRpb25zPWUuY2FwdGlvbnMuY29uY2F0KHQuY2FwdGlvbnMpKSx0LmluZm8mJihlW2ldLmluZm89dC5pbmZvKSx0Lm1ldGFkYXRhJiYoZS5tZXRhZGF0YT1lLm1ldGFkYXRhLmNvbmNhdCh0Lm1ldGFkYXRhKSksZX0sZSksdGhpcy52aWRlb0J1ZmZlcl98fHRoaXMuYXVkaW9CdWZmZXJffHwoMD09PWUudmlkZW8uYnl0ZXMmJih0aGlzLnZpZGVvQ29kZWNfPW51bGwpLDA9PT1lLmF1ZGlvLmJ5dGVzJiYodGhpcy5hdWRpb0NvZGVjXz1udWxsKSx0aGlzLmNyZWF0ZVJlYWxTb3VyY2VCdWZmZXJzXygpKSxlLmF1ZGlvLmluZm8mJnRoaXMubWVkaWFTb3VyY2VfLnRyaWdnZXIoe3R5cGU6ImF1ZGlvaW5mbyIsaW5mbzplLmF1ZGlvLmluZm99KSxlLnZpZGVvLmluZm8mJnRoaXMubWVkaWFTb3VyY2VfLnRyaWdnZXIoe3R5cGU6InZpZGVvaW5mbyIsaW5mbzplLnZpZGVvLmluZm99KSx0aGlzLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfJiYoIXRoaXMuYXVkaW9EaXNhYmxlZF8mJnRoaXMuYXVkaW9CdWZmZXJfJiYoZS5hdWRpby5zZWdtZW50cy51bnNoaWZ0KGUuYXVkaW8uaW5pdFNlZ21lbnQpLGUuYXVkaW8uYnl0ZXMrPWUuYXVkaW8uaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCksdGhpcy5hcHBlbmRBdWRpb0luaXRTZWdtZW50Xz0hMSk7dmFyIHQ9ITE7dGhpcy52aWRlb0J1ZmZlcl8mJmUudmlkZW8uYnl0ZXM/KGUudmlkZW8uc2VnbWVudHMudW5zaGlmdChlLnZpZGVvLmluaXRTZWdtZW50KSxlLnZpZGVvLmJ5dGVzKz1lLnZpZGVvLmluaXRTZWdtZW50LmJ5dGVMZW5ndGgsdGhpcy5jb25jYXRBbmRBcHBlbmRTZWdtZW50c18oZS52aWRlbyx0aGlzLnZpZGVvQnVmZmVyXykpOiF0aGlzLnZpZGVvQnVmZmVyX3x8IXRoaXMuYXVkaW9EaXNhYmxlZF8mJnRoaXMuYXVkaW9CdWZmZXJffHwodD0hMCksRWwodGhpcyxlLmNhcHRpb25zLGUubWV0YWRhdGEpLCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmdGhpcy5jb25jYXRBbmRBcHBlbmRTZWdtZW50c18oZS5hdWRpbyx0aGlzLmF1ZGlvQnVmZmVyXyksdGhpcy5wZW5kaW5nQnVmZmVyc18ubGVuZ3RoPTAsdCYmdGhpcy50cmlnZ2VyKCJ1cGRhdGVlbmQiKSx0aGlzLmJ1ZmZlclVwZGF0aW5nXz0hMX19LHtrZXk6ImNvbmNhdEFuZEFwcGVuZFNlZ21lbnRzXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0wLG49dm9pZCAwO2lmKGUuYnl0ZXMpe249bmV3IFVpbnQ4QXJyYXkoZS5ieXRlcyksZS5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc2V0KGUsaSksaSs9ZS5ieXRlTGVuZ3RofSk7dHJ5e3QudXBkYXRpbmc9ITAsdC5hcHBlbmRCdWZmZXIobil9Y2F0Y2goZSl7dGhpcy5tZWRpYVNvdXJjZV8ucGxheWVyXyYmdGhpcy5tZWRpYVNvdXJjZV8ucGxheWVyXy5lcnJvcih7Y29kZTotMyx0eXBlOiJBUFBFTkRfQlVGRkVSX0VSUiIsbWVzc2FnZTplLm1lc3NhZ2Usb3JpZ2luYWxFcnJvcjplfSl9fX19LHtrZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlkZW9CdWZmZXJfJiZ0aGlzLnZpZGVvQnVmZmVyXy5hYm9ydCgpLCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmdGhpcy5hdWRpb0J1ZmZlcl8uYWJvcnQoKSx0aGlzLnRyYW5zbXV4ZXJfJiZ0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc2V0In0pLHRoaXMucGVuZGluZ0J1ZmZlcnNfLmxlbmd0aD0wLHRoaXMuYnVmZmVyVXBkYXRpbmdfPSExfX1dKSxabCk7ZnVuY3Rpb24gWmwoZSx0KXtSdSh0aGlzLFpsKTt2YXIgaT1qdSh0aGlzLChabC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihabCkpLmNhbGwodGhpcyxwcy5FdmVudFRhcmdldCkpO2kudGltZXN0YW1wT2Zmc2V0Xz0wLGkucGVuZGluZ0J1ZmZlcnNfPVtdLGkuYnVmZmVyVXBkYXRpbmdfPSExLGkubWVkaWFTb3VyY2VfPWUsaS5jb2RlY3NfPXQsaS5hdWRpb0NvZGVjXz1udWxsLGkudmlkZW9Db2RlY189bnVsbCxpLmF1ZGlvRGlzYWJsZWRfPSExLGkuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF89ITAsaS5nb3BCdWZmZXJfPVtdLGkudGltZU1hcHBpbmdfPTAsaS5zYWZlQXBwZW5kXz0xMTw9cHMuYnJvd3Nlci5JRV9WRVJTSU9OO3ZhciBuPXtyZW11eDohMSxhbGlnbkdvcHNBdEVuZDppLnNhZmVBcHBlbmRffTtyZXR1cm4gaS5jb2RlY3NfLmZvckVhY2goZnVuY3Rpb24oZSl7WGwoZSk/aS5hdWRpb0NvZGVjXz1lOktsKGUpJiYoaS52aWRlb0NvZGVjXz1lKX0pLGkudHJhbnNtdXhlcl89bmV3IFlsLGkudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdCIsb3B0aW9uczpufSksaS50cmFuc211eGVyXy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiPT09ZS5kYXRhLmFjdGlvbj9pLmRhdGFfKGUpOiJkb25lIj09PWUuZGF0YS5hY3Rpb24/aS5kb25lXyhlKToiZ29wSW5mbyI9PT1lLmRhdGEuYWN0aW9uP2kuYXBwZW5kR29wSW5mb18oZSk6InZpZGVvU2VnbWVudFRpbWluZ0luZm8iPT09ZS5kYXRhLmFjdGlvbj9pLnZpZGVvU2VnbWVudFRpbWluZ0luZm9fKGUuZGF0YS52aWRlb1NlZ21lbnRUaW1pbmdJbmZvKTp2b2lkIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJ0aW1lc3RhbXBPZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lc3RhbXBPZmZzZXRffSxzZXQ6ZnVuY3Rpb24oZSl7Im51bWJlciI9PXR5cGVvZiBlJiYwPD1lJiYodGhpcy50aW1lc3RhbXBPZmZzZXRfPWUsdGhpcy5hcHBlbmRBdWRpb0luaXRTZWdtZW50Xz0hMCx0aGlzLmdvcEJ1ZmZlcl8ubGVuZ3RoPTAsdGhpcy50aW1lTWFwcGluZ189MCx0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InNldFRpbWVzdGFtcE9mZnNldCIsdGltZXN0YW1wT2Zmc2V0OmV9KSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImFwcGVuZFdpbmRvd1N0YXJ0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMudmlkZW9CdWZmZXJffHx0aGlzLmF1ZGlvQnVmZmVyXykuYXBwZW5kV2luZG93U3RhcnR9LHNldDpmdW5jdGlvbihlKXt0aGlzLnZpZGVvQnVmZmVyXyYmKHRoaXMudmlkZW9CdWZmZXJfLmFwcGVuZFdpbmRvd1N0YXJ0PWUpLHRoaXMuYXVkaW9CdWZmZXJfJiYodGhpcy5hdWRpb0J1ZmZlcl8uYXBwZW5kV2luZG93U3RhcnQ9ZSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksInVwZGF0aW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5idWZmZXJVcGRhdGluZ198fCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmdGhpcy5hdWRpb0J1ZmZlcl8udXBkYXRpbmd8fHRoaXMudmlkZW9CdWZmZXJfJiZ0aGlzLnZpZGVvQnVmZmVyXy51cGRhdGluZyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImJ1ZmZlcmVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1udWxsLHI9bnVsbCxhPTAscz1bXSxvPVtdO2lmKCFlJiYhdClyZXR1cm4gcHMuY3JlYXRlVGltZVJhbmdlKCk7aWYoIWUpcmV0dXJuIHQuYnVmZmVyZWQ7aWYoIXQpcmV0dXJuIGUuYnVmZmVyZWQ7aWYoaSlyZXR1cm4gZS5idWZmZXJlZDtpZigwPT09ZS5idWZmZXJlZC5sZW5ndGgmJjA9PT10LmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gcHMuY3JlYXRlVGltZVJhbmdlKCk7Zm9yKHZhciB1PWUuYnVmZmVyZWQsbD10LmJ1ZmZlcmVkLGM9dS5sZW5ndGg7Yy0tOylzLnB1c2goe3RpbWU6dS5zdGFydChjKSx0eXBlOiJzdGFydCJ9KSxzLnB1c2goe3RpbWU6dS5lbmQoYyksdHlwZToiZW5kIn0pO2ZvcihjPWwubGVuZ3RoO2MtLTspcy5wdXNoKHt0aW1lOmwuc3RhcnQoYyksdHlwZToic3RhcnQifSkscy5wdXNoKHt0aW1lOmwuZW5kKGMpLHR5cGU6ImVuZCJ9KTtmb3Iocy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGltZS10LnRpbWV9KSxjPTA7YzxzLmxlbmd0aDtjKyspInN0YXJ0Ij09PXNbY10udHlwZT8yPT09KythJiYobj1zW2NdLnRpbWUpOiJlbmQiPT09c1tjXS50eXBlJiYxPT09LS1hJiYocj1zW2NdLnRpbWUpLG51bGwhPT1uJiZudWxsIT09ciYmKG8ucHVzaChbbixyXSkscj1uPW51bGwpO3JldHVybiBwcy5jcmVhdGVUaW1lUmFuZ2VzKG8pfSh0aGlzLnZpZGVvQnVmZmVyXyx0aGlzLmF1ZGlvQnVmZmVyXyx0aGlzLmF1ZGlvRGlzYWJsZWRfKX19KSxpfXZhciBlYz0oQnUodGMscHMuRXZlbnRUYXJnZXQpLE11KHRjLFt7a2V5OiJhZGRTZWVrYWJsZVJhbmdlXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT12b2lkIDA7aWYodGhpcy5kdXJhdGlvbiE9PTEvMCl0aHJvdyhpPW5ldyBFcnJvcigiTWVkaWFTb3VyY2UuYWRkU2Vla2FibGVSYW5nZSgpIGNhbiBvbmx5IGJlIGludm9rZWQgd2hlbiB0aGUgZHVyYXRpb24gaXMgSW5maW5pdHkiKSkubmFtZT0iSW52YWxpZFN0YXRlRXJyb3IiLGkuY29kZT0xMSxpOyh0PnRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmR1cmF0aW9ufHxpc05hTih0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbikpJiYodGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb249dCl9fSx7a2V5OiJhZGRTb3VyY2VCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCxpPWZ1bmN0aW9uKGUpe3ZhciByPXt0eXBlOiIiLHBhcmFtZXRlcnM6e319LHQ9ZS50cmltKCkuc3BsaXQoIjsiKTtyZXR1cm4gci50eXBlPXQuc2hpZnQoKS50cmltKCksdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudHJpbSgpLnNwbGl0KCI9Iik7aWYoMTx0Lmxlbmd0aCl7dmFyIGk9dFswXS5yZXBsYWNlKC8iL2csIiIpLnRyaW0oKSxuPXRbMV0ucmVwbGFjZSgvIi9nLCIiKS50cmltKCk7ci5wYXJhbWV0ZXJzW2ldPW59fSkscn0oZSk7aWYoL14odmlkZW98YXVkaW8pXC9tcDJ0JC9pLnRlc3QoaS50eXBlKSl7dmFyIG49W107aS5wYXJhbWV0ZXJzJiZpLnBhcmFtZXRlcnMuY29kZWNzJiYobj1pLnBhcmFtZXRlcnMuY29kZWNzLnNwbGl0KCIsIiksbj0obj1XbChuKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBYbChlKXx8S2woZSl9KSksMD09PW4ubGVuZ3RoJiYobj1bImF2YzEuNGQ0MDBkIiwibXA0YS40MC4yIl0pLHQ9bmV3IEpsKHRoaXMsbiksMCE9PXRoaXMuc291cmNlQnVmZmVycy5sZW5ndGgmJih0aGlzLnNvdXJjZUJ1ZmZlcnNbMF0uY3JlYXRlUmVhbFNvdXJjZUJ1ZmZlcnNfKCksdC5jcmVhdGVSZWFsU291cmNlQnVmZmVyc18oKSx0aGlzLnNvdXJjZUJ1ZmZlcnNbMF0uYXVkaW9EaXNhYmxlZF89ITApfWVsc2UgdD10aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5hZGRTb3VyY2VCdWZmZXIoZSk7cmV0dXJuIHRoaXMuc291cmNlQnVmZmVycy5wdXNoKHQpLHR9fV0pLHRjKTtmdW5jdGlvbiB0Yygpe1J1KHRoaXMsdGMpO3ZhciBhPWp1KHRoaXMsKHRjLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHRjKSkuY2FsbCh0aGlzKSksZT12b2lkIDA7Zm9yKGUgaW4gYS5uYXRpdmVNZWRpYVNvdXJjZV89bmV3IHYuTWVkaWFTb3VyY2UsYS5uYXRpdmVNZWRpYVNvdXJjZV8pZSBpbiB0Yy5wcm90b3R5cGV8fCJmdW5jdGlvbiIhPXR5cGVvZiBhLm5hdGl2ZU1lZGlhU291cmNlX1tlXXx8KGFbZV09YS5uYXRpdmVNZWRpYVNvdXJjZV9bZV0uYmluZChhLm5hdGl2ZU1lZGlhU291cmNlXykpO3JldHVybiBhLmR1cmF0aW9uXz1OYU4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb25fPT09MS8wP3RoaXMuZHVyYXRpb25fOnRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7KHRoaXMuZHVyYXRpb25fPWUpPT09MS8wfHwodGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb249ZSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInNlZWthYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHVyYXRpb25fPT09MS8wP3BzLmNyZWF0ZVRpbWVSYW5nZXMoW1swLHRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmR1cmF0aW9uXV0pOnRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLnNlZWthYmxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJyZWFkeVN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLnJlYWR5U3RhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImFjdGl2ZVNvdXJjZUJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVTb3VyY2VCdWZmZXJzX319KSxhLnNvdXJjZUJ1ZmZlcnM9W10sYS5hY3RpdmVTb3VyY2VCdWZmZXJzXz1bXSxhLnVwZGF0ZUFjdGl2ZVNvdXJjZUJ1ZmZlcnNfPWZ1bmN0aW9uKCl7aWYoYS5hY3RpdmVTb3VyY2VCdWZmZXJzXy5sZW5ndGg9MCwxPT09YS5zb3VyY2VCdWZmZXJzLmxlbmd0aCl7dmFyIGU9YS5zb3VyY2VCdWZmZXJzWzBdO3JldHVybiBlLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfPSEwLGUuYXVkaW9EaXNhYmxlZF89IWUuYXVkaW9Db2RlY18sdm9pZCBhLmFjdGl2ZVNvdXJjZUJ1ZmZlcnNfLnB1c2goZSl9Zm9yKHZhciBpPSExLG49ITAsdD0wO3Q8YS5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkubGVuZ3RoO3QrKyl7dmFyIHI9YS5wbGF5ZXJfLmF1ZGlvVHJhY2tzKClbdF07aWYoci5lbmFibGVkJiYibWFpbiIhPT1yLmtpbmQpe249IShpPSEwKTticmVha319YS5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihlLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfPSEwLGUudmlkZW9Db2RlY18mJmUuYXVkaW9Db2RlY18pZS5hdWRpb0Rpc2FibGVkXz1pO2Vsc2UgaWYoZS52aWRlb0NvZGVjXyYmIWUuYXVkaW9Db2RlY18pZS5hdWRpb0Rpc2FibGVkXz0hMCxuPSExO2Vsc2UgaWYoIWUudmlkZW9Db2RlY18mJmUuYXVkaW9Db2RlY18mJihlLmF1ZGlvRGlzYWJsZWRfPXQ/bjohbixlLmF1ZGlvRGlzYWJsZWRfKSlyZXR1cm47YS5hY3RpdmVTb3VyY2VCdWZmZXJzXy5wdXNoKGUpfSl9LGEub25QbGF5ZXJNZWRpYWNoYW5nZV89ZnVuY3Rpb24oKXthLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfPSEwfSl9LGEub25IbHNSZXNldF89ZnVuY3Rpb24oKXthLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRyYW5zbXV4ZXJfJiZlLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc2V0Q2FwdGlvbnMifSl9KX0sYS5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ189ZnVuY3Rpb24odCl7YS5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZU1hcHBpbmdfPXQubWFwcGluZ30pfSxbInNvdXJjZW9wZW4iLCJzb3VyY2VjbG9zZSIsInNvdXJjZWVuZGVkIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5hZGRFdmVudExpc3RlbmVyKGUsdGhpcy50cmlnZ2VyLmJpbmQodGhpcykpfSxhKSxhLm9uKCJzb3VyY2VvcGVuIixmdW5jdGlvbihlKXt2YXIgdD1oLnF1ZXJ5U2VsZWN0b3IoJ1tzcmM9IicrYS51cmxfKyciXScpO3QmJihhLnBsYXllcl89cHModC5wYXJlbnROb2RlKSxhLnBsYXllcl8mJihhLnBsYXllcl8udGVjaF8ub24oImhscy1yZXNldCIsYS5vbkhsc1Jlc2V0XyksYS5wbGF5ZXJfLnRlY2hfLm9uKCJobHMtc2VnbWVudC10aW1lLW1hcHBpbmciLGEub25IbHNTZWdtZW50VGltZU1hcHBpbmdfKSxhLnBsYXllcl8uYXVkaW9UcmFja3MmJmEucGxheWVyXy5hdWRpb1RyYWNrcygpJiYoYS5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub24oImNoYW5nZSIsYS51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyksYS5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub24oImFkZHRyYWNrIixhLnVwZGF0ZUFjdGl2ZVNvdXJjZUJ1ZmZlcnNfKSxhLnBsYXllcl8uYXVkaW9UcmFja3MoKS5vbigicmVtb3ZldHJhY2siLGEudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pKSxhLnBsYXllcl8ub24oIm1lZGlhY2hhbmdlIixhLm9uUGxheWVyTWVkaWFjaGFuZ2VfKSkpfSksYS5vbigic291cmNlZW5kZWQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1DbChhLmR1cmF0aW9uKSxpPTA7aTxhLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoO2krKyl7dmFyIG49YS5zb3VyY2VCdWZmZXJzW2ldLHI9bi5tZXRhZGF0YVRyYWNrXyYmbi5tZXRhZGF0YVRyYWNrXy5jdWVzO3ImJnIubGVuZ3RoJiYocltyLmxlbmd0aC0xXS5lbmRUaW1lPXQpfX0pLGEub24oInNvdXJjZWNsb3NlIixmdW5jdGlvbihlKXt0aGlzLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRyYW5zbXV4ZXJfJiZlLnRyYW5zbXV4ZXJfLnRlcm1pbmF0ZSgpfSksdGhpcy5zb3VyY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMucGxheWVyXyYmKHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcyYmdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkmJih0aGlzLnBsYXllcl8uYXVkaW9UcmFja3MoKS5vZmYoImNoYW5nZSIsdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyksdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub2ZmKCJhZGR0cmFjayIsdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyksdGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub2ZmKCJyZW1vdmV0cmFjayIsdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXykpLHRoaXMucGxheWVyXy5lbF8mJnRoaXMucGxheWVyXy5vZmYoIm1lZGlhY2hhbmdlIix0aGlzLm9uUGxheWVyTWVkaWFjaGFuZ2VfKSx0aGlzLnBsYXllcl8udGVjaF8mJnRoaXMucGxheWVyXy50ZWNoXy5lbF8mJih0aGlzLnBsYXllcl8udGVjaF8ub2ZmKCJobHMtcmVzZXQiLHRoaXMub25IbHNSZXNldF8pLHRoaXMucGxheWVyXy50ZWNoXy5vZmYoImhscy1zZWdtZW50LXRpbWUtbWFwcGluZyIsdGhpcy5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ18pKSl9KSxhfXZhciBpYz0wO3BzLm1lZGlhU291cmNlcz17fTtmdW5jdGlvbiBuYyhlLHQpe3ZhciBpPXBzLm1lZGlhU291cmNlc1tlXTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIk1lZGlhIFNvdXJjZSBub3QgZm91bmQgKFZpZGVvLmpzKSIpO2kudHJpZ2dlcih7dHlwZToic291cmNlb3BlbiIsc3dmSWQ6dH0pfWZ1bmN0aW9uIHJjKCl7cmV0dXJuISF2Lk1lZGlhU291cmNlJiYhIXYuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkJiZ2Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0O2NvZGVjcz0iYXZjMS40ZDQwMGQsbXA0YS40MC4yIicpfWZ1bmN0aW9uIGFjKCl7aWYodGhpcy5NZWRpYVNvdXJjZT17b3BlbjpuYyxzdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlczpyY30scmMoKSlyZXR1cm4gbmV3IGVjO3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IHVzZSBjcmVhdGUgYSB2aXJ0dWFsIE1lZGlhU291cmNlIGZvciB0aGlzIHZpZGVvIil9YWMub3Blbj1uYyxhYy5zdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlcz1yYzt2YXIgc2M9e2NyZWF0ZU9iamVjdFVSTDpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGUgaW5zdGFuY2VvZiBlYz8odD12LlVSTC5jcmVhdGVPYmplY3RVUkwoZS5uYXRpdmVNZWRpYVNvdXJjZV8pLGUudXJsXz10KTplIGluc3RhbmNlb2YgZWM/KHQ9ImJsb2I6dmpzLW1lZGlhLXNvdXJjZS8iK2ljLGljKysscHMubWVkaWFTb3VyY2VzW3RdPWUsdCk6KHQ9di5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLGUudXJsXz10KX19O3BzLk1lZGlhU291cmNlPWFjLHBzLlVSTD1zYztmdW5jdGlvbiBvYyhlLHQpe2Zvcih2YXIgcz12b2lkIDAsbz1oYyhlLHtkdXJhdGlvbjp0LmR1cmF0aW9uLG1pbmltdW1VcGRhdGVQZXJpb2Q6dC5taW5pbXVtVXBkYXRlUGVyaW9kfSksaT0wO2k8dC5wbGF5bGlzdHMubGVuZ3RoO2krKyl7dmFyIG49SHUobyx0LnBsYXlsaXN0c1tpXSk7bj9vPW46cz0hMH1yZXR1cm4gRnUodCxmdW5jdGlvbihlLHQsaSxuKXtpZihlLnBsYXlsaXN0cyYmZS5wbGF5bGlzdHMubGVuZ3RoKXt2YXIgcj1lLnBsYXlsaXN0c1swXS51cmksYT1IdShvLGUucGxheWxpc3RzWzBdKTthJiYoKG89YSkubWVkaWFHcm91cHNbdF1baV1bbl0ucGxheWxpc3RzWzBdPW8ucGxheWxpc3RzW3JdLHM9ITEpfX0pLHM/bnVsbDpvfWZ1bmN0aW9uIHVjKGUpe3ZhciB0PWUuYnl0ZXJhbmdlLm9mZnNldCtlLmJ5dGVyYW5nZS5sZW5ndGgtMTtyZXR1cm4gZS51cmkrIi0iK2UuYnl0ZXJhbmdlLm9mZnNldCsiLSIrdH1mdW5jdGlvbiBsYyhlLHQpe3ZhciBpLG4scj17fTtmb3IodmFyIGEgaW4gZSl7dmFyIHM9ZVthXS5zaWR4O2lmKHMpe3ZhciBvPXVjKHMpO2lmKCF0W29dKWJyZWFrO3ZhciB1PXRbb10uc2lkeEluZm87aT11LG49cywoQm9vbGVhbighaS5tYXAmJiFuLm1hcCl8fEJvb2xlYW4oaS5tYXAmJm4ubWFwJiZpLm1hcC5ieXRlcmFuZ2Uub2Zmc2V0PT09bi5tYXAuYnl0ZXJhbmdlLm9mZnNldCYmaS5tYXAuYnl0ZXJhbmdlLmxlbmd0aD09PW4ubWFwLmJ5dGVyYW5nZS5sZW5ndGgpKSYmaS51cmk9PT1uLnVyaSYmaS5ieXRlcmFuZ2Uub2Zmc2V0PT09bi5ieXRlcmFuZ2Uub2Zmc2V0JiZpLmJ5dGVyYW5nZS5sZW5ndGg9PT1uLmJ5dGVyYW5nZS5sZW5ndGgmJihyW29dPXRbb10pfX1yZXR1cm4gcn1mdW5jdGlvbiBjYyhlLHQsaSxuLHIpe3ZhciBhPXt1cmk6VXUobi5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cyxlLnJlc29sdmVkVXJpKSxieXRlcmFuZ2U6ZS5ieXRlcmFuZ2UscGxheWxpc3Q6dH07cmV0dXJuIGkocHMubWVyZ2VPcHRpb25zKGEse3Jlc3BvbnNlVHlwZToiYXJyYXlidWZmZXIiLGhlYWRlcnM6bGwoYSl9KSxyKX12YXIgaGM9cHMubWVyZ2VPcHRpb25zLGRjPShCdShwYyxwcy5FdmVudFRhcmdldCksTXUocGMsW3trZXk6InNldHVwQ2hpbGRMb2FkZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl89ZSx0aGlzLmNoaWxkUGxheWxpc3RfPXR9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcFJlcXVlc3QoKSx0aGlzLmxvYWRlZFBsYXlsaXN0c189e30sdi5jbGVhclRpbWVvdXQodGhpcy5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8pLHYuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFSZXF1ZXN0Xyksdi5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQpfX0se2tleToiaGFzUGVuZGluZ1JlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWVzdHx8dGhpcy5tZWRpYVJlcXVlc3RffX0se2tleToic3RvcFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5yZXF1ZXN0KXt2YXIgZT10aGlzLnJlcXVlc3Q7dGhpcy5yZXF1ZXN0PW51bGwsZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlLmFib3J0KCl9fX0se2tleToic2lkeFJlcXVlc3RGaW5pc2hlZF8iLHZhbHVlOmZ1bmN0aW9uKHIsYSxzLG8pe3ZhciB1PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYodS5yZXF1ZXN0KXtpZih1LnJlcXVlc3Q9bnVsbCxlKXJldHVybiB1LmVycm9yPXtzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZToiREFTSCBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogIityLnVyaSxyZXNwb25zZTp0LnJlc3BvbnNlLGNvZGU6Mn0scyYmKHUuc3RhdGU9cyksdS50cmlnZ2VyKCJlcnJvciIpLG8oYSxudWxsKTt2YXIgaT1uZXcgVWludDhBcnJheSh0LnJlc3BvbnNlKSxuPUlvLnBhcnNlU2lkeChpLnN1YmFycmF5KDgpKTtyZXR1cm4gbyhhLG4pfX19fSx7a2V5OiJtZWRpYSIsdmFsdWU6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcztpZighaSlyZXR1cm4gdGhpcy5tZWRpYV87aWYoIkhBVkVfTk9USElORyI9PT10aGlzLnN0YXRlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHN3aXRjaCBtZWRpYSBwbGF5bGlzdCBmcm9tICIrdGhpcy5zdGF0ZSk7dmFyIHI9dGhpcy5zdGF0ZTtpZigic3RyaW5nIj09dHlwZW9mIGkpe2lmKCF0aGlzLm1hc3Rlci5wbGF5bGlzdHNbaV0pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHBsYXlsaXN0IFVSSTogIitpKTtpPXRoaXMubWFzdGVyLnBsYXlsaXN0c1tpXX12YXIgZT0hdGhpcy5tZWRpYV98fGkudXJpIT09dGhpcy5tZWRpYV8udXJpO2lmKGUmJnRoaXMubG9hZGVkUGxheWxpc3RzX1tpLnVyaV0mJnRoaXMubG9hZGVkUGxheWxpc3RzX1tpLnVyaV0uZW5kTGlzdClyZXR1cm4gdGhpcy5zdGF0ZT0iSEFWRV9NRVRBREFUQSIsdGhpcy5tZWRpYV89aSx2b2lkKGUmJih0aGlzLnRyaWdnZXIoIm1lZGlhY2hhbmdpbmciKSx0aGlzLnRyaWdnZXIoIm1lZGlhY2hhbmdlIikpKTtpZihlKWlmKHRoaXMubWVkaWFfJiZ0aGlzLnRyaWdnZXIoIm1lZGlhY2hhbmdpbmciKSxpLnNpZHgpe3ZhciB0PXZvaWQgMCxhPXZvaWQgMDthPXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfPyh0PXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1hc3Rlcix0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5zaWR4TWFwcGluZ18pOih0PXRoaXMubWFzdGVyLHRoaXMuc2lkeE1hcHBpbmdfKTt2YXIgcz11YyhpLnNpZHgpO2Fbc109e3NpZHhJbmZvOmkuc2lkeH0sdGhpcy5yZXF1ZXN0PWNjKGkuc2lkeCxpLHRoaXMuaGxzXy54aHIse2hhbmRsZU1hbmlmZXN0UmVkaXJlY3RzOnRoaXMuaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHN9LHRoaXMuc2lkeFJlcXVlc3RGaW5pc2hlZF8oaSx0LHIsZnVuY3Rpb24oZSx0KXtpZighZXx8IXQpdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gcmVxdWVzdCBzaWR4Iik7YVtzXS5zaWR4PXQsbi5oYXZlTWV0YWRhdGEoe3N0YXJ0aW5nU3RhdGU6cixwbGF5bGlzdDplLnBsYXlsaXN0c1tpLnVyaV19KX0pKX1lbHNlIHRoaXMubWVkaWFSZXF1ZXN0Xz12LnNldFRpbWVvdXQodGhpcy5oYXZlTWV0YWRhdGEuYmluZCh0aGlzLHtzdGFydGluZ1N0YXRlOnIscGxheWxpc3Q6aX0pLDApfX0se2tleToiaGF2ZU1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0aW5nU3RhdGUsaT1lLnBsYXlsaXN0O3RoaXMuc3RhdGU9IkhBVkVfTUVUQURBVEEiLHRoaXMubG9hZGVkUGxheWxpc3RzX1tpLnVyaV09aSx0aGlzLm1lZGlhUmVxdWVzdF89bnVsbCx0aGlzLnJlZnJlc2hNZWRpYV8oaS51cmkpLCJIQVZFX01BU1RFUiI9PT10P3RoaXMudHJpZ2dlcigibG9hZGVkbWV0YWRhdGEiKTp0aGlzLnRyaWdnZXIoIm1lZGlhY2hhbmdlIil9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0b3BSZXF1ZXN0KCksdi5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQpLHYuY2xlYXJUaW1lb3V0KHRoaXMubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfKSwiSEFWRV9OT1RISU5HIj09PXRoaXMuc3RhdGUmJih0aGlzLnN0YXJ0ZWQ9ITEpfX0se2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2LmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCksdi5jbGVhclRpbWVvdXQodGhpcy5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8pO3ZhciBpPXRoaXMubWVkaWEoKTtpZihlKXt2YXIgbj1pP2kudGFyZ2V0RHVyYXRpb24vMioxZTM6NWUzO3RoaXMubWVkaWFVcGRhdGVUaW1lb3V0PXYuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmxvYWQoKX0sbil9ZWxzZSB0aGlzLnN0YXJ0ZWQ/dGhpcy50cmlnZ2VyKCJsb2FkZWRwbGF5bGlzdCIpOnRoaXMuc3RhcnQoKX19LHtrZXk6InBhcnNlTWFzdGVyWG1sIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBhPWxvKHRoaXMubWFzdGVyWG1sXyx7bWFuaWZlc3RVcmk6dGhpcy5zcmNVcmwsY2xpZW50T2Zmc2V0OnRoaXMuY2xpZW50T2Zmc2V0XyxzaWR4TWFwcGluZzp0aGlzLnNpZHhNYXBwaW5nX30pO2EudXJpPXRoaXMuc3JjVXJsO2Zvcih2YXIgZT0wO2U8YS5wbGF5bGlzdHMubGVuZ3RoO2UrKyl7dmFyIHQ9InBsYWNlaG9sZGVyLXVyaS0iK2U7YS5wbGF5bGlzdHNbZV0udXJpPXQsYS5wbGF5bGlzdHNbdF09YS5wbGF5bGlzdHNbZV19cmV0dXJuIEZ1KGEsZnVuY3Rpb24oZSx0LGksbil7aWYoZS5wbGF5bGlzdHMmJmUucGxheWxpc3RzLmxlbmd0aCl7dmFyIHI9InBsYWNlaG9sZGVyLXVyaS0iK3QrIi0iK2krIi0iK247ZS5wbGF5bGlzdHNbMF0udXJpPXIsYS5wbGF5bGlzdHNbcl09ZS5wbGF5bGlzdHNbMF19fSksVnUoYSkscXUoYSksYX19LHtrZXk6InN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXM7dGhpcy5zdGFydGVkPSEwLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfP3RoaXMubWVkaWFSZXF1ZXN0Xz12LnNldFRpbWVvdXQodGhpcy5oYXZlTWFzdGVyXy5iaW5kKHRoaXMpLDApOnRoaXMucmVxdWVzdD10aGlzLmhsc18ueGhyKHt1cmk6dGhpcy5zcmNVcmwsd2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzfSxmdW5jdGlvbihlLHQpe2lmKGkucmVxdWVzdCl7aWYoaS5yZXF1ZXN0PW51bGwsZSlyZXR1cm4gaS5lcnJvcj17c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkRBU0ggcGxheWxpc3QgcmVxdWVzdCBlcnJvciBhdCBVUkw6ICIraS5zcmNVcmwscmVzcG9uc2VUZXh0OnQucmVzcG9uc2VUZXh0LGNvZGU6Mn0sIkhBVkVfTk9USElORyI9PT1pLnN0YXRlJiYoaS5zdGFydGVkPSExKSxpLnRyaWdnZXIoImVycm9yIik7aS5tYXN0ZXJYbWxfPXQucmVzcG9uc2VUZXh0LHQucmVzcG9uc2VIZWFkZXJzJiZ0LnJlc3BvbnNlSGVhZGVycy5kYXRlP2kubWFzdGVyTG9hZGVkXz1EYXRlLnBhcnNlKHQucmVzcG9uc2VIZWFkZXJzLmRhdGUpOmkubWFzdGVyTG9hZGVkXz1EYXRlLm5vdygpLGkuc3JjVXJsPVV1KGkuaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMsaS5zcmNVcmwsdCksaS5zeW5jQ2xpZW50U2VydmVyQ2xvY2tfKGkub25DbGllbnRTZXJ2ZXJDbG9ja1N5bmNfLmJpbmQoaSkpfX0pfX0se2tleToic3luY0NsaWVudFNlcnZlckNsb2NrXyIsdmFsdWU6ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxhPWNvKHRoaXMubWFzdGVyWG1sXyk7cmV0dXJuIG51bGw9PT1hPyh0aGlzLmNsaWVudE9mZnNldF89dGhpcy5tYXN0ZXJMb2FkZWRfLURhdGUubm93KCksbigpKToiRElSRUNUIj09PWEubWV0aG9kPyh0aGlzLmNsaWVudE9mZnNldF89YS52YWx1ZS1EYXRlLm5vdygpLG4oKSk6dm9pZCh0aGlzLnJlcXVlc3Q9dGhpcy5obHNfLnhocih7dXJpOkR1KHRoaXMuc3JjVXJsLGEudmFsdWUpLG1ldGhvZDphLm1ldGhvZCx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LGZ1bmN0aW9uKGUsdCl7aWYoci5yZXF1ZXN0KXtpZihlKXJldHVybiByLmNsaWVudE9mZnNldF89ci5tYXN0ZXJMb2FkZWRfLURhdGUubm93KCksbigpO3ZhciBpPXZvaWQgMDtpPSJIRUFEIj09PWEubWV0aG9kP3QucmVzcG9uc2VIZWFkZXJzJiZ0LnJlc3BvbnNlSGVhZGVycy5kYXRlP0RhdGUucGFyc2UodC5yZXNwb25zZUhlYWRlcnMuZGF0ZSk6ci5tYXN0ZXJMb2FkZWRfOkRhdGUucGFyc2UodC5yZXNwb25zZVRleHQpLHIuY2xpZW50T2Zmc2V0Xz1pLURhdGUubm93KCksbigpfX0pKX19LHtrZXk6ImhhdmVNYXN0ZXJfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9IkhBVkVfTUFTVEVSIix0aGlzLm1lZGlhUmVxdWVzdF89bnVsbCx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXz90aGlzLm1lZGlhX3x8dGhpcy5tZWRpYSh0aGlzLmNoaWxkUGxheWxpc3RfKToodGhpcy5tYXN0ZXI9dGhpcy5wYXJzZU1hc3RlclhtbCgpLHRoaXMudHJpZ2dlcigibG9hZGVkcGxheWxpc3QiKSl9fSx7a2V5OiJvbkNsaWVudFNlcnZlckNsb2NrU3luY18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhhdmVNYXN0ZXJfKCksdGhpcy5oYXNQZW5kaW5nUmVxdWVzdCgpfHx0aGlzLm1lZGlhX3x8dGhpcy5tZWRpYSh0aGlzLm1hc3Rlci5wbGF5bGlzdHNbMF0pLHRoaXMubWFzdGVyJiZ0aGlzLm1hc3Rlci5taW5pbXVtVXBkYXRlUGVyaW9kJiYodGhpcy5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF89di5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCJtaW5pbXVtVXBkYXRlUGVyaW9kIil9LHRoaXMubWFzdGVyLm1pbmltdW1VcGRhdGVQZXJpb2QpKX19LHtrZXk6InJlZnJlc2hYbWxfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBvPXRoaXM7dGhpcy5yZXF1ZXN0PXRoaXMuaGxzXy54aHIoe3VyaTp0aGlzLnNyY1VybCx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LGZ1bmN0aW9uKGUsdCl7aWYoby5yZXF1ZXN0KXtpZihvLnJlcXVlc3Q9bnVsbCxlKXJldHVybiBvLmVycm9yPXtzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZToiREFTSCBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogIitvLnNyY1VybCxyZXNwb25zZVRleHQ6dC5yZXNwb25zZVRleHQsY29kZToyfSwiSEFWRV9OT1RISU5HIj09PW8uc3RhdGUmJihvLnN0YXJ0ZWQ9ITEpLG8udHJpZ2dlcigiZXJyb3IiKTtvLm1hc3RlclhtbF89dC5yZXNwb25zZVRleHQsby5zaWR4TWFwcGluZ189ZnVuY3Rpb24oZSx0LGksYSl7dmFyIG49bG8oZSx7bWFuaWZlc3RVcmk6dCxjbGllbnRPZmZzZXQ6aX0pLHM9bGMobi5wbGF5bGlzdHMsYSk7cmV0dXJuIEZ1KG4sZnVuY3Rpb24oZSx0LGksbil7aWYoZS5wbGF5bGlzdHMmJmUucGxheWxpc3RzLmxlbmd0aCl7dmFyIHI9ZS5wbGF5bGlzdHM7cz1oYyhzLGxjKHIsYSkpfX0pLHN9KG8ubWFzdGVyWG1sXyxvLnNyY1VybCxvLmNsaWVudE9mZnNldF8sby5zaWR4TWFwcGluZ18pO3ZhciBpPW8ucGFyc2VNYXN0ZXJYbWwoKSxuPW9jKG8ubWFzdGVyLGkpLHI9by5tZWRpYSgpLnNpZHg7aWYobilpZihyKXt2YXIgYT11YyhyKTtpZighby5zaWR4TWFwcGluZ19bYV0pe3ZhciBzPW8ubWVkaWEoKTtvLnJlcXVlc3Q9Y2Mocy5zaWR4LHMsby5obHNfLnhocix7aGFuZGxlTWFuaWZlc3RSZWRpcmVjdHM6by5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0c30sby5zaWR4UmVxdWVzdEZpbmlzaGVkXyhzLGksby5zdGF0ZSxmdW5jdGlvbihlLHQpe2lmKCFlfHwhdCl0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byByZXF1ZXN0IHNpZHggb24gbWluaW11bVVwZGF0ZVBlcmlvZCIpO28uc2lkeE1hcHBpbmdfW2FdLnNpZHg9dCxvLm1pbmltdW1VcGRhdGVQZXJpb2RUaW1lb3V0Xz12LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnRyaWdnZXIoIm1pbmltdW1VcGRhdGVQZXJpb2QiKX0sby5tYXN0ZXIubWluaW11bVVwZGF0ZVBlcmlvZCksby5yZWZyZXNoTWVkaWFfKG8ubWVkaWEoKS51cmkpfSkpfX1lbHNlIG8ubWFzdGVyPW47by5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF89di5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by50cmlnZ2VyKCJtaW5pbXVtVXBkYXRlUGVyaW9kIil9LG8ubWFzdGVyLm1pbmltdW1VcGRhdGVQZXJpb2QpfX0pfX0se2tleToicmVmcmVzaE1lZGlhXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoInJlZnJlc2hNZWRpYV8gbXVzdCB0YWtlIGEgbWVkaWEgdXJpIik7dmFyIGk9dm9pZCAwLG49dm9pZCAwO249dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8/KGk9dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLnBhcnNlTWFzdGVyWG1sKCkpOihpPXRoaXMubWFzdGVyLHRoaXMucGFyc2VNYXN0ZXJYbWwoKSk7dmFyIHI9b2MoaSxuKTtyPyh0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXz90aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXI9cjp0aGlzLm1hc3Rlcj1yLHRoaXMubWVkaWFfPXIucGxheWxpc3RzW2VdKToodGhpcy5tZWRpYV89bi5wbGF5bGlzdHNbZV0sdGhpcy50cmlnZ2VyKCJwbGF5bGlzdHVuY2hhbmdlZCIpKSx0aGlzLm1lZGlhKCkuZW5kTGlzdHx8KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0PXYuc2V0VGltZW91dChmdW5jdGlvbigpe3QudHJpZ2dlcigibWVkaWF1cGRhdGV0aW1lb3V0Iil9LFd1KHRoaXMubWVkaWEoKSwhIXIpKSksdGhpcy50cmlnZ2VyKCJsb2FkZWRwbGF5bGlzdCIpfX1dKSxwYyk7ZnVuY3Rpb24gcGMoZSx0KXt2YXIgaT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1hcmd1bWVudHNbM107UnUodGhpcyxwYyk7dmFyIHI9anUodGhpcywocGMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YocGMpKS5jYWxsKHRoaXMpKSxhPWkud2l0aENyZWRlbnRpYWxzLHM9dm9pZCAwIT09YSYmYSxvPWkuaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMsdT12b2lkIDAhPT1vJiZvO2lmKHIuaGxzXz10LHIud2l0aENyZWRlbnRpYWxzPXMsci5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cz11LCFlKXRocm93IG5ldyBFcnJvcigiQSBub24tZW1wdHkgcGxheWxpc3QgVVJMIG9yIHBsYXlsaXN0IGlzIHJlcXVpcmVkIik7cmV0dXJuIHIub24oIm1pbmltdW1VcGRhdGVQZXJpb2QiLGZ1bmN0aW9uKCl7ci5yZWZyZXNoWG1sXygpfSksci5vbigibWVkaWF1cGRhdGV0aW1lb3V0IixmdW5jdGlvbigpe3IucmVmcmVzaE1lZGlhXyhyLm1lZGlhKCkudXJpKX0pLHIuc3RhdGU9IkhBVkVfTk9USElORyIsci5sb2FkZWRQbGF5bGlzdHNfPXt9LCJzdHJpbmciPT10eXBlb2YgZT8oci5zcmNVcmw9ZSxyLnNpZHhNYXBwaW5nXz17fSxqdShyKSk6KHIuc2V0dXBDaGlsZExvYWRlcihuLGUpLHIpfWZ1bmN0aW9uIGZjKGUpe3JldHVybiBwcy5sb2cuZGVidWc/cHMubG9nLmRlYnVnLmJpbmQocHMsIlZIUzoiLGUrIiA+Iik6ZnVuY3Rpb24oKXt9fWZ1bmN0aW9uIG1jKCl7fXZhciBnYz0oTXUoeWMsW3trZXk6ImNyZWF0ZVNvdXJjZUJ1ZmZlcl8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpczt0aGlzLnNvdXJjZUJ1ZmZlcl89dGhpcy5tZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIoZSksdGhpcy5sb2dnZXJfKCJjcmVhdGVkIFNvdXJjZUJ1ZmZlciIpLHQmJih0LnRyaWdnZXIoInNvdXJjZWJ1ZmZlcmFkZGVkIiksdGhpcy5tZWRpYVNvdXJjZS5zb3VyY2VCdWZmZXJzLmxlbmd0aDwyKT90Lm9uKCJzb3VyY2VidWZmZXJhZGRlZCIsZnVuY3Rpb24oKXtpLnN0YXJ0XygpfSk6dGhpcy5zdGFydF8oKX19LHtrZXk6InN0YXJ0XyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhcnRlZF89ITAsdGhpcy5vblVwZGF0ZWVuZENhbGxiYWNrXz1mdW5jdGlvbigpe3ZhciBlPXQucGVuZGluZ0NhbGxiYWNrXzt0LnBlbmRpbmdDYWxsYmFja189bnVsbCx0LnNvdXJjZUJ1ZmZlcl8ucmVtb3Zpbmc9ITEsdC5sb2dnZXJfKCJidWZmZXJlZCBbIitUbCh0LmJ1ZmZlcmVkKCkpKyJdIiksZSYmZSgpLHQucnVuQ2FsbGJhY2tfKCl9LHRoaXMuc291cmNlQnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCJ1cGRhdGVlbmQiLHRoaXMub25VcGRhdGVlbmRDYWxsYmFja18pLHRoaXMucnVuQ2FsbGJhY2tfKCl9fSx7a2V5OiJhYm9ydCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnByb2Nlc3NlZEFwcGVuZF8mJnRoaXMucXVldWVDYWxsYmFja18oZnVuY3Rpb24oKXt0LnNvdXJjZUJ1ZmZlcl8uYWJvcnQoKX0sZSl9fSx7a2V5OiJhcHBlbmRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpczt0aGlzLnByb2Nlc3NlZEFwcGVuZF89ITAsdGhpcy5xdWV1ZUNhbGxiYWNrXyhmdW5jdGlvbigpe2UudmlkZW9TZWdtZW50VGltaW5nSW5mb0NhbGxiYWNrJiZpLnNvdXJjZUJ1ZmZlcl8uYWRkRXZlbnRMaXN0ZW5lcigidmlkZW9TZWdtZW50VGltaW5nSW5mbyIsZS52aWRlb1NlZ21lbnRUaW1pbmdJbmZvQ2FsbGJhY2spLGkuc291cmNlQnVmZmVyXy5hcHBlbmRCdWZmZXIoZS5ieXRlcyl9LGZ1bmN0aW9uKCl7ZS52aWRlb1NlZ21lbnRUaW1pbmdJbmZvQ2FsbGJhY2smJmkuc291cmNlQnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aWRlb1NlZ21lbnRUaW1pbmdJbmZvIixlLnZpZGVvU2VnbWVudFRpbWluZ0luZm9DYWxsYmFjayksdCgpfSl9fSx7a2V5OiJidWZmZXJlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VCdWZmZXJfP3RoaXMuc291cmNlQnVmZmVyXy5idWZmZXJlZDpwcy5jcmVhdGVUaW1lUmFuZ2VzKCl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10aGlzLHI9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1pP2k6bWM7dGhpcy5wcm9jZXNzZWRBcHBlbmRfJiZ0aGlzLnF1ZXVlQ2FsbGJhY2tfKGZ1bmN0aW9uKCl7bi5sb2dnZXJfKCJyZW1vdmUgWyIrZSsiID0+ICIrdCsiXSIpLG4uc291cmNlQnVmZmVyXy5yZW1vdmluZz0hMCxuLnNvdXJjZUJ1ZmZlcl8ucmVtb3ZlKGUsdCl9LHIpfX0se2tleToidXBkYXRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc291cmNlQnVmZmVyX3x8dGhpcy5zb3VyY2VCdWZmZXJfLnVwZGF0aW5nfHwhIXRoaXMucGVuZGluZ0NhbGxiYWNrXyYmdGhpcy5wZW5kaW5nQ2FsbGJhY2tfIT09bWN9fSx7a2V5OiJ0aW1lc3RhbXBPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlJiYodGhpcy5xdWV1ZUNhbGxiYWNrXyhmdW5jdGlvbigpe3Quc291cmNlQnVmZmVyXy50aW1lc3RhbXBPZmZzZXQ9ZSx0LnJ1bkNhbGxiYWNrXygpfSksdGhpcy50aW1lc3RhbXBPZmZzZXRfPWUpLHRoaXMudGltZXN0YW1wT2Zmc2V0X319LHtrZXk6InF1ZXVlQ2FsbGJhY2tfIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY2FsbGJhY2tzXy5wdXNoKFtlLmJpbmQodGhpcyksdF0pLHRoaXMucnVuQ2FsbGJhY2tfKCl9fSx7a2V5OiJydW5DYWxsYmFja18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwOyF0aGlzLnVwZGF0aW5nKCkmJnRoaXMuY2FsbGJhY2tzXy5sZW5ndGgmJnRoaXMuc3RhcnRlZF8mJihlPXRoaXMuY2FsbGJhY2tzXy5zaGlmdCgpLHRoaXMucGVuZGluZ0NhbGxiYWNrXz1lWzFdLGVbMF0oKSl9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0LnNvdXJjZUJ1ZmZlcl8mJiJvcGVuIj09PXQubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSYmdC5zb3VyY2VCdWZmZXJfLmFib3J0KCksdC5zb3VyY2VCdWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoInVwZGF0ZWVuZCIsZSl9dmFyIHQ9dGhpczt0aGlzLnNvdXJjZUJ1ZmZlcl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidXBkYXRlZW5kIix0aGlzLm9uVXBkYXRlZW5kQ2FsbGJhY2tfKSx0aGlzLnNvdXJjZUJ1ZmZlcl8ucmVtb3Zpbmc/dGhpcy5zb3VyY2VCdWZmZXJfLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZWVuZCIsZSk6ZSgpfX1dKSx5Yyk7ZnVuY3Rpb24geWMoZSx0LGksbil7UnUodGhpcyx5YyksdGhpcy5jYWxsYmFja3NfPVtdLHRoaXMucGVuZGluZ0NhbGxiYWNrXz1udWxsLHRoaXMudGltZXN0YW1wT2Zmc2V0Xz0wLHRoaXMubWVkaWFTb3VyY2U9ZSx0aGlzLnByb2Nlc3NlZEFwcGVuZF89ITEsdGhpcy50eXBlXz1pLHRoaXMubWltZVR5cGVfPXQsdGhpcy5sb2dnZXJfPWZjKCJTb3VyY2VVcGRhdGVyWyIraSsiXVsiK3QrIl0iKSwiY2xvc2VkIj09PWUucmVhZHlTdGF0ZT9lLmFkZEV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLHRoaXMuY3JlYXRlU291cmNlQnVmZmVyXy5iaW5kKHRoaXMsdCxuKSk6dGhpcy5jcmVhdGVTb3VyY2VCdWZmZXJfKHQsbil9ZnVuY3Rpb24gdmMoZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYWJvcnQoKX0pfWZ1bmN0aW9uIF9jKGUsdCl7cmV0dXJuIHQudGltZWRvdXQ/e3N0YXR1czp0LnN0YXR1cyxtZXNzYWdlOiJITFMgcmVxdWVzdCB0aW1lZC1vdXQgYXQgVVJMOiAiK3QudXJpLGNvZGU6SWMseGhyOnR9OnQuYWJvcnRlZD97c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkhMUyByZXF1ZXN0IGFib3J0ZWQgYXQgVVJMOiAiK3QudXJpLGNvZGU6TGMseGhyOnR9OmU/e3N0YXR1czp0LnN0YXR1cyxtZXNzYWdlOiJITFMgcmVxdWVzdCBlcnJvcmVkIGF0IFVSTDogIit0LnVyaSxjb2RlOlBjLHhocjp0fTpudWxsfWZ1bmN0aW9uIGJjKGksbixyKXt2YXIgYT0wLHM9ITE7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIXMpcmV0dXJuIGU/KHM9ITAsdmMoaSkscihlLHQpKTooYSs9MSk9PT1pLmxlbmd0aD8odC5lbmRPZkFsbFJlcXVlc3RzPURhdGUubm93KCksdC5lbmNyeXB0ZWRCeXRlcz9mdW5jdGlvbihuLHIsYSl7bi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbiBlKHQpe2lmKHQuZGF0YS5zb3VyY2U9PT1yLnJlcXVlc3RJZCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKTt2YXIgaT10LmRhdGEuZGVjcnlwdGVkO3JldHVybiByLmJ5dGVzPW5ldyBVaW50OEFycmF5KGkuYnl0ZXMsaS5ieXRlT2Zmc2V0LGkuYnl0ZUxlbmd0aCksYShudWxsLHIpfX0pO3ZhciBlPXZvaWQgMDtlPXIua2V5LmJ5dGVzLnNsaWNlP3Iua2V5LmJ5dGVzLnNsaWNlKCk6bmV3IFVpbnQzMkFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHIua2V5LmJ5dGVzKSksbi5wb3N0TWVzc2FnZShkbCh7c291cmNlOnIucmVxdWVzdElkLGVuY3J5cHRlZDpyLmVuY3J5cHRlZEJ5dGVzLGtleTplLGl2OnIua2V5Lml2fSksW3IuZW5jcnlwdGVkQnl0ZXMuYnVmZmVyLGUuYnVmZmVyXSl9KG4sdCxyKTpyKG51bGwsdCkpOnZvaWQgMH19ZnVuY3Rpb24gVGModCxpKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3RhdHM9cHMubWVyZ2VPcHRpb25zKHQuc3RhdHMsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQsaT17YmFuZHdpZHRoOjEvMCxieXRlc1JlY2VpdmVkOjAscm91bmRUcmlwVGltZTpEYXRlLm5vdygpLXQucmVxdWVzdFRpbWV8fDB9O3JldHVybiBpLmJ5dGVzUmVjZWl2ZWQ9ZS5sb2FkZWQsaS5iYW5kd2lkdGg9TWF0aC5mbG9vcihpLmJ5dGVzUmVjZWl2ZWQvaS5yb3VuZFRyaXBUaW1lKjgqMWUzKSxpfShlKSksIXQuc3RhdHMuZmlyc3RCeXRlc1JlY2VpdmVkQXQmJnQuc3RhdHMuYnl0ZXNSZWNlaXZlZCYmKHQuc3RhdHMuZmlyc3RCeXRlc1JlY2VpdmVkQXQ9RGF0ZS5ub3coKSksaShlLHQpfX1mdW5jdGlvbiBTYyhlLHQsaSxuLHIsYSxzKXt2YXIgbz1bXSx1PWJjKG8saSxzKTtpZihyLmtleSYmIXIua2V5LmJ5dGVzKXt2YXIgbD1lKHBzLm1lcmdlT3B0aW9ucyh0LHt1cmk6ci5rZXkucmVzb2x2ZWRVcmkscmVzcG9uc2VUeXBlOiJhcnJheWJ1ZmZlciJ9KSxmdW5jdGlvbihhLHMpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBpPXQucmVzcG9uc2Usbj1fYyhlLHQpO2lmKG4pcmV0dXJuIHMobixhKTtpZigxNiE9PWkuYnl0ZUxlbmd0aClyZXR1cm4gcyh7c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkludmFsaWQgSExTIGtleSBhdCBVUkw6ICIrdC51cmksY29kZTpQYyx4aHI6dH0sYSk7dmFyIHI9bmV3IERhdGFWaWV3KGkpO3JldHVybiBhLmtleS5ieXRlcz1uZXcgVWludDMyQXJyYXkoW3IuZ2V0VWludDMyKDApLHIuZ2V0VWludDMyKDQpLHIuZ2V0VWludDMyKDgpLHIuZ2V0VWludDMyKDEyKV0pLHMobnVsbCxhKX19KHIsdSkpO28ucHVzaChsKX1pZihyLm1hcCYmIXIubWFwLmJ5dGVzKXt2YXIgYz1lKHBzLm1lcmdlT3B0aW9ucyh0LHt1cmk6ci5tYXAucmVzb2x2ZWRVcmkscmVzcG9uc2VUeXBlOiJhcnJheWJ1ZmZlciIsaGVhZGVyczpsbChyLm1hcCl9KSxmdW5jdGlvbihyLGEscyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5yZXNwb25zZSxuPV9jKGUsdCk7cmV0dXJuIG4/cyhuLHIpOjA9PT1pLmJ5dGVMZW5ndGg/cyh7c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkVtcHR5IEhMUyBzZWdtZW50IGNvbnRlbnQgYXQgVVJMOiAiK3QudXJpLGNvZGU6UGMseGhyOnR9LHIpOihyLm1hcC5ieXRlcz1uZXcgVWludDhBcnJheSh0LnJlc3BvbnNlKSxhJiYhYS5pc0luaXRpYWxpemVkKCkmJmEuaW5pdCgpLHIubWFwLnRpbWVzY2FsZXM9d28udGltZXNjYWxlKHIubWFwLmJ5dGVzKSxyLm1hcC52aWRlb1RyYWNrSWRzPXdvLnZpZGVvVHJhY2tJZHMoci5tYXAuYnl0ZXMpLHMobnVsbCxyKSl9fShyLG4sdSkpO28ucHVzaChjKX12YXIgaD1lKHBzLm1lcmdlT3B0aW9ucyh0LHt1cmk6ci5yZXNvbHZlZFVyaSxyZXNwb25zZVR5cGU6ImFycmF5YnVmZmVyIixoZWFkZXJzOmxsKHIpfSksZnVuY3Rpb24oYSxzLG8pe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBpPXQucmVzcG9uc2Usbj1fYyhlLHQpLHI9dm9pZCAwO3JldHVybiBuP28obixhKTowPT09aS5ieXRlTGVuZ3RoP28oe3N0YXR1czp0LnN0YXR1cyxtZXNzYWdlOiJFbXB0eSBITFMgc2VnbWVudCBjb250ZW50IGF0IFVSTDogIit0LnVyaSxjb2RlOlBjLHhocjp0fSxhKTooYS5zdGF0cz1mdW5jdGlvbihlKXtyZXR1cm57YmFuZHdpZHRoOmUuYmFuZHdpZHRoLGJ5dGVzUmVjZWl2ZWQ6ZS5ieXRlc1JlY2VpdmVkfHwwLHJvdW5kVHJpcFRpbWU6ZS5yb3VuZFRyaXBUaW1lfHwwfX0odCksYS5rZXk/YS5lbmNyeXB0ZWRCeXRlcz1uZXcgVWludDhBcnJheSh0LnJlc3BvbnNlKTphLmJ5dGVzPW5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpLHMmJmEubWFwJiZhLm1hcC5ieXRlcyYmKHMuaXNJbml0aWFsaXplZCgpfHxzLmluaXQoKSwocj1zLnBhcnNlKGEuYnl0ZXMsYS5tYXAudmlkZW9UcmFja0lkcyxhLm1hcC50aW1lc2NhbGVzKSkmJnIuY2FwdGlvbnMmJihhLmNhcHRpb25TdHJlYW1zPXIuY2FwdGlvblN0cmVhbXMsYS5mbXA0Q2FwdGlvbnM9ci5jYXB0aW9ucykpLG8obnVsbCxhKSl9fShyLG4sdSkpO3JldHVybiBoLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixUYyhyLGEpKSxvLnB1c2goaCksZnVuY3Rpb24oKXtyZXR1cm4gdmMobyl9fWZ1bmN0aW9uIGtjKGUsdCl7dmFyIGk7cmV0dXJuIGUmJihpPXYuZ2V0Q29tcHV0ZWRTdHlsZShlKSk/aVt0XToiIn1mdW5jdGlvbiBDYyhlLG4pe3ZhciByPWUuc2xpY2UoKTtlLnNvcnQoZnVuY3Rpb24oZSx0KXt2YXIgaT1uKGUsdCk7cmV0dXJuIDA9PT1pP3IuaW5kZXhPZihlKS1yLmluZGV4T2YodCk6aX0pfWZ1bmN0aW9uIEVjKGUsdCl7dmFyIGk9dm9pZCAwLG49dm9pZCAwO3JldHVybiBlLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYoaT1lLmF0dHJpYnV0ZXMuQkFORFdJRFRIKSxpPWl8fHYuTnVtYmVyLk1BWF9WQUxVRSx0LmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYobj10LmF0dHJpYnV0ZXMuQkFORFdJRFRIKSxpLShuPW58fHYuTnVtYmVyLk1BWF9WQUxVRSl9ZnVuY3Rpb24gd2MoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKX12YXIgQWM9e0dPQUxfQlVGRkVSX0xFTkdUSDozMCxNQVhfR09BTF9CVUZGRVJfTEVOR1RIOjYwLEdPQUxfQlVGRkVSX0xFTkdUSF9SQVRFOjEsSU5JVElBTF9CQU5EV0lEVEg6NDE5NDMwNCxCQU5EV0lEVEhfVkFSSUFOQ0U6MS4yLEJVRkZFUl9MT1dfV0FURVJfTElORTowLE1BWF9CVUZGRVJfTE9XX1dBVEVSX0xJTkU6MzAsQlVGRkVSX0xPV19XQVRFUl9MSU5FX1JBVEU6MX0sUGM9MixJYz0tMTAxLExjPS0xMDIsT2M9KEJ1KHhjLHBzLkV2ZW50VGFyZ2V0KSxNdSh4Yyxbe2tleToicmVzZXRTdGF0c18iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tZWRpYUJ5dGVzVHJhbnNmZXJyZWQ9MCx0aGlzLm1lZGlhUmVxdWVzdHM9MCx0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkPTAsdGhpcy5tZWRpYVJlcXVlc3RzVGltZWRvdXQ9MCx0aGlzLm1lZGlhUmVxdWVzdHNFcnJvcmVkPTAsdGhpcy5tZWRpYVRyYW5zZmVyRHVyYXRpb249MCx0aGlzLm1lZGlhU2Vjb25kc0xvYWRlZD0wfX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPSJESVNQT1NFRCIsdGhpcy5wYXVzZSgpLHRoaXMuYWJvcnRfKCksdGhpcy5zb3VyY2VVcGRhdGVyXyYmdGhpcy5zb3VyY2VVcGRhdGVyXy5kaXNwb3NlKCksdGhpcy5yZXNldFN0YXRzXygpLHRoaXMuY2FwdGlvblBhcnNlcl8mJnRoaXMuY2FwdGlvblBhcnNlcl8ucmVzZXQoKX19LHtrZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpeyJXQUlUSU5HIj09PXRoaXMuc3RhdGU/KHRoaXMuYWJvcnRfKCksdGhpcy5zdGF0ZT0iUkVBRFkiLHRoaXMucGF1c2VkKCl8fHRoaXMubW9uaXRvckJ1ZmZlcl8oKSk6dGhpcy5wZW5kaW5nU2VnbWVudF8mJih0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsKX19LHtrZXk6ImFib3J0XyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBlbmRpbmdTZWdtZW50XyYmdGhpcy5wZW5kaW5nU2VnbWVudF8uYWJvcnRSZXF1ZXN0cygpLHRoaXMucGVuZGluZ1NlZ21lbnRfPW51bGx9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlJiYodGhpcy5lcnJvcl89ZSksdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx0aGlzLmVycm9yX319LHtrZXk6ImVuZE9mU3RyZWFtIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZW5kZWRfPSEwLHRoaXMucGF1c2UoKSx0aGlzLnRyaWdnZXIoImVuZGVkIil9fSx7a2V5OiJidWZmZXJlZF8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlVXBkYXRlcl8/dGhpcy5zb3VyY2VVcGRhdGVyXy5idWZmZXJlZCgpOnBzLmNyZWF0ZVRpbWVSYW5nZXMoKX19LHtrZXk6ImluaXRTZWdtZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdDtpZighZSlyZXR1cm4gbnVsbDt2YXIgbj1wbChlKSxyPXRoaXMuaW5pdFNlZ21lbnRzX1tuXTtyZXR1cm4gaSYmIXImJmUuYnl0ZXMmJih0aGlzLmluaXRTZWdtZW50c19bbl09cj17cmVzb2x2ZWRVcmk6ZS5yZXNvbHZlZFVyaSxieXRlcmFuZ2U6ZS5ieXRlcmFuZ2UsYnl0ZXM6ZS5ieXRlcyx0aW1lc2NhbGVzOmUudGltZXNjYWxlcyx2aWRlb1RyYWNrSWRzOmUudmlkZW9UcmFja0lkc30pLHJ8fGV9fSx7a2V5OiJzZWdtZW50S2V5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdDtpZighZSlyZXR1cm4gbnVsbDt2YXIgbj1mbChlKSxyPXRoaXMua2V5Q2FjaGVfW25dO3RoaXMuY2FjaGVFbmNyeXB0aW9uS2V5c18mJmkmJiFyJiZlLmJ5dGVzJiYodGhpcy5rZXlDYWNoZV9bbl09cj17cmVzb2x2ZWRVcmk6ZS5yZXNvbHZlZFVyaSxieXRlczplLmJ5dGVzfSk7dmFyIGE9e3Jlc29sdmVkVXJpOihyfHxlKS5yZXNvbHZlZFVyaX07cmV0dXJuIHImJihhLmJ5dGVzPXIuYnl0ZXMpLGF9fSx7a2V5OiJjb3VsZEJlZ2luTG9hZGluZ18iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWxpc3RfJiYodGhpcy5zb3VyY2VVcGRhdGVyX3x8dGhpcy5taW1lVHlwZV8mJiJJTklUIj09PXRoaXMuc3RhdGUpJiYhdGhpcy5wYXVzZWQoKX19LHtrZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5tb25pdG9yQnVmZmVyXygpLHRoaXMucGxheWxpc3RfKXtpZih0aGlzLnN5bmNDb250cm9sbGVyXy5zZXREYXRlVGltZU1hcHBpbmcodGhpcy5wbGF5bGlzdF8pLCJJTklUIj09PXRoaXMuc3RhdGUmJnRoaXMuY291bGRCZWdpbkxvYWRpbmdfKCkpcmV0dXJuIHRoaXMuaW5pdF8oKTshdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKXx8IlJFQURZIiE9PXRoaXMuc3RhdGUmJiJJTklUIiE9PXRoaXMuc3RhdGV8fCh0aGlzLnN0YXRlPSJSRUFEWSIpfX19LHtrZXk6ImluaXRfIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlPSJSRUFEWSIsdGhpcy5zb3VyY2VVcGRhdGVyXz1uZXcgZ2ModGhpcy5tZWRpYVNvdXJjZV8sdGhpcy5taW1lVHlwZV8sdGhpcy5sb2FkZXJUeXBlXyx0aGlzLnNvdXJjZUJ1ZmZlckVtaXR0ZXJfKSx0aGlzLnJlc2V0RXZlcnl0aGluZygpLHRoaXMubW9uaXRvckJ1ZmZlcl8oKX19LHtrZXk6InBsYXlsaXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Ont9O2lmKGUpe3ZhciBuPXRoaXMucGxheWxpc3RfLHI9dGhpcy5wZW5kaW5nU2VnbWVudF87dGhpcy5wbGF5bGlzdF89ZSx0aGlzLnhock9wdGlvbnNfPWksdGhpcy5oYXNQbGF5ZWRfKCl8fChlLnN5bmNJbmZvPXttZWRpYVNlcXVlbmNlOmUubWVkaWFTZXF1ZW5jZSx0aW1lOjB9KTt2YXIgYT1udWxsO2lmKG4mJihuLmlkP2E9bi5pZDpuLnVyaSYmKGE9bi51cmkpKSx0aGlzLmxvZ2dlcl8oInBsYXlsaXN0IHVwZGF0ZSBbIithKyIgPT4gIisoZS5pZHx8ZS51cmkpKyJdIiksdGhpcy50cmlnZ2VyKCJzeW5jaW5mb3VwZGF0ZSIpLCJJTklUIj09PXRoaXMuc3RhdGUmJnRoaXMuY291bGRCZWdpbkxvYWRpbmdfKCkpcmV0dXJuIHRoaXMuaW5pdF8oKTtpZihuJiZuLnVyaT09PWUudXJpKXt2YXIgcz1lLm1lZGlhU2VxdWVuY2Utbi5tZWRpYVNlcXVlbmNlO3RoaXMubG9nZ2VyXygibGl2ZSB3aW5kb3cgc2hpZnQgWyIrcysiXSIpLG51bGwhPT10aGlzLm1lZGlhSW5kZXgmJih0aGlzLm1lZGlhSW5kZXgtPXMpLHImJihyLm1lZGlhSW5kZXgtPXMsMDw9ci5tZWRpYUluZGV4JiYoci5zZWdtZW50PWUuc2VnbWVudHNbci5tZWRpYUluZGV4XSkpLHRoaXMuc3luY0NvbnRyb2xsZXJfLnNhdmVFeHBpcmVkU2VnbWVudEluZm8obixlKX1lbHNlIG51bGwhPT10aGlzLm1lZGlhSW5kZXgmJnRoaXMucmVzeW5jTG9hZGVyKCl9fX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfJiYodi5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF89bnVsbCl9fSx7a2V5OiJwYXVzZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmNoZWNrQnVmZmVyVGltZW91dF99fSx7a2V5OiJtaW1lVHlwZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm1pbWVUeXBlX3x8KHRoaXMubWltZVR5cGVfPWUsdGhpcy5zb3VyY2VCdWZmZXJFbWl0dGVyXz10LCJJTklUIj09PXRoaXMuc3RhdGUmJnRoaXMuY291bGRCZWdpbkxvYWRpbmdfKCkmJnRoaXMuaW5pdF8oKSl9fSx7a2V5OiJyZXNldEV2ZXJ5dGhpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZW5kZWRfPSExLHRoaXMucmVzZXRMb2FkZXIoKSx0aGlzLnJlbW92ZSgwLHRoaXMuZHVyYXRpb25fKCksZSksdGhpcy5jYXB0aW9uUGFyc2VyXyYmdGhpcy5jYXB0aW9uUGFyc2VyXy5jbGVhckFsbENhcHRpb25zKCksdGhpcy50cmlnZ2VyKCJyZXNldGV2ZXJ5dGhpbmciKX19LHtrZXk6InJlc2V0TG9hZGVyIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZmV0Y2hBdEJ1ZmZlcl89ITEsdGhpcy5yZXN5bmNMb2FkZXIoKX19LHtrZXk6InJlc3luY0xvYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1lZGlhSW5kZXg9bnVsbCx0aGlzLnN5bmNQb2ludF89bnVsbCx0aGlzLmFib3J0KCl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtpZih0aGlzLnNvdXJjZVVwZGF0ZXJfJiZ0aGlzLnNvdXJjZVVwZGF0ZXJfLnJlbW92ZShlLHQsaSksa2woZSx0LHRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfKSx0aGlzLmluYmFuZFRleHRUcmFja3NfKWZvcih2YXIgbiBpbiB0aGlzLmluYmFuZFRleHRUcmFja3NfKWtsKGUsdCx0aGlzLmluYmFuZFRleHRUcmFja3NfW25dKX19LHtrZXk6Im1vbml0b3JCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyYmdi5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF89di5zZXRUaW1lb3V0KHRoaXMubW9uaXRvckJ1ZmZlclRpY2tfLmJpbmQodGhpcyksMSl9fSx7a2V5OiJtb25pdG9yQnVmZmVyVGlja18iLHZhbHVlOmZ1bmN0aW9uKCl7IlJFQURZIj09PXRoaXMuc3RhdGUmJnRoaXMuZmlsbEJ1ZmZlcl8oKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8mJnYuY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyksdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfPXYuc2V0VGltZW91dCh0aGlzLm1vbml0b3JCdWZmZXJUaWNrXy5iaW5kKHRoaXMpLDUwMCl9fSx7a2V5OiJmaWxsQnVmZmVyXyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5zb3VyY2VVcGRhdGVyXy51cGRhdGluZygpKXt0aGlzLnN5bmNQb2ludF98fCh0aGlzLnN5bmNQb2ludF89dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0U3luY1BvaW50KHRoaXMucGxheWxpc3RfLHRoaXMuZHVyYXRpb25fKCksdGhpcy5jdXJyZW50VGltZWxpbmVfLHRoaXMuY3VycmVudFRpbWVfKCkpKTt2YXIgZT10aGlzLmNoZWNrQnVmZmVyXyh0aGlzLmJ1ZmZlcmVkXygpLHRoaXMucGxheWxpc3RfLHRoaXMubWVkaWFJbmRleCx0aGlzLmhhc1BsYXllZF8oKSx0aGlzLmN1cnJlbnRUaW1lXygpLHRoaXMuc3luY1BvaW50Xyk7ZSYmKHRoaXMuaXNFbmRPZlN0cmVhbV8oZS5tZWRpYUluZGV4KT90aGlzLmVuZE9mU3RyZWFtKCk6ZS5tZWRpYUluZGV4PT09dGhpcy5wbGF5bGlzdF8uc2VnbWVudHMubGVuZ3RoLTEmJiJlbmRlZCI9PT10aGlzLm1lZGlhU291cmNlXy5yZWFkeVN0YXRlJiYhdGhpcy5zZWVraW5nXygpfHwoZS50aW1lbGluZSE9PXRoaXMuY3VycmVudFRpbWVsaW5lXyYmKHRoaXMuc3luY0NvbnRyb2xsZXJfLnJlc2V0KCksZS50aW1lc3RhbXBPZmZzZXQ9ZS5zdGFydE9mU2VnbWVudCx0aGlzLmNhcHRpb25QYXJzZXJfJiZ0aGlzLmNhcHRpb25QYXJzZXJfLmNsZWFyQWxsQ2FwdGlvbnMoKSksdGhpcy5sb2FkU2VnbWVudF8oZSkpKX19fSx7a2V5OiJpc0VuZE9mU3RyZWFtXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2lmKCFlfHwhdClyZXR1cm4hMTt2YXIgbj1pPT09ZS5zZWdtZW50cy5sZW5ndGg7cmV0dXJuIGUuZW5kTGlzdCYmIm9wZW4iPT09dC5yZWFkeVN0YXRlJiZufSgxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp0aGlzLnBsYXlsaXN0Xyx0aGlzLm1lZGlhU291cmNlXyxlKSYmIXRoaXMuc291cmNlVXBkYXRlcl8udXBkYXRpbmcoKX19LHtrZXk6ImNoZWNrQnVmZmVyXyIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbixyLGEpe3ZhciBzPTAsbz12b2lkIDA7ZS5sZW5ndGgmJihzPWUuZW5kKGUubGVuZ3RoLTEpKTt2YXIgdT1NYXRoLm1heCgwLHMtcik7aWYoIXQuc2VnbWVudHMubGVuZ3RoKXJldHVybiBudWxsO2lmKHU+PXRoaXMuZ29hbEJ1ZmZlckxlbmd0aF8oKSlyZXR1cm4gbnVsbDtpZighbiYmMTw9dSlyZXR1cm4gbnVsbDtpZihudWxsPT09YSlyZXR1cm4gaT10aGlzLmdldFN5bmNTZWdtZW50Q2FuZGlkYXRlXyh0KSx0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKHQsaSxudWxsLCEwKTtpZihudWxsIT09aSlyZXR1cm4gdC5zZWdtZW50c1tpXSxvPXMsdGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyh0LGkrMSxvLCExKTtpZih0aGlzLmZldGNoQXRCdWZmZXJfKXt2YXIgbD1JbC5nZXRNZWRpYUluZm9Gb3JUaW1lKHQscyxhLnNlZ21lbnRJbmRleCxhLnRpbWUpO2k9bC5tZWRpYUluZGV4LG89bC5zdGFydFRpbWV9ZWxzZXt2YXIgYz1JbC5nZXRNZWRpYUluZm9Gb3JUaW1lKHQscixhLnNlZ21lbnRJbmRleCxhLnRpbWUpO2k9Yy5tZWRpYUluZGV4LG89Yy5zdGFydFRpbWV9cmV0dXJuIHRoaXMuZ2VuZXJhdGVTZWdtZW50SW5mb18odCxpLG8sITEpfX0se2tleToiZ2V0U3luY1NlZ21lbnRDYW5kaWRhdGVfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKC0xPT09dGhpcy5jdXJyZW50VGltZWxpbmVfKXJldHVybiAwO3ZhciBpPWUuc2VnbWVudHMubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3RpbWVsaW5lOmUudGltZWxpbmUsc2VnbWVudEluZGV4OnR9fSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpbWVsaW5lPT09dC5jdXJyZW50VGltZWxpbmVffSk7cmV0dXJuIGkubGVuZ3RoP2lbTWF0aC5taW4oaS5sZW5ndGgtMSwxKV0uc2VnbWVudEluZGV4Ok1hdGgubWF4KGUuc2VnbWVudHMubGVuZ3RoLTEsMCl9fSx7a2V5OiJnZW5lcmF0ZVNlZ21lbnRJbmZvXyIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7aWYodDwwfHx0Pj1lLnNlZ21lbnRzLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcj1lLnNlZ21lbnRzW3RdO3JldHVybntyZXF1ZXN0SWQ6InNlZ21lbnQtbG9hZGVyLSIrTWF0aC5yYW5kb20oKSx1cmk6ci5yZXNvbHZlZFVyaSxtZWRpYUluZGV4OnQsaXNTeW5jUmVxdWVzdDpuLHN0YXJ0T2ZTZWdtZW50OmkscGxheWxpc3Q6ZSxieXRlczpudWxsLGVuY3J5cHRlZEJ5dGVzOm51bGwsdGltZXN0YW1wT2Zmc2V0Om51bGwsdGltZWxpbmU6ci50aW1lbGluZSxkdXJhdGlvbjpyLmR1cmF0aW9uLHNlZ21lbnQ6cn19fSx7a2V5OiJhYm9ydFJlcXVlc3RFYXJseV8iLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaGxzXy50ZWNoXy5wYXVzZWQoKXx8IXRoaXMueGhyT3B0aW9uc18udGltZW91dHx8IXRoaXMucGxheWxpc3RfLmF0dHJpYnV0ZXMuQkFORFdJRFRIKXJldHVybiExO2lmKERhdGUubm93KCktKGUuZmlyc3RCeXRlc1JlY2VpdmVkQXR8fERhdGUubm93KCkpPDFlMylyZXR1cm4hMTt2YXIgdD10aGlzLmN1cnJlbnRUaW1lXygpLGk9ZS5iYW5kd2lkdGgsbj10aGlzLnBlbmRpbmdTZWdtZW50Xy5kdXJhdGlvbixyPUlsLmVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lKG4saSx0aGlzLnBsYXlsaXN0XyxlLmJ5dGVzUmVjZWl2ZWQpLGE9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOjE7cmV0dXJuKChlLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowKS10KS9ufSh0aGlzLmJ1ZmZlcmVkXygpLHQsdGhpcy5obHNfLnRlY2hfLnBsYXliYWNrUmF0ZSgpKS0xO2lmKHI8PWEpcmV0dXJuITE7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXN0ZXIsaT1lLmN1cnJlbnRUaW1lLG49ZS5iYW5kd2lkdGgscj1lLmR1cmF0aW9uLGE9ZS5zZWdtZW50RHVyYXRpb24scz1lLnRpbWVVbnRpbFJlYnVmZmVyLG89ZS5jdXJyZW50VGltZWxpbmUsdT1lLnN5bmNDb250cm9sbGVyLGw9dC5wbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFJbC5pc0luY29tcGF0aWJsZShlKX0pLGM9bC5maWx0ZXIoSWwuaXNFbmFibGVkKTtjLmxlbmd0aHx8KGM9bC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIUlsLmlzRGlzYWJsZWQoZSl9KSk7dmFyIGg9Yy5maWx0ZXIoSWwuaGFzQXR0cmlidXRlLmJpbmQobnVsbCwiQkFORFdJRFRIIikpLm1hcChmdW5jdGlvbihlKXt2YXIgdD11LmdldFN5bmNQb2ludChlLHIsbyxpKT8xOjI7cmV0dXJue3BsYXlsaXN0OmUscmVidWZmZXJpbmdJbXBhY3Q6SWwuZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWUoYSxuLGUpKnQtc319KSxkPWguZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYnVmZmVyaW5nSW1wYWN0PD0wfSk7cmV0dXJuIENjKGQsZnVuY3Rpb24oZSx0KXtyZXR1cm4gRWModC5wbGF5bGlzdCxlLnBsYXlsaXN0KX0pLGQubGVuZ3RoP2RbMF06KENjKGgsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWJ1ZmZlcmluZ0ltcGFjdC10LnJlYnVmZmVyaW5nSW1wYWN0fSksaFswXXx8bnVsbCl9KHttYXN0ZXI6dGhpcy5obHNfLnBsYXlsaXN0cy5tYXN0ZXIsY3VycmVudFRpbWU6dCxiYW5kd2lkdGg6aSxkdXJhdGlvbjp0aGlzLmR1cmF0aW9uXygpLHNlZ21lbnREdXJhdGlvbjpuLHRpbWVVbnRpbFJlYnVmZmVyOmEsY3VycmVudFRpbWVsaW5lOnRoaXMuY3VycmVudFRpbWVsaW5lXyxzeW5jQ29udHJvbGxlcjp0aGlzLnN5bmNDb250cm9sbGVyX30pO2lmKHMpe3ZhciBvPXItYS1zLnJlYnVmZmVyaW5nSW1wYWN0LHU9LjU7cmV0dXJuIGE8PTEvMzAmJih1PTEpLCEoIXMucGxheWxpc3R8fHMucGxheWxpc3QudXJpPT09dGhpcy5wbGF5bGlzdF8udXJpfHxvPHUpJiYodGhpcy5iYW5kd2lkdGg9cy5wbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCpBYy5CQU5EV0lEVEhfVkFSSUFOQ0UrMSx0aGlzLmFib3J0KCksdGhpcy50cmlnZ2VyKCJlYXJseWFib3J0IiksITApfX19LHtrZXk6ImhhbmRsZVByb2dyZXNzXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnBlbmRpbmdTZWdtZW50XyYmdC5yZXF1ZXN0SWQ9PT10aGlzLnBlbmRpbmdTZWdtZW50Xy5yZXF1ZXN0SWQmJiF0aGlzLmFib3J0UmVxdWVzdEVhcmx5Xyh0LnN0YXRzKSYmdGhpcy50cmlnZ2VyKCJwcm9ncmVzcyIpfX0se2tleToibG9hZFNlZ21lbnRfIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0YXRlPSJXQUlUSU5HIix0aGlzLnBlbmRpbmdTZWdtZW50Xz1lLHRoaXMudHJpbUJhY2tCdWZmZXJfKGUpLGUuYWJvcnRSZXF1ZXN0cz1TYyh0aGlzLmhsc18ueGhyLHRoaXMueGhyT3B0aW9uc18sdGhpcy5kZWNyeXB0ZXJfLHRoaXMuY2FwdGlvblBhcnNlcl8sdGhpcy5jcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8oZSksdGhpcy5oYW5kbGVQcm9ncmVzc18uYmluZCh0aGlzKSx0aGlzLnNlZ21lbnRSZXF1ZXN0RmluaXNoZWRfLmJpbmQodGhpcykpfX0se2tleToidHJpbUJhY2tCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQsaSl7dmFyIG49dm9pZCAwO3JldHVybiBuPWUubGVuZ3RoJiYwPGUuc3RhcnQoMCkmJmUuc3RhcnQoMCk8dD9lLnN0YXJ0KDApOnQtMzAsTWF0aC5taW4obix0LWkpfSh0aGlzLnNlZWthYmxlXygpLHRoaXMuY3VycmVudFRpbWVfKCksdGhpcy5wbGF5bGlzdF8udGFyZ2V0RHVyYXRpb258fDEwKTswPHQmJnRoaXMucmVtb3ZlKDAsdCl9fSx7a2V5OiJjcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VnbWVudCxpPXtyZXNvbHZlZFVyaTp0LnJlc29sdmVkVXJpLGJ5dGVyYW5nZTp0LmJ5dGVyYW5nZSxyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWR9O2lmKHQua2V5KXt2YXIgbj10LmtleS5pdnx8bmV3IFVpbnQzMkFycmF5KFswLDAsMCxlLm1lZGlhSW5kZXgrZS5wbGF5bGlzdC5tZWRpYVNlcXVlbmNlXSk7aS5rZXk9dGhpcy5zZWdtZW50S2V5KHQua2V5KSxpLmtleS5pdj1ufXJldHVybiB0Lm1hcCYmKGkubWFwPXRoaXMuaW5pdFNlZ21lbnQodC5tYXApKSxpfX0se2tleToic2VnbWVudFJlcXVlc3RGaW5pc2hlZF8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tZWRpYVJlcXVlc3RzKz0xLHQuc3RhdHMmJih0aGlzLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZCs9dC5zdGF0cy5ieXRlc1JlY2VpdmVkLHRoaXMubWVkaWFUcmFuc2ZlckR1cmF0aW9uKz10LnN0YXRzLnJvdW5kVHJpcFRpbWUpLHRoaXMucGVuZGluZ1NlZ21lbnRfKXtpZih0LnJlcXVlc3RJZD09PXRoaXMucGVuZGluZ1NlZ21lbnRfLnJlcXVlc3RJZCl7aWYoZSlyZXR1cm4gdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx0aGlzLnN0YXRlPSJSRUFEWSIsZS5jb2RlPT09TGM/dm9pZCh0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xKToodGhpcy5wYXVzZSgpLGUuY29kZT09PUljPyh0aGlzLm1lZGlhUmVxdWVzdHNUaW1lZG91dCs9MSx0aGlzLmJhbmR3aWR0aD0xLHRoaXMucm91bmRUcmlwPU5hTix2b2lkIHRoaXMudHJpZ2dlcigiYmFuZHdpZHRodXBkYXRlIikpOih0aGlzLm1lZGlhUmVxdWVzdHNFcnJvcmVkKz0xLHRoaXMuZXJyb3IoZSksdm9pZCB0aGlzLnRyaWdnZXIoImVycm9yIikpKTt0aGlzLmJhbmR3aWR0aD10LnN0YXRzLmJhbmR3aWR0aCx0aGlzLnJvdW5kVHJpcD10LnN0YXRzLnJvdW5kVHJpcFRpbWUsdC5tYXAmJih0Lm1hcD10aGlzLmluaXRTZWdtZW50KHQubWFwLCEwKSksdC5rZXkmJnRoaXMuc2VnbWVudEtleSh0LmtleSwhMCksdGhpcy5wcm9jZXNzU2VnbWVudFJlc3BvbnNlXyh0KX19ZWxzZSB0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xfX0se2tleToicHJvY2Vzc1NlZ21lbnRSZXNwb25zZV8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGVuZGluZ1NlZ21lbnRfO3QuYnl0ZXM9ZS5ieXRlcyxlLm1hcCYmKHQuc2VnbWVudC5tYXAuYnl0ZXM9ZS5tYXAuYnl0ZXMpLHQuZW5kT2ZBbGxSZXF1ZXN0cz1lLmVuZE9mQWxsUmVxdWVzdHMsZS5mbXA0Q2FwdGlvbnMmJihmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuIGluIGkpaWYoIWVbbl0pe3QudHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy02MDgifSk7dmFyIHI9dC50ZXh0VHJhY2tzKCkuZ2V0VHJhY2tCeUlkKG4pO2Vbbl09cnx8dC5hZGRSZW1vdGVUZXh0VHJhY2soe2tpbmQ6ImNhcHRpb25zIixpZDpuLGxhYmVsOm59LCExKS50cmFja319KHRoaXMuaW5iYW5kVGV4dFRyYWNrc18sdGhpcy5obHNfLnRlY2hfLGUuY2FwdGlvblN0cmVhbXMpLGZ1bmN0aW9uKGUpe3ZhciByPWUuaW5iYW5kVGV4dFRyYWNrcyx0PWUuY2FwdGlvbkFycmF5LGE9ZS50aW1lc3RhbXBPZmZzZXQ7aWYodCl7dmFyIHM9d2luZG93LldlYktpdERhdGFDdWV8fHdpbmRvdy5WVFRDdWU7dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RyZWFtLGk9ZS5zdGFydFRpbWUsbj1lLmVuZFRpbWU7clt0XSYmKGkrPWEsbis9YSxyW3RdLmFkZEN1ZShuZXcgcyhpLG4sZS50ZXh0KSkpfSl9fSh7aW5iYW5kVGV4dFRyYWNrczp0aGlzLmluYmFuZFRleHRUcmFja3NfLGNhcHRpb25BcnJheTplLmZtcDRDYXB0aW9ucyx0aW1lc3RhbXBPZmZzZXQ6MH0pLHRoaXMuY2FwdGlvblBhcnNlcl8mJnRoaXMuY2FwdGlvblBhcnNlcl8uY2xlYXJQYXJzZWRDYXB0aW9ucygpKSx0aGlzLmhhbmRsZVNlZ21lbnRfKCl9fSx7a2V5OiJoYW5kbGVTZWdtZW50XyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMucGVuZGluZ1NlZ21lbnRfKXt2YXIgdD10aGlzLnBlbmRpbmdTZWdtZW50XyxpPXQuc2VnbWVudCxuPXRoaXMuc3luY0NvbnRyb2xsZXJfLnByb2JlU2VnbWVudEluZm8odCk7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnN0YXJ0aW5nTWVkaWFfJiZuJiYobi5jb250YWluc0F1ZGlvfHxuLmNvbnRhaW5zVmlkZW8pJiYodGhpcy5zdGFydGluZ01lZGlhXz17Y29udGFpbnNBdWRpbzpuLmNvbnRhaW5zQXVkaW8sY29udGFpbnNWaWRlbzpuLmNvbnRhaW5zVmlkZW99KTt2YXIgcj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIm1haW4iPT09ZSYmdCYmaT9pLmNvbnRhaW5zQXVkaW98fGkuY29udGFpbnNWaWRlbz90LmNvbnRhaW5zVmlkZW8mJiFpLmNvbnRhaW5zVmlkZW8/Ik9ubHkgYXVkaW8gZm91bmQgaW4gc2VnbWVudCB3aGVuIHdlIGV4cGVjdGVkIHZpZGVvLiBXZSBjYW4ndCBzd2l0Y2ggdG8gYXVkaW8gb25seSBmcm9tIGEgc3RyZWFtIHRoYXQgaGFkIHZpZGVvLiBUbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgcGxlYXNlIGFkZCBjb2RlYyBpbmZvcm1hdGlvbiB0byB0aGUgbWFuaWZlc3QuIjohdC5jb250YWluc1ZpZGVvJiZpLmNvbnRhaW5zVmlkZW8/IlZpZGVvIGZvdW5kIGluIHNlZ21lbnQgd2hlbiB3ZSBleHBlY3RlZCBvbmx5IGF1ZGlvLiBXZSBjYW4ndCBzd2l0Y2ggdG8gYSBzdHJlYW0gd2l0aCB2aWRlbyBmcm9tIGFuIGF1ZGlvIG9ubHkgc3RyZWFtLiBUbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgcGxlYXNlIGFkZCBjb2RlYyBpbmZvcm1hdGlvbiB0byB0aGUgbWFuaWZlc3QuIjpudWxsOiJOZWl0aGVyIGF1ZGlvIG5vciB2aWRlbyBmb3VuZCBpbiBzZWdtZW50LiI6bnVsbH0odGhpcy5sb2FkZXJUeXBlXyx0aGlzLnN0YXJ0aW5nTWVkaWFfLG4pO2lmKHIpcmV0dXJuIHRoaXMuZXJyb3Ioe21lc3NhZ2U6cixibGFja2xpc3REdXJhdGlvbjoxLzB9KSx2b2lkIHRoaXMudHJpZ2dlcigiZXJyb3IiKTtpZih0LmlzU3luY1JlcXVlc3QpcmV0dXJuIHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKSx0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHZvaWQodGhpcy5zdGF0ZT0iUkVBRFkiKTtpZihudWxsIT09dC50aW1lc3RhbXBPZmZzZXQmJnQudGltZXN0YW1wT2Zmc2V0IT09dGhpcy5zb3VyY2VVcGRhdGVyXy50aW1lc3RhbXBPZmZzZXQoKSl7aWYobiYmbi5zZWdtZW50VGltZXN0YW1wSW5mbyl7dmFyIGE9bi5zZWdtZW50VGltZXN0YW1wSW5mb1swXS5wdHNUaW1lLHM9bi5zZWdtZW50VGltZXN0YW1wSW5mb1swXS5kdHNUaW1lO3QudGltZXN0YW1wT2Zmc2V0LT1hLXN9dGhpcy5zb3VyY2VVcGRhdGVyXy50aW1lc3RhbXBPZmZzZXQodC50aW1lc3RhbXBPZmZzZXQpLHRoaXMudHJpZ2dlcigidGltZXN0YW1wb2Zmc2V0Iil9dmFyIG89dGhpcy5zeW5jQ29udHJvbGxlcl8ubWFwcGluZ0ZvclRpbWVsaW5lKHQudGltZWxpbmUpO2lmKG51bGwhPT1vJiZ0aGlzLnRyaWdnZXIoe3R5cGU6InNlZ21lbnR0aW1lbWFwcGluZyIsbWFwcGluZzpvfSksdGhpcy5zdGF0ZT0iQVBQRU5ESU5HIixpLm1hcCl7dmFyIHU9cGwoaS5tYXApO2lmKCF0aGlzLmFjdGl2ZUluaXRTZWdtZW50SWRffHx0aGlzLmFjdGl2ZUluaXRTZWdtZW50SWRfIT09dSl7dmFyIGw9dGhpcy5pbml0U2VnbWVudChpLm1hcCk7dGhpcy5zb3VyY2VVcGRhdGVyXy5hcHBlbmRCdWZmZXIoe2J5dGVzOmwuYnl0ZXN9LGZ1bmN0aW9uKCl7ZS5hY3RpdmVJbml0U2VnbWVudElkXz11fSl9fXQuYnl0ZUxlbmd0aD10LmJ5dGVzLmJ5dGVMZW5ndGgsIm51bWJlciI9PXR5cGVvZiBpLnN0YXJ0JiYibnVtYmVyIj09dHlwZW9mIGkuZW5kP3RoaXMubWVkaWFTZWNvbmRzTG9hZGVkKz1pLmVuZC1pLnN0YXJ0OnRoaXMubWVkaWFTZWNvbmRzTG9hZGVkKz1pLmR1cmF0aW9uLHRoaXMubG9nZ2VyXyhmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQsaT10LnN0YXJ0LG49dC5lbmQscj1lLnBsYXlsaXN0LGE9ci5tZWRpYVNlcXVlbmNlLHM9ci5pZCxvPXIuc2VnbWVudHMsdT12b2lkIDA9PT1vP1tdOm8sbD1lLm1lZGlhSW5kZXgsYz1lLnRpbWVsaW5lO3JldHVyblsiYXBwZW5kaW5nIFsiK2wrIl0gb2YgWyIrYSsiLCAiKyhhK3UubGVuZ3RoKSsiXSBmcm9tIHBsYXlsaXN0IFsiK3MrIl0iLCJbIitpKyIgPT4gIituKyJdIGluIHRpbWVsaW5lIFsiK2MrIl0iXS5qb2luKCIgIil9KHQpKSx0aGlzLnNvdXJjZVVwZGF0ZXJfLmFwcGVuZEJ1ZmZlcih7Ynl0ZXM6dC5ieXRlcyx2aWRlb1NlZ21lbnRUaW1pbmdJbmZvQ2FsbGJhY2s6dGhpcy5oYW5kbGVWaWRlb1NlZ21lbnRUaW1pbmdJbmZvXy5iaW5kKHRoaXMsdC5yZXF1ZXN0SWQpfSx0aGlzLmhhbmRsZVVwZGF0ZUVuZF8uYmluZCh0aGlzKSl9ZWxzZSB0aGlzLnN0YXRlPSJSRUFEWSJ9fSx7a2V5OiJoYW5kbGVWaWRlb1NlZ21lbnRUaW1pbmdJbmZvXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnBlbmRpbmdTZWdtZW50XyYmZT09PXRoaXMucGVuZGluZ1NlZ21lbnRfLnJlcXVlc3RJZCl7dmFyIGk9dGhpcy5wZW5kaW5nU2VnbWVudF8uc2VnbWVudDtpLnZpZGVvVGltaW5nSW5mb3x8KGkudmlkZW9UaW1pbmdJbmZvPXt9KSxpLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVyUHJlcGVuZGVkU2Vjb25kcz10LnZpZGVvU2VnbWVudFRpbWluZ0luZm8ucHJlcGVuZGVkQ29udGVudER1cmF0aW9ufHwwLGkudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25TdGFydD10LnZpZGVvU2VnbWVudFRpbWluZ0luZm8uc3RhcnQucHJlc2VudGF0aW9uLGkudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQ9dC52aWRlb1NlZ21lbnRUaW1pbmdJbmZvLmVuZC5wcmVzZW50YXRpb24saS52aWRlb1RpbWluZ0luZm8uYmFzZU1lZGlhRGVjb2RlVGltZT10LnZpZGVvU2VnbWVudFRpbWluZ0luZm8uYmFzZU1lZGlhRGVjb2RlVGltZX19fSx7a2V5OiJoYW5kbGVVcGRhdGVFbmRfIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnBlbmRpbmdTZWdtZW50XylyZXR1cm4gdGhpcy5zdGF0ZT0iUkVBRFkiLHZvaWQodGhpcy5wYXVzZWQoKXx8dGhpcy5tb25pdG9yQnVmZmVyXygpKTt2YXIgZT10aGlzLnBlbmRpbmdTZWdtZW50Xyx0PWUuc2VnbWVudCxpPW51bGwhPT10aGlzLm1lZGlhSW5kZXg7dGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx0aGlzLnJlY29yZFRocm91Z2hwdXRfKGUpLHRoaXMuYWRkU2VnbWVudE1ldGFkYXRhQ3VlXyhlKSx0aGlzLnN0YXRlPSJSRUFEWSIsdGhpcy5tZWRpYUluZGV4PWUubWVkaWFJbmRleCx0aGlzLmZldGNoQXRCdWZmZXJfPSEwLHRoaXMuY3VycmVudFRpbWVsaW5lXz1lLnRpbWVsaW5lLHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKSx0LmVuZCYmdGhpcy5jdXJyZW50VGltZV8oKS10LmVuZD4zKmUucGxheWxpc3QudGFyZ2V0RHVyYXRpb24/dGhpcy5yZXNldEV2ZXJ5dGhpbmcoKTooaSYmdGhpcy50cmlnZ2VyKCJiYW5kd2lkdGh1cGRhdGUiKSx0aGlzLnRyaWdnZXIoInByb2dyZXNzIiksdGhpcy5pc0VuZE9mU3RyZWFtXyhlLm1lZGlhSW5kZXgrMSxlLnBsYXlsaXN0KSYmdGhpcy5lbmRPZlN0cmVhbSgpLHRoaXMucGF1c2VkKCl8fHRoaXMubW9uaXRvckJ1ZmZlcl8oKSl9fSx7a2V5OiJyZWNvcmRUaHJvdWdocHV0XyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50aHJvdWdocHV0LnJhdGUsaT1EYXRlLm5vdygpLWUuZW5kT2ZBbGxSZXF1ZXN0cysxLG49TWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvaSo4KjFlMyk7dGhpcy50aHJvdWdocHV0LnJhdGUrPShuLXQpLysrdGhpcy50aHJvdWdocHV0LmNvdW50fX0se2tleToiYWRkU2VnbWVudE1ldGFkYXRhQ3VlXyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja18pe3ZhciB0PWUuc2VnbWVudCxpPXQuc3RhcnQsbj10LmVuZDtpZih3YyhpKSYmd2Mobikpe2tsKGksbix0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyk7dmFyIHI9di5XZWJLaXREYXRhQ3VlfHx2LlZUVEN1ZSxhPXtjdXN0b206dC5jdXN0b20sZGF0ZVRpbWVPYmplY3Q6dC5kYXRlVGltZU9iamVjdCxkYXRlVGltZVN0cmluZzp0LmRhdGVUaW1lU3RyaW5nLGJhbmR3aWR0aDplLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQkFORFdJRFRILHJlc29sdXRpb246ZS5wbGF5bGlzdC5hdHRyaWJ1dGVzLlJFU09MVVRJT04sY29kZWNzOmUucGxheWxpc3QuYXR0cmlidXRlcy5DT0RFQ1MsYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGgsdXJpOmUudXJpLHRpbWVsaW5lOmUudGltZWxpbmUscGxheWxpc3Q6ZS5wbGF5bGlzdC51cmksc3RhcnQ6aSxlbmQ6bn0scz1uZXcgcihpLG4sSlNPTi5zdHJpbmdpZnkoYSkpO3MudmFsdWU9YSx0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXy5hZGRDdWUocyl9fX19XSkseGMpO2Z1bmN0aW9uIHhjKGUpe1J1KHRoaXMseGMpO3ZhciB0PWp1KHRoaXMsKHhjLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHhjKSkuY2FsbCh0aGlzKSk7aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW5pdGlhbGl6YXRpb24gc2V0dGluZ3MgYXJlIHJlcXVpcmVkIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuY3VycmVudFRpbWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiTm8gY3VycmVudFRpbWUgZ2V0dGVyIHNwZWNpZmllZCIpO2lmKCFlLm1lZGlhU291cmNlKXRocm93IG5ldyBUeXBlRXJyb3IoIk5vIE1lZGlhU291cmNlIHNwZWNpZmllZCIpO3JldHVybiB0LmJhbmR3aWR0aD1lLmJhbmR3aWR0aCx0LnRocm91Z2hwdXQ9e3JhdGU6MCxjb3VudDowfSx0LnJvdW5kVHJpcD1OYU4sdC5yZXNldFN0YXRzXygpLHQubWVkaWFJbmRleD1udWxsLHQuaGFzUGxheWVkXz1lLmhhc1BsYXllZCx0LmN1cnJlbnRUaW1lXz1lLmN1cnJlbnRUaW1lLHQuc2Vla2FibGVfPWUuc2Vla2FibGUsdC5zZWVraW5nXz1lLnNlZWtpbmcsdC5kdXJhdGlvbl89ZS5kdXJhdGlvbix0Lm1lZGlhU291cmNlXz1lLm1lZGlhU291cmNlLHQuaGxzXz1lLmhscyx0LmxvYWRlclR5cGVfPWUubG9hZGVyVHlwZSx0LnN0YXJ0aW5nTWVkaWFfPXZvaWQgMCx0LnNlZ21lbnRNZXRhZGF0YVRyYWNrXz1lLnNlZ21lbnRNZXRhZGF0YVRyYWNrLHQuZ29hbEJ1ZmZlckxlbmd0aF89ZS5nb2FsQnVmZmVyTGVuZ3RoLHQuc291cmNlVHlwZV89ZS5zb3VyY2VUeXBlLHQuaW5iYW5kVGV4dFRyYWNrc189ZS5pbmJhbmRUZXh0VHJhY2tzLHQuc3RhdGVfPSJJTklUIix0LmNoZWNrQnVmZmVyVGltZW91dF89bnVsbCx0LmVycm9yXz12b2lkIDAsdC5jdXJyZW50VGltZWxpbmVfPS0xLHQucGVuZGluZ1NlZ21lbnRfPW51bGwsdC5taW1lVHlwZV89bnVsbCx0LnNvdXJjZVVwZGF0ZXJfPW51bGwsdC54aHJPcHRpb25zXz1udWxsLHQuYWN0aXZlSW5pdFNlZ21lbnRJZF89bnVsbCx0LmluaXRTZWdtZW50c189e30sdC5jYWNoZUVuY3J5cHRpb25LZXlzXz1lLmNhY2hlRW5jcnlwdGlvbktleXMsdC5rZXlDYWNoZV89e30sIm1haW4iPT09dC5sb2FkZXJUeXBlXz90LmNhcHRpb25QYXJzZXJfPW5ldyBHbzp0LmNhcHRpb25QYXJzZXJfPW51bGwsdC5kZWNyeXB0ZXJfPWUuZGVjcnlwdGVyLHQuc3luY0NvbnRyb2xsZXJfPWUuc3luY0NvbnRyb2xsZXIsdC5zeW5jUG9pbnRfPXtzZWdtZW50SW5kZXg6MCx0aW1lOjB9LHQuc3luY0NvbnRyb2xsZXJfLm9uKCJzeW5jaW5mb3VwZGF0ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdC50cmlnZ2VyKCJzeW5jaW5mb3VwZGF0ZSIpfSksdC5tZWRpYVNvdXJjZV8uYWRkRXZlbnRMaXN0ZW5lcigic291cmNlb3BlbiIsZnVuY3Rpb24oKXtyZXR1cm4gdC5lbmRlZF89ITF9KSx0LmZldGNoQXRCdWZmZXJfPSExLHQubG9nZ2VyXz1mYygiU2VnbWVudExvYWRlclsiK3QubG9hZGVyVHlwZV8rIl0iKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwic3RhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZV99LHNldDpmdW5jdGlvbihlKXtlIT09dGhpcy5zdGF0ZV8mJih0aGlzLmxvZ2dlcl8odGhpcy5zdGF0ZV8rIiAtPiAiK2UpLHRoaXMuc3RhdGVfPWUpfX0pLHR9ZnVuY3Rpb24gRGMoZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUpKSl9dmFyIFVjPW5ldyBVaW50OEFycmF5KCJcblxuIi5zcGxpdCgiIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCl9KSksUmM9KEJ1KE1jLE9jKSxNdShNYyxbe2tleToiYnVmZmVyZWRfIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnN1YnRpdGxlc1RyYWNrX3x8IXRoaXMuc3VidGl0bGVzVHJhY2tfLmN1ZXMubGVuZ3RoKXJldHVybiBwcy5jcmVhdGVUaW1lUmFuZ2VzKCk7dmFyIGU9dGhpcy5zdWJ0aXRsZXNUcmFja18uY3Vlcyx0PWVbMF0uc3RhcnRUaW1lLGk9ZVtlLmxlbmd0aC0xXS5zdGFydFRpbWU7cmV0dXJuIHBzLmNyZWF0ZVRpbWVSYW5nZXMoW1t0LGldXSl9fSx7a2V5OiJpbml0U2VnbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQmJnQ7aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49cGwoZSkscj10aGlzLmluaXRTZWdtZW50c19bbl07aWYoaSYmIXImJmUuYnl0ZXMpe3ZhciBhPVVjLmJ5dGVMZW5ndGgrZS5ieXRlcy5ieXRlTGVuZ3RoLHM9bmV3IFVpbnQ4QXJyYXkoYSk7cy5zZXQoZS5ieXRlcykscy5zZXQoVWMsZS5ieXRlcy5ieXRlTGVuZ3RoKSx0aGlzLmluaXRTZWdtZW50c19bbl09cj17cmVzb2x2ZWRVcmk6ZS5yZXNvbHZlZFVyaSxieXRlcmFuZ2U6ZS5ieXRlcmFuZ2UsYnl0ZXM6c319cmV0dXJuIHJ8fGV9fSx7a2V5OiJjb3VsZEJlZ2luTG9hZGluZ18iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWxpc3RfJiZ0aGlzLnN1YnRpdGxlc1RyYWNrXyYmIXRoaXMucGF1c2VkKCl9fSx7a2V5OiJpbml0XyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT0iUkVBRFkiLHRoaXMucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5tb25pdG9yQnVmZmVyXygpfX0se2tleToidHJhY2siLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZXx8KHRoaXMuc3VidGl0bGVzVHJhY2tfPWUsIklOSVQiPT09dGhpcy5zdGF0ZSYmdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSYmdGhpcy5pbml0XygpKSx0aGlzLnN1YnRpdGxlc1RyYWNrX319LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtrbChlLHQsdGhpcy5zdWJ0aXRsZXNUcmFja18pfX0se2tleToiZmlsbEJ1ZmZlcl8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN5bmNQb2ludF98fCh0aGlzLnN5bmNQb2ludF89dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0U3luY1BvaW50KHRoaXMucGxheWxpc3RfLHRoaXMuZHVyYXRpb25fKCksdGhpcy5jdXJyZW50VGltZWxpbmVfLHRoaXMuY3VycmVudFRpbWVfKCkpKTt2YXIgdD10aGlzLmNoZWNrQnVmZmVyXyh0aGlzLmJ1ZmZlcmVkXygpLHRoaXMucGxheWxpc3RfLHRoaXMubWVkaWFJbmRleCx0aGlzLmhhc1BsYXllZF8oKSx0aGlzLmN1cnJlbnRUaW1lXygpLHRoaXMuc3luY1BvaW50Xyk7aWYodD10aGlzLnNraXBFbXB0eVNlZ21lbnRzXyh0KSl7aWYobnVsbD09PXRoaXMuc3luY0NvbnRyb2xsZXJfLnRpbWVzdGFtcE9mZnNldEZvclRpbWVsaW5lKHQudGltZWxpbmUpKXJldHVybiB0aGlzLnN5bmNDb250cm9sbGVyXy5vbmUoInRpbWVzdGFtcG9mZnNldCIsZnVuY3Rpb24oKXtlLnN0YXRlPSJSRUFEWSIsZS5wYXVzZWQoKXx8ZS5tb25pdG9yQnVmZmVyXygpfSksdm9pZCh0aGlzLnN0YXRlPSJXQUlUSU5HX09OX1RJTUVMSU5FIik7dGhpcy5sb2FkU2VnbWVudF8odCl9fX0se2tleToic2tpcEVtcHR5U2VnbWVudHNfIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IoO2UmJmUuc2VnbWVudC5lbXB0eTspZT10aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKGUucGxheWxpc3QsZS5tZWRpYUluZGV4KzEsZS5zdGFydE9mU2VnbWVudCtlLmR1cmF0aW9uLGUuaXNTeW5jUmVxdWVzdCk7cmV0dXJuIGV9fSx7a2V5OiJoYW5kbGVTZWdtZW50XyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMucGVuZGluZ1NlZ21lbnRfJiZ0aGlzLnN1YnRpdGxlc1RyYWNrXyl7dGhpcy5zdGF0ZT0iQVBQRU5ESU5HIjt2YXIgZT10aGlzLnBlbmRpbmdTZWdtZW50XyxpPWUuc2VnbWVudDtpZigiZnVuY3Rpb24iIT10eXBlb2Ygdi5XZWJWVFQmJnRoaXMuc3VidGl0bGVzVHJhY2tfJiZ0aGlzLnN1YnRpdGxlc1RyYWNrXy50ZWNoXyl7ZnVuY3Rpb24gbigpe3Quc3VidGl0bGVzVHJhY2tfLnRlY2hfLm9mZigidnR0anNsb2FkZWQiLHIpLHQuZXJyb3Ioe21lc3NhZ2U6IkVycm9yIGxvYWRpbmcgdnR0LmpzIn0pLHQuc3RhdGU9IlJFQURZIix0LnBhdXNlKCksdC50cmlnZ2VyKCJlcnJvciIpfXZhciByPXZvaWQgMDtyZXR1cm4gcj1mdW5jdGlvbigpe3Quc3VidGl0bGVzVHJhY2tfLnRlY2hfLm9mZigidnR0anNlcnJvciIsbiksdC5oYW5kbGVTZWdtZW50XygpfSx0aGlzLnN0YXRlPSJXQUlUSU5HX09OX1ZUVEpTIix0aGlzLnN1YnRpdGxlc1RyYWNrXy50ZWNoXy5vbmUoInZ0dGpzbG9hZGVkIixyKSx2b2lkIHRoaXMuc3VidGl0bGVzVHJhY2tfLnRlY2hfLm9uZSgidnR0anNlcnJvciIsbil9aS5yZXF1ZXN0ZWQ9ITA7dHJ5e3RoaXMucGFyc2VWVFRDdWVzXyhlKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5lcnJvcih7bWVzc2FnZTplLm1lc3NhZ2V9KSx0aGlzLnN0YXRlPSJSRUFEWSIsdGhpcy5wYXVzZSgpLHRoaXMudHJpZ2dlcigiZXJyb3IiKX1pZih0aGlzLnVwZGF0ZVRpbWVNYXBwaW5nXyhlLHRoaXMuc3luY0NvbnRyb2xsZXJfLnRpbWVsaW5lc1tlLnRpbWVsaW5lXSx0aGlzLnBsYXlsaXN0XyksZS5pc1N5bmNSZXF1ZXN0KXJldHVybiB0aGlzLnRyaWdnZXIoInN5bmNpbmZvdXBkYXRlIiksdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx2b2lkKHRoaXMuc3RhdGU9IlJFQURZIik7ZS5ieXRlTGVuZ3RoPWUuYnl0ZXMuYnl0ZUxlbmd0aCx0aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9aS5kdXJhdGlvbixlLmN1ZXMubGVuZ3RoJiZ0aGlzLnJlbW92ZShlLmN1ZXNbMF0uZW5kVGltZSxlLmN1ZXNbZS5jdWVzLmxlbmd0aC0xXS5lbmRUaW1lKSxlLmN1ZXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnN1YnRpdGxlc1RyYWNrXy5hZGRDdWUoZSl9KSx0aGlzLmhhbmRsZVVwZGF0ZUVuZF8oKX1lbHNlIHRoaXMuc3RhdGU9IlJFQURZIn19LHtrZXk6InBhcnNlVlRUQ3Vlc18iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMCxpPSExOyJmdW5jdGlvbiI9PXR5cGVvZiB2LlRleHREZWNvZGVyP2U9bmV3IHYuVGV4dERlY29kZXIoInV0ZjgiKTooZT12LldlYlZUVC5TdHJpbmdEZWNvZGVyKCksaT0hMCk7dmFyIG49bmV3IHYuV2ViVlRULlBhcnNlcih2LHYudnR0anMsZSk7aWYodC5jdWVzPVtdLHQudGltZXN0YW1wbWFwPXtNUEVHVFM6MCxMT0NBTDowfSxuLm9uY3VlPXQuY3Vlcy5wdXNoLmJpbmQodC5jdWVzKSxuLm9udGltZXN0YW1wbWFwPWZ1bmN0aW9uKGUpe3JldHVybiB0LnRpbWVzdGFtcG1hcD1lfSxuLm9ucGFyc2luZ2Vycm9yPWZ1bmN0aW9uKGUpe3BzLmxvZy53YXJuKCJFcnJvciBlbmNvdW50ZXJlZCB3aGVuIHBhcnNpbmcgY3VlczogIitlLm1lc3NhZ2UpfSx0LnNlZ21lbnQubWFwKXt2YXIgcj10LnNlZ21lbnQubWFwLmJ5dGVzO2kmJihyPURjKHIpKSxuLnBhcnNlKHIpfXZhciBhPXQuYnl0ZXM7aSYmKGE9RGMoYSkpLG4ucGFyc2UoYSksbi5mbHVzaCgpfX0se2tleToidXBkYXRlVGltZU1hcHBpbmdfIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49ZS5zZWdtZW50O2lmKHQpaWYoZS5jdWVzLmxlbmd0aCl7dmFyIHI9ZS50aW1lc3RhbXBtYXAsYT1yLk1QRUdUUy85ZTQtci5MT0NBTCt0Lm1hcHBpbmc7aWYoZS5jdWVzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWUrPWEsZS5lbmRUaW1lKz1hfSksIWkuc3luY0luZm8pe3ZhciBzPWUuY3Vlc1swXS5zdGFydFRpbWUsbz1lLmN1ZXNbZS5jdWVzLmxlbmd0aC0xXS5zdGFydFRpbWU7aS5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTppLm1lZGlhU2VxdWVuY2UrZS5tZWRpYUluZGV4LHRpbWU6TWF0aC5taW4ocyxvLW4uZHVyYXRpb24pfX19ZWxzZSBuLmVtcHR5PSEwfX1dKSxNYyk7ZnVuY3Rpb24gTWMoZSl7dmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O1J1KHRoaXMsTWMpO3ZhciBpPWp1KHRoaXMsKE1jLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKE1jKSkuY2FsbCh0aGlzLGUsdCkpO3JldHVybiBpLm1lZGlhU291cmNlXz1udWxsLGkuc3VidGl0bGVzVHJhY2tfPW51bGwsaX1mdW5jdGlvbiBOYyhlLHQpe2Zvcih2YXIgaT1lLmN1ZXMsbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dO2lmKHQ+PXIuYWRTdGFydFRpbWUmJnQ8PXIuYWRFbmRUaW1lKXJldHVybiByfXJldHVybiBudWxsfXZhciBCYz15dSxqYz1be25hbWU6IlZPRCIscnVuOmZ1bmN0aW9uKGUsdCxpLG4scil7aWYoaT09PTEvMClyZXR1cm4gbnVsbDtyZXR1cm57dGltZTowLHNlZ21lbnRJbmRleDowfX19LHtuYW1lOiJQcm9ncmFtRGF0ZVRpbWUiLHJ1bjpmdW5jdGlvbihlLHQsaSxuLHIpe2lmKCFlLmRhdGV0aW1lVG9EaXNwbGF5VGltZSlyZXR1cm4gbnVsbDt2YXIgYT10LnNlZ21lbnRzfHxbXSxzPW51bGwsbz1udWxsO3I9cnx8MDtmb3IodmFyIHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGw9YVt1XTtpZihsLmRhdGVUaW1lT2JqZWN0KXt2YXIgYz1sLmRhdGVUaW1lT2JqZWN0LmdldFRpbWUoKS8xZTMrZS5kYXRldGltZVRvRGlzcGxheVRpbWUsaD1NYXRoLmFicyhyLWMpO2lmKG51bGwhPT1vJiYoMD09PWh8fG88aCkpYnJlYWs7bz1oLHM9e3RpbWU6YyxzZWdtZW50SW5kZXg6dX19fXJldHVybiBzfX0se25hbWU6IlNlZ21lbnQiLHJ1bjpmdW5jdGlvbihlLHQsaSxuLHIpe3ZhciBhPXQuc2VnbWVudHN8fFtdLHM9bnVsbCxvPW51bGw7cj1yfHwwO2Zvcih2YXIgdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgbD1hW3VdO2lmKGwudGltZWxpbmU9PT1uJiYidW5kZWZpbmVkIiE9dHlwZW9mIGwuc3RhcnQpe3ZhciBjPU1hdGguYWJzKHItbC5zdGFydCk7aWYobnVsbCE9PW8mJm88YylicmVhazsoIXN8fG51bGw9PT1vfHxjPD1vKSYmKG89YyxzPXt0aW1lOmwuc3RhcnQsc2VnbWVudEluZGV4OnV9KX19cmV0dXJuIHN9fSx7bmFtZToiRGlzY29udGludWl0eSIscnVuOmZ1bmN0aW9uKGUsdCxpLG4scil7dmFyIGE9bnVsbDtpZihyPXJ8fDAsdC5kaXNjb250aW51aXR5U3RhcnRzJiZ0LmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoKWZvcih2YXIgcz1udWxsLG89MDtvPHQuZGlzY29udGludWl0eVN0YXJ0cy5sZW5ndGg7bysrKXt2YXIgdT10LmRpc2NvbnRpbnVpdHlTdGFydHNbb10sbD10LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZStvKzEsYz1lLmRpc2NvbnRpbnVpdGllc1tsXTtpZihjKXt2YXIgaD1NYXRoLmFicyhyLWMudGltZSk7aWYobnVsbCE9PXMmJnM8aClicmVhazsoIWF8fG51bGw9PT1zfHxoPD1zKSYmKHM9aCxhPXt0aW1lOmMudGltZSxzZWdtZW50SW5kZXg6dX0pfX1yZXR1cm4gYX19LHtuYW1lOiJQbGF5bGlzdCIscnVuOmZ1bmN0aW9uKGUsdCxpLG4scil7cmV0dXJuIHQuc3luY0luZm8/e3RpbWU6dC5zeW5jSW5mby50aW1lLHNlZ21lbnRJbmRleDp0LnN5bmNJbmZvLm1lZGlhU2VxdWVuY2UtdC5tZWRpYVNlcXVlbmNlfTpudWxsfX1dLEZjPShCdShIYyxwcy5FdmVudFRhcmdldCksTXUoSGMsW3trZXk6ImdldFN5bmNQb2ludCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9dGhpcy5ydW5TdHJhdGVnaWVzXyhlLHQsaSxuKTtyZXR1cm4gci5sZW5ndGg/dGhpcy5zZWxlY3RTeW5jUG9pbnRfKHIse2tleToidGltZSIsdmFsdWU6bn0pOm51bGx9fSx7a2V5OiJnZXRFeHBpcmVkVGltZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZXx8IWUuc2VnbWVudHMpcmV0dXJuIG51bGw7dmFyIGk9dGhpcy5ydW5TdHJhdGVnaWVzXyhlLHQsZS5kaXNjb250aW51aXR5U2VxdWVuY2UsMCk7aWYoIWkubGVuZ3RoKXJldHVybiBudWxsO3ZhciBuPXRoaXMuc2VsZWN0U3luY1BvaW50XyhpLHtrZXk6InNlZ21lbnRJbmRleCIsdmFsdWU6MH0pO3JldHVybiAwPG4uc2VnbWVudEluZGV4JiYobi50aW1lKj0tMSksTWF0aC5hYnMobi50aW1lK0p1KGUsbi5zZWdtZW50SW5kZXgsMCkpfX0se2tleToicnVuU3RyYXRlZ2llc18iLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe2Zvcih2YXIgcj1bXSxhPTA7YTxqYy5sZW5ndGg7YSsrKXt2YXIgcz1qY1thXSxvPXMucnVuKHRoaXMsZSx0LGksbik7byYmKG8uc3RyYXRlZ3k9cy5uYW1lLHIucHVzaCh7c3RyYXRlZ3k6cy5uYW1lLHN5bmNQb2ludDpvfSkpfXJldHVybiByfX0se2tleToic2VsZWN0U3luY1BvaW50XyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9ZVswXS5zeW5jUG9pbnQsbj1NYXRoLmFicyhlWzBdLnN5bmNQb2ludFt0LmtleV0tdC52YWx1ZSkscj1lWzBdLnN0cmF0ZWd5LGE9MTthPGUubGVuZ3RoO2ErKyl7dmFyIHM9TWF0aC5hYnMoZVthXS5zeW5jUG9pbnRbdC5rZXldLXQudmFsdWUpO3M8biYmKG49cyxpPWVbYV0uc3luY1BvaW50LHI9ZVthXS5zdHJhdGVneSl9cmV0dXJuIHRoaXMubG9nZ2VyXygic3luY1BvaW50IGZvciBbIit0LmtleSsiOiAiK3QudmFsdWUrIl0gY2hvc2VuIHdpdGggc3RyYXRlZ3kgWyIrcisiXTogW3RpbWU6IitpLnRpbWUrIiwgc2VnbWVudEluZGV4OiIraS5zZWdtZW50SW5kZXgrIl0iKSxpfX0se2tleToic2F2ZUV4cGlyZWRTZWdtZW50SW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9dC5tZWRpYVNlcXVlbmNlLWUubWVkaWFTZXF1ZW5jZS0xOzA8PWk7aS0tKXt2YXIgbj1lLnNlZ21lbnRzW2ldO2lmKG4mJiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5zdGFydCl7dC5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTplLm1lZGlhU2VxdWVuY2UraSx0aW1lOm4uc3RhcnR9LHRoaXMubG9nZ2VyXygicGxheWxpc3QgcmVmcmVzaCBzeW5jOiBbdGltZToiK3Quc3luY0luZm8udGltZSsiLCBtZWRpYVNlcXVlbmNlOiAiK3Quc3luY0luZm8ubWVkaWFTZXF1ZW5jZSsiXSIpLHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKTticmVha319fX0se2tleToic2V0RGF0ZVRpbWVNYXBwaW5nIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kYXRldGltZVRvRGlzcGxheVRpbWUmJmUuc2VnbWVudHMmJmUuc2VnbWVudHMubGVuZ3RoJiZlLnNlZ21lbnRzWzBdLmRhdGVUaW1lT2JqZWN0KXt2YXIgdD1lLnNlZ21lbnRzWzBdLmRhdGVUaW1lT2JqZWN0LmdldFRpbWUoKS8xZTM7dGhpcy5kYXRldGltZVRvRGlzcGxheVRpbWU9LXR9fX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnNwZWN0Q2FjaGVfPXZvaWQgMH19LHtrZXk6InByb2JlU2VnbWVudEluZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VnbWVudCxpPWUucGxheWxpc3Qsbj12b2lkIDA7cmV0dXJuKG49dC5tYXA/dGhpcy5wcm9iZU1wNFNlZ21lbnRfKGUpOnRoaXMucHJvYmVUc1NlZ21lbnRfKGUpKSYmdGhpcy5jYWxjdWxhdGVTZWdtZW50VGltZU1hcHBpbmdfKGUsbikmJih0aGlzLnNhdmVEaXNjb250aW51aXR5U3luY0luZm9fKGUpLGkuc3luY0luZm98fChpLnN5bmNJbmZvPXttZWRpYVNlcXVlbmNlOmkubWVkaWFTZXF1ZW5jZStlLm1lZGlhSW5kZXgsdGltZTp0LnN0YXJ0fSkpLG59fSx7a2V5OiJwcm9iZU1wNFNlZ21lbnRfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQsaT13by50aW1lc2NhbGUodC5tYXAuYnl0ZXMpLG49d28uc3RhcnRUaW1lKGksZS5ieXRlcyk7cmV0dXJuIG51bGwhPT1lLnRpbWVzdGFtcE9mZnNldCYmKGUudGltZXN0YW1wT2Zmc2V0LT1uKSx7c3RhcnQ6bixlbmQ6bit0LmR1cmF0aW9ufX19LHtrZXk6InByb2JlVHNTZWdtZW50XyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9QmMoZS5ieXRlcyx0aGlzLmluc3BlY3RDYWNoZV8pLGk9dm9pZCAwLG49dm9pZCAwLHI9dm9pZCAwO3JldHVybiB0Pyh0LnZpZGVvJiYyPT09dC52aWRlby5sZW5ndGg/KHRoaXMuaW5zcGVjdENhY2hlXz10LnZpZGVvWzFdLmR0cyxpPXQudmlkZW9bMF0uZHRzVGltZSxuPXQudmlkZW9bMV0uZHRzVGltZSxyPXQudmlkZW8pOnQuYXVkaW8mJjI9PT10LmF1ZGlvLmxlbmd0aCYmKHRoaXMuaW5zcGVjdENhY2hlXz10LmF1ZGlvWzFdLmR0cyxpPXQuYXVkaW9bMF0uZHRzVGltZSxuPXQuYXVkaW9bMV0uZHRzVGltZSxyPXQuYXVkaW8pLHtzZWdtZW50VGltZXN0YW1wSW5mbzpyLHN0YXJ0OmksZW5kOm4sY29udGFpbnNWaWRlbzp0LnZpZGVvJiYyPT09dC52aWRlby5sZW5ndGgsY29udGFpbnNBdWRpbzp0LmF1ZGlvJiYyPT09dC5hdWRpby5sZW5ndGh9KTpudWxsfX0se2tleToidGltZXN0YW1wT2Zmc2V0Rm9yVGltZWxpbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy50aW1lbGluZXNbZV0/bnVsbDp0aGlzLnRpbWVsaW5lc1tlXS50aW1lfX0se2tleToibWFwcGluZ0ZvclRpbWVsaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMudGltZWxpbmVzW2VdP251bGw6dGhpcy50aW1lbGluZXNbZV0ubWFwcGluZ319LHtrZXk6ImNhbGN1bGF0ZVNlZ21lbnRUaW1lTWFwcGluZ18iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5zZWdtZW50LG49dGhpcy50aW1lbGluZXNbZS50aW1lbGluZV07aWYobnVsbCE9PWUudGltZXN0YW1wT2Zmc2V0KW49e3RpbWU6ZS5zdGFydE9mU2VnbWVudCxtYXBwaW5nOmUuc3RhcnRPZlNlZ21lbnQtdC5zdGFydH0sdGhpcy50aW1lbGluZXNbZS50aW1lbGluZV09bix0aGlzLnRyaWdnZXIoInRpbWVzdGFtcG9mZnNldCIpLHRoaXMubG9nZ2VyXygidGltZSBtYXBwaW5nIGZvciB0aW1lbGluZSAiK2UudGltZWxpbmUrIjogW3RpbWU6ICIrbi50aW1lKyJdIFttYXBwaW5nOiAiK24ubWFwcGluZysiXSIpLGkuc3RhcnQ9ZS5zdGFydE9mU2VnbWVudCxpLmVuZD10LmVuZCtuLm1hcHBpbmc7ZWxzZXtpZighbilyZXR1cm4hMTtpLnN0YXJ0PXQuc3RhcnQrbi5tYXBwaW5nLGkuZW5kPXQuZW5kK24ubWFwcGluZ31yZXR1cm4hMH19LHtrZXk6InNhdmVEaXNjb250aW51aXR5U3luY0luZm9fIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnBsYXlsaXN0LGk9ZS5zZWdtZW50O2lmKGkuZGlzY29udGludWl0eSl0aGlzLmRpc2NvbnRpbnVpdGllc1tpLnRpbWVsaW5lXT17dGltZTppLnN0YXJ0LGFjY3VyYWN5OjB9O2Vsc2UgaWYodC5kaXNjb250aW51aXR5U3RhcnRzJiZ0LmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoKWZvcih2YXIgbj0wO248dC5kaXNjb250aW51aXR5U3RhcnRzLmxlbmd0aDtuKyspe3ZhciByPXQuZGlzY29udGludWl0eVN0YXJ0c1tuXSxhPXQuZGlzY29udGludWl0eVNlcXVlbmNlK24rMSxzPXItZS5tZWRpYUluZGV4LG89TWF0aC5hYnMocyk7aWYoIXRoaXMuZGlzY29udGludWl0aWVzW2FdfHx0aGlzLmRpc2NvbnRpbnVpdGllc1thXS5hY2N1cmFjeT5vKXt2YXIgdT12b2lkIDA7dT1zPDA/aS5zdGFydC1KdSh0LGUubWVkaWFJbmRleCxyKTppLmVuZCtKdSh0LGUubWVkaWFJbmRleCsxLHIpLHRoaXMuZGlzY29udGludWl0aWVzW2FdPXt0aW1lOnUsYWNjdXJhY3k6b319fX19XSksSGMpO2Z1bmN0aW9uIEhjKCl7UnUodGhpcyxIYyk7dmFyIGU9anUodGhpcywoSGMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSGMpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS5pbnNwZWN0Q2FjaGVfPXZvaWQgMCxlLnRpbWVsaW5lcz1bXSxlLmRpc2NvbnRpbnVpdGllcz1bXSxlLmRhdGV0aW1lVG9EaXNwbGF5VGltZT1udWxsLGUubG9nZ2VyXz1mYygiU3luY0NvbnRyb2xsZXIiKSxlfWZ1bmN0aW9uIFZjKGUsdCl7ZS5hYm9ydCgpLGUucGF1c2UoKSx0JiZ0LmFjdGl2ZVBsYXlsaXN0TG9hZGVyJiYodC5hY3RpdmVQbGF5bGlzdExvYWRlci5wYXVzZSgpLHQuYWN0aXZlUGxheWxpc3RMb2FkZXI9bnVsbCl9ZnVuY3Rpb24gcWMoZSx0KXsodC5hY3RpdmVQbGF5bGlzdExvYWRlcj1lKS5sb2FkKCl9ZnVuY3Rpb24gV2ModCl7WyJBVURJTyIsIlNVQlRJVExFUyIsIkNMT1NFRC1DQVBUSU9OUyJdLmZvckVhY2goZnVuY3Rpb24oZSl7WGNbZV0oZSx0KX0pO3ZhciBpPXQubWVkaWFUeXBlcyxlPXQubWFzdGVyUGxheWxpc3RMb2FkZXIsbj10LnRlY2gscj10LmhscztbIkFVRElPIiwiU1VCVElUTEVTIl0uZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdLmFjdGl2ZUdyb3VwPWZ1bmN0aW9uKGEscyl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXMubWFzdGVyUGxheWxpc3RMb2FkZXIsaT1zLm1lZGlhVHlwZXNbYV0uZ3JvdXBzLG49ZS5tZWRpYSgpO2lmKCFuKXJldHVybiBudWxsO3ZhciByPW51bGw7cmV0dXJuIG4uYXR0cmlidXRlc1thXSYmKHI9aVtuLmF0dHJpYnV0ZXNbYV1dKSxyPXJ8fGkubWFpbiwidW5kZWZpbmVkIj09dHlwZW9mIHQ/cjpudWxsPT09dD9udWxsOnIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dC5pZH0pWzBdfHxudWxsfX0oZSx0KSxpW2VdLmFjdGl2ZVRyYWNrPUtjW2VdKGUsdCksaVtlXS5vbkdyb3VwQ2hhbmdlZD1mdW5jdGlvbihvLHUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXUuc2VnbWVudExvYWRlcnMsdD1lW29dLGk9ZS5tYWluLG49dS5tZWRpYVR5cGVzW29dLHI9bi5hY3RpdmVUcmFjaygpLGE9bi5hY3RpdmVHcm91cChyKSxzPW4uYWN0aXZlUGxheWxpc3RMb2FkZXI7VmModCxuKSxhJiYoYS5wbGF5bGlzdExvYWRlcj8odC5yZXN5bmNMb2FkZXIoKSxxYyhhLnBsYXlsaXN0TG9hZGVyLG4pKTpzJiZpLnJlc2V0RXZlcnl0aGluZygpKX19KGUsdCksaVtlXS5vblRyYWNrQ2hhbmdlZD1mdW5jdGlvbihvLHUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXUuc2VnbWVudExvYWRlcnMsdD1lW29dLGk9ZS5tYWluLG49dS5tZWRpYVR5cGVzW29dLHI9bi5hY3RpdmVUcmFjaygpLGE9bi5hY3RpdmVHcm91cChyKSxzPW4uYWN0aXZlUGxheWxpc3RMb2FkZXI7VmModCxuKSxhJiYoYS5wbGF5bGlzdExvYWRlcj8ocyE9PWEucGxheWxpc3RMb2FkZXImJih0LnRyYWNrJiZ0LnRyYWNrKHIpLHQucmVzZXRFdmVyeXRoaW5nKCkpLHFjKGEucGxheWxpc3RMb2FkZXIsbikpOmkucmVzZXRFdmVyeXRoaW5nKCkpfX0oZSx0KX0pO3ZhciBhPWkuQVVESU8uYWN0aXZlR3JvdXAoKSxzPShhLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0fSlbMF18fGFbMF0pLmlkO2Z1bmN0aW9uIG8oKXtpLkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksbi50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWF1ZGlvLWNoYW5nZSJ9KX1mb3IodmFyIHUgaW4gaS5BVURJTy50cmFja3Nbc10uZW5hYmxlZD0hMCxpLkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksZS5vbigibWVkaWFjaGFuZ2UiLGZ1bmN0aW9uKCl7WyJBVURJTyIsIlNVQlRJVExFUyJdLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0ub25Hcm91cENoYW5nZWQoKX0pfSksbi5hdWRpb1RyYWNrcygpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsbyksbi5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixpLlNVQlRJVExFUy5vblRyYWNrQ2hhbmdlZCksci5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtuLmF1ZGlvVHJhY2tzKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixvKSxuLnJlbW90ZVRleHRUcmFja3MoKS5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGkuU1VCVElUTEVTLm9uVHJhY2tDaGFuZ2VkKX0pLG4uY2xlYXJUcmFja3MoImF1ZGlvIiksaS5BVURJTy50cmFja3Mpbi5hdWRpb1RyYWNrcygpLmFkZFRyYWNrKGkuQVVESU8udHJhY2tzW3VdKX12YXIgemM9bmV3IGpsKCIuL2RlY3J5cHRlci13b3JrZXIud29ya2VyLmpzIixmdW5jdGlvbihlLHQpe3ZhciBpLGMsZyxuLHIsdSxzLGE9dGhpcztpPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdCYmbyhlLnByb3RvdHlwZSx0KSxpJiZvKGUsaSksZX0sYz1udWxsLGQucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSx0LGksbixyLGEpe3ZhciBzPXRoaXMuX2tleVsxXSxvPWVec1swXSx1PW5ec1sxXSxsPWlec1syXSxjPXRec1szXSxoPXZvaWQgMCxkPXZvaWQgMCxwPXZvaWQgMCxmPXMubGVuZ3RoLzQtMixtPXZvaWQgMCxnPTQseT10aGlzLl90YWJsZXNbMV0sdj15WzBdLF89eVsxXSxiPXlbMl0sVD15WzNdLFM9eVs0XTtmb3IobT0wO208ZjttKyspaD12W28+Pj4yNF1eX1t1Pj4xNiYyNTVdXmJbbD4+OCYyNTVdXlRbMjU1JmNdXnNbZ10sZD12W3U+Pj4yNF1eX1tsPj4xNiYyNTVdXmJbYz4+OCYyNTVdXlRbMjU1Jm9dXnNbZysxXSxwPXZbbD4+PjI0XV5fW2M+PjE2JjI1NV1eYltvPj44JjI1NV1eVFsyNTUmdV1ec1tnKzJdLGM9dltjPj4+MjRdXl9bbz4+MTYmMjU1XV5iW3U+PjgmMjU1XV5UWzI1NSZsXV5zW2crM10sZys9NCxvPWgsdT1kLGw9cDtmb3IobT0wO208NDttKyspclsoMyYtbSkrYV09U1tvPj4+MjRdPDwyNF5TW3U+PjE2JjI1NV08PDE2XlNbbD4+OCYyNTVdPDw4XlNbMjU1JmNdXnNbZysrXSxoPW8sbz11LHU9bCxsPWMsYz1ofSxnPWQsbC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLmxpc3RlbmVyc1tlXXx8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfSxsLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5saXN0ZW5lcnNbZV0pcmV0dXJuITE7dmFyIGk9dGhpcy5saXN0ZW5lcnNbZV0uaW5kZXhPZih0KTtyZXR1cm4gdGhpcy5saXN0ZW5lcnNbZV0uc3BsaWNlKGksMSksLTE8aX0sbC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMubGlzdGVuZXJzW2VdO2lmKGkpaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuPWkubGVuZ3RoLHI9MDtyPG47KytyKWlbcl0uY2FsbCh0aGlzLHQpO2Vsc2UgZm9yKHZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxzPWkubGVuZ3RoLG89MDtvPHM7KytvKWlbb10uYXBwbHkodGhpcyxhKX0sbC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9fSxsLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpe3RoaXMub24oImRhdGEiLGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pfSxmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KHAscj1uPWwpLHAucHJvdG90eXBlLnByb2Nlc3NKb2JfPWZ1bmN0aW9uKCl7dGhpcy5qb2JzLnNoaWZ0KCkoKSx0aGlzLmpvYnMubGVuZ3RoP3RoaXMudGltZW91dF89c2V0VGltZW91dCh0aGlzLnByb2Nlc3NKb2JfLmJpbmQodGhpcyksdGhpcy5kZWxheSk6dGhpcy50aW1lb3V0Xz1udWxsfSxwLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuam9icy5wdXNoKGUpLHRoaXMudGltZW91dF98fCh0aGlzLnRpbWVvdXRfPXNldFRpbWVvdXQodGhpcy5wcm9jZXNzSm9iXy5iaW5kKHRoaXMpLHRoaXMuZGVsYXkpKX0sdT1wLGYucHJvdG90eXBlLmRlY3J5cHRDaHVua189ZnVuY3Rpb24odCxpLG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW5ldyBJbnQzMkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGg+PjIpLHI9bmV3IGcoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpLGE9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKSxzPW5ldyBJbnQzMkFycmF5KGEuYnVmZmVyKSxvPXZvaWQgMCx1PXZvaWQgMCxsPXZvaWQgMCxjPXZvaWQgMCxoPXZvaWQgMCxkPXZvaWQgMCxwPXZvaWQgMCxmPXZvaWQgMCxtPXZvaWQgMDtmb3Iobz1pWzBdLHU9aVsxXSxsPWlbMl0sYz1pWzNdLG09MDttPG4ubGVuZ3RoO20rPTQpaD15KG5bbV0pLGQ9eShuW20rMV0pLHA9eShuW20rMl0pLGY9eShuW20rM10pLHIuZGVjcnlwdChoLGQscCxmLHMsbSksc1ttXT15KHNbbV1ebyksc1ttKzFdPXkoc1ttKzFdXnUpLHNbbSsyXT15KHNbbSsyXV5sKSxzW20rM109eShzW20rM11eYyksbz1oLHU9ZCxsPXAsYz1mO3JldHVybiBhfSh0LGksbik7ci5zZXQoZSx0LmJ5dGVPZmZzZXQpfX0saShmLG51bGwsW3trZXk6IlNURVAiLGdldDpmdW5jdGlvbigpe3JldHVybiAzMmUzfX1dKSxzPWYsbmV3IGZ1bmN0aW9uKGEpe2Eub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciBpPWUuZGF0YSx0PW5ldyBVaW50OEFycmF5KGkuZW5jcnlwdGVkLmJ5dGVzLGkuZW5jcnlwdGVkLmJ5dGVPZmZzZXQsaS5lbmNyeXB0ZWQuYnl0ZUxlbmd0aCksbj1uZXcgVWludDMyQXJyYXkoaS5rZXkuYnl0ZXMsaS5rZXkuYnl0ZU9mZnNldCxpLmtleS5ieXRlTGVuZ3RoLzQpLHI9bmV3IFVpbnQzMkFycmF5KGkuaXYuYnl0ZXMsaS5pdi5ieXRlT2Zmc2V0LGkuaXYuYnl0ZUxlbmd0aC80KTtuZXcgcyh0LG4scixmdW5jdGlvbihlLHQpe2EucG9zdE1lc3NhZ2UoZnVuY3Rpb24oaSl7dmFyIG49e307cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9aVtlXTtBcnJheUJ1ZmZlci5pc1ZpZXcodCk/bltlXT17Ynl0ZXM6dC5idWZmZXIsYnl0ZU9mZnNldDp0LmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDp0LmJ5dGVMZW5ndGh9Om5bZV09dH0pLG59KHtzb3VyY2U6aS5zb3VyY2UsZGVjcnlwdGVkOnR9KSxbdC5idWZmZXJdKX0pfX0oYSk7ZnVuY3Rpb24gaChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBkKGUpe2godGhpcyxkKSxjPWN8fGZ1bmN0aW9uKCl7dmFyIGU9W1tbXSxbXSxbXSxbXSxbXV0sW1tdLFtdLFtdLFtdLFtdXV0sdD1lWzBdLGk9ZVsxXSxuPXRbNF0scj1pWzRdLGE9dm9pZCAwLHM9dm9pZCAwLG89dm9pZCAwLHU9W10sbD1bXSxjPXZvaWQgMCxoPXZvaWQgMCxkPXZvaWQgMCxwPXZvaWQgMCxmPXZvaWQgMDtmb3IoYT0wO2E8MjU2O2ErKylsWyh1W2FdPWE8PDFeMjgzKihhPj43KSleYV09YTtmb3Iocz1vPTA7IW5bc107c149Y3x8MSxvPWxbb118fDEpZm9yKGQ9KGQ9b15vPDwxXm88PDJebzw8M15vPDw0KT4+OF4yNTUmZF45OSxmPTE2ODQzMDA5KnVbaD11W2M9dVtyW25bc109ZF09c11dXV42NTUzNypoXjI1NypjXjE2ODQzMDA4KnMscD0yNTcqdVtkXV4xNjg0MzAwOCpkLGE9MDthPDQ7YSsrKXRbYV1bc109cD1wPDwyNF5wPj4+OCxpW2FdW2RdPWY9Zjw8MjReZj4+Pjg7Zm9yKGE9MDthPDU7YSsrKXRbYV09dFthXS5zbGljZSgwKSxpW2FdPWlbYV0uc2xpY2UoMCk7cmV0dXJuIGV9KCksdGhpcy5fdGFibGVzPVtbY1swXVswXS5zbGljZSgpLGNbMF1bMV0uc2xpY2UoKSxjWzBdWzJdLnNsaWNlKCksY1swXVszXS5zbGljZSgpLGNbMF1bNF0uc2xpY2UoKV0sW2NbMV1bMF0uc2xpY2UoKSxjWzFdWzFdLnNsaWNlKCksY1sxXVsyXS5zbGljZSgpLGNbMV1bM10uc2xpY2UoKSxjWzFdWzRdLnNsaWNlKCldXTt2YXIgdD12b2lkIDAsaT12b2lkIDAsbj12b2lkIDAscj12b2lkIDAsYT12b2lkIDAscz10aGlzLl90YWJsZXNbMF1bNF0sbz10aGlzLl90YWJsZXNbMV0sdT1lLmxlbmd0aCxsPTE7aWYoNCE9PXUmJjYhPT11JiY4IT09dSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYWVzIGtleSBzaXplIik7Zm9yKHI9ZS5zbGljZSgwKSxhPVtdLHRoaXMuX2tleT1bcixhXSx0PXU7dDw0KnUrMjg7dCsrKW49clt0LTFdLCh0JXU9PTB8fDg9PT11JiZ0JXU9PTQpJiYobj1zW24+Pj4yNF08PDI0XnNbbj4+MTYmMjU1XTw8MTZec1tuPj44JjI1NV08PDhec1syNTUmbl0sdCV1PT0wJiYobj1uPDw4Xm4+Pj4yNF5sPDwyNCxsPWw8PDFeMjgzKihsPj43KSkpLHJbdF09clt0LXVdXm47Zm9yKGk9MDt0O2krKyx0LS0pbj1yWzMmaT90OnQtNF0sYVtpXT10PD00fHxpPDQ/bjpvWzBdW3Nbbj4+PjI0XV1eb1sxXVtzW24+PjE2JjI1NV1dXm9bMl1bc1tuPj44JjI1NV1dXm9bM11bc1syNTUmbl1dfWZ1bmN0aW9uIGwoKXtoKHRoaXMsbCksdGhpcy5saXN0ZW5lcnM9e319ZnVuY3Rpb24gcCgpe2godGhpcyxwKTt2YXIgZT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fSh0aGlzLHIuY2FsbCh0aGlzLG4pKTtyZXR1cm4gZS5qb2JzPVtdLGUuZGVsYXk9MSxlLnRpbWVvdXRfPW51bGwsZX1mdW5jdGlvbiB5KGUpe3JldHVybiBlPDwyNHwoNjUyODAmZSk8PDh8KDE2NzExNjgwJmUpPj44fGU+Pj4yNH1mdW5jdGlvbiBmKGUsdCxpLG4pe2godGhpcyxmKTt2YXIgcj1mLlNURVAsYT1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcikscz1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgpLG89MDtmb3IodGhpcy5hc3luY1N0cmVhbV89bmV3IHUsdGhpcy5hc3luY1N0cmVhbV8ucHVzaCh0aGlzLmRlY3J5cHRDaHVua18oYS5zdWJhcnJheShvLG8rciksdCxpLHMpKSxvPXI7bzxhLmxlbmd0aDtvKz1yKWk9bmV3IFVpbnQzMkFycmF5KFt5KGFbby00XSkseShhW28tM10pLHkoYVtvLTJdKSx5KGFbby0xXSldKSx0aGlzLmFzeW5jU3RyZWFtXy5wdXNoKHRoaXMuZGVjcnlwdENodW5rXyhhLnN1YmFycmF5KG8sbytyKSx0LGkscykpO3RoaXMuYXN5bmNTdHJlYW1fLnB1c2goZnVuY3Rpb24oKXtuKG51bGwsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ViYXJyYXkoMCxlLmJ5dGVMZW5ndGgtZVtlLmJ5dGVMZW5ndGgtMV0pfShzKSl9KX19KSwkYz17QVVESU86ZnVuY3Rpb24odSxsKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1sLnNlZ21lbnRMb2FkZXJzW3VdLHQ9bC5tZWRpYVR5cGVzW3VdLGk9bC5ibGFja2xpc3RDdXJyZW50UGxheWxpc3Q7VmMoZSx0KTt2YXIgbj10LmFjdGl2ZVRyYWNrKCkscj10LmFjdGl2ZUdyb3VwKCksYT0oci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pWzBdfHxyWzBdKS5pZCxzPXQudHJhY2tzW2FdO2lmKG4hPT1zKXtmb3IodmFyIG8gaW4gcHMubG9nLndhcm4oIlByb2JsZW0gZW5jb3VudGVyZWQgbG9hZGluZyB0aGUgYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrLlN3aXRjaGluZyBiYWNrIHRvIGRlZmF1bHQuIiksdC50cmFja3MpdC50cmFja3Nbb10uZW5hYmxlZD10LnRyYWNrc1tvXT09PXM7dC5vblRyYWNrQ2hhbmdlZCgpfWVsc2UgaSh7bWVzc2FnZToiUHJvYmxlbSBlbmNvdW50ZXJlZCBsb2FkaW5nIHRoZSBkZWZhdWx0IGF1ZGlvIHRyYWNrLiJ9KX19LFNVQlRJVExFUzpmdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXIuc2VnbWVudExvYWRlcnNbbl0sdD1yLm1lZGlhVHlwZXNbbl07cHMubG9nLndhcm4oIlByb2JsZW0gZW5jb3VudGVyZWQgbG9hZGluZyB0aGUgc3VidGl0bGUgdHJhY2suRGlzYWJsaW5nIHN1YnRpdGxlIHRyYWNrLiIpLFZjKGUsdCk7dmFyIGk9dC5hY3RpdmVUcmFjaygpO2kmJihpLm1vZGU9ImRpc2FibGVkIiksdC5vblRyYWNrQ2hhbmdlZCgpfX19LEdjPXtBVURJTzpmdW5jdGlvbihlLHQsaSl7aWYodCl7dmFyIG49aS50ZWNoLHI9aS5yZXF1ZXN0T3B0aW9ucyxhPWkuc2VnbWVudExvYWRlcnNbZV07dC5vbigibG9hZGVkbWV0YWRhdGEiLGZ1bmN0aW9uKCl7dmFyIGU9dC5tZWRpYSgpO2EucGxheWxpc3QoZSxyKSwoIW4ucGF1c2VkKCl8fGUuZW5kTGlzdCYmIm5vbmUiIT09bi5wcmVsb2FkKCkpJiZhLmxvYWQoKX0pLHQub24oImxvYWRlZHBsYXlsaXN0IixmdW5jdGlvbigpe2EucGxheWxpc3QodC5tZWRpYSgpLHIpLG4ucGF1c2VkKCl8fGEubG9hZCgpfSksdC5vbigiZXJyb3IiLCRjW2VdKGUsaSkpfX0sU1VCVElUTEVTOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pLnRlY2gscj1pLnJlcXVlc3RPcHRpb25zLGE9aS5zZWdtZW50TG9hZGVyc1tlXSxzPWkubWVkaWFUeXBlc1tlXTt0Lm9uKCJsb2FkZWRtZXRhZGF0YSIsZnVuY3Rpb24oKXt2YXIgZT10Lm1lZGlhKCk7YS5wbGF5bGlzdChlLHIpLGEudHJhY2socy5hY3RpdmVUcmFjaygpKSwoIW4ucGF1c2VkKCl8fGUuZW5kTGlzdCYmIm5vbmUiIT09bi5wcmVsb2FkKCkpJiZhLmxvYWQoKX0pLHQub24oImxvYWRlZHBsYXlsaXN0IixmdW5jdGlvbigpe2EucGxheWxpc3QodC5tZWRpYSgpLHIpLG4ucGF1c2VkKCl8fGEubG9hZCgpfSksdC5vbigiZXJyb3IiLCRjW2VdKGUsaSkpfX0sWGM9e0FVRElPOmZ1bmN0aW9uKGUsdCl7dmFyIGksbixyPXQuaGxzLGE9dC5zb3VyY2VUeXBlLHM9dC5zZWdtZW50TG9hZGVyc1tlXSxvPXQucmVxdWVzdE9wdGlvbnMsdT10Lm1hc3Rlci5tZWRpYUdyb3VwcyxsPXQubWVkaWFUeXBlc1tlXSxjPWwuZ3JvdXBzLGg9bC50cmFja3MsZD10Lm1hc3RlclBsYXlsaXN0TG9hZGVyO2Zvcih2YXIgcCBpbiB1W2VdJiYwIT09T2JqZWN0LmtleXModVtlXSkubGVuZ3RofHwodVtlXT17bWFpbjp7ZGVmYXVsdDp7ZGVmYXVsdDohMH19fSksdVtlXSlmb3IodmFyIGYgaW4gY1twXXx8KGNbcF09W10pLHVbZV1bcF0pe3ZhciBtPXVbZV1bcF1bZl0sZz12b2lkIDA7aWYoZz1tLnJlc29sdmVkVXJpP25ldyBYdShtLnJlc29sdmVkVXJpLHIsbyk6bS5wbGF5bGlzdHMmJiJkYXNoIj09PWE/bmV3IGRjKG0ucGxheWxpc3RzWzBdLHIsbyxkKTpudWxsLG09cHMubWVyZ2VPcHRpb25zKHtpZDpmLHBsYXlsaXN0TG9hZGVyOmd9LG0pLEdjW2VdKGUsbS5wbGF5bGlzdExvYWRlcix0KSxjW3BdLnB1c2gobSksInVuZGVmaW5lZCI9PXR5cGVvZiBoW2ZdKXt2YXIgeT1uZXcgcHMuQXVkaW9UcmFjayh7aWQ6ZixraW5kOihpPW0sbj12b2lkIDAsbj1pLmRlZmF1bHQ/Im1haW4iOiJhbHRlcm5hdGl2ZSIsaS5jaGFyYWN0ZXJpc3RpY3MmJjA8PWkuY2hhcmFjdGVyaXN0aWNzLmluZGV4T2YoInB1YmxpYy5hY2Nlc3NpYmlsaXR5LmRlc2NyaWJlcy12aWRlbyIpJiYobj0ibWFpbi1kZXNjIiksbiksZW5hYmxlZDohMSxsYW5ndWFnZTptLmxhbmd1YWdlLGRlZmF1bHQ6bS5kZWZhdWx0LGxhYmVsOmZ9KTtoW2ZdPXl9fXMub24oImVycm9yIiwkY1tlXShlLHQpKX0sU1VCVElUTEVTOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dC50ZWNoLG49dC5obHMscj10LnNvdXJjZVR5cGUsYT10LnNlZ21lbnRMb2FkZXJzW2VdLHM9dC5yZXF1ZXN0T3B0aW9ucyxvPXQubWFzdGVyLm1lZGlhR3JvdXBzLHU9dC5tZWRpYVR5cGVzW2VdLGw9dS5ncm91cHMsYz11LnRyYWNrcyxoPXQubWFzdGVyUGxheWxpc3RMb2FkZXI7Zm9yKHZhciBkIGluIG9bZV0pZm9yKHZhciBwIGluIGxbZF18fChsW2RdPVtdKSxvW2VdW2RdKWlmKCFvW2VdW2RdW3BdLmZvcmNlZCl7dmFyIGY9b1tlXVtkXVtwXSxtPXZvaWQgMDtpZigiaGxzIj09PXI/bT1uZXcgWHUoZi5yZXNvbHZlZFVyaSxuLHMpOiJkYXNoIj09PXImJihtPW5ldyBkYyhmLnBsYXlsaXN0c1swXSxuLHMsaCkpLGY9cHMubWVyZ2VPcHRpb25zKHtpZDpwLHBsYXlsaXN0TG9hZGVyOm19LGYpLEdjW2VdKGUsZi5wbGF5bGlzdExvYWRlcix0KSxsW2RdLnB1c2goZiksInVuZGVmaW5lZCI9PXR5cGVvZiBjW3BdKXt2YXIgZz1pLmFkZFJlbW90ZVRleHRUcmFjayh7aWQ6cCxraW5kOiJzdWJ0aXRsZXMiLGRlZmF1bHQ6Zi5kZWZhdWx0JiZmLmF1dG9zZWxlY3QsbGFuZ3VhZ2U6Zi5sYW5ndWFnZSxsYWJlbDpwfSwhMSkudHJhY2s7Y1twXT1nfX1hLm9uKCJlcnJvciIsJGNbZV0oZSx0KSl9LCJDTE9TRUQtQ0FQVElPTlMiOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dC50ZWNoLG49dC5tYXN0ZXIubWVkaWFHcm91cHMscj10Lm1lZGlhVHlwZXNbZV0sYT1yLmdyb3VwcyxzPXIudHJhY2tzO2Zvcih2YXIgbyBpbiBuW2VdKWZvcih2YXIgdSBpbiBhW29dfHwoYVtvXT1bXSksbltlXVtvXSl7dmFyIGw9bltlXVtvXVt1XTtpZihsLmluc3RyZWFtSWQubWF0Y2goL0NDXGQvKSYmKGFbb10ucHVzaChwcy5tZXJnZU9wdGlvbnMoe2lkOnV9LGwpKSwidW5kZWZpbmVkIj09dHlwZW9mIHNbdV0pKXt2YXIgYz1pLmFkZFJlbW90ZVRleHRUcmFjayh7aWQ6bC5pbnN0cmVhbUlkLGtpbmQ6ImNhcHRpb25zIixkZWZhdWx0OmwuZGVmYXVsdCYmbC5hdXRvc2VsZWN0LGxhbmd1YWdlOmwubGFuZ3VhZ2UsbGFiZWw6dX0sITEpLnRyYWNrO3NbdV09Y319fX0sS2M9e0FVRElPOmZ1bmN0aW9uKGksbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9bi5tZWRpYVR5cGVzW2ldLnRyYWNrcztmb3IodmFyIHQgaW4gZSlpZihlW3RdLmVuYWJsZWQpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9fSxTVUJUSVRMRVM6ZnVuY3Rpb24oaSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uLm1lZGlhVHlwZXNbaV0udHJhY2tzO2Zvcih2YXIgdCBpbiBlKWlmKCJzaG93aW5nIj09PWVbdF0ubW9kZSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH19fSxZYz12b2lkIDAsUWM9WyJtZWRpYVJlcXVlc3RzIiwibWVkaWFSZXF1ZXN0c0Fib3J0ZWQiLCJtZWRpYVJlcXVlc3RzVGltZWRvdXQiLCJtZWRpYVJlcXVlc3RzRXJyb3JlZCIsIm1lZGlhVHJhbnNmZXJEdXJhdGlvbiIsIm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZCJdLEpjPShCdShaYyxwcy5FdmVudFRhcmdldCksTXUoWmMsW3trZXk6InNldHVwTWFzdGVyUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oImxvYWRlZG1ldGFkYXRhIixmdW5jdGlvbigpe3ZhciBlPW4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCksdD0xLjUqZS50YXJnZXREdXJhdGlvbioxZTM7b2wobi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLG4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpP24ucmVxdWVzdE9wdGlvbnNfLnRpbWVvdXQ9MDpuLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0PXQsZS5lbmRMaXN0JiYibm9uZSIhPT1uLnRlY2hfLnByZWxvYWQoKSYmKG4ubWFpblNlZ21lbnRMb2FkZXJfLnBsYXlsaXN0KGUsbi5yZXF1ZXN0T3B0aW9uc18pLG4ubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKSksV2Moe3NvdXJjZVR5cGU6bi5zb3VyY2VUeXBlXyxzZWdtZW50TG9hZGVyczp7QVVESU86bi5hdWRpb1NlZ21lbnRMb2FkZXJfLFNVQlRJVExFUzpuLnN1YnRpdGxlU2VnbWVudExvYWRlcl8sbWFpbjpuLm1haW5TZWdtZW50TG9hZGVyX30sdGVjaDpuLnRlY2hfLHJlcXVlc3RPcHRpb25zOm4ucmVxdWVzdE9wdGlvbnNfLG1hc3RlclBsYXlsaXN0TG9hZGVyOm4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLGhsczpuLmhsc18sbWFzdGVyOm4ubWFzdGVyKCksbWVkaWFUeXBlczpuLm1lZGlhVHlwZXNfLGJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdDpuLmJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdC5iaW5kKG4pfSksbi50cmlnZ2VyUHJlc2VuY2VVc2FnZV8obi5tYXN0ZXIoKSxlKTt0cnl7bi5zZXR1cFNvdXJjZUJ1ZmZlcnNfKCl9Y2F0Y2goZSl7cmV0dXJuIHBzLmxvZy53YXJuKCJGYWlsZWQgdG8gY3JlYXRlIFNvdXJjZUJ1ZmZlcnMiLGUpLG4ubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oImRlY29kZSIpfW4uc2V0dXBGaXJzdFBsYXkoKSwhbi5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcnx8bi5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlci5tZWRpYSgpP24udHJpZ2dlcigic2VsZWN0ZWRpbml0aWFsbWVkaWEiKTpuLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm9uZSgibG9hZGVkbWV0YWRhdGEiLGZ1bmN0aW9uKCl7bi50cmlnZ2VyKCJzZWxlY3RlZGluaXRpYWxtZWRpYSIpfSl9KSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigibG9hZGVkcGxheWxpc3QiLGZ1bmN0aW9uKCl7dmFyIGU9bi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKTtpZighZSl7bi5leGNsdWRlVW5zdXBwb3J0ZWRWYXJpYW50c18oKTt2YXIgdD12b2lkIDA7cmV0dXJuIG4uZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0JiYodD1uLnNlbGVjdEluaXRpYWxQbGF5bGlzdCgpKSx0PXR8fG4uc2VsZWN0UGxheWxpc3QoKSxuLmluaXRpYWxNZWRpYV89dCx2b2lkIG4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKG4uaW5pdGlhbE1lZGlhXyl9aWYobi51c2VDdWVUYWdzXyYmbi51cGRhdGVBZEN1ZXNfKGUpLG4ubWFpblNlZ21lbnRMb2FkZXJfLnBsYXlsaXN0KGUsbi5yZXF1ZXN0T3B0aW9uc18pLG4udXBkYXRlRHVyYXRpb24oKSxuLnRlY2hfLnBhdXNlZCgpfHwobi5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpLG4uYXVkaW9TZWdtZW50TG9hZGVyXyYmbi5hdWRpb1NlZ21lbnRMb2FkZXJfLmxvYWQoKSksIWUuZW5kTGlzdCl7ZnVuY3Rpb24gaSgpe3ZhciBlPW4uc2Vla2FibGUoKTswIT09ZS5sZW5ndGgmJm4ubWVkaWFTb3VyY2UuYWRkU2Vla2FibGVSYW5nZV8oZS5zdGFydCgwKSxlLmVuZCgwKSl9bi5kdXJhdGlvbigpIT09MS8wP24udGVjaF8ub25lKCJkdXJhdGlvbmNoYW5nZSIsZnVuY3Rpb24gZSgpe24uZHVyYXRpb24oKT09PTEvMD9pKCk6bi50ZWNoXy5vbmUoImR1cmF0aW9uY2hhbmdlIixlKX0pOmkoKX19KSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7bi5ibGFja2xpc3RDdXJyZW50UGxheWxpc3Qobi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8uZXJyb3IpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oIm1lZGlhY2hhbmdpbmciLGZ1bmN0aW9uKCl7bi5tYWluU2VnbWVudExvYWRlcl8uYWJvcnQoKSxuLm1haW5TZWdtZW50TG9hZGVyXy5wYXVzZSgpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oIm1lZGlhY2hhbmdlIixmdW5jdGlvbigpe3ZhciBlPW4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCksdD0xLjUqZS50YXJnZXREdXJhdGlvbioxZTM7b2wobi5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLG4ubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpP24ucmVxdWVzdE9wdGlvbnNfLnRpbWVvdXQ9MDpuLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0PXQsbi5tYWluU2VnbWVudExvYWRlcl8ucGxheWxpc3QoZSxuLnJlcXVlc3RPcHRpb25zXyksbi5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpLG4udGVjaF8udHJpZ2dlcih7dHlwZToibWVkaWFjaGFuZ2UiLGJ1YmJsZXM6ITB9KX0pLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCJwbGF5bGlzdHVuY2hhbmdlZCIsZnVuY3Rpb24oKXt2YXIgZT1uLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO24uc3R1Y2tBdFBsYXlsaXN0RW5kXyhlKSYmKG4uYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KHttZXNzYWdlOiJQbGF5bGlzdCBubyBsb25nZXIgdXBkYXRpbmcuIn0pLG4udGVjaF8udHJpZ2dlcigicGxheWxpc3RzdHVjayIpKX0pLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCJyZW5kaXRpb25kaXNhYmxlZCIsZnVuY3Rpb24oKXtuLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtcmVuZGl0aW9uLWRpc2FibGVkIn0pfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oInJlbmRpdGlvbmVuYWJsZWQiLGZ1bmN0aW9uKCl7bi50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLXJlbmRpdGlvbi1lbmFibGVkIn0pfSl9fSx7a2V5OiJ0cmlnZ2VyUHJlc2VuY2VVc2FnZV8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5tZWRpYUdyb3Vwc3x8e30sbj0hMCxyPU9iamVjdC5rZXlzKGkuQVVESU8pO2Zvcih2YXIgYSBpbiBpLkFVRElPKWZvcih2YXIgcyBpbiBpLkFVRElPW2FdKWkuQVVESU9bYV1bc10udXJpfHwobj0hMSk7biYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWRlbXV4ZWQifSksT2JqZWN0LmtleXMoaS5TVUJUSVRMRVMpLmxlbmd0aCYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLXdlYnZ0dCJ9KSxZYy5QbGF5bGlzdC5pc0Flcyh0KSYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWFlcyJ9KSxZYy5QbGF5bGlzdC5pc0ZtcDQodCkmJnRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1mbXA0In0pLHIubGVuZ3RoJiYxPE9iamVjdC5rZXlzKGkuQVVESU9bclswXV0pLmxlbmd0aCYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWFsdGVybmF0ZS1hdWRpbyJ9KSx0aGlzLnVzZUN1ZVRhZ3NfJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtcGxheWxpc3QtY3VlLXRhZ3MifSl9fSx7a2V5OiJzZXR1cFNlZ21lbnRMb2FkZXJMaXN0ZW5lcnNfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oImJhbmR3aWR0aHVwZGF0ZSIsZnVuY3Rpb24oKXt2YXIgZT1hLnNlbGVjdFBsYXlsaXN0KCksdD1hLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLGk9YS50ZWNoXy5idWZmZXJlZCgpLG49aS5sZW5ndGg/aS5lbmQoaS5sZW5ndGgtMSktYS50ZWNoXy5jdXJyZW50VGltZSgpOjAscj1hLmJ1ZmZlckxvd1dhdGVyTGluZSgpOyghdC5lbmRMaXN0fHxhLmR1cmF0aW9uKCk8QWMuTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORXx8ZS5hdHRyaWJ1dGVzLkJBTkRXSURUSDx0LmF0dHJpYnV0ZXMuQkFORFdJRFRIfHxyPD1uKSYmYS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoZSksYS50ZWNoXy50cmlnZ2VyKCJiYW5kd2lkdGh1cGRhdGUiKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJwcm9ncmVzcyIsZnVuY3Rpb24oKXthLnRyaWdnZXIoInByb2dyZXNzIil9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7YS5ibGFja2xpc3RDdXJyZW50UGxheWxpc3QoYS5tYWluU2VnbWVudExvYWRlcl8uZXJyb3IoKSl9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbigic3luY2luZm91cGRhdGUiLGZ1bmN0aW9uKCl7YS5vblN5bmNJbmZvVXBkYXRlXygpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oInRpbWVzdGFtcG9mZnNldCIsZnVuY3Rpb24oKXthLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtdGltZXN0YW1wLW9mZnNldCJ9KX0pLHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5vbigic3luY2luZm91cGRhdGUiLGZ1bmN0aW9uKCl7YS5vblN5bmNJbmZvVXBkYXRlXygpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oImVuZGVkIixmdW5jdGlvbigpe2Eub25FbmRPZlN0cmVhbSgpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oImVhcmx5YWJvcnQiLGZ1bmN0aW9uKCl7YS5ibGFja2xpc3RDdXJyZW50UGxheWxpc3Qoe21lc3NhZ2U6IkFib3J0ZWQgZWFybHkgYmVjYXVzZSB0aGVyZSBpc24ndCBlbm91Z2ggYmFuZHdpZHRoIHRvIGNvbXBsZXRlIHRoZSByZXF1ZXN0IHdpdGhvdXQgcmVidWZmZXJpbmcuIn0sMTIwKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJyZXNldGV2ZXJ5dGhpbmciLGZ1bmN0aW9uKCl7YS50ZWNoXy50cmlnZ2VyKCJobHMtcmVzZXQiKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJzZWdtZW50dGltZW1hcHBpbmciLGZ1bmN0aW9uKGUpe2EudGVjaF8udHJpZ2dlcih7dHlwZToiaGxzLXNlZ21lbnQtdGltZS1tYXBwaW5nIixtYXBwaW5nOmUubWFwcGluZ30pfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm9uKCJlbmRlZCIsZnVuY3Rpb24oKXthLm9uRW5kT2ZTdHJlYW0oKX0pfX0se2tleToibWVkaWFTZWNvbmRzTG9hZGVkXyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm1lZGlhU2Vjb25kc0xvYWRlZCt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5tZWRpYVNlY29uZHNMb2FkZWQpfX0se2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5sb2FkKCksdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmxvYWQoKSx0aGlzLm1lZGlhVHlwZXNfLlNVQlRJVExFUy5hY3RpdmVQbGF5bGlzdExvYWRlciYmdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmxvYWQoKX19LHtrZXk6InNtb290aFF1YWxpdHlDaGFuZ2VfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VsZWN0UGxheWxpc3QoKTtlIT09dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSYmKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKGUpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnJlc2V0TG9hZGVyKCkpfX0se2tleToiZmFzdFF1YWxpdHlDaGFuZ2VfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnNlbGVjdFBsYXlsaXN0KCk7dCE9PXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkmJih0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSh0KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoZnVuY3Rpb24oKXtwcy5icm93c2VyLklFX1ZFUlNJT058fHBzLmJyb3dzZXIuSVNfRURHRT9lLnRlY2hfLnNldEN1cnJlbnRUaW1lKGUudGVjaF8uY3VycmVudFRpbWUoKSsuMDQpOmUudGVjaF8uc2V0Q3VycmVudFRpbWUoZS50ZWNoXy5jdXJyZW50VGltZSgpKX0pKX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2V0dXBGaXJzdFBsYXkoKSl7dGhpcy50ZWNoXy5lbmRlZCgpJiZ0aGlzLnNlZWtUb18oMCksdGhpcy5oYXNQbGF5ZWRfKCkmJnRoaXMubG9hZCgpO3ZhciBlPXRoaXMudGVjaF8uc2Vla2FibGUoKTtyZXR1cm4gdGhpcy50ZWNoXy5kdXJhdGlvbigpPT09MS8wJiZ0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk8ZS5zdGFydCgwKT90aGlzLnNlZWtUb18oZS5lbmQoZS5sZW5ndGgtMSkpOnZvaWQgMH19fSx7a2V5OiJzZXR1cEZpcnN0UGxheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKTtpZighdHx8dGhpcy50ZWNoXy5wYXVzZWQoKXx8dGhpcy5oYXNQbGF5ZWRfKCkpcmV0dXJuITE7aWYoIXQuZW5kTGlzdCl7dmFyIGk9dGhpcy5zZWVrYWJsZSgpO2lmKCFpLmxlbmd0aClyZXR1cm4hMTtpZihwcy5icm93c2VyLklFX1ZFUlNJT04mJjA9PT10aGlzLnRlY2hfLnJlYWR5U3RhdGUoKSlyZXR1cm4gdGhpcy50ZWNoXy5vbmUoImxvYWRlZG1ldGFkYXRhIixmdW5jdGlvbigpe2UudHJpZ2dlcigiZmlyc3RwbGF5IiksZS5zZWVrVG9fKGkuZW5kKDApKSxlLmhhc1BsYXllZF89ZnVuY3Rpb24oKXtyZXR1cm4hMH19KSwhMTt0aGlzLnRyaWdnZXIoImZpcnN0cGxheSIpLHRoaXMuc2Vla1RvXyhpLmVuZCgwKSl9cmV0dXJuIHRoaXMuaGFzUGxheWVkXz1mdW5jdGlvbigpe3JldHVybiEwfSx0aGlzLmxvYWQoKSwhMH19LHtrZXk6ImhhbmRsZVNvdXJjZU9wZW5fIix2YWx1ZTpmdW5jdGlvbigpe3RyeXt0aGlzLnNldHVwU291cmNlQnVmZmVyc18oKX1jYXRjaChlKXtyZXR1cm4gcHMubG9nLndhcm4oIkZhaWxlZCB0byBjcmVhdGUgU291cmNlIEJ1ZmZlcnMiLGUpLHRoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oImRlY29kZSIpfWlmKHRoaXMudGVjaF8uYXV0b3BsYXkoKSl7dmFyIGU9dGhpcy50ZWNoXy5wbGF5KCk7InVuZGVmaW5lZCIhPXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50aGVuJiZlLnRoZW4obnVsbCxmdW5jdGlvbihlKXt9KX10aGlzLnRyaWdnZXIoInNvdXJjZW9wZW4iKX19LHtrZXk6Im9uRW5kT2ZTdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tYWluU2VnbWVudExvYWRlcl8uZW5kZWRfO2lmKHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXImJihlPSF0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5zdGFydGluZ01lZGlhX3x8dGhpcy5tYWluU2VnbWVudExvYWRlcl8uc3RhcnRpbmdNZWRpYV8uY29udGFpbnNWaWRlbz9lJiZ0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uZW5kZWRfOnRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5lbmRlZF8pLGUpe3RoaXMubG9nZ2VyXygiY2FsbGluZyBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpIik7dHJ5e3RoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKX1jYXRjaChlKXtwcy5sb2cud2FybigiRmFpbGVkIHRvIGNhbGwgbWVkaWEgc291cmNlIGVuZE9mU3RyZWFtIixlKX19fX0se2tleToic3R1Y2tBdFBsYXlsaXN0RW5kXyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2Vla2FibGUoKS5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUoZSx0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uKTtpZihudWxsPT09dClyZXR1cm4hMTt2YXIgaT1ZYy5QbGF5bGlzdC5wbGF5bGlzdEVuZChlLHQpLG49dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLHI9dGhpcy50ZWNoXy5idWZmZXJlZCgpO2lmKCFyLmxlbmd0aClyZXR1cm4gaS1uPD0uMTt2YXIgYT1yLmVuZChyLmxlbmd0aC0xKTtyZXR1cm4gYS1uPD0uMSYmaS1hPD0uMX19LHtrZXk6ImJsYWNrbGlzdEN1cnJlbnRQbGF5bGlzdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOnt9LHI9dCxhPXZvaWQgMDtpZihhPW4ucGxheWxpc3R8fHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkscj1yfHxuLmJsYWNrbGlzdER1cmF0aW9ufHx0aGlzLmJsYWNrbGlzdER1cmF0aW9uLCFhKXt0aGlzLmVycm9yPW47dHJ5e3JldHVybiB0aGlzLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCJuZXR3b3JrIil9Y2F0Y2goZSl7cmV0dXJuIHRoaXMudHJpZ2dlcigiZXJyb3IiKX19dmFyIHM9MT09PXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1hc3Rlci5wbGF5bGlzdHMuZmlsdGVyKGFsKS5sZW5ndGgsbz10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXIucGxheWxpc3RzO3JldHVybiAxPT09by5sZW5ndGg/KHBzLmxvZy53YXJuKCJQcm9ibGVtIGVuY291bnRlcmVkIHdpdGggdGhlIGN1cnJlbnQgSExTIHBsYXlsaXN0LiBUcnlpbmcgYWdhaW4gc2luY2UgaXQgaXMgdGhlIG9ubHkgcGxheWxpc3QuIiksdGhpcy50ZWNoXy50cmlnZ2VyKCJyZXRyeXBsYXlsaXN0IiksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubG9hZChzKSk6KHMmJihwcy5sb2cud2FybigiUmVtb3ZpbmcgYWxsIHBsYXlsaXN0cyBmcm9tIHRoZSBibGFja2xpc3QgYmVjYXVzZSB0aGUgbGFzdCByZW5kaXRpb24gaXMgYWJvdXQgdG8gYmUgYmxhY2tsaXN0ZWQuIiksby5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZXhjbHVkZVVudGlsIT09MS8wJiZkZWxldGUgZS5leGNsdWRlVW50aWx9KSx0aGlzLnRlY2hfLnRyaWdnZXIoInJldHJ5cGxheWxpc3QiKSksYS5leGNsdWRlVW50aWw9RGF0ZS5ub3coKSsxZTMqcix0aGlzLnRlY2hfLnRyaWdnZXIoImJsYWNrbGlzdHBsYXlsaXN0IiksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLXJlbmRpdGlvbi1ibGFja2xpc3RlZCJ9KSxpPXRoaXMuc2VsZWN0UGxheWxpc3QoKSxwcy5sb2cud2FybigiUHJvYmxlbSBlbmNvdW50ZXJlZCB3aXRoIHRoZSBjdXJyZW50IEhMUyBwbGF5bGlzdC4iKyhuLm1lc3NhZ2U/IiAiK24ubWVzc2FnZToiIikrIiBTd2l0Y2hpbmcgdG8gYW5vdGhlciBwbGF5bGlzdC4iKSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYShpLHMpKX19LHtrZXk6InBhdXNlTG9hZGluZyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5wYXVzZSgpLHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXImJnRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5wYXVzZSgpLHRoaXMubWVkaWFUeXBlc18uU1VCVElUTEVTLmFjdGl2ZVBsYXlsaXN0TG9hZGVyJiZ0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8ucGF1c2UoKX19LHtrZXk6InNldEN1cnJlbnRUaW1lIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1fbCh0aGlzLnRlY2hfLmJ1ZmZlcmVkKCksZSk7cmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfJiZ0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpJiZ0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLnNlZ21lbnRzP3QmJnQubGVuZ3RoP2U6KHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnJlc2V0RXZlcnl0aGluZygpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmFib3J0KCksdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmKHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoKSx0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uYWJvcnQoKSksdGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXImJih0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8ucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmFib3J0KCkpLHZvaWQgdGhpcy5sb2FkKCkpOjB9fSx7a2V5OiJkdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8/dGhpcy5tZWRpYVNvdXJjZT90aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uOlljLlBsYXlsaXN0LmR1cmF0aW9uKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkpOjB9fSx7a2V5OiJzZWVrYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWVrYWJsZV99fSx7a2V5OiJvblN5bmNJbmZvVXBkYXRlXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAsdD12b2lkIDA7aWYodGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8pe3ZhciBpPXRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7aWYoaSl7dmFyIG49dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUoaSx0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uKTtpZihudWxsIT09biYmMCE9PShlPVljLlBsYXlsaXN0LnNlZWthYmxlKGksbikpLmxlbmd0aCl7aWYodGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcil7aWYoaT10aGlzLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm1lZGlhKCksbnVsbD09PShuPXRoaXMuc3luY0NvbnRyb2xsZXJfLmdldEV4cGlyZWRUaW1lKGksdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbikpKXJldHVybjtpZigwPT09KHQ9WWMuUGxheWxpc3Quc2Vla2FibGUoaSxuKSkubGVuZ3RoKXJldHVybn12YXIgcj12b2lkIDAsYT12b2lkIDA7dGhpcy5zZWVrYWJsZV8mJnRoaXMuc2Vla2FibGVfLmxlbmd0aCYmKHI9dGhpcy5zZWVrYWJsZV8uZW5kKDApLGE9dGhpcy5zZWVrYWJsZV8uc3RhcnQoMCkpLHQ/dC5zdGFydCgwKT5lLmVuZCgwKXx8ZS5zdGFydCgwKT50LmVuZCgwKT90aGlzLnNlZWthYmxlXz1lOnRoaXMuc2Vla2FibGVfPXBzLmNyZWF0ZVRpbWVSYW5nZXMoW1t0LnN0YXJ0KDApPmUuc3RhcnQoMCk/dC5zdGFydCgwKTplLnN0YXJ0KDApLHQuZW5kKDApPGUuZW5kKDApP3QuZW5kKDApOmUuZW5kKDApXV0pOnRoaXMuc2Vla2FibGVfPWUsdGhpcy5zZWVrYWJsZV8mJnRoaXMuc2Vla2FibGVfLmxlbmd0aCYmdGhpcy5zZWVrYWJsZV8uZW5kKDApPT09ciYmdGhpcy5zZWVrYWJsZV8uc3RhcnQoMCk9PT1hfHwodGhpcy5sb2dnZXJfKCJzZWVrYWJsZSB1cGRhdGVkIFsiK1RsKHRoaXMuc2Vla2FibGVfKSsiXSIpLHRoaXMudGVjaF8udHJpZ2dlcigic2Vla2FibGVjaGFuZ2VkIikpfX19fX0se2tleToidXBkYXRlRHVyYXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QubG9nZ2VyXygiU2V0dGluZyBkdXJhdGlvbiBmcm9tICIrdC5tZWRpYVNvdXJjZS5kdXJhdGlvbisiID0+ICIrbik7dHJ5e3QubWVkaWFTb3VyY2UuZHVyYXRpb249bn1jYXRjaChlKXtwcy5sb2cud2FybigiRmFpbGVkIHRvIHNldCBtZWRpYSBzb3VyY2UgZHVyYXRpb24iLGUpfXQudGVjaF8udHJpZ2dlcigiZHVyYXRpb25jaGFuZ2UiKSx0Lm1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLGUpfXZhciB0PXRoaXMsaT10aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uLG49WWMuUGxheWxpc3QuZHVyYXRpb24odGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSkscj10aGlzLnRlY2hfLmJ1ZmZlcmVkKCk7MDxyLmxlbmd0aCYmKG49TWF0aC5tYXgobixyLmVuZChyLmxlbmd0aC0xKSkpLGkhPT1uJiYoIm9wZW4iIT09dGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlP3RoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigic291cmNlb3BlbiIsZSk6ZSgpKX19LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmRlY3J5cHRlcl8udGVybWluYXRlKCksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8uZGlzcG9zZSgpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKSxbIkFVRElPIiwiU1VCVElUTEVTIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLm1lZGlhVHlwZXNfW2VdLmdyb3Vwcztmb3IodmFyIGkgaW4gdCl0W2ldLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wbGF5bGlzdExvYWRlciYmZS5wbGF5bGlzdExvYWRlci5kaXNwb3NlKCl9KX0pLHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5kaXNwb3NlKCksdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKX19LHtrZXk6Im1hc3RlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyfX0se2tleToibWVkaWEiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCl8fHRoaXMuaW5pdGlhbE1lZGlhX319LHtrZXk6InNldHVwU291cmNlQnVmZmVyc18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO2lmKHQmJiJvcGVuIj09PXRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl7aWYoKGU9R2wodGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLHQpKS5sZW5ndGg8MSlyZXR1cm4gdGhpcy5lcnJvcj0iTm8gY29tcGF0aWJsZSBTb3VyY2VCdWZmZXIgY29uZmlndXJhdGlvbiBmb3IgdGhlIHZhcmlhbnQgc3RyZWFtOiIrdC5yZXNvbHZlZFVyaSx0aGlzLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCJkZWNvZGUiKTt0aGlzLmNvbmZpZ3VyZUxvYWRlck1pbWVUeXBlc18oZSksdGhpcy5leGNsdWRlSW5jb21wYXRpYmxlVmFyaWFudHNfKHQpfX19LHtrZXk6ImNvbmZpZ3VyZUxvYWRlck1pbWVUeXBlc18iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTE8ZS5sZW5ndGgmJi0xPT09ZVswXS5pbmRleE9mKCIsIikmJmVbMF0hPT1lWzFdP25ldyBwcy5FdmVudFRhcmdldDpudWxsO3RoaXMubWFpblNlZ21lbnRMb2FkZXJfLm1pbWVUeXBlKGVbMF0sdCksZVsxXSYmdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm1pbWVUeXBlKGVbMV0sdCl9fSx7a2V5OiJleGNsdWRlVW5zdXBwb3J0ZWRWYXJpYW50c18iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYXN0ZXIoKS5wbGF5bGlzdHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmF0dHJpYnV0ZXMuQ09ERUNTJiZ2Lk1lZGlhU291cmNlJiZ2Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCYmIXYuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz0iJytmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9hdmMxXC4oXGQrKVwuKFxkKykvaSxmdW5jdGlvbihlKXtyZXR1cm4gV2woW2VdKVswXX0pfShlLmF0dHJpYnV0ZXMuQ09ERUNTKSsnIicpJiYoZS5leGNsdWRlVW50aWw9MS8wKX0pfX0se2tleToiZXhjbHVkZUluY29tcGF0aWJsZVZhcmlhbnRzXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIGk9MixuPW51bGwsdD12b2lkIDA7ZS5hdHRyaWJ1dGVzLkNPREVDUyYmKHQ9emwoZS5hdHRyaWJ1dGVzLkNPREVDUyksbj10LnZpZGVvQ29kZWMsaT10LmNvZGVjQ291bnQpLHRoaXMubWFzdGVyKCkucGxheWxpc3RzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9e2NvZGVjQ291bnQ6Mix2aWRlb0NvZGVjOm51bGx9O2UuYXR0cmlidXRlcy5DT0RFQ1MmJih0PXpsKGUuYXR0cmlidXRlcy5DT0RFQ1MpKSx0LmNvZGVjQ291bnQhPT1pJiYoZS5leGNsdWRlVW50aWw9MS8wKSx0LnZpZGVvQ29kZWMhPT1uJiYoZS5leGNsdWRlVW50aWw9MS8wKX0pfX0se2tleToidXBkYXRlQWRDdWVzXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxpPXRoaXMuc2Vla2FibGUoKTtpLmxlbmd0aCYmKHQ9aS5zdGFydCgwKSksZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOjA7aWYoZS5zZWdtZW50cylmb3IodmFyIHI9bixhPXZvaWQgMCxzPTA7czxlLnNlZ21lbnRzLmxlbmd0aDtzKyspe3ZhciBvPWUuc2VnbWVudHNbc107aWYoYT1hfHxOYyh0LHIrby5kdXJhdGlvbi8yKSl7aWYoImN1ZUluImluIG8pe2EuZW5kVGltZT1yLGEuYWRFbmRUaW1lPXIscis9by5kdXJhdGlvbixhPW51bGw7Y29udGludWV9aWYocjxhLmVuZFRpbWUpe3IrPW8uZHVyYXRpb247Y29udGludWV9YS5lbmRUaW1lKz1vLmR1cmF0aW9ufWVsc2UgaWYoImN1ZU91dCJpbiBvJiYoKGE9bmV3IHYuVlRUQ3VlKHIscitvLmR1cmF0aW9uLG8uY3VlT3V0KSkuYWRTdGFydFRpbWU9cixhLmFkRW5kVGltZT1yK3BhcnNlRmxvYXQoby5jdWVPdXQpLHQuYWRkQ3VlKGEpKSwiY3VlT3V0Q29udCJpbiBvKXt2YXIgdSxsLGM9by5jdWVPdXRDb250LnNwbGl0KCIvIikubWFwKHBhcnNlRmxvYXQpLGg9enUoYywyKTt1PWhbMF0sbD1oWzFdLChhPW5ldyB2LlZUVEN1ZShyLHIrby5kdXJhdGlvbiwiIikpLmFkU3RhcnRUaW1lPXItdSxhLmFkRW5kVGltZT1hLmFkU3RhcnRUaW1lK2wsdC5hZGRDdWUoYSl9cis9by5kdXJhdGlvbn19KGUsdGhpcy5jdWVUYWdzVHJhY2tfLHQpfX0se2tleToiZ29hbEJ1ZmZlckxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksdD1BYy5HT0FMX0JVRkZFUl9MRU5HVEgsaT1BYy5HT0FMX0JVRkZFUl9MRU5HVEhfUkFURSxuPU1hdGgubWF4KHQsQWMuTUFYX0dPQUxfQlVGRkVSX0xFTkdUSCk7cmV0dXJuIE1hdGgubWluKHQrZSppLG4pfX0se2tleToiYnVmZmVyTG93V2F0ZXJMaW5lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PUFjLkJVRkZFUl9MT1dfV0FURVJfTElORSxpPUFjLkJVRkZFUl9MT1dfV0FURVJfTElORV9SQVRFLG49TWF0aC5tYXgodCxBYy5NQVhfQlVGRkVSX0xPV19XQVRFUl9MSU5FKTtyZXR1cm4gTWF0aC5taW4odCtlKmksbil9fV0pLFpjKTtmdW5jdGlvbiBaYyhlKXtSdSh0aGlzLFpjKTt2YXIgdD1qdSh0aGlzLChaYy5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihaYykpLmNhbGwodGhpcykpLGk9ZS51cmwsbj1lLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzLHI9ZS53aXRoQ3JlZGVudGlhbHMsYT1lLnRlY2gscz1lLmJhbmR3aWR0aCxvPWUuZXh0ZXJuSGxzLHU9ZS51c2VDdWVUYWdzLGw9ZS5ibGFja2xpc3REdXJhdGlvbixjPWUuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0LGg9ZS5zb3VyY2VUeXBlLGQ9ZS5zZWVrVG8scD1lLmNhY2hlRW5jcnlwdGlvbktleXM7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJBIG5vbi1lbXB0eSBwbGF5bGlzdCBVUkwgaXMgcmVxdWlyZWQiKTtZYz1vLHQud2l0aENyZWRlbnRpYWxzPXIsdC50ZWNoXz1hLHQuaGxzXz1hLmhscyx0LnNlZWtUb189ZCx0LnNvdXJjZVR5cGVfPWgsdC51c2VDdWVUYWdzXz11LHQuYmxhY2tsaXN0RHVyYXRpb249bCx0LmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdD1jLHQudXNlQ3VlVGFnc18mJih0LmN1ZVRhZ3NUcmFja189dC50ZWNoXy5hZGRUZXh0VHJhY2soIm1ldGFkYXRhIiwiYWQtY3VlcyIpLHQuY3VlVGFnc1RyYWNrXy5pbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlPSIiKSx0LnJlcXVlc3RPcHRpb25zXz17d2l0aENyZWRlbnRpYWxzOnIsaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHM6bix0aW1lb3V0Om51bGx9LHQubWVkaWFUeXBlc189ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm5bIkFVRElPIiwiU1VCVElUTEVTIiwiQ0xPU0VELUNBUFRJT05TIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPXtncm91cHM6e30sdHJhY2tzOnt9LGFjdGl2ZVBsYXlsaXN0TG9hZGVyOm51bGwsYWN0aXZlR3JvdXA6bWMsYWN0aXZlVHJhY2s6bWMsb25Hcm91cENoYW5nZWQ6bWMsb25UcmFja0NoYW5nZWQ6bWN9fSksdH0oKSx0Lm1lZGlhU291cmNlPW5ldyBwcy5NZWRpYVNvdXJjZSx0Lm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLHQuaGFuZGxlU291cmNlT3Blbl8uYmluZCh0KSksdC5zZWVrYWJsZV89cHMuY3JlYXRlVGltZVJhbmdlcygpLHQuaGFzUGxheWVkXz1mdW5jdGlvbigpe3JldHVybiExfSx0LnN5bmNDb250cm9sbGVyXz1uZXcgRmMoZSksdC5zZWdtZW50TWV0YWRhdGFUcmFja189YS5hZGRSZW1vdGVUZXh0VHJhY2soe2tpbmQ6Im1ldGFkYXRhIixsYWJlbDoic2VnbWVudC1tZXRhZGF0YSJ9LCExKS50cmFjayx0LmRlY3J5cHRlcl89bmV3IHpjLHQuaW5iYW5kVGV4dFRyYWNrc189e307dmFyIGY9e2hsczp0Lmhsc18sbWVkaWFTb3VyY2U6dC5tZWRpYVNvdXJjZSxjdXJyZW50VGltZTp0LnRlY2hfLmN1cnJlbnRUaW1lLmJpbmQodC50ZWNoXyksc2Vla2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zZWVrYWJsZSgpfSxzZWVraW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHQudGVjaF8uc2Vla2luZygpfSxkdXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0Lm1lZGlhU291cmNlLmR1cmF0aW9ufSxoYXNQbGF5ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5oYXNQbGF5ZWRfKCl9LGdvYWxCdWZmZXJMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nb2FsQnVmZmVyTGVuZ3RoKCl9LGJhbmR3aWR0aDpzLHN5bmNDb250cm9sbGVyOnQuc3luY0NvbnRyb2xsZXJfLGRlY3J5cHRlcjp0LmRlY3J5cHRlcl8sc291cmNlVHlwZTp0LnNvdXJjZVR5cGVfLGluYmFuZFRleHRUcmFja3M6dC5pbmJhbmRUZXh0VHJhY2tzXyxjYWNoZUVuY3J5cHRpb25LZXlzOnB9O3JldHVybiB0Lm1hc3RlclBsYXlsaXN0TG9hZGVyXz0iZGFzaCI9PT10LnNvdXJjZVR5cGVfP25ldyBkYyhpLHQuaGxzXyx0LnJlcXVlc3RPcHRpb25zXyk6bmV3IFh1KGksdC5obHNfLHQucmVxdWVzdE9wdGlvbnNfKSx0LnNldHVwTWFzdGVyUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfKCksdC5tYWluU2VnbWVudExvYWRlcl89bmV3IE9jKHBzLm1lcmdlT3B0aW9ucyhmLHtzZWdtZW50TWV0YWRhdGFUcmFjazp0LnNlZ21lbnRNZXRhZGF0YVRyYWNrXyxsb2FkZXJUeXBlOiJtYWluIn0pLGUpLHQuYXVkaW9TZWdtZW50TG9hZGVyXz1uZXcgT2MocHMubWVyZ2VPcHRpb25zKGYse2xvYWRlclR5cGU6ImF1ZGlvIn0pLGUpLHQuc3VidGl0bGVTZWdtZW50TG9hZGVyXz1uZXcgUmMocHMubWVyZ2VPcHRpb25zKGYse2xvYWRlclR5cGU6InZ0dCJ9KSxlKSx0LnNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKSxRYy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZSsiXyJdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl9bZV0rdGhpcy5tYWluU2VnbWVudExvYWRlcl9bZV19LmJpbmQodCxlKX0pLHQubG9nZ2VyXz1mYygiTVBDIiksdC5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubG9hZCgpLHR9ZnVuY3Rpb24gZWgoZSx0LGkpe1J1KHRoaXMsZWgpO3ZhciBuPWUubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXyxyPW5bKGUub3B0aW9uc18uc21vb3RoUXVhbGl0eUNoYW5nZT8ic21vb3RoIjoiZmFzdCIpKyJRdWFsaXR5Q2hhbmdlXyJdLmJpbmQobik7aWYodC5hdHRyaWJ1dGVzLlJFU09MVVRJT04pe3ZhciBhPXQuYXR0cmlidXRlcy5SRVNPTFVUSU9OO3RoaXMud2lkdGg9YS53aWR0aCx0aGlzLmhlaWdodD1hLmhlaWdodH10aGlzLmJhbmR3aWR0aD10LmF0dHJpYnV0ZXMuQkFORFdJRFRILHRoaXMuaWQ9aSx0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24ocixhLHMpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1yLm1hc3Rlci5wbGF5bGlzdHNbYV0saT1ybCh0KSxuPWFsKHQpO3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZT9uOihlP2RlbGV0ZSB0LmRpc2FibGVkOnQuZGlzYWJsZWQ9ITAsZT09PW58fGl8fChzKCksZT9yLnRyaWdnZXIoInJlbmRpdGlvbmVuYWJsZWQiKTpyLnRyaWdnZXIoInJlbmRpdGlvbmRpc2FibGVkIikpLGUpfX0oZS5wbGF5bGlzdHMsdC51cmkscil9dmFyIHRoPVsic2Vla2luZyIsInNlZWtlZCIsInBhdXNlIiwicGxheWluZyIsImVycm9yIl0saWg9KE11KG5oLFt7a2V5OiJtb25pdG9yQ3VycmVudFRpbWVfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tDdXJyZW50VGltZV8oKSx0aGlzLmNoZWNrQ3VycmVudFRpbWVUaW1lb3V0XyYmdi5jbGVhclRpbWVvdXQodGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8pLHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfPXYuc2V0VGltZW91dCh0aGlzLm1vbml0b3JDdXJyZW50VGltZV8uYmluZCh0aGlzKSwyNTApfX0se2tleToiY2hlY2tDdXJyZW50VGltZV8iLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy50ZWNoXy5zZWVraW5nKCkmJnRoaXMuZml4ZXNCYWRTZWVrc18oKSlyZXR1cm4gdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MCx2b2lkKHRoaXMubGFzdFJlY29yZGVkVGltZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkpO2lmKCF0aGlzLnRlY2hfLnBhdXNlZCgpJiYhdGhpcy50ZWNoXy5zZWVraW5nKCkpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PXRoaXMudGVjaF8uYnVmZmVyZWQoKTtpZih0aGlzLmxhc3RSZWNvcmRlZFRpbWU9PT1lJiYoIXQubGVuZ3RofHxlKy4xPj10LmVuZCh0Lmxlbmd0aC0xKSkpcmV0dXJuIHRoaXMudGVjaFdhaXRpbmdfKCk7NTw9dGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMmJmU9PT10aGlzLmxhc3RSZWNvcmRlZFRpbWU/KHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzKyssdGhpcy53YWl0aW5nXygpKTplPT09dGhpcy5sYXN0UmVjb3JkZWRUaW1lP3RoaXMuY29uc2VjdXRpdmVVcGRhdGVzKys6KHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzPTAsdGhpcy5sYXN0UmVjb3JkZWRUaW1lPWUpfX19LHtrZXk6ImNhbmNlbFRpbWVyXyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcz0wLHRoaXMudGltZXJfJiYodGhpcy5sb2dnZXJfKCJjYW5jZWxUaW1lcl8iKSxjbGVhclRpbWVvdXQodGhpcy50aW1lcl8pKSx0aGlzLnRpbWVyXz1udWxsfX0se2tleToiZml4ZXNCYWRTZWVrc18iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMudGVjaF8uc2Vla2luZygpKXJldHVybiExO3ZhciBlPXRoaXMuc2Vla2FibGUoKSx0PXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSxpPXZvaWQgMDtyZXR1cm4gdGhpcy5hZnRlclNlZWthYmxlV2luZG93XyhlLHQsdGhpcy5tZWRpYSgpLHRoaXMuYWxsb3dTZWVrc1dpdGhpblVuc2FmZUxpdmVXaW5kb3cpJiYoaT1lLmVuZChlLmxlbmd0aC0xKSksdGhpcy5iZWZvcmVTZWVrYWJsZVdpbmRvd18oZSx0KSYmKGk9ZS5zdGFydCgwKSsuMSksInVuZGVmaW5lZCIhPXR5cGVvZiBpJiYodGhpcy5sb2dnZXJfKCJUcnlpbmcgdG8gc2VlayBvdXRzaWRlIG9mIHNlZWthYmxlIGF0IHRpbWUgIit0KyIgd2l0aCBzZWVrYWJsZSByYW5nZSAiK1RsKGUpKyIuIFNlZWtpbmcgdG8gIitpKyIuIiksdGhpcy5zZWVrVG8oaSksITApfX0se2tleToid2FpdGluZ18iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMudGVjaFdhaXRpbmdfKCkpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PXRoaXMudGVjaF8uYnVmZmVyZWQoKSxpPV9sKHQsZSk7cmV0dXJuIGkubGVuZ3RoJiZlKzM8PWkuZW5kKDApPyh0aGlzLmNhbmNlbFRpbWVyXygpLHRoaXMuc2Vla1RvKGUpLHRoaXMubG9nZ2VyXygiU3RvcHBlZCBhdCAiK2UrIiB3aGlsZSBpbnNpZGUgYSBidWZmZXJlZCByZWdpb24gWyIraS5zdGFydCgwKSsiIC0+ICIraS5lbmQoMCkrIl0uIEF0dGVtcHRpbmcgdG8gcmVzdW1lIHBsYXliYWNrIGJ5IHNlZWtpbmcgdG8gdGhlIGN1cnJlbnQgdGltZS4iKSx2b2lkIHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy11bmtub3duLXdhaXRpbmcifSkpOnZvaWQgMH19fSx7a2V5OiJ0ZWNoV2FpdGluZ18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWVrYWJsZSgpLHQ9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO2lmKHRoaXMudGVjaF8uc2Vla2luZygpJiZ0aGlzLmZpeGVzQmFkU2Vla3NfKCkpcmV0dXJuITA7aWYodGhpcy50ZWNoXy5zZWVraW5nKCl8fG51bGwhPT10aGlzLnRpbWVyXylyZXR1cm4hMDtpZih0aGlzLmJlZm9yZVNlZWthYmxlV2luZG93XyhlLHQpKXt2YXIgaT1lLmVuZChlLmxlbmd0aC0xKTtyZXR1cm4gdGhpcy5sb2dnZXJfKCJGZWxsIG91dCBvZiBsaXZlIHdpbmRvdyBhdCB0aW1lICIrdCsiLiBTZWVraW5nIHRvIGxpdmUgcG9pbnQgKHNlZWthYmxlIGVuZCkgIitpKSx0aGlzLmNhbmNlbFRpbWVyXygpLHRoaXMuc2Vla1RvKGkpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1saXZlLXJlc3luYyJ9KSwhMH12YXIgbj10aGlzLnRlY2hfLmJ1ZmZlcmVkKCkscj1ibChuLHQpO2lmKHRoaXMudmlkZW9VbmRlcmZsb3dfKHIsbix0KSlyZXR1cm4gdGhpcy5jYW5jZWxUaW1lcl8oKSx0aGlzLnNlZWtUbyh0KSx0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtdmlkZW8tdW5kZXJmbG93In0pLCEwO2lmKDA8ci5sZW5ndGgpe3ZhciBhPXIuc3RhcnQoMCktdDtyZXR1cm4gdGhpcy5sb2dnZXJfKCJTdG9wcGVkIGF0ICIrdCsiLCBzZXR0aW5nIHRpbWVyIGZvciAiK2ErIiwgc2Vla2luZyB0byAiK3Iuc3RhcnQoMCkpLHRoaXMudGltZXJfPXNldFRpbWVvdXQodGhpcy5za2lwVGhlR2FwXy5iaW5kKHRoaXMpLDFlMyphLHQpLCEwfXJldHVybiExfX0se2tleToiYWZ0ZXJTZWVrYWJsZVdpbmRvd18iLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09biYmbjtpZighZS5sZW5ndGgpcmV0dXJuITE7dmFyIGE9ZS5lbmQoZS5sZW5ndGgtMSkrLjE7cmV0dXJuIWkuZW5kTGlzdCYmciYmKGE9ZS5lbmQoZS5sZW5ndGgtMSkrMyppLnRhcmdldER1cmF0aW9uKSxhPHR9fSx7a2V5OiJiZWZvcmVTZWVrYWJsZVdpbmRvd18iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISEoZS5sZW5ndGgmJjA8ZS5zdGFydCgwKSYmdDxlLnN0YXJ0KDApLS4xKX19LHtrZXk6InZpZGVvVW5kZXJmbG93XyIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe2lmKDA9PT1lLmxlbmd0aCl7dmFyIG49dGhpcy5nYXBGcm9tVmlkZW9VbmRlcmZsb3dfKHQsaSk7aWYobilyZXR1cm4gdGhpcy5sb2dnZXJfKCJFbmNvdW50ZXJlZCBhIGdhcCBpbiB2aWRlbyBmcm9tICIrbi5zdGFydCsiIHRvICIrbi5lbmQrIi4gU2Vla2luZyB0byBjdXJyZW50IHRpbWUgIitpKSwhMH1yZXR1cm4hMX19LHtrZXk6InNraXBUaGVHYXBfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRlY2hfLmJ1ZmZlcmVkKCksaT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksbj1ibCh0LGkpO3RoaXMuY2FuY2VsVGltZXJfKCksMCE9PW4ubGVuZ3RoJiZpPT09ZSYmKHRoaXMubG9nZ2VyXygic2tpcFRoZUdhcF86IiwiY3VycmVudFRpbWU6IixpLCJzY2hlZHVsZWQgY3VycmVudFRpbWU6IixlLCJuZXh0UmFuZ2Ugc3RhcnQ6IixuLnN0YXJ0KDApKSx0aGlzLnNlZWtUbyhuLnN0YXJ0KDApKzEvMzApLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1nYXAtc2tpcCJ9KSl9fSx7a2V5OiJnYXBGcm9tVmlkZW9VbmRlcmZsb3dfIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1mdW5jdGlvbihlKXtpZihlLmxlbmd0aDwyKXJldHVybiBwcy5jcmVhdGVUaW1lUmFuZ2VzKCk7Zm9yKHZhciB0PVtdLGk9MTtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZS5lbmQoaS0xKSxyPWUuc3RhcnQoaSk7dC5wdXNoKFtuLHJdKX1yZXR1cm4gcHMuY3JlYXRlVGltZVJhbmdlcyh0KX0oZSksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgcj1pLnN0YXJ0KG4pLGE9aS5lbmQobik7aWYodC1yPDQmJjI8dC1yKXJldHVybntzdGFydDpyLGVuZDphfX1yZXR1cm4gbnVsbH19XSksbmgpO2Z1bmN0aW9uIG5oKGUpe3ZhciB0PXRoaXM7UnUodGhpcyxuaCksdGhpcy50ZWNoXz1lLnRlY2gsdGhpcy5zZWVrYWJsZT1lLnNlZWthYmxlLHRoaXMuc2Vla1RvPWUuc2Vla1RvLHRoaXMuYWxsb3dTZWVrc1dpdGhpblVuc2FmZUxpdmVXaW5kb3c9ZS5hbGxvd1NlZWtzV2l0aGluVW5zYWZlTGl2ZVdpbmRvdyx0aGlzLm1lZGlhPWUubWVkaWEsdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MCx0aGlzLmxhc3RSZWNvcmRlZFRpbWU9bnVsbCx0aGlzLnRpbWVyXz1udWxsLHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfPW51bGwsdGhpcy5sb2dnZXJfPWZjKCJQbGF5YmFja1dhdGNoZXIiKSx0aGlzLmxvZ2dlcl8oImluaXRpYWxpemUiKTtmdW5jdGlvbiBpKCl7cmV0dXJuIHQubW9uaXRvckN1cnJlbnRUaW1lXygpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gdC50ZWNoV2FpdGluZ18oKX1mdW5jdGlvbiByKCl7cmV0dXJuIHQuY2FuY2VsVGltZXJfKCl9ZnVuY3Rpb24gYSgpe3JldHVybiB0LmZpeGVzQmFkU2Vla3NfKCl9dGhpcy50ZWNoXy5vbigic2Vla2FibGVjaGFuZ2VkIixhKSx0aGlzLnRlY2hfLm9uKCJ3YWl0aW5nIixuKSx0aGlzLnRlY2hfLm9uKHRoLHIpLHRoaXMudGVjaF8ub24oImNhbnBsYXkiLGkpLHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe3QubG9nZ2VyXygiZGlzcG9zZSIpLHQudGVjaF8ub2ZmKCJzZWVrYWJsZWNoYW5nZWQiLGEpLHQudGVjaF8ub2ZmKCJ3YWl0aW5nIixuKSx0LnRlY2hfLm9mZih0aCxyKSx0LnRlY2hfLm9mZigiY2FucGxheSIsaSksdC5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8mJnYuY2xlYXJUaW1lb3V0KHQuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfKSx0LmNhbmNlbFRpbWVyXygpfX1mdW5jdGlvbiByaChlKXshZnVuY3Rpb24gdChpLGUpe3ZhciBuPTAscj0wLGE9cHMubWVyZ2VPcHRpb25zKGFoLGUpO2kucmVhZHkoZnVuY3Rpb24oKXtpLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtZXJyb3ItcmVsb2FkLWluaXRpYWxpemVkIn0pfSk7ZnVuY3Rpb24gcygpe3ImJmkuY3VycmVudFRpbWUocil9ZnVuY3Rpb24gbyhlKXtudWxsIT1lJiYocj1pLmR1cmF0aW9uKCkhPT0xLzAmJmkuY3VycmVudFRpbWUoKXx8MCxpLm9uZSgibG9hZGVkbWV0YWRhdGEiLHMpLGkuc3JjKGUpLGkudHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1lcnJvci1yZWxvYWQifSksaS5wbGF5KCkpfWZ1bmN0aW9uIHUoKXtpZihEYXRlLm5vdygpLW48MWUzKmEuZXJyb3JJbnRlcnZhbClpLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtZXJyb3ItcmVsb2FkLWNhbmNlbGVkIn0pO2Vsc2V7aWYoYS5nZXRTb3VyY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLmdldFNvdXJjZSlyZXR1cm4gbj1EYXRlLm5vdygpLGEuZ2V0U291cmNlLmNhbGwoaSxvKTtwcy5sb2cuZXJyb3IoIkVSUk9SOiByZWxvYWRTb3VyY2VPbkVycm9yIC0gVGhlIG9wdGlvbiBnZXRTb3VyY2UgbXVzdCBiZSBhIGZ1bmN0aW9uISIpfX1mdW5jdGlvbiBsKCl7aS5vZmYoImxvYWRlZG1ldGFkYXRhIixzKSxpLm9mZigiZXJyb3IiLHUpLGkub2ZmKCJkaXNwb3NlIixsKX1pLm9uKCJlcnJvciIsdSksaS5vbigiZGlzcG9zZSIsbCksaS5yZWxvYWRTb3VyY2VPbkVycm9yPWZ1bmN0aW9uKGUpe2woKSx0KGksZSl9fSh0aGlzLGUpfXZhciBhaD17ZXJyb3JJbnRlcnZhbDozMCxnZXRTb3VyY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUodGhpcy50ZWNoKHtJV2lsbE5vdFVzZVRoaXNJblBsdWdpbnM6ITB9KS5jdXJyZW50U291cmNlXyl9fTtwcy51c2UoIioiLGZ1bmN0aW9uKHQpe3JldHVybntzZXRTb3VyY2U6ZnVuY3Rpb24oZSx0KXt0KG51bGwsZSl9LHNldEN1cnJlbnRUaW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0LnZocyYmdC5jdXJyZW50U291cmNlKCkuc3JjPT09dC52aHMuc291cmNlXy5zcmMmJnQudmhzLnNldEN1cnJlbnRUaW1lKGUpLGV9LHBsYXk6ZnVuY3Rpb24oKXt0LnZocyYmdC5jdXJyZW50U291cmNlKCkuc3JjPT09dC52aHMuc291cmNlXy5zcmMmJnQudmhzLnNldEN1cnJlbnRUaW1lKHQudGVjaF8uY3VycmVudFRpbWUoKSl9fX0pO3ZhciBzaD17UGxheWxpc3RMb2FkZXI6WHUsUGxheWxpc3Q6SWwsRGVjcnlwdGVyOk91LEFzeW5jU3RyZWFtOkF1LGRlY3J5cHQ6THUsdXRpbHM6eGwsU1RBTkRBUkRfUExBWUxJU1RfU0VMRUNUT1I6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGksbixyKXt2YXIgYT1lLnBsYXlsaXN0cy5tYXAoZnVuY3Rpb24oZSl7dmFyIHQsaTtyZXR1cm4gdD1lLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgsaT1lLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04uaGVpZ2h0LHtiYW5kd2lkdGg6ZS5hdHRyaWJ1dGVzLkJBTkRXSURUSHx8di5OdW1iZXIuTUFYX1ZBTFVFLHdpZHRoOnQsaGVpZ2h0OmkscGxheWxpc3Q6ZX19KTtDYyhhLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmFuZHdpZHRoLXQuYmFuZHdpZHRofSk7dmFyIHM9KGE9YS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIUlsLmlzSW5jb21wYXRpYmxlKGUucGxheWxpc3QpfSkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gSWwuaXNFbmFibGVkKGUucGxheWxpc3QpfSk7cy5sZW5ndGh8fChzPWEuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFJbC5pc0Rpc2FibGVkKGUucGxheWxpc3QpfSkpO3ZhciBvPXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhbmR3aWR0aCpBYy5CQU5EV0lEVEhfVkFSSUFOQ0U8dH0pLHU9b1tvLmxlbmd0aC0xXSxsPW8uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhbmR3aWR0aD09PXUuYmFuZHdpZHRofSlbMF07aWYoITE9PT1yKXt2YXIgYz1sfHxzWzBdfHxhWzBdO3JldHVybiBjP2MucGxheWxpc3Q6bnVsbH12YXIgaD1vLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS53aWR0aCYmZS5oZWlnaHR9KTtDYyhoLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUud2lkdGgtdC53aWR0aH0pO3ZhciBkPWguZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLndpZHRoPT09aSYmZS5oZWlnaHQ9PT1ufSk7dT1kW2QubGVuZ3RoLTFdO3ZhciBwPWQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhbmR3aWR0aD09PXUuYmFuZHdpZHRofSlbMF0sZj12b2lkIDAsbT12b2lkIDAsZz12b2lkIDA7cHx8KG09KGY9aC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2lkdGg+aXx8ZS5oZWlnaHQ+bn0pKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2lkdGg9PT1mWzBdLndpZHRoJiZlLmhlaWdodD09PWZbMF0uaGVpZ2h0fSksdT1tW20ubGVuZ3RoLTFdLGc9bS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmFuZHdpZHRoPT09dS5iYW5kd2lkdGh9KVswXSk7dmFyIHk9Z3x8cHx8bHx8c1swXXx8YVswXTtyZXR1cm4geT95LnBsYXlsaXN0Om51bGx9KHRoaXMucGxheWxpc3RzLm1hc3Rlcix0aGlzLnN5c3RlbUJhbmR3aWR0aCxwYXJzZUludChrYyh0aGlzLnRlY2hfLmVsKCksIndpZHRoIiksMTApLHBhcnNlSW50KGtjKHRoaXMudGVjaF8uZWwoKSwiaGVpZ2h0IiksMTApLHRoaXMubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnMpfSxJTklUSUFMX1BMQVlMSVNUX1NFTEVDVE9SOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wbGF5bGlzdHMubWFzdGVyLnBsYXlsaXN0cy5maWx0ZXIoSWwuaXNFbmFibGVkKTtyZXR1cm4gQ2MoZSxmdW5jdGlvbihlLHQpe3JldHVybiBFYyhlLHQpfSksZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHpsKGUuYXR0cmlidXRlcy5DT0RFQ1MpLnZpZGVvQ29kZWN9KVswXXx8bnVsbH0sY29tcGFyZVBsYXlsaXN0QmFuZHdpZHRoOkVjLGNvbXBhcmVQbGF5bGlzdFJlc29sdXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgaT12b2lkIDAsbj12b2lkIDA7cmV0dXJuIGUuYXR0cmlidXRlcy5SRVNPTFVUSU9OJiZlLmF0dHJpYnV0ZXMuUkVTT0xVVElPTi53aWR0aCYmKGk9ZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgpLGk9aXx8di5OdW1iZXIuTUFYX1ZBTFVFLHQuYXR0cmlidXRlcy5SRVNPTFVUSU9OJiZ0LmF0dHJpYnV0ZXMuUkVTT0xVVElPTi53aWR0aCYmKG49dC5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgpLGk9PT0obj1ufHx2Lk51bWJlci5NQVhfVkFMVUUpJiZlLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiZ0LmF0dHJpYnV0ZXMuQkFORFdJRFRIP2UuYXR0cmlidXRlcy5CQU5EV0lEVEgtdC5hdHRyaWJ1dGVzLkJBTkRXSURUSDppLW59LHhocjp1bCgpfTtbIkdPQUxfQlVGRkVSX0xFTkdUSCIsIk1BWF9HT0FMX0JVRkZFUl9MRU5HVEgiLCJHT0FMX0JVRkZFUl9MRU5HVEhfUkFURSIsIkJVRkZFUl9MT1dfV0FURVJfTElORSIsIk1BWF9CVUZGRVJfTE9XX1dBVEVSX0xJTkUiLCJCVUZGRVJfTE9XX1dBVEVSX0xJTkVfUkFURSIsIkJBTkRXSURUSF9WQVJJQU5DRSJdLmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHNoLHQse2dldDpmdW5jdGlvbigpe3JldHVybiBwcy5sb2cud2FybigidXNpbmcgSGxzLiIrdCsiIGlzIFVOU0FGRSBiZSBzdXJlIHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZyIpLEFjW3RdfSxzZXQ6ZnVuY3Rpb24oZSl7cHMubG9nLndhcm4oInVzaW5nIEhscy4iK3QrIiBpcyBVTlNBRkUgYmUgc3VyZSB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmciKSwibnVtYmVyIiE9dHlwZW9mIGV8fGU8MD9wcy5sb2cud2FybigidmFsdWUgb2YgSGxzLiIrdCsiIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAiKTpBY1t0XT1lfX0pfSk7ZnVuY3Rpb24gb2goZSl7cmV0dXJuL14oYXVkaW98dmlkZW98YXBwbGljYXRpb24pXC8oeC18dm5kXC5hcHBsZVwuKT9tcGVndXJsL2kudGVzdChlKT8iaGxzIjovXmFwcGxpY2F0aW9uXC9kYXNoXCt4bWwvaS50ZXN0KGUpPyJkYXNoIjpudWxsfWZ1bmN0aW9uIHVoKGUsdCl7Zm9yKHZhciBpPXQubWVkaWEoKSxuPS0xLHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmlkPT09aS51cmkpe249cjticmVha31lLnNlbGVjdGVkSW5kZXhfPW4sZS50cmlnZ2VyKHtzZWxlY3RlZEluZGV4Om4sdHlwZToiY2hhbmdlIn0pfXZhciBsaD0idmlkZW9qcy12aHMiO3NoLmNhblBsYXlTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gcHMubG9nLndhcm4oIkhMUyBpcyBubyBsb25nZXIgYSB0ZWNoLiBQbGVhc2UgcmVtb3ZlIGl0IGZyb20geW91ciBwbGF5ZXIncyB0ZWNoT3JkZXIuIil9O2Z1bmN0aW9uIGNoKGUpe2lmKCJkYXNoIj09PWUub3B0aW9uc18uc291cmNlVHlwZSl7dmFyIHQ9cHMucGxheWVyc1tlLnRlY2hfLm9wdGlvbnNfLnBsYXllcklkXTtpZih0LmVtZSl7dmFyIGk9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlKXJldHVybiBlO3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKW5bcl09e2F1ZGlvQ29udGVudFR5cGU6J2F1ZGlvL21wNDsgY29kZWNzPSInK2kuYXR0cmlidXRlcy5DT0RFQ1MrJyInLHZpZGVvQ29udGVudFR5cGU6J3ZpZGVvL21wNDsgY29kZWNzPSInK3QuYXR0cmlidXRlcy5DT0RFQ1MrJyInfSx0LmNvbnRlbnRQcm90ZWN0aW9uJiZ0LmNvbnRlbnRQcm90ZWN0aW9uW3JdJiZ0LmNvbnRlbnRQcm90ZWN0aW9uW3JdLnBzc2gmJihuW3JdLnBzc2g9dC5jb250ZW50UHJvdGVjdGlvbltyXS5wc3NoKSwic3RyaW5nIj09dHlwZW9mIGVbcl0mJihuW3JdLnVybD1lW3JdKTtyZXR1cm4gcHMubWVyZ2VPcHRpb25zKGUsbil9KGUuc291cmNlXy5rZXlTeXN0ZW1zLGUucGxheWxpc3RzLm1lZGlhKCksZS5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm1lZGlhKCkpO2kmJih0LmN1cnJlbnRTb3VyY2UoKS5rZXlTeXN0ZW1zPWksdC5lbWUuaW5pdGlhbGl6ZU1lZGlhS2V5cyYmdC5lbWUuaW5pdGlhbGl6ZU1lZGlhS2V5cygpKX19fWZ1bmN0aW9uIGhoKCl7aWYoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpcmV0dXJuIG51bGw7dmFyIGU9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxoKTtpZighZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fXNoLnN1cHBvcnRzTmF0aXZlSGxzPWZ1bmN0aW9uKCl7dmFyIHQ9aC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpO2lmKCFwcy5nZXRUZWNoKCJIdG1sNSIpLmlzU3VwcG9ydGVkKCkpcmV0dXJuITE7cmV0dXJuWyJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIsImF1ZGlvL21wZWd1cmwiLCJhdWRpby94LW1wZWd1cmwiLCJhcHBsaWNhdGlvbi94LW1wZWd1cmwiLCJ2aWRlby94LW1wZWd1cmwiLCJ2aWRlby9tcGVndXJsIiwiYXBwbGljYXRpb24vbXBlZ3VybCJdLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuL21heWJlfHByb2JhYmx5L2kudGVzdCh0LmNhblBsYXlUeXBlKGUpKX0pfSgpLHNoLnN1cHBvcnRzTmF0aXZlRGFzaD0hIXBzLmdldFRlY2goIkh0bWw1IikuaXNTdXBwb3J0ZWQoKSYmL21heWJlfHByb2JhYmx5L2kudGVzdChoLmNyZWF0ZUVsZW1lbnQoInZpZGVvIikuY2FuUGxheVR5cGUoImFwcGxpY2F0aW9uL2Rhc2greG1sIikpLHNoLnN1cHBvcnRzVHlwZU5hdGl2ZWx5PWZ1bmN0aW9uKGUpe3JldHVybiJobHMiPT09ZT9zaC5zdXBwb3J0c05hdGl2ZUhsczoiZGFzaCI9PT1lJiZzaC5zdXBwb3J0c05hdGl2ZURhc2h9LHNoLmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHBzLmxvZy53YXJuKCJITFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tIHlvdXIgcGxheWVyJ3MgdGVjaE9yZGVyLiIpfTt2YXIgZGg9cHMuZ2V0Q29tcG9uZW50KCJDb21wb25lbnQiKSxwaD0oQnUoZmgsZGgpLE11KGZoLFt7a2V5OiJzZXRPcHRpb25zXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMub3B0aW9uc18ud2l0aENyZWRlbnRpYWxzPXRoaXMub3B0aW9uc18ud2l0aENyZWRlbnRpYWxzfHwhMSx0aGlzLm9wdGlvbnNfLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzPXRoaXMub3B0aW9uc18uaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHN8fCExLHRoaXMub3B0aW9uc18ubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnM9ITEhPT10aGlzLm9wdGlvbnNfLmxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zLHRoaXMub3B0aW9uc18uc21vb3RoUXVhbGl0eUNoYW5nZT10aGlzLm9wdGlvbnNfLnNtb290aFF1YWxpdHlDaGFuZ2V8fCExLHRoaXMub3B0aW9uc18udXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZT0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuc291cmNlXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlP3RoaXMuc291cmNlXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlOnRoaXMub3B0aW9uc18udXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZXx8ITEsdGhpcy5vcHRpb25zXy5jdXN0b21UYWdQYXJzZXJzPXRoaXMub3B0aW9uc18uY3VzdG9tVGFnUGFyc2Vyc3x8W10sdGhpcy5vcHRpb25zXy5jdXN0b21UYWdNYXBwZXJzPXRoaXMub3B0aW9uc18uY3VzdG9tVGFnTWFwcGVyc3x8W10sdGhpcy5vcHRpb25zXy5jYWNoZUVuY3J5cHRpb25LZXlzPXRoaXMub3B0aW9uc18uY2FjaGVFbmNyeXB0aW9uS2V5c3x8ITEsIm51bWJlciIhPXR5cGVvZiB0aGlzLm9wdGlvbnNfLmJsYWNrbGlzdER1cmF0aW9uJiYodGhpcy5vcHRpb25zXy5ibGFja2xpc3REdXJhdGlvbj0zMDApLCJudW1iZXIiIT10eXBlb2YgdGhpcy5vcHRpb25zXy5iYW5kd2lkdGgmJnRoaXMub3B0aW9uc18udXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZSl7dmFyIGU9aGgoKTtlJiZlLmJhbmR3aWR0aCYmKHRoaXMub3B0aW9uc18uYmFuZHdpZHRoPWUuYmFuZHdpZHRoLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1iYW5kd2lkdGgtZnJvbS1sb2NhbC1zdG9yYWdlIn0pKSxlJiZlLnRocm91Z2hwdXQmJih0aGlzLm9wdGlvbnNfLnRocm91Z2hwdXQ9ZS50aHJvdWdocHV0LHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy10aHJvdWdocHV0LWZyb20tbG9jYWwtc3RvcmFnZSJ9KSl9Im51bWJlciIhPXR5cGVvZiB0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCYmKHRoaXMub3B0aW9uc18uYmFuZHdpZHRoPUFjLklOSVRJQUxfQkFORFdJRFRIKSx0aGlzLm9wdGlvbnNfLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdD10aGlzLm9wdGlvbnNfLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdCYmdGhpcy5vcHRpb25zXy5iYW5kd2lkdGg9PT1BYy5JTklUSUFMX0JBTkRXSURUSCxbIndpdGhDcmVkZW50aWFscyIsImxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zIiwiYmFuZHdpZHRoIiwic21vb3RoUXVhbGl0eUNoYW5nZSIsImN1c3RvbVRhZ1BhcnNlcnMiLCJjdXN0b21UYWdNYXBwZXJzIiwiaGFuZGxlTWFuaWZlc3RSZWRpcmVjdHMiLCJjYWNoZUVuY3J5cHRpb25LZXlzIl0uZm9yRWFjaChmdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIHQuc291cmNlX1tlXSYmKHQub3B0aW9uc19bZV09dC5zb3VyY2VfW2VdKX0pLHRoaXMubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnM9dGhpcy5vcHRpb25zXy5saW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9uc319LHtrZXk6InNyYyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO2UmJih0aGlzLnNldE9wdGlvbnNfKCksdGhpcy5vcHRpb25zXy51cmw9dGhpcy5zb3VyY2VfLnNyYyx0aGlzLm9wdGlvbnNfLnRlY2g9dGhpcy50ZWNoXyx0aGlzLm9wdGlvbnNfLmV4dGVybkhscz1zaCx0aGlzLm9wdGlvbnNfLnNvdXJjZVR5cGU9b2godCksdGhpcy5vcHRpb25zXy5zZWVrVG89ZnVuY3Rpb24oZSl7aS50ZWNoXy5zZXRDdXJyZW50VGltZShlKSxpLnNldEN1cnJlbnRUaW1lKGUpfSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl89bmV3IEpjKHRoaXMub3B0aW9uc18pLHRoaXMucGxheWJhY2tXYXRjaGVyXz1uZXcgaWgocHMubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9uc18se3NlZWthYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuc2Vla2FibGUoKX0sbWVkaWE6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhKCl9fSkpLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7cHMucGxheWVyc1tpLnRlY2hfLm9wdGlvbnNfLnBsYXllcklkXS5lcnJvcihpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uZXJyb3IpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNlbGVjdFBsYXlsaXN0PXRoaXMuc2VsZWN0UGxheWxpc3Q/dGhpcy5zZWxlY3RQbGF5bGlzdC5iaW5kKHRoaXMpOnNoLlNUQU5EQVJEX1BMQVlMSVNUX1NFTEVDVE9SLmJpbmQodGhpcyksdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNlbGVjdEluaXRpYWxQbGF5bGlzdD1zaC5JTklUSUFMX1BMQVlMSVNUX1NFTEVDVE9SLmJpbmQodGhpcyksdGhpcy5wbGF5bGlzdHM9dGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1hc3RlclBsYXlsaXN0TG9hZGVyXyx0aGlzLm1lZGlhU291cmNlPXRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNvdXJjZSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtzZWxlY3RQbGF5bGlzdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdD1lLmJpbmQodGhpcyl9fSx0aHJvdWdocHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0LnJhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLnRocm91Z2hwdXQucmF0ZT1lLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dC5jb3VudD0xfX0sYmFuZHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy5iYW5kd2lkdGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLmJhbmR3aWR0aD1lLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dD17cmF0ZTowLGNvdW50OjB9fX0sc3lzdGVtQmFuZHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZT0xLyh0aGlzLmJhbmR3aWR0aHx8MSksdD12b2lkIDA7cmV0dXJuIHQ9MDx0aGlzLnRocm91Z2hwdXQ/MS90aGlzLnRocm91Z2hwdXQ6MCxNYXRoLmZsb29yKDEvKGUrdCkpfSxzZXQ6ZnVuY3Rpb24oKXtwcy5sb2cuZXJyb3IoJ1RoZSAic3lzdGVtQmFuZHdpZHRoIiBwcm9wZXJ0eSBpcyByZWFkLW9ubHknKX19fSksdGhpcy5vcHRpb25zXy5iYW5kd2lkdGgmJih0aGlzLmJhbmR3aWR0aD10aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCksdGhpcy5vcHRpb25zXy50aHJvdWdocHV0JiYodGhpcy50aHJvdWdocHV0PXRoaXMub3B0aW9uc18udGhyb3VnaHB1dCksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5zdGF0cyx7YmFuZHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5iYW5kd2lkdGh8fDB9LGVudW1lcmFibGU6ITB9LG1lZGlhUmVxdWVzdHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c18oKXx8MH0sZW51bWVyYWJsZTohMH0sbWVkaWFSZXF1ZXN0c0Fib3J0ZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c0Fib3J0ZWRfKCl8fDB9LGVudW1lcmFibGU6ITB9LG1lZGlhUmVxdWVzdHNUaW1lZG91dDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVJlcXVlc3RzVGltZWRvdXRfKCl8fDB9LGVudW1lcmFibGU6ITB9LG1lZGlhUmVxdWVzdHNFcnJvcmVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhUmVxdWVzdHNFcnJvcmVkXygpfHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYVRyYW5zZmVyRHVyYXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFUcmFuc2ZlckR1cmF0aW9uXygpfHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYUJ5dGVzVHJhbnNmZXJyZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFCeXRlc1RyYW5zZmVycmVkXygpfHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYVNlY29uZHNMb2FkZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFTZWNvbmRzTG9hZGVkXygpfHwwfSxlbnVtZXJhYmxlOiEwfSxidWZmZXJlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFNsKGkudGVjaF8uYnVmZmVyZWQoKSl9LGVudW1lcmFibGU6ITB9LGN1cnJlbnRUaW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS50ZWNoXy5jdXJyZW50VGltZSgpfSxlbnVtZXJhYmxlOiEwfSxjdXJyZW50U291cmNlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS50ZWNoXy5jdXJyZW50U291cmNlX30sZW51bWVyYWJsZTohMH0sY3VycmVudFRlY2g6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLnRlY2hfLm5hbWVffSxlbnVtZXJhYmxlOiEwfSxkdXJhdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkudGVjaF8uZHVyYXRpb24oKX0sZW51bWVyYWJsZTohMH0sbWFzdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5wbGF5bGlzdHMubWFzdGVyfSxlbnVtZXJhYmxlOiEwfSxwbGF5ZXJEaW1lbnNpb25zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS50ZWNoXy5jdXJyZW50RGltZW5zaW9ucygpfSxlbnVtZXJhYmxlOiEwfSxzZWVrYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFNsKGkudGVjaF8uc2Vla2FibGUoKSl9LGVudW1lcmFibGU6ITB9LHRpbWVzdGFtcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LGVudW1lcmFibGU6ITB9LHZpZGVvUGxheWJhY2tRdWFsaXR5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS50ZWNoXy5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpfSxlbnVtZXJhYmxlOiEwfX0pLHRoaXMudGVjaF8ub25lKCJjYW5wbGF5Iix0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2V0dXBGaXJzdFBsYXkuYmluZCh0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8pKSx0aGlzLnRlY2hfLm9uKCJiYW5kd2lkdGh1cGRhdGUiLGZ1bmN0aW9uKCl7aS5vcHRpb25zXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlJiZmdW5jdGlvbihlKXtpZih3aW5kb3cubG9jYWxTdG9yYWdlKXt2YXIgdD1oaCgpO3Q9dD9wcy5tZXJnZU9wdGlvbnModCxlKTplO3RyeXt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obGgsSlNPTi5zdHJpbmdpZnkodCkpfWNhdGNoKGUpe3JldHVybn19fSh7YmFuZHdpZHRoOmkuYmFuZHdpZHRoLHRocm91Z2hwdXQ6TWF0aC5yb3VuZChpLnRocm91Z2hwdXQpfSl9KSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ub24oInNlbGVjdGVkaW5pdGlhbG1lZGlhIixmdW5jdGlvbigpeyFmdW5jdGlvbihpKXt2YXIgZT1pLnBsYXlsaXN0cztpLnJlcHJlc2VudGF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBlLm1hc3Rlci5wbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFybChlKX0pLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgZWgoaSxlLGUudXJpKX0pfX0oaSksY2goaSl9KSx0aGlzLm9uKHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXywicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7dGhpcy50ZWNoXy50cmlnZ2VyKCJwcm9ncmVzcyIpfSksdGhpcy50ZWNoXy5yZWFkeShmdW5jdGlvbigpe3JldHVybiBpLnNldHVwUXVhbGl0eUxldmVsc18oKX0pLHRoaXMudGVjaF8uZWwoKSYmdGhpcy50ZWNoXy5zcmMocHMuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFTb3VyY2UpKSl9fSx7a2V5OiJzZXR1cFF1YWxpdHlMZXZlbHNfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1wcy5wbGF5ZXJzW3RoaXMudGVjaF8ub3B0aW9uc18ucGxheWVySWRdO3QmJnQucXVhbGl0eUxldmVscyYmKHRoaXMucXVhbGl0eUxldmVsc189dC5xdWFsaXR5TGV2ZWxzKCksdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm9uKCJzZWxlY3RlZGluaXRpYWxtZWRpYSIsZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtlLnJlcHJlc2VudGF0aW9ucygpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5hZGRRdWFsaXR5TGV2ZWwoZSl9KSx1aCh0LGUucGxheWxpc3RzKX0oZS5xdWFsaXR5TGV2ZWxzXyxlKX0pLHRoaXMucGxheWxpc3RzLm9uKCJtZWRpYWNoYW5nZSIsZnVuY3Rpb24oKXt1aChlLnF1YWxpdHlMZXZlbHNfLGUucGxheWxpc3RzKX0pKX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnBsYXkoKX19LHtrZXk6InNldEN1cnJlbnRUaW1lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2V0Q3VycmVudFRpbWUoZSl9fSx7a2V5OiJkdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLmR1cmF0aW9uKCl9fSx7a2V5OiJzZWVrYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNlZWthYmxlKCl9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWJhY2tXYXRjaGVyXyYmdGhpcy5wbGF5YmFja1dhdGNoZXJfLmRpc3Bvc2UoKSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8mJnRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5kaXNwb3NlKCksdGhpcy5xdWFsaXR5TGV2ZWxzXyYmdGhpcy5xdWFsaXR5TGV2ZWxzXy5kaXNwb3NlKCksdGhpcy5wbGF5ZXJfJiYoZGVsZXRlIHRoaXMucGxheWVyXy52aHMsZGVsZXRlIHRoaXMucGxheWVyXy5kYXNoLGRlbGV0ZSB0aGlzLnBsYXllcl8uaGxzKSx0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmhscyYmZGVsZXRlIHRoaXMudGVjaF8uaGxzLGZ1bmN0aW9uIGUodCxpLG4pe251bGw9PT10JiYodD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKTtpZih2b2lkIDA9PT1yKXt2YXIgYT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1hP3ZvaWQgMDplKGEsaSxuKX1pZigidmFsdWUiaW4gcilyZXR1cm4gci52YWx1ZTt2YXIgcz1yLmdldDtyZXR1cm4gdm9pZCAwIT09cz9zLmNhbGwobik6dm9pZCAwfShmaC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmgucHJvdG90eXBlKSwiZGlzcG9zZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6ImNvbnZlcnRUb1Byb2dyYW1UaW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBnbCh7cGxheWxpc3Q6dGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhKCksdGltZTplLGNhbGxiYWNrOnR9KX19LHtrZXk6InNlZWtUb1Byb2dyYW1UaW1lIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuKXt2YXIgcj0hKDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aSl8fGksYT0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PW4/bjoyO3JldHVybiB5bCh7cHJvZ3JhbVRpbWU6ZSxwbGF5bGlzdDp0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWEoKSxyZXRyeUNvdW50OmEscGF1c2VBZnRlclNlZWs6cixzZWVrVG86dGhpcy5vcHRpb25zXy5zZWVrVG8sdGVjaDp0aGlzLm9wdGlvbnNfLnRlY2gsY2FsbGJhY2s6dH0pfX1dKSxmaCk7ZnVuY3Rpb24gZmgoZSx0LGkpe1J1KHRoaXMsZmgpO3ZhciBuPWp1KHRoaXMsKGZoLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGZoKSkuY2FsbCh0aGlzLHQsaS5obHMpKTtpZih0Lm9wdGlvbnNfJiZ0Lm9wdGlvbnNfLnBsYXllcklkKXt2YXIgcj1wcyh0Lm9wdGlvbnNfLnBsYXllcklkKTtyLmhhc093blByb3BlcnR5KCJobHMiKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImhscyIse2dldDpmdW5jdGlvbigpe3JldHVybiBwcy5sb2cud2FybigicGxheWVyLmhscyBpcyBkZXByZWNhdGVkLiBVc2UgcGxheWVyLnRlY2goKS5obHMgaW5zdGVhZC4iKSx0LnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtcGxheWVyLWFjY2VzcyJ9KSxufSxjb25maWd1cmFibGU6ITB9KSxyLnZocz1uLChyLmRhc2g9bikucGxheWVyXz1yfWlmKG4udGVjaF89dCxuLnNvdXJjZV89ZSxuLnN0YXRzPXt9LG4uc2V0T3B0aW9uc18oKSxuLm9wdGlvbnNfLm92ZXJyaWRlTmF0aXZlJiZ0Lm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MmJnQub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyl0Lm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MoITApLHQub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyghMCk7ZWxzZSBpZihuLm9wdGlvbnNfLm92ZXJyaWRlTmF0aXZlJiYodC5mZWF0dXJlc05hdGl2ZVZpZGVvVHJhY2tzfHx0LmZlYXR1cmVzTmF0aXZlQXVkaW9UcmFja3MpKXRocm93IG5ldyBFcnJvcigiT3ZlcnJpZGluZyBuYXRpdmUgSExTIHJlcXVpcmVzIGVtdWxhdGVkIHRyYWNrcy4gU2VlIGh0dHBzOi8vZ2l0LmlvL3ZNcGpCIik7cmV0dXJuIG4ub24oaCxbImZ1bGxzY3JlZW5jaGFuZ2UiLCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIk1TRnVsbHNjcmVlbkNoYW5nZSJdLGZ1bmN0aW9uKGUpe3ZhciB0PWguZnVsbHNjcmVlbkVsZW1lbnR8fGgud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fGgubW96RnVsbFNjcmVlbkVsZW1lbnR8fGgubXNGdWxsc2NyZWVuRWxlbWVudDt0JiZ0LmNvbnRhaW5zKG4udGVjaF8uZWwoKSkmJm4ubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zbW9vdGhRdWFsaXR5Q2hhbmdlXygpfSksbi5vbihuLnRlY2hfLCJzZWVraW5nIixmdW5jdGlvbigpezA9PT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkmJnRoaXMudGVjaF8ucGxheWVyXy5sb29wKCkmJnRoaXMuc2V0Q3VycmVudFRpbWUoMCl9KSxuLm9uKG4udGVjaF8sImVycm9yIixmdW5jdGlvbigpe3RoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXyYmdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnBhdXNlTG9hZGluZygpfSksbi5vbihuLnRlY2hfLCJwbGF5IixuLnBsYXkpLG59dmFyIG1oPXtuYW1lOiJ2aWRlb2pzLWh0dHAtc3RyZWFtaW5nIixWRVJTSU9OOiIxLjEwLjYiLGNhbkhhbmRsZVNvdXJjZTpmdW5jdGlvbihlLHQpe3ZhciBpPXBzLm1lcmdlT3B0aW9ucyhwcy5vcHRpb25zLDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90Ont9KTtyZXR1cm4gbWguY2FuUGxheVR5cGUoZS50eXBlLGkpfSxoYW5kbGVTb3VyY2U6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXBzLm1lcmdlT3B0aW9ucyhwcy5vcHRpb25zLDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09aT9pOnt9KTtyZXR1cm4gdC5obHM9bmV3IHBoKGUsdCxuKSx0Lmhscy54aHI9dWwoKSx0Lmhscy5zcmMoZS5zcmMsZS50eXBlKSx0Lmhsc30sY2FuUGxheVR5cGU6ZnVuY3Rpb24oZSx0KXt2YXIgaT1wcy5tZXJnZU9wdGlvbnMocHMub3B0aW9ucywxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp7fSkuaGxzLm92ZXJyaWRlTmF0aXZlLG49b2goZSk7cmV0dXJuIG4mJighc2guc3VwcG9ydHNUeXBlTmF0aXZlbHkobil8fGkpPyJtYXliZSI6IiJ9fTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHBzLk1lZGlhU291cmNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHBzLlVSTHx8KHBzLk1lZGlhU291cmNlPWFjLHBzLlVSTD1zYyksYWMuc3VwcG9ydHNOYXRpdmVNZWRpYVNvdXJjZXMoKSYmcHMuZ2V0VGVjaCgiSHRtbDUiKS5yZWdpc3RlclNvdXJjZUhhbmRsZXIobWgsMCkscHMuSGxzSGFuZGxlcj1waCxwcy5IbHNTb3VyY2VIYW5kbGVyPW1oLHBzLkhscz1zaCxwcy51c2V8fHBzLnJlZ2lzdGVyQ29tcG9uZW50KCJIbHMiLHNoKSxwcy5vcHRpb25zLmhscz1wcy5vcHRpb25zLmhsc3x8e30scHMucmVnaXN0ZXJQbHVnaW4/cHMucmVnaXN0ZXJQbHVnaW4oInJlbG9hZFNvdXJjZU9uRXJyb3IiLHJoKTpwcy5wbHVnaW4oInJlbG9hZFNvdXJjZU9uRXJyb3IiLHJoKSxwc30pOw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="78412171" offset="0" length="299" />
        <PacketInfo time="78412187" offset="299" length="158581" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>