<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="12">
  <HTTPTask id="67" hostname="www.demoblaze.com" path="https://www.demoblaze.com/node_modules/videojs-contrib-hls/dist/videojs-contrib-hls.min.js" url="https://www.demoblaze.com/node_modules/videojs-contrib-hls/dist/videojs-contrib-hls.min.js" ip="142.250.71.19" port="443" connectionId="14" origin="Primary" frame="1" startDateTime="2024-12-12T15:49:26.144+05:30" startTime="78412250" endTime="78412265">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="sec-ch-ua-platform" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IldpbmRvd3Mi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzMS4wLjAuMCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9IjEzMSIsICJDaHJvbWl1bSI7dj0iMTMxIiwgIk5vdF9BIEJyYW5kIjt2PSIyNCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cuZGVtb2JsYXplLmNvbS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgenN0ZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tR0IsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>d3d3LmRlbW9ibGF6ZS5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHBzOi8vd3d3LmRlbW9ibGF6ZS5jb20vbm9kZV9tb2R1bGVzL3ZpZGVvanMtY29udHJpYi1obHMvZGlzdC92aWRlb2pzLWNvbnRyaWItaGxzLm1pbi5qcyBIVFRQLzEuMQ0Kc2VjLWNoLXVhLXBsYXRmb3JtOiAiV2luZG93cyINClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzEuMC4wLjAgU2FmYXJpLzUzNy4zNg0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iMTMxIiwgIkNocm9taXVtIjt2PSIxMzEiLCAiTm90X0EgQnJhbmQiO3Y9IjI0Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANCkFjY2VwdDogKi8qDQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Nb2RlOiBuby1jb3JzDQpTZWMtRmV0Y2gtRGVzdDogc2NyaXB0DQpSZWZlcmVyOiBodHRwczovL3d3dy5kZW1vYmxhemUuY29tLw0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCB6c3RkDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLUdCLGVuO3E9MC45DQpIb3N0OiB3d3cuZGVtb2JsYXplLmNvbQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="X-Cloud-Trace-Context" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGRjYzkzNDhkYTE4YTY4MjEyMTM0ZjlkZDQxNGIxYmI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R29vZ2xlIEZyb250ZW5k</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo0OSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo1OSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTEw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IlRUbzhwQSI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpYLUNsb3VkLVRyYWNlLUNvbnRleHQ6IGRkY2M5MzQ4ZGExOGE2ODIxMjEzNGY5ZGQ0MTRiMWJiDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpTZXJ2ZXI6IEdvb2dsZSBGcm9udGVuZA0KRGF0ZTogVGh1LCAxMiBEZWMgMjAyNCAxMDoxNjo0OSBHTVQNCkV4cGlyZXM6IFRodSwgMTIgRGVjIDIwMjQgMTA6MTY6NTkgR01UDQpDYWNoZS1Db250cm9sOiBwdWJsaWMsIG1heC1hZ2U9MTANCkVUYWc6ICJUVG84cEEiDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkFnZTogMA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>IWZ1bmN0aW9uIGUodCxpLG4pe2Z1bmN0aW9uIHIocyxvKXtpZighaVtzXSl7aWYoIXRbc10pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFvJiZ1KXJldHVybiB1KHMsITApO2lmKGEpcmV0dXJuIGEocywhMCk7dmFyIGQ9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IGQuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZH12YXIgbD1pW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBpPXRbc11bMV1bZV07cmV0dXJuIHIoaXx8ZSl9LGwsbC5leHBvcnRzLGUsdCxpLG4pfXJldHVybiBpW3NdLmV4cG9ydHN9Zm9yKHZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylyKG5bc10pO3JldHVybiByfSh7MTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk9W10sbj0hMCxyPSExLGE9dW5kZWZpbmVkO3RyeXtmb3IodmFyIHMsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHM9by5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHMudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO249ITApO31jYXRjaCh1KXtyPSEwLGE9dX1maW5hbGx5e3RyeXshbiYmb1sicmV0dXJuIl0mJm9bInJldHVybiJdKCl9ZmluYWxseXtpZihyKXRocm93IGF9fXJldHVybiBpfXJldHVybiBmdW5jdGlvbih0LGkpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gZSh0LGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19KCkscj1lKDMyKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fShyKSxzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUuY3VlcyxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciByPWlbbl07aWYodD49ci5hZFN0YXJ0VGltZSYmdDw9ci5hZEVuZFRpbWUpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LG89ZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPD0yfHxhcmd1bWVudHNbMl09PT11bmRlZmluZWQ/MDphcmd1bWVudHNbMl07aWYoZS5zZWdtZW50cylmb3IodmFyIHI9aSxvPXVuZGVmaW5lZCx1PTA7dTxlLnNlZ21lbnRzLmxlbmd0aDt1Kyspe3ZhciBkPWUuc2VnbWVudHNbdV07aWYob3x8KG89cyh0LHIrZC5kdXJhdGlvbi8yKSksbyl7aWYoImN1ZUluImluIGQpe28uZW5kVGltZT1yLG8uYWRFbmRUaW1lPXIscis9ZC5kdXJhdGlvbixvPW51bGw7Y29udGludWV9aWYocjxvLmVuZFRpbWUpe3IrPWQuZHVyYXRpb247Y29udGludWV9by5lbmRUaW1lKz1kLmR1cmF0aW9ufWVsc2UgaWYoImN1ZU91dCJpbiBkJiYobz1uZXcgYVsiZGVmYXVsdCJdLlZUVEN1ZShyLHIrZC5kdXJhdGlvbixkLmN1ZU91dCksby5hZFN0YXJ0VGltZT1yLG8uYWRFbmRUaW1lPXIrcGFyc2VGbG9hdChkLmN1ZU91dCksdC5hZGRDdWUobykpLCJjdWVPdXRDb250ImluIGQpe3ZhciBsPXVuZGVmaW5lZCxmPXVuZGVmaW5lZCxjPWQuY3VlT3V0Q29udC5zcGxpdCgiLyIpLm1hcChwYXJzZUZsb2F0KSxoPW4oYywyKTtsPWhbMF0sZj1oWzFdLG89bmV3IGFbImRlZmF1bHQiXS5WVFRDdWUocixyK2QuZHVyYXRpb24sIiIpLG8uYWRTdGFydFRpbWU9ci1sLG8uYWRFbmRUaW1lPW8uYWRTdGFydFRpbWUrZix0LmFkZEN1ZShvKX1yKz1kLmR1cmF0aW9ufX07aVsiZGVmYXVsdCJdPXt1cGRhdGVBZEN1ZXM6byxmaW5kQWRDdWU6c30sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDI6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhcnQodCkrIi0iK2UuZW5kKHQpfSxyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS50b1N0cmluZygxNik7cmV0dXJuIjAwIi5zdWJzdHJpbmcoMCwyLWkubGVuZ3RoKStpKyh0JTI/IiAiOiIiKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gZT49MzImJmU8MTI2P1N0cmluZy5mcm9tQ2hhckNvZGUoZSk6Ii4ifSxzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBuPWVbaV07QXJyYXlCdWZmZXIuaXNWaWV3KG4pP3RbaV09e2J5dGVzOm4uYnVmZmVyLGJ5dGVPZmZzZXQ6bi5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6bi5ieXRlTGVuZ3RofTp0W2ldPW59KSx0fSxvPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYnl0ZXJhbmdlfHx7bGVuZ3RoOkluZmluaXR5LG9mZnNldDowfTtyZXR1cm5bdC5sZW5ndGgsdC5vZmZzZXQsZS5yZXNvbHZlZFVyaV0uam9pbigiLCIpfSx1PXtoZXhEdW1wOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSxpPSIiLG49dW5kZWZpbmVkLHM9dW5kZWZpbmVkLG89MDtvPHQubGVuZ3RoLzE2O28rKyluPXQuc2xpY2UoMTYqbywxNipvKzE2KS5tYXAocikuam9pbigiIikscz10LnNsaWNlKDE2Km8sMTYqbysxNikubWFwKGEpLmpvaW4oIiIpLGkrPW4rIiAiK3MrIlxuIjtyZXR1cm4gaX0sdGFnRHVtcDpmdW5jdGlvbihlKXtyZXR1cm4gdS5oZXhEdW1wKGUuYnl0ZXMpfSx0ZXh0UmFuZ2VzOmZ1bmN0aW9uKGUpe3ZhciB0PSIiLGk9dW5kZWZpbmVkO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspdCs9bihlLGkpKyIgIjtyZXR1cm4gdH0sY3JlYXRlVHJhbnNmZXJhYmxlTWVzc2FnZTpzLGluaXRTZWdtZW50SWQ6b307aVsiZGVmYXVsdCJdPXUsdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDM6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGlbImRlZmF1bHQiXT17R09BTF9CVUZGRVJfTEVOR1RIOjMwLE1BWF9HT0FMX0JVRkZFUl9MRU5HVEg6NjAsR09BTF9CVUZGRVJfTEVOR1RIX1JBVEU6MSxCQU5EV0lEVEhfVkFSSUFOQ0U6MS4yLEJVRkZFUl9MT1dfV0FURVJfTElORTowLE1BWF9CVUZGRVJfTE9XX1dBVEVSX0xJTkU6MzAsQlVGRkVSX0xPV19XQVRFUl9MSU5FX1JBVEU6MX0sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoMzIpLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19KG4pLGE9ZSgyNSkscz1lKDIpLG89ZnVuY3Rpb24oZSl7ZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLGk9bmV3IFVpbnQ4QXJyYXkodC5lbmNyeXB0ZWQuYnl0ZXMsdC5lbmNyeXB0ZWQuYnl0ZU9mZnNldCx0LmVuY3J5cHRlZC5ieXRlTGVuZ3RoKSxuPW5ldyBVaW50MzJBcnJheSh0LmtleS5ieXRlcyx0LmtleS5ieXRlT2Zmc2V0LHQua2V5LmJ5dGVMZW5ndGgvNCksbz1uZXcgVWludDMyQXJyYXkodC5pdi5ieXRlcyx0Lml2LmJ5dGVPZmZzZXQsdC5pdi5ieXRlTGVuZ3RoLzQpO25ldyBhLkRlY3J5cHRlcihpLG4sbyxmdW5jdGlvbihlLGkpe3JbImRlZmF1bHQiXS5wb3N0TWVzc2FnZSgoMCxzLmNyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2UpKHtzb3VyY2U6dC5zb3VyY2UsZGVjcnlwdGVkOml9KSxbaS5idWZmZXJdKX0pfX07aVsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhlKX0sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDU6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUsYT10LHM9aTtuPSExLG51bGw9PT1yJiYocj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixhKTtpZihvIT09dW5kZWZpbmVkKXtpZigidmFsdWUiaW4gbylyZXR1cm4gby52YWx1ZTt2YXIgdT1vLmdldDtyZXR1cm4gdT09PXVuZGVmaW5lZD91bmRlZmluZWQ6dS5jYWxsKHMpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtpZihudWxsPT09ZClyZXR1cm4gdW5kZWZpbmVkO2U9ZCx0PWEsaT1zLG49ITAsbz1kPXVuZGVmaW5lZH19LHU9ZSg5KSxkPW4odSksbD1lKDExKSxmPWUoMTYpLGM9bihmKSxoPWUoMjApLHA9bihoKSxtPWUoMTIpLGc9bihtKSx5PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PXQ/dC52aWRlb2pzOm51bGwsXz1uKHkpLHY9ZSgxKSxiPW4odiksVD1lKDE4KSxTPW4oVCksdz1lKDY1KSxrPWUoNzYpLE89bihrKSxFPWUoNCksQT1uKEUpLEw9ZSgzKSxQPW4oTCksST1lKDE5KSxDPWUoNiksVT11bmRlZmluZWQsTT17dmlkZW9Db2RlYzoiYXZjMSIsdmlkZW9PYmplY3RUeXBlSW5kaWNhdG9yOiIuNGQ0MDBkIixhdWRpb1Byb2ZpbGU6IjIifSxEPVsibWVkaWFSZXF1ZXN0cyIsIm1lZGlhUmVxdWVzdHNBYm9ydGVkIiwibWVkaWFSZXF1ZXN0c1RpbWVkb3V0IiwibWVkaWFSZXF1ZXN0c0Vycm9yZWQiLCJtZWRpYVRyYW5zZmVyRHVyYXRpb24iLCJtZWRpYUJ5dGVzVHJhbnNmZXJyZWQiXSxSPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl9bZV0rdGhpcy5tYWluU2VnbWVudExvYWRlcl9bZV19LHg9ZnVuY3Rpb24oKXt2YXIgdD11bmRlZmluZWQ7dHJ5e3Q9ZS5yZXNvbHZlKCIuL2RlY3J5cHRlci13b3JrZXIiKX1jYXRjaChpKXt9cmV0dXJuIHR9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvYXZjMVwuKFxkKylcLihcZCspL2ksZnVuY3Rpb24oZSl7cmV0dXJuKDAsdy50cmFuc2xhdGVMZWdhY3lDb2RlY3MpKFtlXSlbMF19KX07aS5tYXBMZWdhY3lBdmNDb2RlY3NfPUI7dmFyIGo9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlKyIvIit0Kyc7IGNvZGVjcz0iJytpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWV9KS5qb2luKCIsICIpKyciJ30sTj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50cyYmZS5zZWdtZW50cy5sZW5ndGgmJmUuc2VnbWVudHNbMF0ubWFwPyJtcDQiOiJtcDJ0In0sRj1mdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXN8fHt9O3JldHVybiB0LkNPREVDUz8oMCxJLnBhcnNlQ29kZWNzKSh0LkNPREVDUyk6TX0scT1mdW5jdGlvbihlLHQpe3ZhciBpPU4odCksbj1GKHQpLHI9dC5hdHRyaWJ1dGVzfHx7fSxhPSEwLHM9ITE7aWYoIXQpcmV0dXJuW107aWYoZS5tZWRpYUdyb3Vwcy5BVURJTyYmci5BVURJTyl7dmFyIG89ZS5tZWRpYUdyb3Vwcy5BVURJT1tyLkFVRElPXTtpZihvKXtzPSEwLGE9ITE7Zm9yKHZhciB1IGluIG8paWYoIW9bdV0udXJpKXthPSEwO2JyZWFrfX19cyYmIW4uYXVkaW9Qcm9maWxlJiYoX1siZGVmYXVsdCJdLmxvZy53YXJuKCJNdWx0aXBsZSBhdWRpbyB0cmFja3MgcHJlc2VudCBidXQgbm8gYXVkaW8gY29kZWMgc3RyaW5nIGlzIHNwZWNpZmllZC4gQXR0ZW1wdGluZyB0byB1c2UgdGhlIGRlZmF1bHQgYXVkaW8gY29kZWMgKG1wNGEuNDAuMikiKSxuLmF1ZGlvUHJvZmlsZT1NLmF1ZGlvUHJvZmlsZSk7dmFyIGQ9e307bi52aWRlb0NvZGVjJiYoZC52aWRlbz0iIituLnZpZGVvQ29kZWMrbi52aWRlb09iamVjdFR5cGVJbmRpY2F0b3IpLG4uYXVkaW9Qcm9maWxlJiYoZC5hdWRpbz0ibXA0YS40MC4iK24uYXVkaW9Qcm9maWxlKTt2YXIgbD1qKCJhdWRpbyIsaSxbZC5hdWRpb10pLGY9aigidmlkZW8iLGksW2QudmlkZW9dKSxjPWooInZpZGVvIixpLFtkLnZpZGVvLGQuYXVkaW9dKTtyZXR1cm4gcz8hYSYmZC52aWRlbz9bZixsXTpbYyxsXTpkLnZpZGVvP1tjXTpbbF19O2kubWltZVR5cGVzRm9yUGxheWxpc3RfPXE7dmFyIEc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgaT10aGlzO3IodGhpcyx0KSxvKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBuPWUudXJsLGE9ZS5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cyxzPWUud2l0aENyZWRlbnRpYWxzLHU9ZS5tb2RlLGw9ZS50ZWNoLGY9ZS5iYW5kd2lkdGgsaD1lLmV4dGVybkhscyxtPWUudXNlQ3VlVGFncyxnPWUuYmxhY2tsaXN0RHVyYXRpb24seT1lLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdDtpZighbil0aHJvdyBuZXcgRXJyb3IoIkEgbm9uLWVtcHR5IHBsYXlsaXN0IFVSTCBpcyByZXF1aXJlZCIpO1U9aCx0aGlzLnRlY2hfPWwsdGhpcy5obHNfPWwuaGxzLHRoaXMubW9kZV89dSx0aGlzLnVzZUN1ZVRhZ3NfPW0sdGhpcy5ibGFja2xpc3REdXJhdGlvbj1nLHRoaXMuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0PXksdGhpcy51c2VDdWVUYWdzXyYmKHRoaXMuY3VlVGFnc1RyYWNrXz10aGlzLnRlY2hfLmFkZFRleHRUcmFjaygibWV0YWRhdGEiLCJhZC1jdWVzIiksdGhpcy5jdWVUYWdzVHJhY2tfLmluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGU9IiIpLHRoaXMucmVxdWVzdE9wdGlvbnNfPXt3aXRoQ3JlZGVudGlhbHM6cyxoYW5kbGVNYW5pZmVzdFJlZGlyZWN0czphLHRpbWVvdXQ6bnVsbH0sdGhpcy5tZWRpYVR5cGVzXz0oMCxDLmNyZWF0ZU1lZGlhVHlwZXMpKCksdGhpcy5tZWRpYVNvdXJjZT1uZXcgX1siZGVmYXVsdCJdLk1lZGlhU291cmNlKHttb2RlOnV9KSx0aGlzLm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLHRoaXMuaGFuZGxlU291cmNlT3Blbl8uYmluZCh0aGlzKSksdGhpcy5zZWVrYWJsZV89X1siZGVmYXVsdCJdLmNyZWF0ZVRpbWVSYW5nZXMoKSx0aGlzLmhhc1BsYXllZF89ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5zeW5jQ29udHJvbGxlcl89bmV3IFNbImRlZmF1bHQiXShlKSx0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXz1sLmFkZFJlbW90ZVRleHRUcmFjayh7a2luZDoibWV0YWRhdGEiLGxhYmVsOiJzZWdtZW50LW1ldGFkYXRhIn0sITEpLnRyYWNrLHRoaXMuZGVjcnlwdGVyXz0oMCxPWyJkZWZhdWx0Il0pKEFbImRlZmF1bHQiXSx4KCkpO3ZhciB2PXtobHM6dGhpcy5obHNfLG1lZGlhU291cmNlOnRoaXMubWVkaWFTb3VyY2UsY3VycmVudFRpbWU6dGhpcy50ZWNoXy5jdXJyZW50VGltZS5iaW5kKHRoaXMudGVjaF8pLHNlZWthYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuc2Vla2FibGUoKX0sc2Vla2luZzpmdW5jdGlvbigpe3JldHVybiBpLnRlY2hfLnNlZWtpbmcoKX0sZHVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gaS5tZWRpYVNvdXJjZS5kdXJhdGlvbn0saGFzUGxheWVkOmZ1bmN0aW9uKCl7cmV0dXJuIGkuaGFzUGxheWVkXygpfSxnb2FsQnVmZmVyTGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZ29hbEJ1ZmZlckxlbmd0aCgpfSxiYW5kd2lkdGg6ZixzeW5jQ29udHJvbGxlcjp0aGlzLnN5bmNDb250cm9sbGVyXyxkZWNyeXB0ZXI6dGhpcy5kZWNyeXB0ZXJffTt0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXz1uZXcgZFsiZGVmYXVsdCJdKG4sdGhpcy5obHNfLHRoaXMucmVxdWVzdE9wdGlvbnNfKSx0aGlzLnNldHVwTWFzdGVyUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfKCksdGhpcy5tYWluU2VnbWVudExvYWRlcl89bmV3IGNbImRlZmF1bHQiXShfWyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHYse3NlZ21lbnRNZXRhZGF0YVRyYWNrOnRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfLGxvYWRlclR5cGU6Im1haW4ifSksZSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfPW5ldyBjWyJkZWZhdWx0Il0oX1siZGVmYXVsdCJdLm1lcmdlT3B0aW9ucyh2LHtsb2FkZXJUeXBlOiJhdWRpbyJ9KSxlKSx0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl89bmV3IHBbImRlZmF1bHQiXShfWyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHYse2xvYWRlclR5cGU6InZ0dCJ9KSxlKSx0aGlzLnNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKSxELmZvckVhY2goZnVuY3Rpb24oZSl7aVtlKyJfIl09Ui5iaW5kKGksZSl9KSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5sb2FkKCl9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6InNldHVwTWFzdGVyUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oImxvYWRlZG1ldGFkYXRhIixmdW5jdGlvbigpe3ZhciB0PWUubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCksaT0xLjUqZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8udGFyZ2V0RHVyYXRpb24qMWUzOygwLGwuaXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uKShlLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXIsZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSk/ZS5yZXF1ZXN0T3B0aW9uc18udGltZW91dD0wOmUucmVxdWVzdE9wdGlvbnNfLnRpbWVvdXQ9aSx0LmVuZExpc3QmJiJub25lIiE9PWUudGVjaF8ucHJlbG9hZCgpJiYoZS5tYWluU2VnbWVudExvYWRlcl8ucGxheWxpc3QodCxlLnJlcXVlc3RPcHRpb25zXyksZS5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpKSwoMCxDLnNldHVwTWVkaWFHcm91cHMpKHtzZWdtZW50TG9hZGVyczp7QVVESU86ZS5hdWRpb1NlZ21lbnRMb2FkZXJfLFNVQlRJVExFUzplLnN1YnRpdGxlU2VnbWVudExvYWRlcl8sbWFpbjplLm1haW5TZWdtZW50TG9hZGVyX30sdGVjaDplLnRlY2hfLHJlcXVlc3RPcHRpb25zOmUucmVxdWVzdE9wdGlvbnNfLG1hc3RlclBsYXlsaXN0TG9hZGVyOmUubWFzdGVyUGxheWxpc3RMb2FkZXJfLG1vZGU6ZS5tb2RlXyxobHM6ZS5obHNfLG1hc3RlcjplLm1hc3RlcigpLG1lZGlhVHlwZXM6ZS5tZWRpYVR5cGVzXyxibGFja2xpc3RDdXJyZW50UGxheWxpc3Q6ZS5ibGFja2xpc3RDdXJyZW50UGxheWxpc3QuYmluZChlKX0pLGUudHJpZ2dlclByZXNlbmNlVXNhZ2VfKGUubWFzdGVyKCksdCk7dHJ5e2Uuc2V0dXBTb3VyY2VCdWZmZXJzXygpfWNhdGNoKG4pe3JldHVybiBfWyJkZWZhdWx0Il0ubG9nLndhcm4oIkZhaWxlZCB0byBjcmVhdGUgU291cmNlQnVmZmVycyIsbiksZS5tZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgiZGVjb2RlIil9ZS5zZXR1cEZpcnN0UGxheSgpLGUudHJpZ2dlcigic2VsZWN0ZWRpbml0aWFsbWVkaWEiKX0pLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm9uKCJsb2FkZWRwbGF5bGlzdCIsZnVuY3Rpb24oKXt2YXIgdD1lLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO2lmKCF0KXt2YXIgaT11bmRlZmluZWQ7cmV0dXJuIGUuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0JiYoaT1lLnNlbGVjdEluaXRpYWxQbGF5bGlzdCgpKSxpfHwoaT1lLnNlbGVjdFBsYXlsaXN0KCkpLGUuaW5pdGlhbE1lZGlhXz1pLHZvaWQgZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoZS5pbml0aWFsTWVkaWFfKX1lLnVzZUN1ZVRhZ3NfJiZlLnVwZGF0ZUFkQ3Vlc18odCksZS5tYWluU2VnbWVudExvYWRlcl8ucGxheWxpc3QodCxlLnJlcXVlc3RPcHRpb25zXyksZS51cGRhdGVEdXJhdGlvbigpLGUudGVjaF8ucGF1c2VkKCl8fGUubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKSx0LmVuZExpc3R8fGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnNlZWthYmxlKCk7MCE9PXQubGVuZ3RoJiZlLm1lZGlhU291cmNlLmFkZFNlZWthYmxlUmFuZ2VfKHQuc3RhcnQoMCksdC5lbmQoMCkpfTtlLmR1cmF0aW9uKCkhPT1JbmZpbml0eT9mdW5jdGlvbigpe3ZhciBpPWZ1bmN0aW9uIG4oKXtlLmR1cmF0aW9uKCk9PT1JbmZpbml0eT90KCk6ZS50ZWNoXy5vbmUoImR1cmF0aW9uY2hhbmdlIixuKX07ZS50ZWNoXy5vbmUoImR1cmF0aW9uY2hhbmdlIixpKX0oKTp0KCl9KCl9KSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7ZS5ibGFja2xpc3RDdXJyZW50UGxheWxpc3QoZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8uZXJyb3IpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oIm1lZGlhY2hhbmdpbmciLGZ1bmN0aW9uKCl7ZS5tYWluU2VnbWVudExvYWRlcl8uYWJvcnQoKSxlLm1haW5TZWdtZW50TG9hZGVyXy5wYXVzZSgpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oIm1lZGlhY2hhbmdlIixmdW5jdGlvbigpe3ZhciB0PWUubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCksaT0xLjUqZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8udGFyZ2V0RHVyYXRpb24qMWUzOygwLGwuaXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uKShlLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXIsZS5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSk/ZS5yZXF1ZXN0T3B0aW9uc18udGltZW91dD0wOmUucmVxdWVzdE9wdGlvbnNfLnRpbWVvdXQ9aSxlLm1haW5TZWdtZW50TG9hZGVyXy5wbGF5bGlzdCh0LGUucmVxdWVzdE9wdGlvbnNfKSxlLm1haW5TZWdtZW50TG9hZGVyXy5sb2FkKCksZS50ZWNoXy50cmlnZ2VyKHt0eXBlOiJtZWRpYWNoYW5nZSIsYnViYmxlczohMH0pfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oInBsYXlsaXN0dW5jaGFuZ2VkIixmdW5jdGlvbigpe3ZhciB0PWUubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7ZS5zdHVja0F0UGxheWxpc3RFbmRfKHQpJiYoZS5ibGFja2xpc3RDdXJyZW50UGxheWxpc3Qoe21lc3NhZ2U6IlBsYXlsaXN0IG5vIGxvbmdlciB1cGRhdGluZy4ifSksZS50ZWNoXy50cmlnZ2VyKCJwbGF5bGlzdHN0dWNrIikpfSksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ub24oInJlbmRpdGlvbmRpc2FibGVkIixmdW5jdGlvbigpe2UudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1yZW5kaXRpb24tZGlzYWJsZWQifSl9KSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5vbigicmVuZGl0aW9uZW5hYmxlZCIsZnVuY3Rpb24oKXtlLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtcmVuZGl0aW9uLWVuYWJsZWQifSl9KX19LHtrZXk6InRyaWdnZXJQcmVzZW5jZVVzYWdlXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLm1lZGlhR3JvdXBzfHx7fSxuPSEwLHI9T2JqZWN0LmtleXMoaS5BVURJTyk7Zm9yKHZhciBhIGluIGkuQVVESU8pZm9yKHZhciBzIGluIGkuQVVESU9bYV0pe3ZhciBvPWkuQVVESU9bYV1bc107by51cml8fChuPSExKX1uJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtZGVtdXhlZCJ9KSxPYmplY3Qua2V5cyhpLlNVQlRJVExFUykubGVuZ3RoJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtd2VidnR0In0pLFUuUGxheWxpc3QuaXNBZXModCkmJnRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1hZXMifSksVS5QbGF5bGlzdC5pc0ZtcDQodCkmJnRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1mbXA0In0pLHIubGVuZ3RoJiZPYmplY3Qua2V5cyhpLkFVRElPW3JbMF1dKS5sZW5ndGg+MSYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWFsdGVybmF0ZS1hdWRpbyJ9KSx0aGlzLnVzZUN1ZVRhZ3NfJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6InVzYWdlIixuYW1lOiJobHMtcGxheWxpc3QtY3VlLXRhZ3MifSl9fSx7a2V5OiJzZXR1cFNlZ21lbnRMb2FkZXJMaXN0ZW5lcnNfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oImJhbmR3aWR0aHVwZGF0ZSIsZnVuY3Rpb24oKXt2YXIgdD1lLnNlbGVjdFBsYXlsaXN0KCksaT1lLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLG49ZS50ZWNoXy5idWZmZXJlZCgpLHI9bi5sZW5ndGg/bi5lbmQobi5sZW5ndGgtMSktZS50ZWNoXy5jdXJyZW50VGltZSgpOjAsYT1lLmJ1ZmZlckxvd1dhdGVyTGluZSgpOyghaS5lbmRMaXN0fHxlLmR1cmF0aW9uKCk8UFsiZGVmYXVsdCJdLk1BWF9CVUZGRVJfTE9XX1dBVEVSX0xJTkV8fHQuYXR0cmlidXRlcy5CQU5EV0lEVEg8aS5hdHRyaWJ1dGVzLkJBTkRXSURUSHx8cj49YSkmJmUubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKHQpLGUudGVjaF8udHJpZ2dlcigiYmFuZHdpZHRodXBkYXRlIil9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbigicHJvZ3Jlc3MiLGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCJwcm9ncmVzcyIpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oImVycm9yIixmdW5jdGlvbigpe2UuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KGUubWFpblNlZ21lbnRMb2FkZXJfLmVycm9yKCkpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oInN5bmNpbmZvdXBkYXRlIixmdW5jdGlvbigpe2Uub25TeW5jSW5mb1VwZGF0ZV8oKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJ0aW1lc3RhbXBvZmZzZXQiLGZ1bmN0aW9uKCl7ZS50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLXRpbWVzdGFtcC1vZmZzZXQifSl9KSx0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8ub24oInN5bmNpbmZvdXBkYXRlIixmdW5jdGlvbigpe2Uub25TeW5jSW5mb1VwZGF0ZV8oKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJlbmRlZCIsZnVuY3Rpb24oKXtlLm9uRW5kT2ZTdHJlYW0oKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKCJlYXJseWFib3J0IixmdW5jdGlvbigpe2UuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0KHttZXNzYWdlOiJBYm9ydGVkIGVhcmx5IGJlY2F1c2UgdGhlcmUgaXNuJ3QgZW5vdWdoIGJhbmR3aWR0aCB0byBjb21wbGV0ZSB0aGUgcmVxdWVzdCB3aXRob3V0IHJlYnVmZmVyaW5nLiJ9LDEyMCl9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbigicmVzZXRldmVyeXRoaW5nIixmdW5jdGlvbigpe2UudGVjaF8udHJpZ2dlcigiaGxzLXJlc2V0Iil9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbigic2VnbWVudHRpbWVtYXBwaW5nIixmdW5jdGlvbih0KXtlLnRlY2hfLnRyaWdnZXIoe3R5cGU6Imhscy1zZWdtZW50LXRpbWUtbWFwcGluZyIsbWFwcGluZzp0Lm1hcHBpbmd9KX0pLHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5vbigiZW5kZWQiLGZ1bmN0aW9uKCl7ZS5vbkVuZE9mU3RyZWFtKCl9KX19LHtrZXk6Im1lZGlhU2Vjb25kc0xvYWRlZF8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5tZWRpYVNlY29uZHNMb2FkZWQrdGhpcy5tYWluU2VnbWVudExvYWRlcl8ubWVkaWFTZWNvbmRzTG9hZGVkKX19LHtrZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpLHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXImJnRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5sb2FkKCksdGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXImJnRoaXMuc3VidGl0bGVTZWdtZW50TG9hZGVyXy5sb2FkKCl9fSx7a2V5OiJmYXN0UXVhbGl0eUNoYW5nZV8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3RQbGF5bGlzdCgpO2UhPT10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpJiYodGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoZSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ucmVzZXRMb2FkZXIoKSl9fSx7a2V5OiJwbGF5Iix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnNldHVwRmlyc3RQbGF5KCkpe3RoaXMudGVjaF8uZW5kZWQoKSYmdGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZSgwKSx0aGlzLmhhc1BsYXllZF8oKSYmdGhpcy5sb2FkKCk7dmFyIGU9dGhpcy50ZWNoXy5zZWVrYWJsZSgpO3JldHVybiB0aGlzLnRlY2hfLmR1cmF0aW9uKCk9PT1JbmZpbml0eSYmdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpPGUuc3RhcnQoMCk/dGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZShlLmVuZChlLmxlbmd0aC0xKSk6dm9pZCAwfX19LHtrZXk6InNldHVwRmlyc3RQbGF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO2lmKCF0fHx0aGlzLnRlY2hfLnBhdXNlZCgpfHx0aGlzLmhhc1BsYXllZF8oKSlyZXR1cm4hMTtpZighdC5lbmRMaXN0KXt2YXIgaT1mdW5jdGlvbigpe3ZhciB0PWUuc2Vla2FibGUoKTtyZXR1cm4gdC5sZW5ndGg/X1siZGVmYXVsdCJdLmJyb3dzZXIuSUVfVkVSU0lPTiYmImh0bWw1Ij09PWUubW9kZV8mJjA9PT1lLnRlY2hfLnJlYWR5U3RhdGUoKT8oZS50ZWNoXy5vbmUoImxvYWRlZG1ldGFkYXRhIixmdW5jdGlvbigpe2UudHJpZ2dlcigiZmlyc3RwbGF5IiksZS50ZWNoXy5zZXRDdXJyZW50VGltZSh0LmVuZCgwKSksZS5oYXNQbGF5ZWRfPWZ1bmN0aW9uKCl7cmV0dXJuITB9fSkse3Y6ITF9KTooZS50cmlnZ2VyKCJmaXJzdHBsYXkiKSx2b2lkIGUudGVjaF8uc2V0Q3VycmVudFRpbWUodC5lbmQoMCkpKTp7djohMX19KCk7aWYoIm9iamVjdCI9PXR5cGVvZiBpKXJldHVybiBpLnZ9cmV0dXJuIHRoaXMuaGFzUGxheWVkXz1mdW5jdGlvbigpe3JldHVybiEwfSx0aGlzLmxvYWQoKSwhMH19LHtrZXk6ImhhbmRsZVNvdXJjZU9wZW5fIix2YWx1ZTpmdW5jdGlvbigpe3RyeXt0aGlzLnNldHVwU291cmNlQnVmZmVyc18oKX1jYXRjaCh0KXtyZXR1cm4gX1siZGVmYXVsdCJdLmxvZy53YXJuKCJGYWlsZWQgdG8gY3JlYXRlIFNvdXJjZSBCdWZmZXJzIix0KSx0aGlzLm1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCJkZWNvZGUiKX1pZih0aGlzLnRlY2hfLmF1dG9wbGF5KCkpe3ZhciBlPXRoaXMudGVjaF8ucGxheSgpO3ZvaWQgMCE9PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRoZW4mJmUudGhlbihudWxsLGZ1bmN0aW9uKGUpe30pfXRoaXMudHJpZ2dlcigic291cmNlb3BlbiIpfX0se2tleToib25FbmRPZlN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1haW5TZWdtZW50TG9hZGVyXy5lbmRlZF87dGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmKGU9ZSYmdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmVuZGVkXyksZSYmdGhpcy5tZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpfX0se2tleToic3R1Y2tBdFBsYXlsaXN0RW5kXyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2Vla2FibGUoKS5sZW5ndGgpcmV0dXJuITE7dmFyIHQ9dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUoZSx0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uKTtpZihudWxsPT09dClyZXR1cm4hMTt2YXIgaT1VLlBsYXlsaXN0LnBsYXlsaXN0RW5kKGUsdCksbj10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkscj10aGlzLnRlY2hfLmJ1ZmZlcmVkKCk7aWYoIXIubGVuZ3RoKXJldHVybiBpLW48PWdbImRlZmF1bHQiXS5TQUZFX1RJTUVfREVMVEE7dmFyIGE9ci5lbmQoci5sZW5ndGgtMSk7cmV0dXJuIGEtbjw9Z1siZGVmYXVsdCJdLlNBRkVfVElNRV9ERUxUQSYmaS1hPD1nWyJkZWZhdWx0Il0uU0FGRV9USU1FX0RFTFRBfX0se2tleToiYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2U9PT11bmRlZmluZWQmJihlPXt9KTt2YXIgaT11bmRlZmluZWQsbj11bmRlZmluZWQ7aWYoaT1lLnBsYXlsaXN0fHx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLHQ9dHx8ZS5ibGFja2xpc3REdXJhdGlvbnx8dGhpcy5ibGFja2xpc3REdXJhdGlvbiwhaSl7dGhpcy5lcnJvcj1lO3RyeXtyZXR1cm4gdGhpcy5tZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgibmV0d29yayIpfWNhdGNoKGEpe3JldHVybiB0aGlzLnRyaWdnZXIoImVycm9yIil9fXZhciByPTE9PT10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXIucGxheWxpc3RzLmZpbHRlcihsLmlzRW5hYmxlZCkubGVuZ3RoO3JldHVybiByPyhfWyJkZWZhdWx0Il0ubG9nLndhcm4oIlByb2JsZW0gZW5jb3VudGVyZWQgd2l0aCB0aGUgY3VycmVudCBITFMgcGxheWxpc3QuIFRyeWluZyBhZ2FpbiBzaW5jZSBpdCBpcyB0aGUgZmluYWwgcGxheWxpc3QuIiksdGhpcy50ZWNoXy50cmlnZ2VyKCJyZXRyeXBsYXlsaXN0IiksdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubG9hZChyKSk6KGkuZXhjbHVkZVVudGlsPURhdGUubm93KCkrMWUzKnQsdGhpcy50ZWNoXy50cmlnZ2VyKCJibGFja2xpc3RwbGF5bGlzdCIpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1yZW5kaXRpb24tYmxhY2tsaXN0ZWQifSksbj10aGlzLnNlbGVjdFBsYXlsaXN0KCksX1siZGVmYXVsdCJdLmxvZy53YXJuKCJQcm9ibGVtIGVuY291bnRlcmVkIHdpdGggdGhlIGN1cnJlbnQgSExTIHBsYXlsaXN0LiIrKGUubWVzc2FnZT8iICIrZS5tZXNzYWdlOiIiKSsiIFN3aXRjaGluZyB0byBhbm90aGVyIHBsYXlsaXN0LiIpLHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKG4pKX19LHtrZXk6InBhdXNlTG9hZGluZyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5wYXVzZSgpLHRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXImJnRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5wYXVzZSgpLHRoaXMubWVkaWFUeXBlc18uU1VCVElUTEVTLmFjdGl2ZVBsYXlsaXN0TG9hZGVyJiZ0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8ucGF1c2UoKX19LHtrZXk6InNldEN1cnJlbnRUaW1lIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1nWyJkZWZhdWx0Il0uZmluZFJhbmdlKHRoaXMudGVjaF8uYnVmZmVyZWQoKSxlKTtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8mJnRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkmJnRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkuc2VnbWVudHM/dCYmdC5sZW5ndGgmJiJmbGFzaCIhPT10aGlzLm1vZGVfP2U6KHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnJlc2V0RXZlcnl0aGluZygpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmFib3J0KCksdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmKHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoKSx0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uYWJvcnQoKSksdGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXImJih0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8ucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmFib3J0KCkpLHZvaWQgdGhpcy5sb2FkKCkpOjB9fSx7a2V5OiJkdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8/dGhpcy5tZWRpYVNvdXJjZT90aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uOlUuUGxheWxpc3QuZHVyYXRpb24odGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSk6MH19LHtrZXk6InNlZWthYmxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlZWthYmxlX319LHtrZXk6Im9uU3luY0luZm9VcGRhdGVfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXVuZGVmaW5lZCx0PXVuZGVmaW5lZDtpZih0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXyl7dmFyIGk9dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKTtpZihpKXt2YXIgbj10aGlzLnN5bmNDb250cm9sbGVyXy5nZXRFeHBpcmVkVGltZShpLHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb24pO2lmKG51bGwhPT1uJiYoZT1VLlBsYXlsaXN0LnNlZWthYmxlKGksbiksMCE9PWUubGVuZ3RoKSl7aWYodGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcil7aWYoaT10aGlzLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm1lZGlhKCksbnVsbD09PShuPXRoaXMuc3luY0NvbnRyb2xsZXJfLmdldEV4cGlyZWRUaW1lKGksdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbikpKXJldHVybjtpZih0PVUuUGxheWxpc3Quc2Vla2FibGUoaSxuKSwwPT09dC5sZW5ndGgpcmV0dXJufXQ/dC5zdGFydCgwKT5lLmVuZCgwKXx8ZS5zdGFydCgwKT50LmVuZCgwKT90aGlzLnNlZWthYmxlXz1lOnRoaXMuc2Vla2FibGVfPV9bImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKFtbdC5zdGFydCgwKT5lLnN0YXJ0KDApP3Quc3RhcnQoMCk6ZS5zdGFydCgwKSx0LmVuZCgwKTxlLmVuZCgwKT90LmVuZCgwKTplLmVuZCgwKV1dKTp0aGlzLnNlZWthYmxlXz1lLHRoaXMudGVjaF8udHJpZ2dlcigic2Vla2FibGVjaGFuZ2VkIil9fX19fSx7a2V5OiJ1cGRhdGVEdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbixpPVUuUGxheWxpc3QuZHVyYXRpb24odGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKSksbj10aGlzLnRlY2hfLmJ1ZmZlcmVkKCkscj1mdW5jdGlvbiBhKCl7ZS5tZWRpYVNvdXJjZS5kdXJhdGlvbj1pLGUudGVjaF8udHJpZ2dlcigiZHVyYXRpb25jaGFuZ2UiKSxlLm1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoInNvdXJjZW9wZW4iLGEpfTtuLmxlbmd0aD4wJiYoaT1NYXRoLm1heChpLG4uZW5kKG4ubGVuZ3RoLTEpKSksdCE9PWkmJigib3BlbiIhPT10aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGU/dGhpcy5tZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCJzb3VyY2VvcGVuIixyKTpyKCkpfX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZGVjcnlwdGVyXy50ZXJtaW5hdGUoKSx0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5kaXNwb3NlKCksdGhpcy5tYWluU2VnbWVudExvYWRlcl8uZGlzcG9zZSgpLFsiQVVESU8iLCJTVUJUSVRMRVMiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWUubWVkaWFUeXBlc19bdF0uZ3JvdXBzO2Zvcih2YXIgbiBpbiBpKWlbbl0uZm9yRWFjaChmdW5jdGlvbihlKXtlLnBsYXlsaXN0TG9hZGVyJiZlLnBsYXlsaXN0TG9hZGVyLmRpc3Bvc2UoKX0pfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKSx0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8uZGlzcG9zZSgpfX0se2tleToibWFzdGVyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tYXN0ZXJ9fSx7a2V5OiJtZWRpYSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWVkaWEoKXx8dGhpcy5pbml0aWFsTWVkaWFffX0se2tleToic2V0dXBTb3VyY2VCdWZmZXJzXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1hc3RlclBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLHQ9dW5kZWZpbmVkO2lmKGUmJiJvcGVuIj09PXRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl7aWYodD1xKHRoaXMubWFzdGVyUGxheWxpc3RMb2FkZXJfLm1hc3RlcixlKSx0Lmxlbmd0aDwxKXJldHVybiB0aGlzLmVycm9yPSJObyBjb21wYXRpYmxlIFNvdXJjZUJ1ZmZlciBjb25maWd1cmF0aW9uIGZvciB0aGUgdmFyaWFudCBzdHJlYW06IitlLnJlc29sdmVkVXJpLHRoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oImRlY29kZSIpO3RoaXMubWFpblNlZ21lbnRMb2FkZXJfLm1pbWVUeXBlKHRbMF0pLHRbMV0mJnRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5taW1lVHlwZSh0WzFdKSx0aGlzLmV4Y2x1ZGVJbmNvbXBhdGlibGVWYXJpYW50c18oZSl9fX0se2tleToiZXhjbHVkZUluY29tcGF0aWJsZVZhcmlhbnRzXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tYXN0ZXJQbGF5bGlzdExvYWRlcl8ubWFzdGVyLGk9MixuPW51bGwscj11bmRlZmluZWQ7ZS5hdHRyaWJ1dGVzLkNPREVDUyYmKHI9KDAsSS5wYXJzZUNvZGVjcykoZS5hdHRyaWJ1dGVzLkNPREVDUyksbj1yLnZpZGVvQ29kZWMsaT1yLmNvZGVjQ291bnQpLHQucGxheWxpc3RzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9e2NvZGVjQ291bnQ6Mix2aWRlb0NvZGVjOm51bGx9O2lmKGUuYXR0cmlidXRlcy5DT0RFQ1Mpe3ZhciByPWUuYXR0cmlidXRlcy5DT0RFQ1M7dD0oMCxJLnBhcnNlQ29kZWNzKShyKSx3aW5kb3cuTWVkaWFTb3VyY2UmJndpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQmJiF3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz0iJytCKHIpKyciJykmJihlLmV4Y2x1ZGVVbnRpbD1JbmZpbml0eSl9dC5jb2RlY0NvdW50IT09aSYmKGUuZXhjbHVkZVVudGlsPUluZmluaXR5KSx0LnZpZGVvQ29kZWMhPT1uJiYoZS5leGNsdWRlVW50aWw9SW5maW5pdHkpfSl9fSx7a2V5OiJ1cGRhdGVBZEN1ZXNfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wLGk9dGhpcy5zZWVrYWJsZSgpO2kubGVuZ3RoJiYodD1pLnN0YXJ0KDApKSxiWyJkZWZhdWx0Il0udXBkYXRlQWRDdWVzKGUsdGhpcy5jdWVUYWdzVHJhY2tfLHQpfX0se2tleToiZ29hbEJ1ZmZlckxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksdD1QWyJkZWZhdWx0Il0uR09BTF9CVUZGRVJfTEVOR1RILGk9UFsiZGVmYXVsdCJdLkdPQUxfQlVGRkVSX0xFTkdUSF9SQVRFLG49TWF0aC5tYXgodCxQWyJkZWZhdWx0Il0uTUFYX0dPQUxfQlVGRkVSX0xFTkdUSCk7cmV0dXJuIE1hdGgubWluKHQrZSppLG4pfX0se2tleToiYnVmZmVyTG93V2F0ZXJMaW5lIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PVBbImRlZmF1bHQiXS5CVUZGRVJfTE9XX1dBVEVSX0xJTkUsaT1QWyJkZWZhdWx0Il0uQlVGRkVSX0xPV19XQVRFUl9MSU5FX1JBVEUsbj1NYXRoLm1heCh0LFBbImRlZmF1bHQiXS5NQVhfQlVGRkVSX0xPV19XQVRFUl9MSU5FKTtyZXR1cm4gTWF0aC5taW4odCtlKmksbil9fV0pLHR9KF9bImRlZmF1bHQiXS5FdmVudFRhcmdldCk7aS5NYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXI9R30pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDY6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PXQ/dC52aWRlb2pzOm51bGwsYT1uKHIpLHM9ZSg5KSxvPW4ocyksdT1mdW5jdGlvbigpe30sZD1mdW5jdGlvbihlKXt2YXIgdD1lWyJkZWZhdWx0Il0/Im1haW4iOiJhbHRlcm5hdGl2ZSI7cmV0dXJuIGUuY2hhcmFjdGVyaXN0aWNzJiZlLmNoYXJhY3RlcmlzdGljcy5pbmRleE9mKCJwdWJsaWMuYWNjZXNzaWJpbGl0eS5kZXNjcmliZXMtdmlkZW8iKT49MCYmKHQ9Im1haW4tZGVzYyIpLHR9LGw9ZnVuY3Rpb24oZSx0KXtlLmFib3J0KCksZS5wYXVzZSgpLHQmJnQuYWN0aXZlUGxheWxpc3RMb2FkZXImJih0LmFjdGl2ZVBsYXlsaXN0TG9hZGVyLnBhdXNlKCksdC5hY3RpdmVQbGF5bGlzdExvYWRlcj1udWxsKX07aS5zdG9wTG9hZGVycz1sO3ZhciBmPWZ1bmN0aW9uKGUsdCl7dC5hY3RpdmVQbGF5bGlzdExvYWRlcj1lLGUubG9hZCgpfTtpLnN0YXJ0TG9hZGVycz1mO3ZhciBjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dC5zZWdtZW50TG9hZGVycyxuPWlbZV0scj1pLm1haW4sYT10Lm1lZGlhVHlwZXNbZV0scz1hLmFjdGl2ZVRyYWNrKCksbz1hLmFjdGl2ZUdyb3VwKHMpLHU9YS5hY3RpdmVQbGF5bGlzdExvYWRlcjtpZihsKG4sYSksbyl7aWYoIW8ucGxheWxpc3RMb2FkZXIpcmV0dXJuIHZvaWQodSYmci5yZXNldEV2ZXJ5dGhpbmcoKSk7bi5yZXN5bmNMb2FkZXIoKSxmKG8ucGxheWxpc3RMb2FkZXIsYSl9fX07aS5vbkdyb3VwQ2hhbmdlZD1jO3ZhciBoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dC5zZWdtZW50TG9hZGVycyxuPWlbZV0scj1pLm1haW4sYT10Lm1lZGlhVHlwZXNbZV0scz1hLmFjdGl2ZVRyYWNrKCksbz1hLmFjdGl2ZUdyb3VwKHMpLHU9YS5hY3RpdmVQbGF5bGlzdExvYWRlcjtpZihsKG4sYSksbyl7aWYoIW8ucGxheWxpc3RMb2FkZXIpcmV0dXJuIHZvaWQgci5yZXNldEV2ZXJ5dGhpbmcoKTtpZih1PT09by5wbGF5bGlzdExvYWRlcilyZXR1cm4gdm9pZCBmKG8ucGxheWxpc3RMb2FkZXIsYSk7bi50cmFjayYmbi50cmFjayhzKSxuLnJlc2V0RXZlcnl0aGluZygpLGYoby5wbGF5bGlzdExvYWRlcixhKX19fTtpLm9uVHJhY2tDaGFuZ2VkPWg7dmFyIHA9e0FVRElPOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dC5zZWdtZW50TG9hZGVyc1tlXSxuPXQubWVkaWFUeXBlc1tlXSxyPXQuYmxhY2tsaXN0Q3VycmVudFBsYXlsaXN0O2woaSxuKTt2YXIgcz1uLmFjdGl2ZVRyYWNrKCksbz1uLmFjdGl2ZUdyb3VwKCksdT0oby5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGVbImRlZmF1bHQiXX0pWzBdfHxvWzBdKS5pZCxkPW4udHJhY2tzW3VdO2lmKHM9PT1kKXJldHVybiB2b2lkIHIoe21lc3NhZ2U6IlByb2JsZW0gZW5jb3VudGVyZWQgbG9hZGluZyB0aGUgZGVmYXVsdCBhdWRpbyB0cmFjay4ifSk7YVsiZGVmYXVsdCJdLmxvZy53YXJuKCJQcm9ibGVtIGVuY291bnRlcmVkIGxvYWRpbmcgdGhlIGFsdGVybmF0ZSBhdWRpbyB0cmFjay5Td2l0Y2hpbmcgYmFjayB0byBkZWZhdWx0LiIpO2Zvcih2YXIgZiBpbiBuLnRyYWNrcyluLnRyYWNrc1tmXS5lbmFibGVkPW4udHJhY2tzW2ZdPT09ZDtuLm9uVHJhY2tDaGFuZ2VkKCl9fSxTVUJUSVRMRVM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT10LnNlZ21lbnRMb2FkZXJzW2VdLG49dC5tZWRpYVR5cGVzW2VdO2FbImRlZmF1bHQiXS5sb2cud2FybigiUHJvYmxlbSBlbmNvdW50ZXJlZCBsb2FkaW5nIHRoZSBzdWJ0aXRsZSB0cmFjay5EaXNhYmxpbmcgc3VidGl0bGUgdHJhY2suIiksbChpLG4pO3ZhciByPW4uYWN0aXZlVHJhY2soKTtyJiYoci5tb2RlPSJkaXNhYmxlZCIpLG4ub25UcmFja0NoYW5nZWQoKX19fTtpLm9uRXJyb3I9cDt2YXIgbT17QVVESU86ZnVuY3Rpb24oZSx0LGkpe2lmKHQpe3ZhciBuPWkudGVjaCxyPWkucmVxdWVzdE9wdGlvbnMsYT1pLnNlZ21lbnRMb2FkZXJzW2VdO3Qub24oImxvYWRlZG1ldGFkYXRhIixmdW5jdGlvbigpe3ZhciBlPXQubWVkaWEoKTthLnBsYXlsaXN0KGUsciksKCFuLnBhdXNlZCgpfHxlLmVuZExpc3QmJiJub25lIiE9PW4ucHJlbG9hZCgpKSYmYS5sb2FkKCl9KSx0Lm9uKCJsb2FkZWRwbGF5bGlzdCIsZnVuY3Rpb24oKXthLnBsYXlsaXN0KHQubWVkaWEoKSxyKSxuLnBhdXNlZCgpfHxhLmxvYWQoKX0pLHQub24oImVycm9yIixwW2VdKGUsaSkpfX0sU1VCVElUTEVTOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pLnRlY2gscj1pLnJlcXVlc3RPcHRpb25zLGE9aS5zZWdtZW50TG9hZGVyc1tlXSxzPWkubWVkaWFUeXBlc1tlXTt0Lm9uKCJsb2FkZWRtZXRhZGF0YSIsZnVuY3Rpb24oKXt2YXIgZT10Lm1lZGlhKCk7YS5wbGF5bGlzdChlLHIpLGEudHJhY2socy5hY3RpdmVUcmFjaygpKSwoIW4ucGF1c2VkKCl8fGUuZW5kTGlzdCYmIm5vbmUiIT09bi5wcmVsb2FkKCkpJiZhLmxvYWQoKX0pLHQub24oImxvYWRlZHBsYXlsaXN0IixmdW5jdGlvbigpe2EucGxheWxpc3QodC5tZWRpYSgpLHIpLG4ucGF1c2VkKCl8fGEubG9hZCgpfSksdC5vbigiZXJyb3IiLHBbZV0oZSxpKSl9fTtpLnNldHVwTGlzdGVuZXJzPW07dmFyIGc9e0FVRElPOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5tb2RlLG49dC5obHMscj10LnNlZ21lbnRMb2FkZXJzW2VdLHM9dC5yZXF1ZXN0T3B0aW9ucyx1PXQubWFzdGVyLm1lZGlhR3JvdXBzLGw9dC5tZWRpYVR5cGVzW2VdLGY9bC5ncm91cHMsYz1sLnRyYWNrczt1W2VdJiYwIT09T2JqZWN0LmtleXModVtlXSkubGVuZ3RoJiYiaHRtbDUiPT09aXx8KHVbZV09e21haW46eyJkZWZhdWx0Ijp7ImRlZmF1bHQiOiEwfX19KTtmb3IodmFyIGggaW4gdVtlXSl7ZltoXXx8KGZbaF09W10pO2Zvcih2YXIgZyBpbiB1W2VdW2hdKXt2YXIgeT11W2VdW2hdW2ddLF89dW5kZWZpbmVkO2lmKF89eS5yZXNvbHZlZFVyaT9uZXcgb1siZGVmYXVsdCJdKHkucmVzb2x2ZWRVcmksbixzKTpudWxsLHk9YVsiZGVmYXVsdCJdLm1lcmdlT3B0aW9ucyh7aWQ6ZyxwbGF5bGlzdExvYWRlcjpffSx5KSxtW2VdKGUseS5wbGF5bGlzdExvYWRlcix0KSxmW2hdLnB1c2goeSksInVuZGVmaW5lZCI9PXR5cGVvZiBjW2ddKXt2YXIgdj1uZXcgYVsiZGVmYXVsdCJdLkF1ZGlvVHJhY2soe2lkOmcsa2luZDpkKHkpLGVuYWJsZWQ6ITEsbGFuZ3VhZ2U6eS5sYW5ndWFnZSwiZGVmYXVsdCI6eVsiZGVmYXVsdCJdLGxhYmVsOmd9KTtjW2ddPXZ9fX1yLm9uKCJlcnJvciIscFtlXShlLHQpKX0sU1VCVElUTEVTOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dC50ZWNoLG49dC5obHMscj10LnNlZ21lbnRMb2FkZXJzW2VdLHM9dC5yZXF1ZXN0T3B0aW9ucyx1PXQubWFzdGVyLm1lZGlhR3JvdXBzLGQ9dC5tZWRpYVR5cGVzW2VdLGw9ZC5ncm91cHMsZj1kLnRyYWNrcztmb3IodmFyIGMgaW4gdVtlXSl7bFtjXXx8KGxbY109W10pO2Zvcih2YXIgaCBpbiB1W2VdW2NdKWlmKCF1W2VdW2NdW2hdLmZvcmNlZCl7dmFyIGc9dVtlXVtjXVtoXTtpZihnPWFbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnMoe2lkOmgscGxheWxpc3RMb2FkZXI6bmV3IG9bImRlZmF1bHQiXShnLnJlc29sdmVkVXJpLG4scyl9LGcpLG1bZV0oZSxnLnBsYXlsaXN0TG9hZGVyLHQpLGxbY10ucHVzaChnKSwidW5kZWZpbmVkIj09dHlwZW9mIGZbaF0pe3ZhciB5PWkuYWRkUmVtb3RlVGV4dFRyYWNrKHtpZDpoLGtpbmQ6InN1YnRpdGxlcyIsZW5hYmxlZDohMSxsYW5ndWFnZTpnLmxhbmd1YWdlLGxhYmVsOmh9LCExKS50cmFjaztmW2hdPXl9fX1yLm9uKCJlcnJvciIscFtlXShlLHQpKX0sIkNMT1NFRC1DQVBUSU9OUyI6ZnVuY3Rpb24oZSx0KXt2YXIgaT10LnRlY2gsbj10Lm1hc3Rlci5tZWRpYUdyb3VwcyxyPXQubWVkaWFUeXBlc1tlXSxzPXIuZ3JvdXBzLG89ci50cmFja3M7Zm9yKHZhciB1IGluIG5bZV0pe3NbdV18fChzW3VdPVtdKTtmb3IodmFyIGQgaW4gbltlXVt1XSl7dmFyIGw9bltlXVt1XVtkXTtpZihsLmluc3RyZWFtSWQubWF0Y2goL0NDXGQvKSYmKHNbdV0ucHVzaChhWyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHtpZDpkfSxsKSksInVuZGVmaW5lZCI9PXR5cGVvZiBvW2RdKSl7dmFyIGY9aS5hZGRSZW1vdGVUZXh0VHJhY2soe2lkOmwuaW5zdHJlYW1JZCxraW5kOiJjYXB0aW9ucyIsZW5hYmxlZDohMSxsYW5ndWFnZTpsLmxhbmd1YWdlLGxhYmVsOmR9LCExKS50cmFjaztvW2RdPWZ9fX19fTtpLmluaXRpYWxpemU9Zzt2YXIgeT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgbj10Lm1hc3RlclBsYXlsaXN0TG9hZGVyLHI9dC5tZWRpYVR5cGVzW2VdLmdyb3VwcyxhPW4ubWVkaWEoKTtpZighYSlyZXR1cm4gbnVsbDt2YXIgcz1udWxsO3JldHVybiBhLmF0dHJpYnV0ZXNbZV0mJihzPXJbYS5hdHRyaWJ1dGVzW2VdXSkscz1zfHxyLm1haW4sdm9pZCAwPT09aT9zOm51bGw9PT1pP251bGw6cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1pLmlkfSlbMF18fG51bGx9fTtpLmFjdGl2ZUdyb3VwPXk7dmFyIF89e0FVRElPOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dC5tZWRpYVR5cGVzW2VdLnRyYWNrcztmb3IodmFyIG4gaW4gaSlpZihpW25dLmVuYWJsZWQpcmV0dXJuIGlbbl07cmV0dXJuIG51bGx9fSxTVUJUSVRMRVM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT10Lm1lZGlhVHlwZXNbZV0udHJhY2tzO2Zvcih2YXIgbiBpbiBpKWlmKCJzaG93aW5nIj09PWlbbl0ubW9kZSlyZXR1cm4gaVtuXTtyZXR1cm4gbnVsbH19fTtpLmFjdGl2ZVRyYWNrPV87dmFyIHY9ZnVuY3Rpb24oZSl7WyJBVURJTyIsIlNVQlRJVExFUyIsIkNMT1NFRC1DQVBUSU9OUyJdLmZvckVhY2goZnVuY3Rpb24odCl7Z1t0XSh0LGUpfSk7dmFyIHQ9ZS5tZWRpYVR5cGVzLGk9ZS5tYXN0ZXJQbGF5bGlzdExvYWRlcixuPWUudGVjaCxyPWUuaGxzO1siQVVESU8iLCJTVUJUSVRMRVMiXS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3RbaV0uYWN0aXZlR3JvdXA9eShpLGUpLHRbaV0uYWN0aXZlVHJhY2s9X1tpXShpLGUpLHRbaV0ub25Hcm91cENoYW5nZWQ9YyhpLGUpLHRbaV0ub25UcmFja0NoYW5nZWQ9aChpLGUpfSk7dmFyIGE9dC5BVURJTy5hY3RpdmVHcm91cCgpLHM9KGEuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlWyJkZWZhdWx0Il19KVswXXx8YVswXSkuaWQ7dC5BVURJTy50cmFja3Nbc10uZW5hYmxlZD0hMCx0LkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksaS5vbigibWVkaWFjaGFuZ2UiLGZ1bmN0aW9uKCl7WyJBVURJTyIsIlNVQlRJVExFUyJdLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0ub25Hcm91cENoYW5nZWQoKX0pfSk7dmFyIG89ZnVuY3Rpb24oKXt0LkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksbi50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWF1ZGlvLWNoYW5nZSJ9KX07bi5hdWRpb1RyYWNrcygpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsbyksbi5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIix0LlNVQlRJVExFUy5vblRyYWNrQ2hhbmdlZCksci5vbigiZGlzcG9zZSIsZnVuY3Rpb24oKXtuLmF1ZGlvVHJhY2tzKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixvKSxuLnJlbW90ZVRleHRUcmFja3MoKS5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHQuU1VCVElUTEVTLm9uVHJhY2tDaGFuZ2VkKX0pLG4uY2xlYXJUcmFja3MoImF1ZGlvIik7Zm9yKHZhciB1IGluIHQuQVVESU8udHJhY2tzKW4uYXVkaW9UcmFja3MoKS5hZGRUcmFjayh0LkFVRElPLnRyYWNrc1t1XSl9O2kuc2V0dXBNZWRpYUdyb3Vwcz12O3ZhciBiPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuWyJBVURJTyIsIlNVQlRJVExFUyIsIkNMT1NFRC1DQVBUSU9OUyJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT17Z3JvdXBzOnt9LHRyYWNrczp7fSxhY3RpdmVQbGF5bGlzdExvYWRlcjpudWxsLGFjdGl2ZUdyb3VwOnUsYWN0aXZlVHJhY2s6dSxvbkdyb3VwQ2hhbmdlZDp1LG9uVHJhY2tDaGFuZ2VkOnV9fSksZX07aS5jcmVhdGVNZWRpYVR5cGVzPWJ9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3OltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LnZpZGVvanM6dm9pZCAwIT09dD90LnZpZGVvanM6bnVsbCxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fShuKSxhPWUoMikscz17RkFJTFVSRToyLFRJTUVPVVQ6LTEwMSxBQk9SVEVEOi0xMDJ9O2kuUkVRVUVTVF9FUlJPUlM9czt2YXIgbz1mdW5jdGlvbihlKXt2YXIgdD0odW5kZWZpbmVkLHVuZGVmaW5lZCk7cmV0dXJuIHQ9ZS5vZmZzZXQrZS5sZW5ndGgtMSwiYnl0ZXM9IitlLm9mZnNldCsiLSIrdH0sdT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5ieXRlcmFuZ2UmJih0LlJhbmdlPW8oZS5ieXRlcmFuZ2UpKSx0fSxkPWZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmFib3J0KCl9KX0sbD1mdW5jdGlvbihlKXtyZXR1cm57YmFuZHdpZHRoOmUuYmFuZHdpZHRoLGJ5dGVzUmVjZWl2ZWQ6ZS5ieXRlc1JlY2VpdmVkfHwwLHJvdW5kVHJpcFRpbWU6ZS5yb3VuZFRyaXBUaW1lfHwwfX0sZj1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldCxpPURhdGUubm93KCktdC5yZXF1ZXN0VGltZSxuPXtiYW5kd2lkdGg6SW5maW5pdHksYnl0ZXNSZWNlaXZlZDowLHJvdW5kVHJpcFRpbWU6aXx8MH07cmV0dXJuIG4uYnl0ZXNSZWNlaXZlZD1lLmxvYWRlZCxuLmJhbmR3aWR0aD1NYXRoLmZsb29yKG4uYnl0ZXNSZWNlaXZlZC9uLnJvdW5kVHJpcFRpbWUqOCoxZTMpLG59LGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50aW1lZG91dD97c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkhMUyByZXF1ZXN0IHRpbWVkLW91dCBhdCBVUkw6ICIrdC51cmksY29kZTpzLlRJTUVPVVQseGhyOnR9OnQuYWJvcnRlZD97c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6IkhMUyByZXF1ZXN0IGFib3J0ZWQgYXQgVVJMOiAiK3QudXJpLGNvZGU6cy5BQk9SVEVELHhocjp0fTplP3tzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZToiSExTIHJlcXVlc3QgZXJyb3JlZCBhdCBVUkw6ICIrdC51cmksY29kZTpzLkZBSUxVUkUseGhyOnR9Om51bGx9LGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oaSxuKXt2YXIgcj1uLnJlc3BvbnNlLGE9YyhpLG4pO2lmKGEpcmV0dXJuIHQoYSxlKTtpZigxNiE9PXIuYnl0ZUxlbmd0aClyZXR1cm4gdCh7c3RhdHVzOm4uc3RhdHVzLG1lc3NhZ2U6IkludmFsaWQgSExTIGtleSBhdCBVUkw6ICIrbi51cmksY29kZTpzLkZBSUxVUkUseGhyOm59LGUpO3ZhciBvPW5ldyBEYXRhVmlldyhyKTtyZXR1cm4gZS5rZXkuYnl0ZXM9bmV3IFVpbnQzMkFycmF5KFtvLmdldFVpbnQzMigwKSxvLmdldFVpbnQzMig0KSxvLmdldFVpbnQzMig4KSxvLmdldFVpbnQzMigxMildKSx0KG51bGwsZSl9fSxwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGksbil7dmFyIHI9bi5yZXNwb25zZSxhPWMoaSxuKTtyZXR1cm4gYT90KGEsZSk6MD09PXIuYnl0ZUxlbmd0aD90KHtzdGF0dXM6bi5zdGF0dXMsbWVzc2FnZToiRW1wdHkgSExTIHNlZ21lbnQgY29udGVudCBhdCBVUkw6ICIrbi51cmksY29kZTpzLkZBSUxVUkUseGhyOm59LGUpOihlLm1hcC5ieXRlcz1uZXcgVWludDhBcnJheShuLnJlc3BvbnNlKSx0KG51bGwsZSkpfX0sbT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihpLG4pe3ZhciByPW4ucmVzcG9uc2UsYT1jKGksbik7cmV0dXJuIGE/dChhLGUpOjA9PT1yLmJ5dGVMZW5ndGg/dCh7c3RhdHVzOm4uc3RhdHVzLG1lc3NhZ2U6IkVtcHR5IEhMUyBzZWdtZW50IGNvbnRlbnQgYXQgVVJMOiAiK24udXJpLGNvZGU6cy5GQUlMVVJFLHhocjpufSxlKTooZS5zdGF0cz1sKG4pLGUua2V5P2UuZW5jcnlwdGVkQnl0ZXM9bmV3IFVpbnQ4QXJyYXkobi5yZXNwb25zZSk6ZS5ieXRlcz1uZXcgVWludDhBcnJheShuLnJlc3BvbnNlKSx0KG51bGwsZSkpfX0sZz1mdW5jdGlvbihlLHQsaSl7dmFyIG49ZnVuY3Rpb24gcihuKXtpZihuLmRhdGEuc291cmNlPT09dC5yZXF1ZXN0SWQpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIscik7dmFyIGE9bi5kYXRhLmRlY3J5cHRlZDtyZXR1cm4gdC5ieXRlcz1uZXcgVWludDhBcnJheShhLmJ5dGVzLGEuYnl0ZU9mZnNldCxhLmJ5dGVMZW5ndGgpLGkobnVsbCx0KX19O2UuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksZS5wb3N0TWVzc2FnZSgoMCxhLmNyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2UpKHtzb3VyY2U6dC5yZXF1ZXN0SWQsZW5jcnlwdGVkOnQuZW5jcnlwdGVkQnl0ZXMsa2V5OnQua2V5LmJ5dGVzLGl2OnQua2V5Lml2fSksW3QuZW5jcnlwdGVkQnl0ZXMuYnVmZmVyLHQua2V5LmJ5dGVzLmJ1ZmZlcl0pfSx5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiB0LmNvZGU+ZS5jb2RlP3Q6ZX0pfSxfPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1bXSxyPTA7cmV0dXJuIGZ1bmN0aW9uKGEscyl7aWYoYSYmKGQoZSksbi5wdXNoKGEpKSwocis9MSk9PT1lLmxlbmd0aCl7aWYocy5lbmRPZkFsbFJlcXVlc3RzPURhdGUubm93KCksbi5sZW5ndGg+MCl7dmFyIG89eShuKTtyZXR1cm4gaShvLHMpfXJldHVybiBzLmVuY3J5cHRlZEJ5dGVzP2codCxzLGkpOmkobnVsbCxzKX19fSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlLnN0YXRzPXJbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnMoZS5zdGF0cyxmKGkpKSwhZS5zdGF0cy5maXJzdEJ5dGVzUmVjZWl2ZWRBdCYmZS5zdGF0cy5ieXRlc1JlY2VpdmVkJiYoZS5zdGF0cy5maXJzdEJ5dGVzUmVjZWl2ZWRBdD1EYXRlLm5vdygpKSx0KGksZSl9fSxiPWZ1bmN0aW9uKGUsdCxpLG4sYSxzKXt2YXIgbz1bXSxsPV8obyxpLHMpO2lmKG4ua2V5KXt2YXIgZj1yWyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHQse3VyaTpuLmtleS5yZXNvbHZlZFVyaSxyZXNwb25zZVR5cGU6ImFycmF5YnVmZmVyIn0pLGM9aChuLGwpLGc9ZShmLGMpO28ucHVzaChnKX1pZihuLm1hcCYmIW4ubWFwLmJ5dGVzKXt2YXIgeT1yWyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHQse3VyaTpuLm1hcC5yZXNvbHZlZFVyaSxyZXNwb25zZVR5cGU6ImFycmF5YnVmZmVyIixoZWFkZXJzOnUobi5tYXApfSksYj1wKG4sbCksVD1lKHksYik7by5wdXNoKFQpfXZhciBTPXJbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnModCx7dXJpOm4ucmVzb2x2ZWRVcmkscmVzcG9uc2VUeXBlOiJhcnJheWJ1ZmZlciIsaGVhZGVyczp1KG4pfSksdz1tKG4sbCksaz1lKFMsdyk7cmV0dXJuIGsuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHYobixhKSksby5wdXNoKGspLGZ1bmN0aW9uKCl7cmV0dXJuIGQobyl9fTtpLm1lZGlhU2VnbWVudFJlcXVlc3Q9Yn0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDg6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfQpPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksbz1lKDMyKSx1PXIobyksZD1lKDEyKSxsPXIoZCksZj0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cudmlkZW9qczp2b2lkIDAhPT1uP24udmlkZW9qczpudWxsLGM9cihmKSxoPVsic2Vla2luZyIsInNlZWtlZCIsInBhdXNlIiwicGxheWluZyIsImVycm9yIl0scD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIGk9dGhpczthKHRoaXMsZSksdGhpcy50ZWNoXz10LnRlY2gsdGhpcy5zZWVrYWJsZT10LnNlZWthYmxlLHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzPTAsdGhpcy5sYXN0UmVjb3JkZWRUaW1lPW51bGwsdGhpcy50aW1lcl89bnVsbCx0aGlzLmNoZWNrQ3VycmVudFRpbWVUaW1lb3V0Xz1udWxsLHQuZGVidWcmJih0aGlzLmxvZ2dlcl89Y1siZGVmYXVsdCJdLmxvZy5iaW5kKGNbImRlZmF1bHQiXSwicGxheWJhY2std2F0Y2hlciAtPiIpKSx0aGlzLmxvZ2dlcl8oImluaXRpYWxpemUiKTt2YXIgbj1mdW5jdGlvbigpe3JldHVybiBpLm1vbml0b3JDdXJyZW50VGltZV8oKX0scj1mdW5jdGlvbigpe3JldHVybiBpLnRlY2hXYWl0aW5nXygpfSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY2FuY2VsVGltZXJfKCl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gaS5maXhlc0JhZFNlZWtzXygpfTt0aGlzLnRlY2hfLm9uKCJzZWVrYWJsZWNoYW5nZWQiLG8pLHRoaXMudGVjaF8ub24oIndhaXRpbmciLHIpLHRoaXMudGVjaF8ub24oaCxzKSx0aGlzLnRlY2hfLm9uKCJjYW5wbGF5IixuKSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpLmxvZ2dlcl8oImRpc3Bvc2UiKSxpLnRlY2hfLm9mZigic2Vla2FibGVjaGFuZ2VkIixvKSxpLnRlY2hfLm9mZigid2FpdGluZyIsciksaS50ZWNoXy5vZmYoaCxzKSxpLnRlY2hfLm9mZigiY2FucGxheSIsbiksaS5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8mJnVbImRlZmF1bHQiXS5jbGVhclRpbWVvdXQoaS5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8pLGkuY2FuY2VsVGltZXJfKCl9fXJldHVybiBzKGUsW3trZXk6Im1vbml0b3JDdXJyZW50VGltZV8iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGVja0N1cnJlbnRUaW1lXygpLHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfJiZ1WyJkZWZhdWx0Il0uY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfKSx0aGlzLmNoZWNrQ3VycmVudFRpbWVUaW1lb3V0Xz11WyJkZWZhdWx0Il0uc2V0VGltZW91dCh0aGlzLm1vbml0b3JDdXJyZW50VGltZV8uYmluZCh0aGlzKSwyNTApfX0se2tleToiY2hlY2tDdXJyZW50VGltZV8iLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy50ZWNoXy5zZWVraW5nKCkmJnRoaXMuZml4ZXNCYWRTZWVrc18oKSlyZXR1cm4gdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MCx2b2lkKHRoaXMubGFzdFJlY29yZGVkVGltZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkpO2lmKCF0aGlzLnRlY2hfLnBhdXNlZCgpJiYhdGhpcy50ZWNoXy5zZWVraW5nKCkpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PXRoaXMudGVjaF8uYnVmZmVyZWQoKTtpZih0aGlzLmxhc3RSZWNvcmRlZFRpbWU9PT1lJiYoIXQubGVuZ3RofHxlK2xbImRlZmF1bHQiXS5TQUZFX1RJTUVfREVMVEE+PXQuZW5kKHQubGVuZ3RoLTEpKSlyZXR1cm4gdGhpcy50ZWNoV2FpdGluZ18oKTt0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcz49NSYmZT09PXRoaXMubGFzdFJlY29yZGVkVGltZT8odGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMrKyx0aGlzLndhaXRpbmdfKCkpOmU9PT10aGlzLmxhc3RSZWNvcmRlZFRpbWU/dGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMrKzoodGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MCx0aGlzLmxhc3RSZWNvcmRlZFRpbWU9ZSl9fX0se2tleToiY2FuY2VsVGltZXJfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29uc2VjdXRpdmVVcGRhdGVzPTAsdGhpcy50aW1lcl8mJih0aGlzLmxvZ2dlcl8oImNhbmNlbFRpbWVyXyIpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVyXykpLHRoaXMudGltZXJfPW51bGx9fSx7a2V5OiJmaXhlc0JhZFNlZWtzXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRlY2hfLnNlZWtpbmcoKSx0PXRoaXMuc2Vla2FibGUoKSxpPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSxuPXVuZGVmaW5lZDtpZihlJiZ0aGlzLmFmdGVyU2Vla2FibGVXaW5kb3dfKHQsaSkpe249dC5lbmQodC5sZW5ndGgtMSl9aWYoZSYmdGhpcy5iZWZvcmVTZWVrYWJsZVdpbmRvd18odCxpKSl7bj10LnN0YXJ0KDApK2xbImRlZmF1bHQiXS5TQUZFX1RJTUVfREVMVEF9cmV0dXJuIHZvaWQgMCE9PW4mJih0aGlzLmxvZ2dlcl8oIlRyeWluZyB0byBzZWVrIG91dHNpZGUgb2Ygc2Vla2FibGUgYXQgdGltZSAiK2krIiB3aXRoIHNlZWthYmxlIHJhbmdlICIrbFsiZGVmYXVsdCJdLnByaW50YWJsZVJhbmdlKHQpKyIuIFNlZWtpbmcgdG8gIituKyIuIiksdGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZShuKSwhMCl9fSx7a2V5OiJ3YWl0aW5nXyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy50ZWNoV2FpdGluZ18oKSl7dmFyIGU9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLHQ9dGhpcy50ZWNoXy5idWZmZXJlZCgpLGk9bFsiZGVmYXVsdCJdLmZpbmRSYW5nZSh0LGUpO3JldHVybiBpLmxlbmd0aCYmZSszPD1pLmVuZCgwKT8odGhpcy5jYW5jZWxUaW1lcl8oKSx0aGlzLnRlY2hfLnNldEN1cnJlbnRUaW1lKGUpLHRoaXMubG9nZ2VyXygiU3RvcHBlZCBhdCAiK2UrIiB3aGlsZSBpbnNpZGUgYSBidWZmZXJlZCByZWdpb24gWyIraS5zdGFydCgwKSsiIC0+ICIraS5lbmQoMCkrIl0uIEF0dGVtcHRpbmcgdG8gcmVzdW1lIHBsYXliYWNrIGJ5IHNlZWtpbmcgdG8gdGhlIGN1cnJlbnQgdGltZS4iKSx2b2lkIHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy11bmtub3duLXdhaXRpbmcifSkpOnZvaWQgMH19fSx7a2V5OiJ0ZWNoV2FpdGluZ18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWVrYWJsZSgpLHQ9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpO2lmKHRoaXMudGVjaF8uc2Vla2luZygpJiZ0aGlzLmZpeGVzQmFkU2Vla3NfKCkpcmV0dXJuITA7aWYodGhpcy50ZWNoXy5zZWVraW5nKCl8fG51bGwhPT10aGlzLnRpbWVyXylyZXR1cm4hMDtpZih0aGlzLmJlZm9yZVNlZWthYmxlV2luZG93XyhlLHQpKXt2YXIgaT1lLmVuZChlLmxlbmd0aC0xKTtyZXR1cm4gdGhpcy5sb2dnZXJfKCJGZWxsIG91dCBvZiBsaXZlIHdpbmRvdyBhdCB0aW1lICIrdCsiLiBTZWVraW5nIHRvIGxpdmUgcG9pbnQgKHNlZWthYmxlIGVuZCkgIitpKSx0aGlzLmNhbmNlbFRpbWVyXygpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUoaSksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWxpdmUtcmVzeW5jIn0pLCEwfXZhciBuPXRoaXMudGVjaF8uYnVmZmVyZWQoKSxyPWxbImRlZmF1bHQiXS5maW5kTmV4dFJhbmdlKG4sdCk7aWYodGhpcy52aWRlb1VuZGVyZmxvd18ocixuLHQpKXJldHVybiB0aGlzLmNhbmNlbFRpbWVyXygpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUodCksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLXZpZGVvLXVuZGVyZmxvdyJ9KSwhMDtpZihyLmxlbmd0aD4wKXt2YXIgYT1yLnN0YXJ0KDApLXQ7cmV0dXJuIHRoaXMubG9nZ2VyXygiU3RvcHBlZCBhdCAiK3QrIiwgc2V0dGluZyB0aW1lciBmb3IgIithKyIsIHNlZWtpbmcgdG8gIityLnN0YXJ0KDApKSx0aGlzLnRpbWVyXz1zZXRUaW1lb3V0KHRoaXMuc2tpcFRoZUdhcF8uYmluZCh0aGlzKSwxZTMqYSx0KSwhMH1yZXR1cm4hMX19LHtrZXk6ImFmdGVyU2Vla2FibGVXaW5kb3dfIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhZS5sZW5ndGgmJnQ+ZS5lbmQoZS5sZW5ndGgtMSkrbFsiZGVmYXVsdCJdLlNBRkVfVElNRV9ERUxUQX19LHtrZXk6ImJlZm9yZVNlZWthYmxlV2luZG93XyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIShlLmxlbmd0aCYmZS5zdGFydCgwKT4wJiZ0PGUuc3RhcnQoMCktbFsiZGVmYXVsdCJdLlNBRkVfVElNRV9ERUxUQSl9fSx7a2V5OiJ2aWRlb1VuZGVyZmxvd18iLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXtpZigwPT09ZS5sZW5ndGgpe3ZhciBuPXRoaXMuZ2FwRnJvbVZpZGVvVW5kZXJmbG93Xyh0LGkpO2lmKG4pcmV0dXJuIHRoaXMubG9nZ2VyXygiRW5jb3VudGVyZWQgYSBnYXAgaW4gdmlkZW8gZnJvbSAiK24uc3RhcnQrIiB0byAiK24uZW5kKyIuIFNlZWtpbmcgdG8gY3VycmVudCB0aW1lICIraSksITB9cmV0dXJuITF9fSx7a2V5OiJza2lwVGhlR2FwXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZWNoXy5idWZmZXJlZCgpLGk9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLG49bFsiZGVmYXVsdCJdLmZpbmROZXh0UmFuZ2UodCxpKTt0aGlzLmNhbmNlbFRpbWVyXygpLDAhPT1uLmxlbmd0aCYmaT09PWUmJih0aGlzLmxvZ2dlcl8oInNraXBUaGVHYXBfOiIsImN1cnJlbnRUaW1lOiIsaSwic2NoZWR1bGVkIGN1cnJlbnRUaW1lOiIsZSwibmV4dFJhbmdlIHN0YXJ0OiIsbi5zdGFydCgwKSksdGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZShuLnN0YXJ0KDApK2xbImRlZmF1bHQiXS5USU1FX0ZVREdFX0ZBQ1RPUiksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWdhcC1za2lwIn0pKX19LHtrZXk6ImdhcEZyb21WaWRlb1VuZGVyZmxvd18iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWxbImRlZmF1bHQiXS5maW5kR2FwcyhlKSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciByPWkuc3RhcnQobiksYT1pLmVuZChuKTtpZih0LXI8NCYmdC1yPjIpcmV0dXJue3N0YXJ0OnIsZW5kOmF9fXJldHVybiBudWxsfX0se2tleToibG9nZ2VyXyIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGV9KCk7aVsiZGVmYXVsdCJdPXAsdC5leHBvcnRzPWlbImRlZmF1bHQiXX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDk6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUsYT10LHM9aTtuPSExLG51bGw9PT1yJiYocj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixhKTtpZihvIT09dW5kZWZpbmVkKXtpZigidmFsdWUiaW4gbylyZXR1cm4gby52YWx1ZTt2YXIgdT1vLmdldDtyZXR1cm4gdT09PXVuZGVmaW5lZD91bmRlZmluZWQ6dS5jYWxsKHMpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtpZihudWxsPT09ZClyZXR1cm4gdW5kZWZpbmVkO2U9ZCx0PWEsaT1zLG49ITAsbz1kPXVuZGVmaW5lZH19LHU9ZSgxNSksZD1uKHUpLGw9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LnZpZGVvanM6dm9pZCAwIT09dD90LnZpZGVvanM6bnVsbCxmPWUoMzMpLGM9bihmKSxoPWUoMzIpLHA9bihoKSxtPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj10LnNsaWNlKCk7aT1pfHwwO2Zvcih2YXIgcj1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCtpKSxhPWk7YTxyO2ErKyluW2EtaV09KDAsbC5tZXJnZU9wdGlvbnMpKGVbYV0sblthLWldKTtyZXR1cm4gbn07aS51cGRhdGVTZWdtZW50cz1tO3ZhciBnPWZ1bmN0aW9uKGUsdCl7ZS5yZXNvbHZlZFVyaXx8KGUucmVzb2x2ZWRVcmk9KDAsZFsiZGVmYXVsdCJdKSh0LGUudXJpKSksZS5rZXkmJiFlLmtleS5yZXNvbHZlZFVyaSYmKGUua2V5LnJlc29sdmVkVXJpPSgwLGRbImRlZmF1bHQiXSkodCxlLmtleS51cmkpKSxlLm1hcCYmIWUubWFwLnJlc29sdmVkVXJpJiYoZS5tYXAucmVzb2x2ZWRVcmk9KDAsZFsiZGVmYXVsdCJdKSh0LGUubWFwLnVyaSkpfTtpLnJlc29sdmVTZWdtZW50VXJpcz1nO3ZhciB5PWZ1bmN0aW9uKGUsdCl7dmFyIGk9KDAsbC5tZXJnZU9wdGlvbnMpKGUse30pLG49aS5wbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVyaT09PXQudXJpfSlbMF07aWYoIW4pcmV0dXJuIG51bGw7aWYobi5zZWdtZW50cyYmdC5zZWdtZW50cyYmbi5zZWdtZW50cy5sZW5ndGg9PT10LnNlZ21lbnRzLmxlbmd0aCYmbi5tZWRpYVNlcXVlbmNlPT09dC5tZWRpYVNlcXVlbmNlKXJldHVybiBudWxsO3ZhciByPSgwLGwubWVyZ2VPcHRpb25zKShuLHQpO24uc2VnbWVudHMmJihyLnNlZ21lbnRzPW0obi5zZWdtZW50cyx0LnNlZ21lbnRzLHQubWVkaWFTZXF1ZW5jZS1uLm1lZGlhU2VxdWVuY2UpKSxyLnNlZ21lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZyhlLHIucmVzb2x2ZWRVcmkpfSk7Zm9yKHZhciBhPTA7YTxpLnBsYXlsaXN0cy5sZW5ndGg7YSsrKWkucGxheWxpc3RzW2FdLnVyaT09PXQudXJpJiYoaS5wbGF5bGlzdHNbYV09cik7cmV0dXJuIGkucGxheWxpc3RzW3QudXJpXT1yLGl9O2kudXBkYXRlTWFzdGVyPXk7dmFyIF89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucGxheWxpc3RzLmxlbmd0aDt0LS07KXt2YXIgaT1lLnBsYXlsaXN0c1t0XTtlLnBsYXlsaXN0c1tpLnVyaV09aSxpLnJlc29sdmVkVXJpPSgwLGRbImRlZmF1bHQiXSkoZS51cmksaS51cmkpLGkuYXR0cmlidXRlc3x8KGkuYXR0cmlidXRlcz17fSxsLmxvZy53YXJuKCJJbnZhbGlkIHBsYXlsaXN0IFNUUkVBTS1JTkYgZGV0ZWN0ZWQuIE1pc3NpbmcgQkFORFdJRFRIIGF0dHJpYnV0ZS4iKSl9fTtpLnNldHVwTWVkaWFQbGF5bGlzdHM9Xzt2YXIgdj1mdW5jdGlvbihlKXtbIkFVRElPIiwiU1VCVElUTEVTIl0uZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gZS5tZWRpYUdyb3Vwc1t0XSlmb3IodmFyIG4gaW4gZS5tZWRpYUdyb3Vwc1t0XVtpXSl7dmFyIHI9ZS5tZWRpYUdyb3Vwc1t0XVtpXVtuXTtyLnVyaSYmKHIucmVzb2x2ZWRVcmk9KDAsZFsiZGVmYXVsdCJdKShlLnVyaSxyLnVyaSkpfX0pfTtpLnJlc29sdmVNZWRpYUdyb3VwVXJpcz12O3ZhciBiPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5zZWdtZW50c1tlLnNlZ21lbnRzLmxlbmd0aC0xXTt1bmRlZmluZWQ7cmV0dXJuIHQmJmkmJmkuZHVyYXRpb24/MWUzKmkuZHVyYXRpb246NTAwKihlLnRhcmdldER1cmF0aW9ufHwxMCl9O2kucmVmcmVzaERlbGF5PWI7dmFyIFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLGksbil7dmFyIGE9dGhpcztpZihyKHRoaXMsdCksbyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzKSxuPW58fHt9LHRoaXMuc3JjVXJsPWUsdGhpcy5obHNfPWksdGhpcy53aXRoQ3JlZGVudGlhbHM9ISFuLndpdGhDcmVkZW50aWFscyx0aGlzLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzPSEhbi5oYW5kbGVNYW5pZmVzdFJlZGlyZWN0cywhdGhpcy5zcmNVcmwpdGhyb3cgbmV3IEVycm9yKCJBIG5vbi1lbXB0eSBwbGF5bGlzdCBVUkwgaXMgcmVxdWlyZWQiKTt0aGlzLnN0YXRlPSJIQVZFX05PVEhJTkciLHRoaXMub24oIm1lZGlhdXBkYXRldGltZW91dCIsZnVuY3Rpb24oKXsiSEFWRV9NRVRBREFUQSI9PT1hLnN0YXRlJiYoYS5zdGF0ZT0iSEFWRV9DVVJSRU5UX01FVEFEQVRBIixhLnJlcXVlc3Q9YS5obHNfLnhocih7dXJpOigwLGRbImRlZmF1bHQiXSkoYS5tYXN0ZXIudXJpLGEubWVkaWEoKS51cmkpLHdpdGhDcmVkZW50aWFsczphLndpdGhDcmVkZW50aWFsc30sZnVuY3Rpb24oZSx0KXtpZihhLnJlcXVlc3QpcmV0dXJuIGU/YS5wbGF5bGlzdFJlcXVlc3RFcnJvcihhLnJlcXVlc3QsYS5tZWRpYSgpLnVyaSwiSEFWRV9NRVRBREFUQSIpOnZvaWQgYS5oYXZlTWV0YWRhdGEoYS5yZXF1ZXN0LGEubWVkaWEoKS51cmkpfSkpfSl9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6InBsYXlsaXN0UmVxdWVzdEVycm9yIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dGhpcy5yZXF1ZXN0PW51bGwsaSYmKHRoaXMuc3RhdGU9aSksdGhpcy5lcnJvcj17cGxheWxpc3Q6dGhpcy5tYXN0ZXIucGxheWxpc3RzW3RdLHN0YXR1czplLnN0YXR1cyxtZXNzYWdlOiJITFMgcGxheWxpc3QgcmVxdWVzdCBlcnJvciBhdCBVUkw6ICIrdCxyZXNwb25zZVRleHQ6ZS5yZXNwb25zZVRleHQsY29kZTplLnN0YXR1cz49NTAwPzQ6Mn0sdGhpcy50cmlnZ2VyKCJlcnJvciIpfX0se2tleToiaGF2ZU1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7dGhpcy5yZXF1ZXN0PW51bGwsdGhpcy5zdGF0ZT0iSEFWRV9NRVRBREFUQSI7dmFyIG49bmV3IGNbImRlZmF1bHQiXS5QYXJzZXI7bi5wdXNoKGUucmVzcG9uc2VUZXh0KSxuLmVuZCgpLG4ubWFuaWZlc3QudXJpPXQsbi5tYW5pZmVzdC5hdHRyaWJ1dGVzPW4ubWFuaWZlc3QuYXR0cmlidXRlc3x8e307dmFyIHI9eSh0aGlzLm1hc3RlcixuLm1hbmlmZXN0KTt0aGlzLnRhcmdldER1cmF0aW9uPW4ubWFuaWZlc3QudGFyZ2V0RHVyYXRpb24scj8odGhpcy5tYXN0ZXI9cix0aGlzLm1lZGlhXz10aGlzLm1hc3Rlci5wbGF5bGlzdHNbbi5tYW5pZmVzdC51cmldKTp0aGlzLnRyaWdnZXIoInBsYXlsaXN0dW5jaGFuZ2VkIiksdGhpcy5tZWRpYSgpLmVuZExpc3R8fChwWyJkZWZhdWx0Il0uY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD1wWyJkZWZhdWx0Il0uc2V0VGltZW91dChmdW5jdGlvbigpe2kudHJpZ2dlcigibWVkaWF1cGRhdGV0aW1lb3V0Iil9LGIodGhpcy5tZWRpYSgpLCEhcikpKSx0aGlzLnRyaWdnZXIoImxvYWRlZHBsYXlsaXN0Iil9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcFJlcXVlc3QoKSxwWyJkZWZhdWx0Il0uY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KX19LHtrZXk6InN0b3BSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucmVxdWVzdCl7dmFyIGU9dGhpcy5yZXF1ZXN0O3RoaXMucmVxdWVzdD1udWxsLGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5hYm9ydCgpfX19LHtrZXk6Im1lZGlhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXJldHVybiB0aGlzLm1lZGlhXztpZigiSEFWRV9OT1RISU5HIj09PXRoaXMuc3RhdGUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc3dpdGNoIG1lZGlhIHBsYXlsaXN0IGZyb20gIit0aGlzLnN0YXRlKTt2YXIgaT10aGlzLnN0YXRlO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIXRoaXMubWFzdGVyLnBsYXlsaXN0c1tlXSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcGxheWxpc3QgVVJJOiAiK2UpO2U9dGhpcy5tYXN0ZXIucGxheWxpc3RzW2VdfXZhciBuPSF0aGlzLm1lZGlhX3x8ZS51cmkhPT10aGlzLm1lZGlhXy51cmk7aWYodGhpcy5tYXN0ZXIucGxheWxpc3RzW2UudXJpXS5lbmRMaXN0KXJldHVybiB0aGlzLnJlcXVlc3QmJih0aGlzLnJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5yZXF1ZXN0LmFib3J0KCksdGhpcy5yZXF1ZXN0PW51bGwpLHRoaXMuc3RhdGU9IkhBVkVfTUVUQURBVEEiLHRoaXMubWVkaWFfPWUsdm9pZChuJiYodGhpcy50cmlnZ2VyKCJtZWRpYWNoYW5naW5nIiksdGhpcy50cmlnZ2VyKCJtZWRpYWNoYW5nZSIpKSk7aWYobil7aWYodGhpcy5zdGF0ZT0iU1dJVENISU5HX01FRElBIix0aGlzLnJlcXVlc3Qpe2lmKGUucmVzb2x2ZWRVcmk9PT10aGlzLnJlcXVlc3QudXJsKXJldHVybjt0aGlzLnJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5yZXF1ZXN0LmFib3J0KCksdGhpcy5yZXF1ZXN0PW51bGx9dGhpcy5tZWRpYV8mJnRoaXMudHJpZ2dlcigibWVkaWFjaGFuZ2luZyIpLHRoaXMucmVxdWVzdD10aGlzLmhsc18ueGhyKHt1cmk6ZS5yZXNvbHZlZFVyaSx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LGZ1bmN0aW9uKG4scil7aWYodC5yZXF1ZXN0KXtpZihlLnJlc29sdmVkVXJpPXQucmVzb2x2ZU1hbmlmZXN0UmVkaXJlY3QoZS5yZXNvbHZlZFVyaSxyKSxuKXJldHVybiB0LnBsYXlsaXN0UmVxdWVzdEVycm9yKHQucmVxdWVzdCxlLnVyaSxpKTt0LmhhdmVNZXRhZGF0YShyLGUudXJpKSwiSEFWRV9NQVNURVIiPT09aT90LnRyaWdnZXIoImxvYWRlZG1ldGFkYXRhIik6dC50cmlnZ2VyKCJtZWRpYWNoYW5nZSIpfX0pfX19LHtrZXk6InJlc29sdmVNYW5pZmVzdFJlZGlyZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmhhbmRsZU1hbmlmZXN0UmVkaXJlY3RzJiZ0LnJlc3BvbnNlVVJMJiZlIT09dC5yZXNwb25zZVVSTD90LnJlc3BvbnNlVVJMOmV9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0b3BSZXF1ZXN0KCkscFsiZGVmYXVsdCJdLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCksIkhBVkVfTk9USElORyI9PT10aGlzLnN0YXRlJiYodGhpcy5zdGFydGVkPSExKSwiU1dJVENISU5HX01FRElBIj09PXRoaXMuc3RhdGU/dGhpcy5tZWRpYV8/dGhpcy5zdGF0ZT0iSEFWRV9NRVRBREFUQSI6dGhpcy5zdGF0ZT0iSEFWRV9NQVNURVIiOiJIQVZFX0NVUlJFTlRfTUVUQURBVEEiPT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9IkhBVkVfTUVUQURBVEEiKX19LHtrZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cFsiZGVmYXVsdCJdLmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCk7dmFyIGk9dGhpcy5tZWRpYSgpO2lmKGUpe3ZhciBuPWk/aS50YXJnZXREdXJhdGlvbi8yKjFlMzo1ZTM7cmV0dXJuIHZvaWQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQ9cFsiZGVmYXVsdCJdLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2FkKCl9LG4pKX1pZighdGhpcy5zdGFydGVkKXJldHVybiB2b2lkIHRoaXMuc3RhcnQoKTtpJiYhaS5lbmRMaXN0P3RoaXMudHJpZ2dlcigibWVkaWF1cGRhdGV0aW1lb3V0Iik6dGhpcy50cmlnZ2VyKCJsb2FkZWRwbGF5bGlzdCIpfX0se2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5yZXF1ZXN0PXRoaXMuaGxzXy54aHIoe3VyaTp0aGlzLnNyY1VybCx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LGZ1bmN0aW9uKHQsaSl7aWYoZS5yZXF1ZXN0KXtpZihlLnJlcXVlc3Q9bnVsbCx0KXJldHVybiBlLmVycm9yPXtzdGF0dXM6aS5zdGF0dXMsbWVzc2FnZToiSExTIHBsYXlsaXN0IHJlcXVlc3QgZXJyb3IgYXQgVVJMOiAiK2Uuc3JjVXJsLHJlc3BvbnNlVGV4dDppLnJlc3BvbnNlVGV4dCxjb2RlOjJ9LCJIQVZFX05PVEhJTkciPT09ZS5zdGF0ZSYmKGUuc3RhcnRlZD0hMSksZS50cmlnZ2VyKCJlcnJvciIpO3ZhciBuPW5ldyBjWyJkZWZhdWx0Il0uUGFyc2VyO3JldHVybiBuLnB1c2goaS5yZXNwb25zZVRleHQpLChuLmVuZCgpLGUuc3RhdGU9IkhBVkVfTUFTVEVSIixlLnNyY1VybD1lLnJlc29sdmVNYW5pZmVzdFJlZGlyZWN0KGUuc3JjVXJsLGkpLG4ubWFuaWZlc3QudXJpPWUuc3JjVXJsLG4ubWFuaWZlc3QucGxheWxpc3RzKT8oZS5tYXN0ZXI9bi5tYW5pZmVzdCxfKGUubWFzdGVyKSx2KGUubWFzdGVyKSxlLnRyaWdnZXIoImxvYWRlZHBsYXlsaXN0Iiksdm9pZChlLnJlcXVlc3R8fGUubWVkaWEobi5tYW5pZmVzdC5wbGF5bGlzdHNbMF0pKSk6KGUubWFzdGVyPXttZWRpYUdyb3Vwczp7QVVESU86e30sVklERU86e30sIkNMT1NFRC1DQVBUSU9OUyI6e30sU1VCVElUTEVTOnt9fSx1cmk6cFsiZGVmYXVsdCJdLmxvY2F0aW9uLmhyZWYscGxheWxpc3RzOlt7dXJpOmUuc3JjVXJsLHJlc29sdmVkVXJpOmUuc3JjVXJsLGF0dHJpYnV0ZXM6e319XX0sZS5tYXN0ZXIucGxheWxpc3RzW2Uuc3JjVXJsXT1lLm1hc3Rlci5wbGF5bGlzdHNbMF0sZS5oYXZlTWV0YWRhdGEoaSxlLnNyY1VybCksZS50cmlnZ2VyKCJsb2FkZWRtZXRhZGF0YSIpKX19KX19XSksdH0obC5FdmVudFRhcmdldCk7aVsiZGVmYXVsdCJdPVR9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxMDpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1lKDMpLGE9bihyKSxzPWUoMTEpLG89bihzKSx1PWUoMTkpLGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT11bmRlZmluZWQ7cmV0dXJuIGU/KGk9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSksaT9pW3RdOiIiKToiIn0sbD1mdW5jdGlvbihlLHQpe3ZhciBpPWUuc2xpY2UoKTtlLnNvcnQoZnVuY3Rpb24oZSxuKXt2YXIgcj10KGUsbik7cmV0dXJuIDA9PT1yP2kuaW5kZXhPZihlKS1pLmluZGV4T2Yobik6cn0pfSxmPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dW5kZWZpbmVkLG49dW5kZWZpbmVkO3JldHVybiBlLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYoaT1lLmF0dHJpYnV0ZXMuQkFORFdJRFRIKSxpPWl8fHdpbmRvdy5OdW1iZXIuTUFYX1ZBTFVFLHQuYXR0cmlidXRlcy5CQU5EV0lEVEgmJihuPXQuYXR0cmlidXRlcy5CQU5EV0lEVEgpLG49bnx8d2luZG93Lk51bWJlci5NQVhfVkFMVUUsaS1ufTtpLmNvbXBhcmVQbGF5bGlzdEJhbmR3aWR0aD1mO3ZhciBjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dW5kZWZpbmVkLG49dW5kZWZpbmVkO3JldHVybiBlLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgmJihpPWUuYXR0cmlidXRlcy5SRVNPTFVUSU9OLndpZHRoKSxpPWl8fHdpbmRvdy5OdW1iZXIuTUFYX1ZBTFVFLHQuYXR0cmlidXRlcy5SRVNPTFVUSU9OJiZ0LmF0dHJpYnV0ZXMuUkVTT0xVVElPTi53aWR0aCYmKG49dC5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgpLG49bnx8d2luZG93Lk51bWJlci5NQVhfVkFMVUUsaT09PW4mJmUuYXR0cmlidXRlcy5CQU5EV0lEVEgmJnQuYXR0cmlidXRlcy5CQU5EV0lEVEg/ZS5hdHRyaWJ1dGVzLkJBTkRXSURUSC10LmF0dHJpYnV0ZXMuQkFORFdJRFRIOmktbn07aS5jb21wYXJlUGxheWxpc3RSZXNvbHV0aW9uPWM7dmFyIGg9ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9ZS5wbGF5bGlzdHMubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXVuZGVmaW5lZCxpPXVuZGVmaW5lZCxuPXVuZGVmaW5lZDtyZXR1cm4gdD1lLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgsaT1lLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04uaGVpZ2h0LG49ZS5hdHRyaWJ1dGVzLkJBTkRXSURUSCxuPW58fHdpbmRvdy5OdW1iZXIuTUFYX1ZBTFVFLHtiYW5kd2lkdGg6bix3aWR0aDp0LGhlaWdodDppLHBsYXlsaXN0OmV9fSk7bChyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmFuZHdpZHRoLXQuYmFuZHdpZHRofSkscj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hb1siZGVmYXVsdCJdLmlzSW5jb21wYXRpYmxlKGUucGxheWxpc3QpfSk7dmFyIHM9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG9bImRlZmF1bHQiXS5pc0VuYWJsZWQoZS5wbGF5bGlzdCl9KTtzLmxlbmd0aHx8KHM9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIW9bImRlZmF1bHQiXS5pc0Rpc2FibGVkKGUucGxheWxpc3QpfSkpO3ZhciB1PXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhbmR3aWR0aCphWyJkZWZhdWx0Il0uQkFORFdJRFRIX1ZBUklBTkNFPHR9KSxkPXVbdS5sZW5ndGgtMV0sZj11LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5iYW5kd2lkdGg9PT1kLmJhbmR3aWR0aH0pWzBdLGM9dS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2lkdGgmJmUuaGVpZ2h0fSk7bChjLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUud2lkdGgtdC53aWR0aH0pO3ZhciBoPWMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLndpZHRoPT09aSYmZS5oZWlnaHQ9PT1ufSk7ZD1oW2gubGVuZ3RoLTFdO3ZhciBwPWguZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhbmR3aWR0aD09PWQuYmFuZHdpZHRofSlbMF0sbT11bmRlZmluZWQsZz11bmRlZmluZWQseT11bmRlZmluZWQ7cHx8KG09Yy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2lkdGg+aXx8ZS5oZWlnaHQ+bn0pLGc9bS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUud2lkdGg9PT1tWzBdLndpZHRoJiZlLmhlaWdodD09PW1bMF0uaGVpZ2h0fSksZD1nW2cubGVuZ3RoLTFdLHk9Zy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmFuZHdpZHRoPT09ZC5iYW5kd2lkdGh9KVswXSk7dmFyIF89eXx8cHx8Znx8c1swXXx8clswXTtyZXR1cm4gXz9fLnBsYXlsaXN0Om51bGx9O2kuc2ltcGxlU2VsZWN0b3I9aDt2YXIgcD1mdW5jdGlvbigpe3JldHVybiBoKHRoaXMucGxheWxpc3RzLm1hc3Rlcix0aGlzLnN5c3RlbUJhbmR3aWR0aCxwYXJzZUludChkKHRoaXMudGVjaF8uZWwoKSwid2lkdGgiKSwxMCkscGFyc2VJbnQoZCh0aGlzLnRlY2hfLmVsKCksImhlaWdodCIpLDEwKSl9O2kubGFzdEJhbmR3aWR0aFNlbGVjdG9yPXA7dmFyIG09ZnVuY3Rpb24oZSl7dmFyIHQ9LTE7aWYoZTwwfHxlPjEpdGhyb3cgbmV3IEVycm9yKCJNb3ZpbmcgYXZlcmFnZSBiYW5kd2lkdGggZGVjYXkgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEuIik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ8MCYmKHQ9dGhpcy5zeXN0ZW1CYW5kd2lkdGgpLHQ9ZSp0aGlzLnN5c3RlbUJhbmR3aWR0aCsoMS1lKSp0LGgodGhpcy5wbGF5bGlzdHMubWFzdGVyLHQscGFyc2VJbnQoZCh0aGlzLnRlY2hfLmVsKCksIndpZHRoIiksMTApLHBhcnNlSW50KGQodGhpcy50ZWNoXy5lbCgpLCJoZWlnaHQiKSwxMCkpfX07aS5tb3ZpbmdBdmVyYWdlQmFuZHdpZHRoU2VsZWN0b3I9bTt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1lLm1hc3RlcixpPWUuY3VycmVudFRpbWUsbj1lLmJhbmR3aWR0aCxyPWUuZHVyYXRpb24sYT1lLnNlZ21lbnREdXJhdGlvbixzPWUudGltZVVudGlsUmVidWZmZXIsdT1lLmN1cnJlbnRUaW1lbGluZSxkPWUuc3luY0NvbnRyb2xsZXIsYz10LnBsYXlsaXN0cy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIW9bImRlZmF1bHQiXS5pc0luY29tcGF0aWJsZShlKX0pLGg9Yy5maWx0ZXIob1siZGVmYXVsdCJdLmlzRW5hYmxlZCk7aC5sZW5ndGh8fChoPWMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFvWyJkZWZhdWx0Il0uaXNEaXNhYmxlZChlKX0pKTt2YXIgcD1oLmZpbHRlcihvWyJkZWZhdWx0Il0uaGFzQXR0cmlidXRlLmJpbmQobnVsbCwiQkFORFdJRFRIIikpLG09cC5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZC5nZXRTeW5jUG9pbnQoZSxyLHUsaSksbD10PzE6MjtyZXR1cm57cGxheWxpc3Q6ZSxyZWJ1ZmZlcmluZ0ltcGFjdDpvWyJkZWZhdWx0Il0uZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWUoYSxuLGUpKmwtc319KSxnPW0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYnVmZmVyaW5nSW1wYWN0PD0wfSk7cmV0dXJuIGwoZyxmdW5jdGlvbihlLHQpe3JldHVybiBmKHQucGxheWxpc3QsZS5wbGF5bGlzdCl9KSxnLmxlbmd0aD9nWzBdOihsKG0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWJ1ZmZlcmluZ0ltcGFjdC10LnJlYnVmZmVyaW5nSW1wYWN0fSksbVswXXx8bnVsbCl9O2kubWluUmVidWZmZXJNYXhCYW5kd2lkdGhTZWxlY3Rvcj1nO3ZhciB5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wbGF5bGlzdHMubWFzdGVyLnBsYXlsaXN0cy5maWx0ZXIob1siZGVmYXVsdCJdLmlzRW5hYmxlZCk7cmV0dXJuIGwoZSxmdW5jdGlvbihlLHQpe3JldHVybiBmKGUsdCl9KSxlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4oMCx1LnBhcnNlQ29kZWNzKShlLmF0dHJpYnV0ZXMuQ09ERUNTKS52aWRlb0NvZGVjfSlbMF18fG51bGx9O2kubG93ZXN0Qml0cmF0ZUNvbXBhdGlibGVWYXJpYW50U2VsZWN0b3I9eX0se31dLDExOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LnZpZGVvanM6dm9pZCAwIT09dD90LnZpZGVvanM6bnVsbCxyPWUoMzIpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19KHIpLHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT0wLG49dC1lLm1lZGlhU2VxdWVuY2Uscj1lLnNlZ21lbnRzW25dO2lmKHIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygci5zdGFydClyZXR1cm57cmVzdWx0OnIuc3RhcnQscHJlY2lzZTohMH07aWYoInVuZGVmaW5lZCIhPXR5cGVvZiByLmVuZClyZXR1cm57cmVzdWx0OnIuZW5kLXIuZHVyYXRpb24scHJlY2lzZTohMH19Zm9yKDtuLS07KXtpZihyPWUuc2VnbWVudHNbbl0sInVuZGVmaW5lZCIhPXR5cGVvZiByLmVuZClyZXR1cm57cmVzdWx0Omkrci5lbmQscHJlY2lzZTohMH07aWYoaSs9ci5kdXJhdGlvbiwidW5kZWZpbmVkIiE9dHlwZW9mIHIuc3RhcnQpcmV0dXJue3Jlc3VsdDppK3Iuc3RhcnQscHJlY2lzZTohMH19cmV0dXJue3Jlc3VsdDppLHByZWNpc2U6ITF9fSxvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTAsbj11bmRlZmluZWQscj10LWUubWVkaWFTZXF1ZW5jZTtyPGUuc2VnbWVudHMubGVuZ3RoO3IrKyl7aWYobj1lLnNlZ21lbnRzW3JdLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5zdGFydClyZXR1cm57cmVzdWx0Om4uc3RhcnQtaSxwcmVjaXNlOiEwfTtpZihpKz1uLmR1cmF0aW9uLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5lbmQpcmV0dXJue3Jlc3VsdDpuLmVuZC1pLHByZWNpc2U6ITB9fXJldHVybntyZXN1bHQ6LTEscHJlY2lzZTohMX19LHU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXVuZGVmaW5lZCxyPXVuZGVmaW5lZDtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ZS5tZWRpYVNlcXVlbmNlK2Uuc2VnbWVudHMubGVuZ3RoKSx0PGUubWVkaWFTZXF1ZW5jZT8wOihuPXMoZSx0KSxuLnByZWNpc2U/bi5yZXN1bHQ6KHI9byhlLHQpLHIucHJlY2lzZT9yLnJlc3VsdDpuLnJlc3VsdCtpKSl9LGQ9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlKXJldHVybiAwO2lmKCJudW1iZXIiIT10eXBlb2YgaSYmKGk9MCksdm9pZCAwPT09dCl7aWYoZS50b3RhbER1cmF0aW9uKXJldHVybiBlLnRvdGFsRHVyYXRpb247aWYoIWUuZW5kTGlzdClyZXR1cm4gYVsiZGVmYXVsdCJdLkluZmluaXR5fXJldHVybiB1KGUsdCxpKX07aS5kdXJhdGlvbj1kO3ZhciBsPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj0wO2lmKHQ+aSl7dmFyIHI9W2ksdF07dD1yWzBdLGk9clsxXX1pZih0PDApe2Zvcih2YXIgYT10O2E8TWF0aC5taW4oMCxpKTthKyspbis9ZS50YXJnZXREdXJhdGlvbjt0PTB9Zm9yKHZhciBhPXQ7YTxpO2ErKyluKz1lLnNlZ21lbnRzW2FdLmR1cmF0aW9uO3JldHVybiBufTtpLnN1bUR1cmF0aW9ucz1sO3ZhciBmPWZ1bmN0aW9uKGUpe2lmKCFlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm4gMDtmb3IodmFyIHQ9ZS5zZWdtZW50cy5sZW5ndGgtMSxpPWUuc2VnbWVudHNbdF0uZHVyYXRpb258fGUudGFyZ2V0RHVyYXRpb24sbj1pKzIqZS50YXJnZXREdXJhdGlvbjt0LS0mJiEoKGkrPWUuc2VnbWVudHNbdF0uZHVyYXRpb24pPj1uKTspO3JldHVybiBNYXRoLm1heCgwLHQpfTtpLnNhZmVMaXZlSW5kZXg9Zjt2YXIgYz1mdW5jdGlvbihlLHQsaSl7aWYoIWV8fCFlLnNlZ21lbnRzKXJldHVybiBudWxsO2lmKGUuZW5kTGlzdClyZXR1cm4gZChlKTtpZihudWxsPT09dClyZXR1cm4gbnVsbDt0PXR8fDA7dmFyIG49aT9mKGUpOmUuc2VnbWVudHMubGVuZ3RoO3JldHVybiB1KGUsZS5tZWRpYVNlcXVlbmNlK24sdCl9O2kucGxheWxpc3RFbmQ9Yzt2YXIgaD1mdW5jdGlvbihlLHQpe3ZhciBpPXR8fDAscj1jKGUsdCwhMCk7cmV0dXJuIG51bGw9PT1yPygwLG4uY3JlYXRlVGltZVJhbmdlKSgpOigwLG4uY3JlYXRlVGltZVJhbmdlKShpLHIpfTtpLnNlZWthYmxlPWg7dmFyIHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUtTWF0aC5mbG9vcihlKT09MH0sbT1mdW5jdGlvbihlLHQpe2lmKHAodCkpcmV0dXJuIHQrLjEqZTtmb3IodmFyIGk9dC50b1N0cmluZygpLnNwbGl0KCIuIilbMV0ubGVuZ3RoLG49MTtuPD1pO24rKyl7dmFyIHI9TWF0aC5wb3coMTAsbiksYT10KnI7aWYocChhKXx8bj09PWkpcmV0dXJuKGErZSkvcn19LGc9bS5iaW5kKG51bGwsMSkseT1tLmJpbmQobnVsbCwtMSksXz1mdW5jdGlvbihlLHQsaSxuKXt2YXIgcj11bmRlZmluZWQsYT11bmRlZmluZWQscz1lLnNlZ21lbnRzLmxlbmd0aCxvPXQtbjtpZihvPDApe2lmKGk+MClmb3Iocj1pLTE7cj49MDtyLS0paWYoYT1lLnNlZ21lbnRzW3JdLChvKz15KGEuZHVyYXRpb24pKT4wKXJldHVybnttZWRpYUluZGV4OnIsc3RhcnRUaW1lOm4tbChlLGkscil9O3JldHVybnttZWRpYUluZGV4OjAsc3RhcnRUaW1lOnR9fWlmKGk8MCl7Zm9yKHI9aTtyPDA7cisrKWlmKChvLT1lLnRhcmdldER1cmF0aW9uKTwwKXJldHVybnttZWRpYUluZGV4OjAsc3RhcnRUaW1lOnR9O2k9MH1mb3Iocj1pO3I8cztyKyspaWYoYT1lLnNlZ21lbnRzW3JdLChvLT1nKGEuZHVyYXRpb24pKTwwKXJldHVybnttZWRpYUluZGV4OnIsc3RhcnRUaW1lOm4rbChlLGkscil9O3JldHVybnttZWRpYUluZGV4OnMtMSxzdGFydFRpbWU6dH19O2kuZ2V0TWVkaWFJbmZvRm9yVGltZT1fO3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybiBlLmV4Y2x1ZGVVbnRpbCYmZS5leGNsdWRlVW50aWw+RGF0ZS5ub3coKX07aS5pc0JsYWNrbGlzdGVkPXY7dmFyIGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXhjbHVkZVVudGlsJiZlLmV4Y2x1ZGVVbnRpbD09PUluZmluaXR5fTtpLmlzSW5jb21wYXRpYmxlPWI7dmFyIFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dihlKTtyZXR1cm4hZS5kaXNhYmxlZCYmIXR9O2kuaXNFbmFibGVkPVQ7dmFyIFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWR9O2kuaXNEaXNhYmxlZD1TO3ZhciB3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5zZWdtZW50cy5sZW5ndGg7dCsrKWlmKGUuc2VnbWVudHNbdF0ua2V5KXJldHVybiEwO3JldHVybiExfTtpLmlzQWVzPXc7dmFyIGs9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnNlZ21lbnRzLmxlbmd0aDt0KyspaWYoZS5zZWdtZW50c1t0XS5tYXApcmV0dXJuITA7cmV0dXJuITF9O2kuaXNGbXA0PWs7dmFyIE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5hdHRyaWJ1dGVzJiZ0LmF0dHJpYnV0ZXNbZV19O2kuaGFzQXR0cmlidXRlPU87dmFyIEU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg8PTN8fGFyZ3VtZW50c1szXT09PXVuZGVmaW5lZD8wOmFyZ3VtZW50c1szXTtyZXR1cm4gTygiQkFORFdJRFRIIixpKT8oZSppLmF0dHJpYnV0ZXMuQkFORFdJRFRILTgqbikvdDpOYU59O2kuZXN0aW1hdGVTZWdtZW50UmVxdWVzdFRpbWU9RTt2YXIgQT1mdW5jdGlvbihlLHQpe2lmKDE9PT1lLnBsYXlsaXN0cy5sZW5ndGgpcmV0dXJuITA7dmFyIGk9dC5hdHRyaWJ1dGVzLkJBTkRXSURUSHx8TnVtYmVyLk1BWF9WQUxVRTtyZXR1cm4gMD09PWUucGxheWxpc3RzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIVQoZSkmJihlLmF0dHJpYnV0ZXMuQkFORFdJRFRIfHwwKTxpfSkubGVuZ3RofTtpLmlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbj1BLGlbImRlZmF1bHQiXT17ZHVyYXRpb246ZCxzZWVrYWJsZTpoLHNhZmVMaXZlSW5kZXg6ZixnZXRNZWRpYUluZm9Gb3JUaW1lOl8saXNFbmFibGVkOlQsaXNEaXNhYmxlZDpTLGlzQmxhY2tsaXN0ZWQ6dixpc0luY29tcGF0aWJsZTpiLHBsYXlsaXN0RW5kOmMsaXNBZXM6dyxpc0ZtcDQ6ayxoYXNBdHRyaWJ1dGU6Tyxlc3RpbWF0ZVNlZ21lbnRSZXF1ZXN0VGltZTpFLGlzTG93ZXN0RW5hYmxlZFJlbmRpdGlvbjpBfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDEyOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIGk9W10sbj0hMCxyPSExLGE9dW5kZWZpbmVkO3RyeXtmb3IodmFyIHMsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHM9by5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHMudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO249ITApO31jYXRjaCh1KXtyPSEwLGE9dX1maW5hbGx5e3RyeXshbiYmb1sicmV0dXJuIl0mJm9bInJldHVybiJdKCl9ZmluYWxseXtpZihyKXRocm93IGF9fXJldHVybiBpfXJldHVybiBmdW5jdGlvbih0LGkpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gZSh0LGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19KCkscj0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cudmlkZW9qczp2b2lkIDAhPT1lP2UudmlkZW9qczpudWxsLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19KHIpLHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uKHQsMikscj1pWzBdLGE9aVsxXTtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgocixlKSxhKX0sbz1mdW5jdGlvbihlLHQpe3ZhciBpPVtdLG49dW5kZWZpbmVkO2lmKGUmJmUubGVuZ3RoKWZvcihuPTA7bjxlLmxlbmd0aDtuKyspdChlLnN0YXJ0KG4pLGUuZW5kKG4pKSYmaS5wdXNoKFtlLnN0YXJ0KG4pLGUuZW5kKG4pXSk7cmV0dXJuIGFbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKGkpfSx1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSxmdW5jdGlvbihlLGkpe3JldHVybiBlLTEvMzA8PXQmJmkrMS8zMD49dH0pfSxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSxmdW5jdGlvbihlKXtyZXR1cm4gZS0xLzMwPj10fSl9LGw9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg8MilyZXR1cm4gYVsiZGVmYXVsdCJdLmNyZWF0ZVRpbWVSYW5nZXMoKTtmb3IodmFyIHQ9W10saT0xO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lLmVuZChpLTEpLHI9ZS5zdGFydChpKTt0LnB1c2goW24scl0pfXJldHVybiBhWyJkZWZhdWx0Il0uY3JlYXRlVGltZVJhbmdlcyh0KX0sZj1mdW5jdGlvbihlLHQpe3ZhciBpPXVuZGVmaW5lZCxuPXVuZGVmaW5lZCxyPXVuZGVmaW5lZCxhPVtdLHM9W10sbz1mdW5jdGlvbihlKXtyZXR1cm4gZVswXTw9ciYmZVsxXT49cn07aWYoZSlmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKW49ZS5zdGFydChpKSxyPWUuZW5kKGkpLHMucHVzaChbbixyXSk7aWYodClmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKW49dC5zdGFydChpKSxyPXQuZW5kKGkpLHMuc29tZShvKXx8YS5wdXNoKHIpO3JldHVybiAxIT09YS5sZW5ndGg/bnVsbDphWzBdfSxjPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bnVsbCxuPW51bGwscj0wLHM9W10sbz1bXTtpZighKGUmJmUubGVuZ3RoJiZ0JiZ0Lmxlbmd0aCkpcmV0dXJuIGFbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2UoKTtmb3IodmFyIHU9ZS5sZW5ndGg7dS0tOylzLnB1c2goe3RpbWU6ZS5zdGFydCh1KSx0eXBlOiJzdGFydCJ9KSxzLnB1c2goe3RpbWU6ZS5lbmQodSksdHlwZToiZW5kIn0pO2Zvcih1PXQubGVuZ3RoO3UtLTspcy5wdXNoKHt0aW1lOnQuc3RhcnQodSksdHlwZToic3RhcnQifSkscy5wdXNoKHt0aW1lOnQuZW5kKHUpLHR5cGU6ImVuZCJ9KTtmb3Iocy5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGltZS10LnRpbWV9KSx1PTA7dTxzLmxlbmd0aDt1KyspInN0YXJ0Ij09PXNbdV0udHlwZT8yPT09KytyJiYoaT1zW3VdLnRpbWUpOiJlbmQiPT09c1t1XS50eXBlJiYxPT09LS1yJiYobj1zW3VdLnRpbWUpLG51bGwhPT1pJiZudWxsIT09biYmKG8ucHVzaChbaSxuXSksaT1udWxsLG49bnVsbCk7cmV0dXJuIGFbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKG8pfSxoPWZ1bmN0aW9uKGUsdCxpLG4pe2Zvcih2YXIgcj10LmVuZCgwKS10LnN0YXJ0KDApLGE9ZS5lbmQoMCktZS5zdGFydCgwKSxzPXItYSxvPWMoZSxuKSx1PWModCxuKSxkPTAsbD0wLGY9by5sZW5ndGg7Zi0tOylkKz1vLmVuZChmKS1vLnN0YXJ0KGYpLG8uc3RhcnQoZik9PT1pJiYoZCs9cyk7Zm9yKGY9dS5sZW5ndGg7Zi0tOylsKz11LmVuZChmKS11LnN0YXJ0KGYpO3JldHVybiBNYXRoLm1heChkLGwpL3IqMTAwfSxwPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPWUrdCxvPWFbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKFtbZSxyXV0pLHU9YVsiZGVmYXVsdCJdLmNyZWF0ZVRpbWVSYW5nZXMoW1tzKGUsW2kscl0pLHJdXSk7aWYodS5zdGFydCgwKT09PXUuZW5kKDApKXJldHVybiAwO3ZhciBkPWgodSxvLGksbik7cmV0dXJuIGlzTmFOKGQpfHxkPT09SW5maW5pdHl8fGQ9PT0tSW5maW5pdHk/MDpkfSxtPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuIiI7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspdC5wdXNoKGUuc3RhcnQoaSkrIiA9PiAiK2UuZW5kKGkpKTtyZXR1cm4gdC5qb2luKCIsICIpfSxnPWZ1bmN0aW9uKGUsdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8YXJndW1lbnRzWzJdPT09dW5kZWZpbmVkPzE6YXJndW1lbnRzWzJdO3JldHVybigoZS5sZW5ndGg/ZS5lbmQoZS5sZW5ndGgtMSk6MCktdCkvaX07aVsiZGVmYXVsdCJdPXtmaW5kUmFuZ2U6dSxmaW5kTmV4dFJhbmdlOmQsZmluZEdhcHM6bCxmaW5kU29sZVVuY29tbW9uVGltZVJhbmdlc0VuZDpmLGdldFNlZ21lbnRCdWZmZXJlZFBlcmNlbnQ6cCxUSU1FX0ZVREdFX0ZBQ1RPUjoxLzMwLFNBRkVfVElNRV9ERUxUQTouMSxwcmludGFibGVSYW5nZTptLHRpbWVVbnRpbFJlYnVmZmVyOmd9LHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxMzpbZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PWU/ZS52aWRlb2pzOm51bGwscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX0obiksYT17ZXJyb3JJbnRlcnZhbDozMCxnZXRTb3VyY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUodGhpcy50ZWNoKHtJV2lsbE5vdFVzZVRoaXNJblBsdWdpbnM6ITB9KS5jdXJyZW50U291cmNlXyl9fSxzPWZ1bmN0aW9uIHUoZSx0KXt2YXIgaT0wLG49MCxzPXJbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnMoYSx0KTtlLnJlYWR5KGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWVycm9yLXJlbG9hZC1pbml0aWFsaXplZCJ9KX0pO3ZhciBvPWZ1bmN0aW9uKCl7biYmZS5jdXJyZW50VGltZShuKX0sZD1mdW5jdGlvbih0KXtudWxsIT09dCYmdCE9PXVuZGVmaW5lZCYmKG49ZS5kdXJhdGlvbigpIT09SW5maW5pdHkmJmUuY3VycmVudFRpbWUoKXx8MCxlLm9uZSgibG9hZGVkbWV0YWRhdGEiLG8pLGUuc3JjKHQpLGUudHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1lcnJvci1yZWxvYWQifSksZS5wbGF5KCkpfSxsPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktaTwxZTMqcy5lcnJvckludGVydmFsP3ZvaWQgZS50cmlnZ2VyKHt0eXBlOiJ1c2FnZSIsbmFtZToiaGxzLWVycm9yLXJlbG9hZC1jYW5jZWxlZCJ9KTpzLmdldFNvdXJjZSYmImZ1bmN0aW9uIj09dHlwZW9mIHMuZ2V0U291cmNlPyhpPURhdGUubm93KCkscy5nZXRTb3VyY2UuY2FsbChlLGQpKTp2b2lkIHJbImRlZmF1bHQiXS5sb2cuZXJyb3IoIkVSUk9SOiByZWxvYWRTb3VyY2VPbkVycm9yIC0gVGhlIG9wdGlvbiBnZXRTb3VyY2UgbXVzdCBiZSBhIGZ1bmN0aW9uISIpfSxmPWZ1bmN0aW9uIGgoKXtlLm9mZigibG9hZGVkbWV0YWRhdGEiLG8pLGUub2ZmKCJlcnJvciIsbCksZS5vZmYoImRpc3Bvc2UiLGgpfSxjPWZ1bmN0aW9uKHQpe2YoKSx1KGUsdCl9O2Uub24oImVycm9yIixsKSxlLm9uKCJkaXNwb3NlIixmKSxlLnJlbG9hZFNvdXJjZU9uRXJyb3I9Y30sbz1mdW5jdGlvbihlKXtzKHRoaXMsZSl9O2lbImRlZmF1bHQiXT1vLHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxNDpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWUoMTEpLGE9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgYT1lLm1hc3Rlci5wbGF5bGlzdHNbdF0scz0oMCxyLmlzSW5jb21wYXRpYmxlKShhKSxvPSgwLHIuaXNFbmFibGVkKShhKTtyZXR1cm4gdm9pZCAwPT09bj9vOihuP2RlbGV0ZSBhLmRpc2FibGVkOmEuZGlzYWJsZWQ9ITAsbj09PW98fHN8fChpKCksbj9lLnRyaWdnZXIoInJlbmRpdGlvbmVuYWJsZWQiKTplLnRyaWdnZXIoInJlbmRpdGlvbmRpc2FibGVkIikpLG4pfX0scz1mdW5jdGlvbiB1KGUsdCxpKXtuKHRoaXMsdSk7dmFyIHI9ZS5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLmZhc3RRdWFsaXR5Q2hhbmdlXy5iaW5kKGUubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXyk7aWYodC5hdHRyaWJ1dGVzLlJFU09MVVRJT04pe3ZhciBzPXQuYXR0cmlidXRlcy5SRVNPTFVUSU9OO3RoaXMud2lkdGg9cy53aWR0aCx0aGlzLmhlaWdodD1zLmhlaWdodH10aGlzLmJhbmR3aWR0aD10LmF0dHJpYnV0ZXMuQkFORFdJRFRILHRoaXMuaWQ9aSx0aGlzLmVuYWJsZWQ9YShlLnBsYXlsaXN0cyx0LnVyaSxyKX0sbz1mdW5jdGlvbihlKXt2YXIgdD1lLnBsYXlsaXN0cztlLnJlcHJlc2VudGF0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0Lm1hc3Rlci5wbGF5bGlzdHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEoMCxyLmlzSW5jb21wYXRpYmxlKShlKX0pLm1hcChmdW5jdGlvbih0LGkpe3JldHVybiBuZXcgcyhlLHQsdC51cmkpfSl9fTtpWyJkZWZhdWx0Il09byx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sMTU6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZSg2MyksYT1uKHIpLHM9ZSgzMiksbz1uKHMpLHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4vXlthLXpdKzovaS50ZXN0KHQpP3Q6KC9cL1wvL2kudGVzdChlKXx8KGU9YVsiZGVmYXVsdCJdLmJ1aWxkQWJzb2x1dGVVUkwob1siZGVmYXVsdCJdLmxvY2F0aW9uLmhyZWYsZSkpLGFbImRlZmF1bHQiXS5idWlsZEFic29sdXRlVVJMKGUsdCkpfTtpWyJkZWZhdWx0Il09dSx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUsYT10LHM9aTtuPSExLG51bGw9PT1yJiYocj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixhKTtpZihvIT09dW5kZWZpbmVkKXtpZigidmFsdWUiaW4gbylyZXR1cm4gby52YWx1ZTt2YXIgdT1vLmdldDtyZXR1cm4gdT09PXVuZGVmaW5lZD91bmRlZmluZWQ6dS5jYWxsKHMpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtpZihudWxsPT09ZClyZXR1cm4gdW5kZWZpbmVkO2U9ZCx0PWEsaT1zLG49ITAsbz1kPXVuZGVmaW5lZH19LHU9ZSgxMSksZD1uKHUpLGw9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LnZpZGVvanM6dm9pZCAwIT09dD90LnZpZGVvanM6bnVsbCxmPW4obCksYz1lKDE3KSxoPW4oYykscD1lKDMpLG09bihwKSxnPWUoMzIpLHk9bihnKSxfPWUoNzIpLHY9bihfKSxiPWUoMiksVD1lKDcpLFM9ZSgxMiksdz1lKDEwKSxrPWZ1bmN0aW9uKGUsdCxpKXtpZighZXx8IXQpcmV0dXJuITE7dmFyIG49ZS5zZWdtZW50cyxyPWk9PT1uLmxlbmd0aDtyZXR1cm4gZS5lbmRMaXN0JiYib3BlbiI9PT10LnJlYWR5U3RhdGUmJnJ9LE89ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKX0sRT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIm1haW4iPT09ZSYmdCYmaT9pLmNvbnRhaW5zQXVkaW98fGkuY29udGFpbnNWaWRlbz90LmNvbnRhaW5zVmlkZW8mJiFpLmNvbnRhaW5zVmlkZW8/Ik9ubHkgYXVkaW8gZm91bmQgaW4gc2VnbWVudCB3aGVuIHdlIGV4cGVjdGVkIHZpZGVvLiBXZSBjYW4ndCBzd2l0Y2ggdG8gYXVkaW8gb25seSBmcm9tIGEgc3RyZWFtIHRoYXQgaGFkIHZpZGVvLiBUbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgcGxlYXNlIGFkZCBjb2RlYyBpbmZvcm1hdGlvbiB0byB0aGUgbWFuaWZlc3QuIjohdC5jb250YWluc1ZpZGVvJiZpLmNvbnRhaW5zVmlkZW8/IlZpZGVvIGZvdW5kIGluIHNlZ21lbnQgd2hlbiB3ZSBleHBlY3RlZCBvbmx5IGF1ZGlvLiBXZSBjYW4ndCBzd2l0Y2ggdG8gYSBzdHJlYW0gd2l0aCB2aWRlbyBmcm9tIGFuIGF1ZGlvIG9ubHkgc3RyZWFtLiBUbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgcGxlYXNlIGFkZCBjb2RlYyBpbmZvcm1hdGlvbiB0byB0aGUgbWFuaWZlc3QuIjpudWxsOiJOZWl0aGVyIGF1ZGlvIG5vciB2aWRlbyBmb3VuZCBpbiBzZWdtZW50LiI6bnVsbH07aS5pbGxlZ2FsTWVkaWFTd2l0Y2g9RTt2YXIgQT1mdW5jdGlvbihlLHQsaSl7dmFyIG49dW5kZWZpbmVkO3JldHVybiBuPWUubGVuZ3RoJiZlLnN0YXJ0KDApPjAmJmUuc3RhcnQoMCk8dD9lLnN0YXJ0KDApOnQtMzAsTWF0aC5taW4obix0LWkpfTtpLnNhZmVCYWNrQnVmZmVyVHJpbVRpbWU9QTt2YXIgTD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBpPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPD0xfHxhcmd1bWVudHNbMV09PT11bmRlZmluZWQ/e306YXJndW1lbnRzWzFdO2lmKHIodGhpcyx0KSxvKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpLCFlKXRocm93IG5ldyBUeXBlRXJyb3IoIkluaXRpYWxpemF0aW9uIHNldHRpbmdzIGFyZSByZXF1aXJlZCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLmN1cnJlbnRUaW1lKXRocm93IG5ldyBUeXBlRXJyb3IoIk5vIGN1cnJlbnRUaW1lIGdldHRlciBzcGVjaWZpZWQiKTtpZighZS5tZWRpYVNvdXJjZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJObyBNZWRpYVNvdXJjZSBzcGVjaWZpZWQiKTt0aGlzLnN0YXRlPSJJTklUIix0aGlzLmJhbmR3aWR0aD1lLmJhbmR3aWR0aCx0aGlzLnRocm91Z2hwdXQ9e3JhdGU6MCxjb3VudDowfSx0aGlzLnJvdW5kVHJpcD1OYU4sdGhpcy5yZXNldFN0YXRzXygpLHRoaXMubWVkaWFJbmRleD1udWxsLHRoaXMuaGFzUGxheWVkXz1lLmhhc1BsYXllZCx0aGlzLmN1cnJlbnRUaW1lXz1lLmN1cnJlbnRUaW1lLHRoaXMuc2Vla2FibGVfPWUuc2Vla2FibGUsdGhpcy5zZWVraW5nXz1lLnNlZWtpbmcsdGhpcy5kdXJhdGlvbl89ZS5kdXJhdGlvbix0aGlzLm1lZGlhU291cmNlXz1lLm1lZGlhU291cmNlLHRoaXMuaGxzXz1lLmhscyx0aGlzLmxvYWRlclR5cGVfPWUubG9hZGVyVHlwZSx0aGlzLnN0YXJ0aW5nTWVkaWFfPXZvaWQgMCx0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXz1lLnNlZ21lbnRNZXRhZGF0YVRyYWNrLHRoaXMuZ29hbEJ1ZmZlckxlbmd0aF89ZS5nb2FsQnVmZmVyTGVuZ3RoLHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0Xz1udWxsLHRoaXMuZXJyb3JfPXZvaWQgMCx0aGlzLmN1cnJlbnRUaW1lbGluZV89LTEsdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx0aGlzLm1pbWVUeXBlXz1udWxsLHRoaXMuc291cmNlVXBkYXRlcl89bnVsbCx0aGlzLnhock9wdGlvbnNfPW51bGwsdGhpcy5hY3RpdmVJbml0U2VnbWVudElkXz1udWxsLHRoaXMuaW5pdFNlZ21lbnRzXz17fSx0aGlzLmRlY3J5cHRlcl89ZS5kZWNyeXB0ZXIsdGhpcy5zeW5jQ29udHJvbGxlcl89ZS5zeW5jQ29udHJvbGxlcix0aGlzLnN5bmNQb2ludF89e3NlZ21lbnRJbmRleDowLHRpbWU6MH0sdGhpcy5zeW5jQ29udHJvbGxlcl8ub24oInN5bmNpbmZvdXBkYXRlIixmdW5jdGlvbigpe3JldHVybiBpLnRyaWdnZXIoInN5bmNpbmZvdXBkYXRlIil9KSx0aGlzLm1lZGlhU291cmNlXy5hZGRFdmVudExpc3RlbmVyKCJzb3VyY2VvcGVuIixmdW5jdGlvbigpe3JldHVybiBpLmVuZGVkXz0hMX0pLHRoaXMuZmV0Y2hBdEJ1ZmZlcl89ITEsbi5kZWJ1ZyYmKHRoaXMubG9nZ2VyXz1mWyJkZWZhdWx0Il0ubG9nLmJpbmQoZlsiZGVmYXVsdCJdLCJzZWdtZW50LWxvYWRlciIsdGhpcy5sb2FkZXJUeXBlXywiLT4iKSl9cmV0dXJuIGEodCxlKSxzKHQsW3trZXk6InJlc2V0U3RhdHNfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubWVkaWFCeXRlc1RyYW5zZmVycmVkPTAsdGhpcy5tZWRpYVJlcXVlc3RzPTAsdGhpcy5tZWRpYVJlcXVlc3RzQWJvcnRlZD0wLHRoaXMubWVkaWFSZXF1ZXN0c1RpbWVkb3V0PTAsdGhpcy5tZWRpYVJlcXVlc3RzRXJyb3JlZD0wLHRoaXMubWVkaWFUcmFuc2ZlckR1cmF0aW9uPTAsdGhpcy5tZWRpYVNlY29uZHNMb2FkZWQ9MH19LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0iRElTUE9TRUQiLHRoaXMucGF1c2UoKSx0aGlzLmFib3J0XygpLHRoaXMuc291cmNlVXBkYXRlcl8mJnRoaXMuc291cmNlVXBkYXRlcl8uZGlzcG9zZSgpLHRoaXMucmVzZXRTdGF0c18oKX19LHtrZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpe2lmKCJXQUlUSU5HIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQodGhpcy5wZW5kaW5nU2VnbWVudF8mJih0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsKSk7dGhpcy5hYm9ydF8oKSx0aGlzLnN0YXRlPSJSRUFEWSIsdGhpcy5wYXVzZWQoKXx8dGhpcy5tb25pdG9yQnVmZmVyXygpfX0se2tleToiYWJvcnRfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGVuZGluZ1NlZ21lbnRfJiZ0aGlzLnBlbmRpbmdTZWdtZW50Xy5hYm9ydFJlcXVlc3RzKCksdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbH19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKHRoaXMuZXJyb3JfPWUpLHRoaXMucGVuZGluZ1NlZ21lbnRfPW51bGwsdGhpcy5lcnJvcl99fSx7a2V5OiJlbmRPZlN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVuZGVkXz0hMCx0aGlzLnBhdXNlKCksdGhpcy50cmlnZ2VyKCJlbmRlZCIpfX0se2tleToiYnVmZmVyZWRfIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZVVwZGF0ZXJfP3RoaXMuc291cmNlVXBkYXRlcl8uYnVmZmVyZWQoKTpmWyJkZWZhdWx0Il0uY3JlYXRlVGltZVJhbmdlcygpfX0se2tleToiaW5pdFNlZ21lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aDw9MXx8YXJndW1lbnRzWzFdPT09dW5kZWZpbmVkKSYmYXJndW1lbnRzWzFdO2lmKCFlKXJldHVybiBudWxsO3ZhciBpPSgwLGIuaW5pdFNlZ21lbnRJZCkoZSksbj10aGlzLmluaXRTZWdtZW50c19baV07cmV0dXJuIHQmJiFuJiZlLmJ5dGVzJiYodGhpcy5pbml0U2VnbWVudHNfW2ldPW49e3Jlc29sdmVkVXJpOmUucmVzb2x2ZWRVcmksYnl0ZXJhbmdlOmUuYnl0ZXJhbmdlLGJ5dGVzOmUuYnl0ZXN9KSxufHxlfX0sewprZXk6ImNvdWxkQmVnaW5Mb2FkaW5nXyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGF5bGlzdF8mJih0aGlzLnNvdXJjZVVwZGF0ZXJffHx0aGlzLm1pbWVUeXBlXyYmIklOSVQiPT09dGhpcy5zdGF0ZSkmJiF0aGlzLnBhdXNlZCgpfX0se2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLm1vbml0b3JCdWZmZXJfKCksdGhpcy5wbGF5bGlzdF8pe2lmKHRoaXMuc3luY0NvbnRyb2xsZXJfLnNldERhdGVUaW1lTWFwcGluZyh0aGlzLnBsYXlsaXN0XyksIklOSVQiPT09dGhpcy5zdGF0ZSYmdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSlyZXR1cm4gdGhpcy5pbml0XygpOyF0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpfHwiUkVBRFkiIT09dGhpcy5zdGF0ZSYmIklOSVQiIT09dGhpcy5zdGF0ZXx8KHRoaXMuc3RhdGU9IlJFQURZIil9fX0se2tleToiaW5pdF8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9IlJFQURZIix0aGlzLnNvdXJjZVVwZGF0ZXJfPW5ldyBoWyJkZWZhdWx0Il0odGhpcy5tZWRpYVNvdXJjZV8sdGhpcy5taW1lVHlwZV8pLHRoaXMucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5tb25pdG9yQnVmZmVyXygpfX0se2tleToicGxheWxpc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTF8fGFyZ3VtZW50c1sxXT09PXVuZGVmaW5lZD97fTphcmd1bWVudHNbMV07aWYoZSl7dmFyIGk9dGhpcy5wbGF5bGlzdF8sbj10aGlzLnBlbmRpbmdTZWdtZW50XztpZih0aGlzLnBsYXlsaXN0Xz1lLHRoaXMueGhyT3B0aW9uc189dCx0aGlzLmhhc1BsYXllZF8oKXx8KGUuc3luY0luZm89e21lZGlhU2VxdWVuY2U6ZS5tZWRpYVNlcXVlbmNlLHRpbWU6MH0pLHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKSwiSU5JVCI9PT10aGlzLnN0YXRlJiZ0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpKXJldHVybiB0aGlzLmluaXRfKCk7aWYoIWl8fGkudXJpIT09ZS51cmkpcmV0dXJuIHZvaWQobnVsbCE9PXRoaXMubWVkaWFJbmRleCYmdGhpcy5yZXN5bmNMb2FkZXIoKSk7dmFyIHI9ZS5tZWRpYVNlcXVlbmNlLWkubWVkaWFTZXF1ZW5jZTt0aGlzLmxvZ2dlcl8oIm1lZGlhU2VxdWVuY2VEaWZmIixyKSxudWxsIT09dGhpcy5tZWRpYUluZGV4JiYodGhpcy5tZWRpYUluZGV4LT1yKSxuJiYobi5tZWRpYUluZGV4LT1yLG4ubWVkaWFJbmRleD49MCYmKG4uc2VnbWVudD1lLnNlZ21lbnRzW24ubWVkaWFJbmRleF0pKSx0aGlzLnN5bmNDb250cm9sbGVyXy5zYXZlRXhwaXJlZFNlZ21lbnRJbmZvKGksZSl9fX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfJiYoeVsiZGVmYXVsdCJdLmNsZWFyVGltZW91dCh0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8pLHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0Xz1udWxsKX19LHtrZXk6InBhdXNlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0X319LHtrZXk6Im1pbWVUeXBlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1pbWVUeXBlX3x8KHRoaXMubWltZVR5cGVfPWUsIklOSVQiPT09dGhpcy5zdGF0ZSYmdGhpcy5jb3VsZEJlZ2luTG9hZGluZ18oKSYmdGhpcy5pbml0XygpKX19LHtrZXk6InJlc2V0RXZlcnl0aGluZyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVuZGVkXz0hMSx0aGlzLnJlc2V0TG9hZGVyKCksdGhpcy5yZW1vdmUoMCx0aGlzLmR1cmF0aW9uXygpKSx0aGlzLnRyaWdnZXIoInJlc2V0ZXZlcnl0aGluZyIpfX0se2tleToicmVzZXRMb2FkZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mZXRjaEF0QnVmZmVyXz0hMSx0aGlzLnJlc3luY0xvYWRlcigpfX0se2tleToicmVzeW5jTG9hZGVyIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubWVkaWFJbmRleD1udWxsLHRoaXMuc3luY1BvaW50Xz1udWxsLHRoaXMuYWJvcnQoKX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnNvdXJjZVVwZGF0ZXJfJiZ0aGlzLnNvdXJjZVVwZGF0ZXJfLnJlbW92ZShlLHQpLCgwLHZbImRlZmF1bHQiXSkoZSx0LHRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfKX19LHtrZXk6Im1vbml0b3JCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyYmeVsiZGVmYXVsdCJdLmNsZWFyVGltZW91dCh0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8pLHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0Xz15WyJkZWZhdWx0Il0uc2V0VGltZW91dCh0aGlzLm1vbml0b3JCdWZmZXJUaWNrXy5iaW5kKHRoaXMpLDEpfX0se2tleToibW9uaXRvckJ1ZmZlclRpY2tfIix2YWx1ZTpmdW5jdGlvbigpeyJSRUFEWSI9PT10aGlzLnN0YXRlJiZ0aGlzLmZpbGxCdWZmZXJfKCksdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfJiZ5WyJkZWZhdWx0Il0uY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyksdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfPXlbImRlZmF1bHQiXS5zZXRUaW1lb3V0KHRoaXMubW9uaXRvckJ1ZmZlclRpY2tfLmJpbmQodGhpcyksNTAwKX19LHtrZXk6ImZpbGxCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnNvdXJjZVVwZGF0ZXJfLnVwZGF0aW5nKCkpe3RoaXMuc3luY1BvaW50X3x8KHRoaXMuc3luY1BvaW50Xz10aGlzLnN5bmNDb250cm9sbGVyXy5nZXRTeW5jUG9pbnQodGhpcy5wbGF5bGlzdF8sdGhpcy5kdXJhdGlvbl8oKSx0aGlzLmN1cnJlbnRUaW1lbGluZV8sdGhpcy5jdXJyZW50VGltZV8oKSkpO3ZhciBlPXRoaXMuY2hlY2tCdWZmZXJfKHRoaXMuYnVmZmVyZWRfKCksdGhpcy5wbGF5bGlzdF8sdGhpcy5tZWRpYUluZGV4LHRoaXMuaGFzUGxheWVkXygpLHRoaXMuY3VycmVudFRpbWVfKCksdGhpcy5zeW5jUG9pbnRfKTtpZihlKXtpZihrKHRoaXMucGxheWxpc3RfLHRoaXMubWVkaWFTb3VyY2VfLGUubWVkaWFJbmRleCkpcmV0dXJuIHZvaWQgdGhpcy5lbmRPZlN0cmVhbSgpOyhlLm1lZGlhSW5kZXghPT10aGlzLnBsYXlsaXN0Xy5zZWdtZW50cy5sZW5ndGgtMXx8ImVuZGVkIiE9PXRoaXMubWVkaWFTb3VyY2VfLnJlYWR5U3RhdGV8fHRoaXMuc2Vla2luZ18oKSkmJigoZS50aW1lbGluZSE9PXRoaXMuY3VycmVudFRpbWVsaW5lX3x8bnVsbCE9PWUuc3RhcnRPZlNlZ21lbnQmJmUuc3RhcnRPZlNlZ21lbnQ8dGhpcy5zb3VyY2VVcGRhdGVyXy50aW1lc3RhbXBPZmZzZXQoKSkmJih0aGlzLnN5bmNDb250cm9sbGVyXy5yZXNldCgpLGUudGltZXN0YW1wT2Zmc2V0PWUuc3RhcnRPZlNlZ21lbnQpLHRoaXMubG9hZFNlZ21lbnRfKGUpKX19fX0se2tleToiY2hlY2tCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuLHIsYSl7dmFyIHM9MCxvPXVuZGVmaW5lZDtlLmxlbmd0aCYmKHM9ZS5lbmQoZS5sZW5ndGgtMSkpO3ZhciB1PU1hdGgubWF4KDAscy1yKTtpZighdC5zZWdtZW50cy5sZW5ndGgpcmV0dXJuIG51bGw7aWYodT49dGhpcy5nb2FsQnVmZmVyTGVuZ3RoXygpKXJldHVybiBudWxsO2lmKCFuJiZ1Pj0xKXJldHVybiBudWxsO2lmKHRoaXMubG9nZ2VyXygiY2hlY2tCdWZmZXJfIiwibWVkaWFJbmRleDoiLGksImhhc1BsYXllZDoiLG4sImN1cnJlbnRUaW1lOiIsciwic3luY1BvaW50OiIsYSwiZmV0Y2hBdEJ1ZmZlcjoiLHRoaXMuZmV0Y2hBdEJ1ZmZlcl8sImJ1ZmZlcmVkVGltZToiLHUpLG51bGw9PT1hKXJldHVybiBpPXRoaXMuZ2V0U3luY1NlZ21lbnRDYW5kaWRhdGVfKHQpLHRoaXMubG9nZ2VyXygiZ2V0U3luYyIsIm1lZGlhSW5kZXg6IixpKSx0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKHQsaSxudWxsLCEwKTtpZihudWxsIT09aSl7dGhpcy5sb2dnZXJfKCJ3YWxrRm9yd2FyZCIsIm1lZGlhSW5kZXg6IixpKzEpO3ZhciBsPXQuc2VnbWVudHNbaV07cmV0dXJuIG89bCYmbC5lbmQ/bC5lbmQ6cyx0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKHQsaSsxLG8sITEpfWlmKHRoaXMuZmV0Y2hBdEJ1ZmZlcl8pe3ZhciBmPWRbImRlZmF1bHQiXS5nZXRNZWRpYUluZm9Gb3JUaW1lKHQscyxhLnNlZ21lbnRJbmRleCxhLnRpbWUpO2k9Zi5tZWRpYUluZGV4LG89Zi5zdGFydFRpbWV9ZWxzZXt2YXIgZj1kWyJkZWZhdWx0Il0uZ2V0TWVkaWFJbmZvRm9yVGltZSh0LHIsYS5zZWdtZW50SW5kZXgsYS50aW1lKTtpPWYubWVkaWFJbmRleCxvPWYuc3RhcnRUaW1lfXJldHVybiB0aGlzLmxvZ2dlcl8oImdldE1lZGlhSW5kZXhGb3JUaW1lIiwibWVkaWFJbmRleDoiLGksInN0YXJ0T2ZTZWdtZW50OiIsbyksdGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyh0LGksbywhMSl9fSx7a2V5OiJnZXRTeW5jU2VnbWVudENhbmRpZGF0ZV8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoLTE9PT10aGlzLmN1cnJlbnRUaW1lbGluZV8pcmV0dXJuIDA7dmFyIGk9ZS5zZWdtZW50cy5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57dGltZWxpbmU6ZS50aW1lbGluZSxzZWdtZW50SW5kZXg6dH19KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZWxpbmU9PT10LmN1cnJlbnRUaW1lbGluZV99KTtyZXR1cm4gaS5sZW5ndGg/aVtNYXRoLm1pbihpLmxlbmd0aC0xLDEpXS5zZWdtZW50SW5kZXg6TWF0aC5tYXgoZS5zZWdtZW50cy5sZW5ndGgtMSwwKX19LHtrZXk6ImdlbmVyYXRlU2VnbWVudEluZm9fIix2YWx1ZTpmdW5jdGlvbihlLHQsaSxuKXtpZih0PDB8fHQ+PWUuc2VnbWVudHMubGVuZ3RoKXJldHVybiBudWxsO3ZhciByPWUuc2VnbWVudHNbdF07cmV0dXJue3JlcXVlc3RJZDoic2VnbWVudC1sb2FkZXItIitNYXRoLnJhbmRvbSgpLHVyaTpyLnJlc29sdmVkVXJpLG1lZGlhSW5kZXg6dCxpc1N5bmNSZXF1ZXN0Om4sc3RhcnRPZlNlZ21lbnQ6aSxwbGF5bGlzdDplLGJ5dGVzOm51bGwsZW5jcnlwdGVkQnl0ZXM6bnVsbCx0aW1lc3RhbXBPZmZzZXQ6bnVsbCx0aW1lbGluZTpyLnRpbWVsaW5lLGR1cmF0aW9uOnIuZHVyYXRpb24sc2VnbWVudDpyfX19LHtrZXk6ImFib3J0UmVxdWVzdEVhcmx5XyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5obHNfLnRlY2hfLnBhdXNlZCgpfHwhdGhpcy54aHJPcHRpb25zXy50aW1lb3V0fHwhdGhpcy5wbGF5bGlzdF8uYXR0cmlidXRlcy5CQU5EV0lEVEgpcmV0dXJuITE7aWYoRGF0ZS5ub3coKS0oZS5maXJzdEJ5dGVzUmVjZWl2ZWRBdHx8RGF0ZS5ub3coKSk8MWUzKXJldHVybiExO3ZhciB0PXRoaXMuY3VycmVudFRpbWVfKCksaT1lLmJhbmR3aWR0aCxuPXRoaXMucGVuZGluZ1NlZ21lbnRfLmR1cmF0aW9uLHI9ZFsiZGVmYXVsdCJdLmVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lKG4saSx0aGlzLnBsYXlsaXN0XyxlLmJ5dGVzUmVjZWl2ZWQpLGE9KDAsUy50aW1lVW50aWxSZWJ1ZmZlcikodGhpcy5idWZmZXJlZF8oKSx0LHRoaXMuaGxzXy50ZWNoXy5wbGF5YmFja1JhdGUoKSktMTtpZihyPD1hKXJldHVybiExO3ZhciBzPSgwLHcubWluUmVidWZmZXJNYXhCYW5kd2lkdGhTZWxlY3Rvcikoe21hc3Rlcjp0aGlzLmhsc18ucGxheWxpc3RzLm1hc3RlcixjdXJyZW50VGltZTp0LGJhbmR3aWR0aDppLGR1cmF0aW9uOnRoaXMuZHVyYXRpb25fKCksc2VnbWVudER1cmF0aW9uOm4sdGltZVVudGlsUmVidWZmZXI6YSxjdXJyZW50VGltZWxpbmU6dGhpcy5jdXJyZW50VGltZWxpbmVfLHN5bmNDb250cm9sbGVyOnRoaXMuc3luY0NvbnRyb2xsZXJffSk7aWYocyl7dmFyIG89ci1hLHU9by1zLnJlYnVmZmVyaW5nSW1wYWN0LGw9LjU7cmV0dXJuIGE8PVMuVElNRV9GVURHRV9GQUNUT1ImJihsPTEpLCFzLnBsYXlsaXN0fHxzLnBsYXlsaXN0LnVyaT09PXRoaXMucGxheWxpc3RfLnVyaXx8dTxsPyExOih0aGlzLmJhbmR3aWR0aD1zLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQkFORFdJRFRIKm1bImRlZmF1bHQiXS5CQU5EV0lEVEhfVkFSSUFOQ0UrMSx0aGlzLmFib3J0KCksdGhpcy50cmlnZ2VyKCJlYXJseWFib3J0IiksITApfX19LHtrZXk6ImhhbmRsZVByb2dyZXNzXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnBlbmRpbmdTZWdtZW50XyYmdC5yZXF1ZXN0SWQ9PT10aGlzLnBlbmRpbmdTZWdtZW50Xy5yZXF1ZXN0SWQmJiF0aGlzLmFib3J0UmVxdWVzdEVhcmx5Xyh0LnN0YXRzKSYmdGhpcy50cmlnZ2VyKCJwcm9ncmVzcyIpfX0se2tleToibG9hZFNlZ21lbnRfIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0YXRlPSJXQUlUSU5HIix0aGlzLnBlbmRpbmdTZWdtZW50Xz1lLHRoaXMudHJpbUJhY2tCdWZmZXJfKGUpLGUuYWJvcnRSZXF1ZXN0cz0oMCxULm1lZGlhU2VnbWVudFJlcXVlc3QpKHRoaXMuaGxzXy54aHIsdGhpcy54aHJPcHRpb25zXyx0aGlzLmRlY3J5cHRlcl8sdGhpcy5jcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8oZSksdGhpcy5oYW5kbGVQcm9ncmVzc18uYmluZCh0aGlzKSx0aGlzLnNlZ21lbnRSZXF1ZXN0RmluaXNoZWRfLmJpbmQodGhpcykpfX0se2tleToidHJpbUJhY2tCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1BKHRoaXMuc2Vla2FibGVfKCksdGhpcy5jdXJyZW50VGltZV8oKSx0aGlzLnBsYXlsaXN0Xy50YXJnZXREdXJhdGlvbnx8MTApO3Q+MCYmdGhpcy5yZW1vdmUoMCx0KX19LHtrZXk6ImNyZWF0ZVNpbXBsaWZpZWRTZWdtZW50T2JqXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWdtZW50LGk9e3Jlc29sdmVkVXJpOnQucmVzb2x2ZWRVcmksYnl0ZXJhbmdlOnQuYnl0ZXJhbmdlLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07aWYodC5rZXkpe3ZhciBuPXQua2V5Lml2fHxuZXcgVWludDMyQXJyYXkoWzAsMCwwLGUubWVkaWFJbmRleCtlLnBsYXlsaXN0Lm1lZGlhU2VxdWVuY2VdKTtpLmtleT17cmVzb2x2ZWRVcmk6dC5rZXkucmVzb2x2ZWRVcmksaXY6bn19cmV0dXJuIHQubWFwJiYoaS5tYXA9dGhpcy5pbml0U2VnbWVudCh0Lm1hcCkpLGl9fSx7a2V5OiJzZWdtZW50UmVxdWVzdEZpbmlzaGVkXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm1lZGlhUmVxdWVzdHMrPTEsdC5zdGF0cyYmKHRoaXMubWVkaWFCeXRlc1RyYW5zZmVycmVkKz10LnN0YXRzLmJ5dGVzUmVjZWl2ZWQsdGhpcy5tZWRpYVRyYW5zZmVyRHVyYXRpb24rPXQuc3RhdHMucm91bmRUcmlwVGltZSksIXRoaXMucGVuZGluZ1NlZ21lbnRfKXJldHVybiB2b2lkKHRoaXMubWVkaWFSZXF1ZXN0c0Fib3J0ZWQrPTEpO2lmKHQucmVxdWVzdElkPT09dGhpcy5wZW5kaW5nU2VnbWVudF8ucmVxdWVzdElkKXtpZihlKXJldHVybiB0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHRoaXMuc3RhdGU9IlJFQURZIixlLmNvZGU9PT1ULlJFUVVFU1RfRVJST1JTLkFCT1JURUQ/dm9pZCh0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xKToodGhpcy5wYXVzZSgpLGUuY29kZT09PVQuUkVRVUVTVF9FUlJPUlMuVElNRU9VVD8odGhpcy5tZWRpYVJlcXVlc3RzVGltZWRvdXQrPTEsdGhpcy5iYW5kd2lkdGg9MSx0aGlzLnJvdW5kVHJpcD1OYU4sdm9pZCB0aGlzLnRyaWdnZXIoImJhbmR3aWR0aHVwZGF0ZSIpKToodGhpcy5tZWRpYVJlcXVlc3RzRXJyb3JlZCs9MSx0aGlzLmVycm9yKGUpLHZvaWQgdGhpcy50cmlnZ2VyKCJlcnJvciIpKSk7dGhpcy5iYW5kd2lkdGg9dC5zdGF0cy5iYW5kd2lkdGgsdGhpcy5yb3VuZFRyaXA9dC5zdGF0cy5yb3VuZFRyaXBUaW1lLHQubWFwJiYodC5tYXA9dGhpcy5pbml0U2VnbWVudCh0Lm1hcCwhMCkpLHRoaXMucHJvY2Vzc1NlZ21lbnRSZXNwb25zZV8odCl9fX0se2tleToicHJvY2Vzc1NlZ21lbnRSZXNwb25zZV8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGVuZGluZ1NlZ21lbnRfO3QuYnl0ZXM9ZS5ieXRlcyxlLm1hcCYmKHQuc2VnbWVudC5tYXAuYnl0ZXM9ZS5tYXAuYnl0ZXMpLHQuZW5kT2ZBbGxSZXF1ZXN0cz1lLmVuZE9mQWxsUmVxdWVzdHMsdGhpcy5oYW5kbGVTZWdtZW50XygpfX0se2tleToiaGFuZGxlU2VnbWVudF8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nU2VnbWVudF8pcmV0dXJuIHZvaWQodGhpcy5zdGF0ZT0iUkVBRFkiKTt2YXIgdD10aGlzLnBlbmRpbmdTZWdtZW50XyxpPXQuc2VnbWVudCxuPXRoaXMuc3luY0NvbnRyb2xsZXJfLnByb2JlU2VnbWVudEluZm8odCk7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnN0YXJ0aW5nTWVkaWFfJiZuJiYobi5jb250YWluc0F1ZGlvfHxuLmNvbnRhaW5zVmlkZW8pJiYodGhpcy5zdGFydGluZ01lZGlhXz17Y29udGFpbnNBdWRpbzpuLmNvbnRhaW5zQXVkaW8sY29udGFpbnNWaWRlbzpuLmNvbnRhaW5zVmlkZW99KTt2YXIgcj1FKHRoaXMubG9hZGVyVHlwZV8sdGhpcy5zdGFydGluZ01lZGlhXyxuKTtpZihyKXJldHVybiB0aGlzLmVycm9yKHttZXNzYWdlOnIsYmxhY2tsaXN0RHVyYXRpb246SW5maW5pdHl9KSx2b2lkIHRoaXMudHJpZ2dlcigiZXJyb3IiKTtpZih0LmlzU3luY1JlcXVlc3QpcmV0dXJuIHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKSx0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHZvaWQodGhpcy5zdGF0ZT0iUkVBRFkiKTtudWxsIT09dC50aW1lc3RhbXBPZmZzZXQmJnQudGltZXN0YW1wT2Zmc2V0IT09dGhpcy5zb3VyY2VVcGRhdGVyXy50aW1lc3RhbXBPZmZzZXQoKSYmKHRoaXMuc291cmNlVXBkYXRlcl8udGltZXN0YW1wT2Zmc2V0KHQudGltZXN0YW1wT2Zmc2V0KSx0aGlzLnRyaWdnZXIoInRpbWVzdGFtcG9mZnNldCIpKTt2YXIgYT10aGlzLnN5bmNDb250cm9sbGVyXy5tYXBwaW5nRm9yVGltZWxpbmUodC50aW1lbGluZSk7bnVsbCE9PWEmJnRoaXMudHJpZ2dlcih7dHlwZToic2VnbWVudHRpbWVtYXBwaW5nIixtYXBwaW5nOmF9KSx0aGlzLnN0YXRlPSJBUFBFTkRJTkciLGkubWFwJiZmdW5jdGlvbigpe3ZhciB0PSgwLGIuaW5pdFNlZ21lbnRJZCkoaS5tYXApO2lmKCFlLmFjdGl2ZUluaXRTZWdtZW50SWRffHxlLmFjdGl2ZUluaXRTZWdtZW50SWRfIT09dCl7dmFyIG49ZS5pbml0U2VnbWVudChpLm1hcCk7ZS5zb3VyY2VVcGRhdGVyXy5hcHBlbmRCdWZmZXIobi5ieXRlcyxmdW5jdGlvbigpe2UuYWN0aXZlSW5pdFNlZ21lbnRJZF89dH0pfX0oKSx0LmJ5dGVMZW5ndGg9dC5ieXRlcy5ieXRlTGVuZ3RoLCJudW1iZXIiPT10eXBlb2YgaS5zdGFydCYmIm51bWJlciI9PXR5cGVvZiBpLmVuZD90aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9aS5lbmQtaS5zdGFydDp0aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9aS5kdXJhdGlvbix0aGlzLnNvdXJjZVVwZGF0ZXJfLmFwcGVuZEJ1ZmZlcih0LmJ5dGVzLHRoaXMuaGFuZGxlVXBkYXRlRW5kXy5iaW5kKHRoaXMpKX19LHtrZXk6ImhhbmRsZVVwZGF0ZUVuZF8iLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2dnZXJfKCJoYW5kbGVVcGRhdGVFbmRfIiwic2VnbWVudEluZm86Iix0aGlzLnBlbmRpbmdTZWdtZW50XyksIXRoaXMucGVuZGluZ1NlZ21lbnRfKXJldHVybiB0aGlzLnN0YXRlPSJSRUFEWSIsdm9pZCh0aGlzLnBhdXNlZCgpfHx0aGlzLm1vbml0b3JCdWZmZXJfKCkpO3ZhciBlPXRoaXMucGVuZGluZ1NlZ21lbnRfLHQ9ZS5zZWdtZW50LGk9bnVsbCE9PXRoaXMubWVkaWFJbmRleDtpZih0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHRoaXMucmVjb3JkVGhyb3VnaHB1dF8oZSksdGhpcy5hZGRTZWdtZW50TWV0YWRhdGFDdWVfKGUpLHRoaXMuc3RhdGU9IlJFQURZIix0aGlzLm1lZGlhSW5kZXg9ZS5tZWRpYUluZGV4LHRoaXMuZmV0Y2hBdEJ1ZmZlcl89ITAsdGhpcy5jdXJyZW50VGltZWxpbmVfPWUudGltZWxpbmUsdGhpcy50cmlnZ2VyKCJzeW5jaW5mb3VwZGF0ZSIpLHQuZW5kJiZ0aGlzLmN1cnJlbnRUaW1lXygpLXQuZW5kPjMqZS5wbGF5bGlzdC50YXJnZXREdXJhdGlvbilyZXR1cm4gdm9pZCB0aGlzLnJlc2V0RXZlcnl0aGluZygpO2kmJnRoaXMudHJpZ2dlcigiYmFuZHdpZHRodXBkYXRlIiksdGhpcy50cmlnZ2VyKCJwcm9ncmVzcyIpLGsoZS5wbGF5bGlzdCx0aGlzLm1lZGlhU291cmNlXyxlLm1lZGlhSW5kZXgrMSkmJnRoaXMuZW5kT2ZTdHJlYW0oKSx0aGlzLnBhdXNlZCgpfHx0aGlzLm1vbml0b3JCdWZmZXJfKCl9fSx7a2V5OiJyZWNvcmRUaHJvdWdocHV0XyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50aHJvdWdocHV0LnJhdGUsaT1EYXRlLm5vdygpLWUuZW5kT2ZBbGxSZXF1ZXN0cysxLG49TWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvaSo4KjFlMyk7dGhpcy50aHJvdWdocHV0LnJhdGUrPShuLXQpLysrdGhpcy50aHJvdWdocHV0LmNvdW50fX0se2tleToibG9nZ2VyXyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJhZGRTZWdtZW50TWV0YWRhdGFDdWVfIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyl7dmFyIHQ9ZS5zZWdtZW50LGk9dC5zdGFydCxuPXQuZW5kO2lmKE8oaSkmJk8obikpeygwLHZbImRlZmF1bHQiXSkoaSxuLHRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfKTt2YXIgcj15WyJkZWZhdWx0Il0uV2ViS2l0RGF0YUN1ZXx8eVsiZGVmYXVsdCJdLlZUVEN1ZSxhPXtiYW5kd2lkdGg6ZS5wbGF5bGlzdC5hdHRyaWJ1dGVzLkJBTkRXSURUSCxyZXNvbHV0aW9uOmUucGxheWxpc3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OLGNvZGVjczplLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQ09ERUNTLGJ5dGVMZW5ndGg6ZS5ieXRlTGVuZ3RoLHVyaTplLnVyaSx0aW1lbGluZTplLnRpbWVsaW5lLHBsYXlsaXN0OmUucGxheWxpc3QudXJpLHN0YXJ0OmksZW5kOm59LHM9SlNPTi5zdHJpbmdpZnkoYSksbz1uZXcgcihpLG4scyk7by52YWx1ZT1hLHRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfLmFkZEN1ZShvKX19fX1dKSx0fShmWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpO2lbImRlZmF1bHQiXT1MfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksYT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cudmlkZW9qczp2b2lkIDAhPT1lP2UudmlkZW9qczpudWxsLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19KGEpLG89ZnVuY3Rpb24oKXt9LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsaSl7dmFyIHI9dGhpcztuKHRoaXMsZSk7dmFyIGE9ZnVuY3Rpb24oKXtyLnNvdXJjZUJ1ZmZlcl89dC5hZGRTb3VyY2VCdWZmZXIoaSksci5vblVwZGF0ZWVuZENhbGxiYWNrXz1mdW5jdGlvbigpe3ZhciBlPXIucGVuZGluZ0NhbGxiYWNrXztyLnBlbmRpbmdDYWxsYmFja189bnVsbCxlJiZlKCksci5ydW5DYWxsYmFja18oKX0sci5zb3VyY2VCdWZmZXJfLmFkZEV2ZW50TGlzdGVuZXIoInVwZGF0ZWVuZCIsci5vblVwZGF0ZWVuZENhbGxiYWNrXyksci5ydW5DYWxsYmFja18oKX07dGhpcy5jYWxsYmFja3NfPVtdLHRoaXMucGVuZGluZ0NhbGxiYWNrXz1udWxsLHRoaXMudGltZXN0YW1wT2Zmc2V0Xz0wLHRoaXMubWVkaWFTb3VyY2U9dCx0aGlzLnByb2Nlc3NlZEFwcGVuZF89ITEsImNsb3NlZCI9PT10LnJlYWR5U3RhdGU/dC5hZGRFdmVudExpc3RlbmVyKCJzb3VyY2VvcGVuIixhKTphKCl9cmV0dXJuIHIoZSxbe2tleToiYWJvcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5wcm9jZXNzZWRBcHBlbmRfJiZ0aGlzLnF1ZXVlQ2FsbGJhY2tfKGZ1bmN0aW9uKCl7dC5zb3VyY2VCdWZmZXJfLmFib3J0KCl9LGUpfX0se2tleToiYXBwZW5kQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7dGhpcy5wcm9jZXNzZWRBcHBlbmRfPSEwLHRoaXMucXVldWVDYWxsYmFja18oZnVuY3Rpb24oKXtpLnNvdXJjZUJ1ZmZlcl8uYXBwZW5kQnVmZmVyKGUpfSx0KX19LHtrZXk6ImJ1ZmZlcmVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZUJ1ZmZlcl8/dGhpcy5zb3VyY2VCdWZmZXJfLmJ1ZmZlcmVkOnNbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKCl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpczt0aGlzLnByb2Nlc3NlZEFwcGVuZF8mJnRoaXMucXVldWVDYWxsYmFja18oZnVuY3Rpb24oKXtpLnNvdXJjZUJ1ZmZlcl8ucmVtb3ZlKGUsdCl9LG8pfX0se2tleToidXBkYXRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc291cmNlQnVmZmVyX3x8dGhpcy5zb3VyY2VCdWZmZXJfLnVwZGF0aW5nfHx0aGlzLnBlbmRpbmdDYWxsYmFja199fSx7a2V5OiJ0aW1lc3RhbXBPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZvaWQgMCE9PWUmJih0aGlzLnF1ZXVlQ2FsbGJhY2tfKGZ1bmN0aW9uKCl7dC5zb3VyY2VCdWZmZXJfLnRpbWVzdGFtcE9mZnNldD1lfSksdGhpcy50aW1lc3RhbXBPZmZzZXRfPWUpLHRoaXMudGltZXN0YW1wT2Zmc2V0X319LHtrZXk6InF1ZXVlQ2FsbGJhY2tfIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY2FsbGJhY2tzXy5wdXNoKFtlLmJpbmQodGhpcyksdF0pLHRoaXMucnVuQ2FsbGJhY2tfKCl9fSx7a2V5OiJydW5DYWxsYmFja18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dW5kZWZpbmVkOyF0aGlzLnVwZGF0aW5nKCkmJnRoaXMuY2FsbGJhY2tzXy5sZW5ndGgmJihlPXRoaXMuY2FsbGJhY2tzXy5zaGlmdCgpLHRoaXMucGVuZGluZ0NhbGxiYWNrXz1lWzFdLGVbMF0oKSl9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc291cmNlQnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCJ1cGRhdGVlbmQiLHRoaXMub25VcGRhdGVlbmRDYWxsYmFja18pLHRoaXMuc291cmNlQnVmZmVyXyYmIm9wZW4iPT09dGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlJiZ0aGlzLnNvdXJjZUJ1ZmZlcl8uYWJvcnQoKX19XSksZX0oKTtpWyJkZWZhdWx0Il09dSx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTg6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24odCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUsYT10LHM9aTtuPSExLG51bGw9PT1yJiYocj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixhKTtpZihvIT09dW5kZWZpbmVkKXtpZigidmFsdWUiaW4gbylyZXR1cm4gby52YWx1ZTt2YXIgdT1vLmdldDtyZXR1cm4gdT09PXVuZGVmaW5lZD91bmRlZmluZWQ6dS5jYWxsKHMpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtpZihudWxsPT09ZClyZXR1cm4gdW5kZWZpbmVkO2U9ZCx0PWEsaT1zLG49ITAsbz1kPXVuZGVmaW5lZH19LHU9ZSg1NyksZD1uKHUpLGw9ZSg1OSksZj1lKDExKSxjPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PXQ/dC52aWRlb2pzOm51bGwsaD1uKGMpLHA9W3tuYW1lOiJWT0QiLHJ1bjpmdW5jdGlvbihlLHQsaSxuLHIpe2lmKGkhPT1JbmZpbml0eSl7cmV0dXJue3RpbWU6MCxzZWdtZW50SW5kZXg6MH19cmV0dXJuIG51bGx9fSx7bmFtZToiUHJvZ3JhbURhdGVUaW1lIixydW46ZnVuY3Rpb24oZSx0LGksbixyKXtpZihlLmRhdGV0aW1lVG9EaXNwbGF5VGltZSYmdC5kYXRlVGltZU9iamVjdCl7cmV0dXJue3RpbWU6dC5kYXRlVGltZU9iamVjdC5nZXRUaW1lKCkvMWUzK2UuZGF0ZXRpbWVUb0Rpc3BsYXlUaW1lLHNlZ21lbnRJbmRleDowfX1yZXR1cm4gbnVsbH19LHtuYW1lOiJTZWdtZW50IixydW46ZnVuY3Rpb24oZSx0LGksbixyKXt2YXIgYT10LnNlZ21lbnRzfHxbXSxzPW51bGwsbz1udWxsO3I9cnx8MDtmb3IodmFyIHU9MDt1PGEubGVuZ3RoO3UrKyl7dmFyIGQ9YVt1XTtpZihkLnRpbWVsaW5lPT09biYmInVuZGVmaW5lZCIhPXR5cGVvZiBkLnN0YXJ0KXt2YXIgbD1NYXRoLmFicyhyLWQuc3RhcnQpO2lmKG51bGwhPT1vJiZvPGwpYnJlYWs7KCFzfHxudWxsPT09b3x8bz49bCkmJihvPWwscz17dGltZTpkLnN0YXJ0LHNlZ21lbnRJbmRleDp1fSl9fXJldHVybiBzfX0se25hbWU6IkRpc2NvbnRpbnVpdHkiLHJ1bjpmdW5jdGlvbihlLHQsaSxuLHIpe3ZhciBhPW51bGw7aWYocj1yfHwwLHQuZGlzY29udGludWl0eVN0YXJ0cyYmdC5kaXNjb250aW51aXR5U3RhcnRzLmxlbmd0aClmb3IodmFyIHM9bnVsbCxvPTA7bzx0LmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoO28rKyl7dmFyIHU9dC5kaXNjb250aW51aXR5U3RhcnRzW29dLGQ9dC5kaXNjb250aW51aXR5U2VxdWVuY2UrbysxLGw9ZS5kaXNjb250aW51aXRpZXNbZF07aWYobCl7dmFyIGY9TWF0aC5hYnMoci1sLnRpbWUpO2lmKG51bGwhPT1zJiZzPGYpYnJlYWs7KCFhfHxudWxsPT09c3x8cz49ZikmJihzPWYsYT17dGltZTpsLnRpbWUsc2VnbWVudEluZGV4OnV9KX19cmV0dXJuIGF9fSx7bmFtZToiUGxheWxpc3QiLHJ1bjpmdW5jdGlvbihlLHQsaSxuLHIpe2lmKHQuc3luY0luZm8pe3JldHVybnt0aW1lOnQuc3luY0luZm8udGltZSxzZWdtZW50SW5kZXg6dC5zeW5jSW5mby5tZWRpYVNlcXVlbmNlLXQubWVkaWFTZXF1ZW5jZX19cmV0dXJuIG51bGx9fV07aS5zeW5jUG9pbnRTdHJhdGVnaWVzPXA7dmFyIG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fGFyZ3VtZW50c1swXT09PXVuZGVmaW5lZD97fTphcmd1bWVudHNbMF07cih0aGlzLHQpLG8oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5pbnNwZWN0Q2FjaGVfPXVuZGVmaW5lZCx0aGlzLnRpbWVsaW5lcz1bXSx0aGlzLmRpc2NvbnRpbnVpdGllcz1bXSx0aGlzLmRhdGV0aW1lVG9EaXNwbGF5VGltZT1udWxsLGUuZGVidWcmJih0aGlzLmxvZ2dlcl89aFsiZGVmYXVsdCJdLmxvZy5iaW5kKGhbImRlZmF1bHQiXSwic3luYy1jb250cm9sbGVyIC0+IikpfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OiJnZXRTeW5jUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPXRoaXMucnVuU3RyYXRlZ2llc18oZSx0LGksbik7cmV0dXJuIHIubGVuZ3RoP3RoaXMuc2VsZWN0U3luY1BvaW50XyhyLHtrZXk6InRpbWUiLHZhbHVlOm59KTpudWxsfX0se2tleToiZ2V0RXhwaXJlZFRpbWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWV8fCFlLnNlZ21lbnRzKXJldHVybiBudWxsO3ZhciBpPXRoaXMucnVuU3RyYXRlZ2llc18oZSx0LGUuZGlzY29udGludWl0eVNlcXVlbmNlLDApO2lmKCFpLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbj10aGlzLnNlbGVjdFN5bmNQb2ludF8oaSx7a2V5OiJzZWdtZW50SW5kZXgiLHZhbHVlOjB9KTtyZXR1cm4gbi5zZWdtZW50SW5kZXg+MCYmKG4udGltZSo9LTEpLE1hdGguYWJzKG4udGltZSsoMCxmLnN1bUR1cmF0aW9ucykoZSxuLnNlZ21lbnRJbmRleCwwKSl9fSx7a2V5OiJydW5TdHJhdGVnaWVzXyIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbil7Zm9yKHZhciByPVtdLGE9MDthPHAubGVuZ3RoO2ErKyl7dmFyIHM9cFthXSxvPXMucnVuKHRoaXMsZSx0LGksbik7byYmKG8uc3RyYXRlZ3k9cy5uYW1lLHIucHVzaCh7c3RyYXRlZ3k6cy5uYW1lLHN5bmNQb2ludDpvfSksdGhpcy5sb2dnZXJfKCJzeW5jUG9pbnQgZm91bmQgdmlhIDwiK3MubmFtZSsiPjoiLG8pKX1yZXR1cm4gcn19LHtrZXk6InNlbGVjdFN5bmNQb2ludF8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWVbMF0uc3luY1BvaW50LG49TWF0aC5hYnMoZVswXS5zeW5jUG9pbnRbdC5rZXldLXQudmFsdWUpLHI9ZVswXS5zdHJhdGVneSxhPTE7YTxlLmxlbmd0aDthKyspe3ZhciBzPU1hdGguYWJzKGVbYV0uc3luY1BvaW50W3Qua2V5XS10LnZhbHVlKTtzPG4mJihuPXMsaT1lW2FdLnN5bmNQb2ludCxyPWVbYV0uc3RyYXRlZ3kpfXJldHVybiB0aGlzLmxvZ2dlcl8oInN5bmNQb2ludCB3aXRoIHN0cmF0ZWd5IDwiK3IrIj4gY2hvc2VuOiAiLGkpLGl9fSx7a2V5OiJzYXZlRXhwaXJlZFNlZ21lbnRJbmZvIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT10Lm1lZGlhU2VxdWVuY2UtZS5tZWRpYVNlcXVlbmNlLG49aS0xO24+PTA7bi0tKXt2YXIgcj1lLnNlZ21lbnRzW25dO2lmKHImJiJ1bmRlZmluZWQiIT10eXBlb2Ygci5zdGFydCl7dC5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTplLm1lZGlhU2VxdWVuY2Urbix0aW1lOnIuc3RhcnR9LHRoaXMubG9nZ2VyXygicGxheWxpc3Qgc3luYzoiLHQuc3luY0luZm8pLHRoaXMudHJpZ2dlcigic3luY2luZm91cGRhdGUiKTticmVha319fX0se2tleToic2V0RGF0ZVRpbWVNYXBwaW5nIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kYXRldGltZVRvRGlzcGxheVRpbWUmJmUuZGF0ZVRpbWVPYmplY3Qpe3ZhciB0PWUuZGF0ZVRpbWVPYmplY3QuZ2V0VGltZSgpLzFlMzt0aGlzLmRhdGV0aW1lVG9EaXNwbGF5VGltZT0tdH19fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluc3BlY3RDYWNoZV89dW5kZWZpbmVkfX0se2tleToicHJvYmVTZWdtZW50SW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWdtZW50LGk9ZS5wbGF5bGlzdCxuPXVuZGVmaW5lZDtyZXR1cm4gbj10Lm1hcD90aGlzLnByb2JlTXA0U2VnbWVudF8oZSk6dGhpcy5wcm9iZVRzU2VnbWVudF8oZSksbiYmdGhpcy5jYWxjdWxhdGVTZWdtZW50VGltZU1hcHBpbmdfKGUsbikmJih0aGlzLnNhdmVEaXNjb250aW51aXR5U3luY0luZm9fKGUpLGkuc3luY0luZm98fChpLnN5bmNJbmZvPXttZWRpYVNlcXVlbmNlOmkubWVkaWFTZXF1ZW5jZStlLm1lZGlhSW5kZXgsdGltZTp0LnN0YXJ0fSkpLG59fSx7a2V5OiJwcm9iZU1wNFNlZ21lbnRfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQsaT1kWyJkZWZhdWx0Il0udGltZXNjYWxlKHQubWFwLmJ5dGVzKSxuPWRbImRlZmF1bHQiXS5zdGFydFRpbWUoaSxlLmJ5dGVzKTtyZXR1cm4gbnVsbCE9PWUudGltZXN0YW1wT2Zmc2V0JiYoZS50aW1lc3RhbXBPZmZzZXQtPW4pLHtzdGFydDpuLGVuZDpuK3QuZHVyYXRpb259fX0se2tleToicHJvYmVUc1NlZ21lbnRfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0oMCxsLmluc3BlY3QpKGUuYnl0ZXMsdGhpcy5pbnNwZWN0Q2FjaGVfKSxpPXVuZGVmaW5lZCxuPXVuZGVmaW5lZDtyZXR1cm4gdD8odC52aWRlbyYmMj09PXQudmlkZW8ubGVuZ3RoPyh0aGlzLmluc3BlY3RDYWNoZV89dC52aWRlb1sxXS5kdHMsaT10LnZpZGVvWzBdLmR0c1RpbWUsbj10LnZpZGVvWzFdLmR0c1RpbWUpOnQuYXVkaW8mJjI9PT10LmF1ZGlvLmxlbmd0aCYmKHRoaXMuaW5zcGVjdENhY2hlXz10LmF1ZGlvWzFdLmR0cyxpPXQuYXVkaW9bMF0uZHRzVGltZSxuPXQuYXVkaW9bMV0uZHRzVGltZSkse3N0YXJ0OmksZW5kOm4sY29udGFpbnNWaWRlbzp0LnZpZGVvJiYyPT09dC52aWRlby5sZW5ndGgsY29udGFpbnNBdWRpbzp0LmF1ZGlvJiYyPT09dC5hdWRpby5sZW5ndGh9KTpudWxsfX0se2tleToidGltZXN0YW1wT2Zmc2V0Rm9yVGltZWxpbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy50aW1lbGluZXNbZV0/bnVsbDp0aGlzLnRpbWVsaW5lc1tlXS50aW1lfX0se2tleToibWFwcGluZ0ZvclRpbWVsaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMudGltZWxpbmVzW2VdP251bGw6dGhpcy50aW1lbGluZXNbZV0ubWFwcGluZ319LHtrZXk6ImNhbGN1bGF0ZVNlZ21lbnRUaW1lTWFwcGluZ18iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5zZWdtZW50LG49dGhpcy50aW1lbGluZXNbZS50aW1lbGluZV07aWYobnVsbCE9PWUudGltZXN0YW1wT2Zmc2V0KXRoaXMubG9nZ2VyXygidHNPOiIsZS50aW1lc3RhbXBPZmZzZXQpLG49e3RpbWU6ZS5zdGFydE9mU2VnbWVudCxtYXBwaW5nOmUuc3RhcnRPZlNlZ21lbnQtdC5zdGFydH0sdGhpcy50aW1lbGluZXNbZS50aW1lbGluZV09bix0aGlzLnRyaWdnZXIoInRpbWVzdGFtcG9mZnNldCIpLGkuc3RhcnQ9ZS5zdGFydE9mU2VnbWVudCxpLmVuZD10LmVuZCtuLm1hcHBpbmc7ZWxzZXtpZighbilyZXR1cm4hMTtpLnN0YXJ0PXQuc3RhcnQrbi5tYXBwaW5nLGkuZW5kPXQuZW5kK24ubWFwcGluZ31yZXR1cm4hMH19LHtrZXk6InNhdmVEaXNjb250aW51aXR5U3luY0luZm9fIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnBsYXlsaXN0LGk9ZS5zZWdtZW50O2lmKGkuZGlzY29udGludWl0eSl0aGlzLmRpc2NvbnRpbnVpdGllc1tpLnRpbWVsaW5lXT17dGltZTppLnN0YXJ0LGFjY3VyYWN5OjB9O2Vsc2UgaWYodC5kaXNjb250aW51aXR5U3RhcnRzLmxlbmd0aClmb3IodmFyIG49MDtuPHQuZGlzY29udGludWl0eVN0YXJ0cy5sZW5ndGg7bisrKXt2YXIgcj10LmRpc2NvbnRpbnVpdHlTdGFydHNbbl0sYT10LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZStuKzEscz1yLWUubWVkaWFJbmRleCxvPU1hdGguYWJzKHMpO2lmKCF0aGlzLmRpc2NvbnRpbnVpdGllc1thXXx8dGhpcy5kaXNjb250aW51aXRpZXNbYV0uYWNjdXJhY3k+byl7dmFyIHU9dW5kZWZpbmVkO3U9czwwP2kuc3RhcnQtKDAsZi5zdW1EdXJhdGlvbnMpKHQsZS5tZWRpYUluZGV4LHIpOmkuZW5kKygwLGYuc3VtRHVyYXRpb25zKSh0LGUubWVkaWFJbmRleCsxLHIpLHRoaXMuZGlzY29udGludWl0aWVzW2FdPXt0aW1lOnUsYWNjdXJhY3k6b319fX19LHtrZXk6ImxvZ2dlcl8iLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0fShoWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpO2lbImRlZmF1bHQiXT1tfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8YXJndW1lbnRzWzBdPT09dW5kZWZpbmVkPyIiOmFyZ3VtZW50c1swXSx0PXtjb2RlY0NvdW50OjB9LGk9dW5kZWZpbmVkO3JldHVybiB0LmNvZGVjQ291bnQ9ZS5zcGxpdCgiLCIpLmxlbmd0aCx0LmNvZGVjQ291bnQ9dC5jb2RlY0NvdW50fHwyLGk9LyhefFxzfCwpKyhhdmMxKShbXiAsXSopL2kuZXhlYyhlKSxpJiYodC52aWRlb0NvZGVjPWlbMl0sdC52aWRlb09iamVjdFR5cGVJbmRpY2F0b3I9aVszXSksdC5hdWRpb1Byb2ZpbGU9LyhefFxzfCwpK21wNGEuWzAtOUEtRmEtZl0rXC4oWzAtOUEtRmEtZl0rKS9pLmV4ZWMoZSksdC5hdWRpb1Byb2ZpbGU9dC5hdWRpb1Byb2ZpbGUmJnQuYXVkaW9Qcm9maWxlWzJdLHR9O2kucGFyc2VDb2RlY3M9bn0se31dLDIwOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIGEoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBzKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPSEwO247KXt2YXIgcj1lLGE9dCxzPWk7bj0hMSxudWxsPT09ciYmKHI9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsYSk7aWYobyE9PXVuZGVmaW5lZCl7aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHU9by5nZXQ7cmV0dXJuIHU9PT11bmRlZmluZWQ/dW5kZWZpbmVkOnUuY2FsbChzKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7aWYobnVsbD09PWQpcmV0dXJuIHVuZGVmaW5lZDtlPWQsdD1hLGk9cyxuPSEwLG89ZD11bmRlZmluZWR9fSxkPWUoMTYpLGw9cihkKSxmPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PW4/bi52aWRlb2pzOm51bGwsYz1yKGYpLGg9ZSgzMikscD1yKGgpLG09ZSg3MiksZz1yKG0pLHk9ZSgyKSxfPW5ldyBVaW50OEFycmF5KCJcblxuIi5zcGxpdCgiIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCl9KSksdj1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUpfSxiPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9MXx8YXJndW1lbnRzWzFdPT09dW5kZWZpbmVkP3t9OmFyZ3VtZW50c1sxXTthKHRoaXMsdCksdShPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUsaSksdGhpcy5tZWRpYVNvdXJjZV89bnVsbCx0aGlzLnN1YnRpdGxlc1RyYWNrXz1udWxsfXJldHVybiBzKHQsZSksbyh0LFt7a2V5OiJidWZmZXJlZF8iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3VidGl0bGVzVHJhY2tffHwhdGhpcy5zdWJ0aXRsZXNUcmFja18uY3Vlcy5sZW5ndGgpcmV0dXJuIGNbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKCk7dmFyIGU9dGhpcy5zdWJ0aXRsZXNUcmFja18uY3Vlcyx0PWVbMF0uc3RhcnRUaW1lLGk9ZVtlLmxlbmd0aC0xXS5zdGFydFRpbWU7cmV0dXJuIGNbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKFtbdCxpXV0pfX0se2tleToiaW5pdFNlZ21lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aDw9MXx8YXJndW1lbnRzWzFdPT09dW5kZWZpbmVkKSYmYXJndW1lbnRzWzFdO2lmKCFlKXJldHVybiBudWxsO3ZhciBpPSgwLHkuaW5pdFNlZ21lbnRJZCkoZSksbj10aGlzLmluaXRTZWdtZW50c19baV07aWYodCYmIW4mJmUuYnl0ZXMpe3ZhciByPV8uYnl0ZUxlbmd0aCtlLmJ5dGVzLmJ5dGVMZW5ndGgsYT1uZXcgVWludDhBcnJheShyKTthLnNldChlLmJ5dGVzKSxhLnNldChfLGUuYnl0ZXMuYnl0ZUxlbmd0aCksdGhpcy5pbml0U2VnbWVudHNfW2ldPW49e3Jlc29sdmVkVXJpOmUucmVzb2x2ZWRVcmksYnl0ZXJhbmdlOmUuYnl0ZXJhbmdlLGJ5dGVzOmF9fXJldHVybiBufHxlfX0se2tleToiY291bGRCZWdpbkxvYWRpbmdfIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXlsaXN0XyYmdGhpcy5zdWJ0aXRsZXNUcmFja18mJiF0aGlzLnBhdXNlZCgpfX0se2tleToiaW5pdF8iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9IlJFQURZIix0aGlzLnJlc2V0RXZlcnl0aGluZygpLHRoaXMubW9uaXRvckJ1ZmZlcl8oKX19LHtrZXk6InRyYWNrIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLnN1YnRpdGxlc1RyYWNrXzoodGhpcy5zdWJ0aXRsZXNUcmFja189ZSwiSU5JVCI9PT10aGlzLnN0YXRlJiZ0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpJiZ0aGlzLmluaXRfKCksdGhpcy5zdWJ0aXRsZXNUcmFja18pfX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbihlLHQpeygwLGdbImRlZmF1bHQiXSkoZSx0LHRoaXMuc3VidGl0bGVzVHJhY2tfKX19LHtrZXk6ImZpbGxCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zeW5jUG9pbnRffHwodGhpcy5zeW5jUG9pbnRfPXRoaXMuc3luY0NvbnRyb2xsZXJfLmdldFN5bmNQb2ludCh0aGlzLnBsYXlsaXN0Xyx0aGlzLmR1cmF0aW9uXygpLHRoaXMuY3VycmVudFRpbWVsaW5lXyx0aGlzLmN1cnJlbnRUaW1lXygpKSk7dmFyIHQ9dGhpcy5jaGVja0J1ZmZlcl8odGhpcy5idWZmZXJlZF8oKSx0aGlzLnBsYXlsaXN0Xyx0aGlzLm1lZGlhSW5kZXgsdGhpcy5oYXNQbGF5ZWRfKCksdGhpcy5jdXJyZW50VGltZV8oKSx0aGlzLnN5bmNQb2ludF8pO2lmKHQ9dGhpcy5za2lwRW1wdHlTZWdtZW50c18odCkpe2lmKG51bGw9PT10aGlzLnN5bmNDb250cm9sbGVyXy50aW1lc3RhbXBPZmZzZXRGb3JUaW1lbGluZSh0LnRpbWVsaW5lKSl7dmFyIGk9ZnVuY3Rpb24oKXtlLnN0YXRlPSJSRUFEWSIsZS5wYXVzZWQoKXx8ZS5tb25pdG9yQnVmZmVyXygpfTtyZXR1cm4gdGhpcy5zeW5jQ29udHJvbGxlcl8ub25lKCJ0aW1lc3RhbXBvZmZzZXQiLGkpLHZvaWQodGhpcy5zdGF0ZT0iV0FJVElOR19PTl9USU1FTElORSIpfXRoaXMubG9hZFNlZ21lbnRfKHQpfX19LHtrZXk6InNraXBFbXB0eVNlZ21lbnRzXyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKDtlJiZlLnNlZ21lbnQuZW1wdHk7KWU9dGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyhlLnBsYXlsaXN0LGUubWVkaWFJbmRleCsxLGUuc3RhcnRPZlNlZ21lbnQrZS5kdXJhdGlvbixlLmlzU3luY1JlcXVlc3QpO3JldHVybiBlfX0se2tleToiaGFuZGxlU2VnbWVudF8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5wZW5kaW5nU2VnbWVudF98fCF0aGlzLnN1YnRpdGxlc1RyYWNrXylyZXR1cm4gdm9pZCh0aGlzLnN0YXRlPSJSRUFEWSIpO3RoaXMuc3RhdGU9IkFQUEVORElORyI7dmFyIHQ9dGhpcy5wZW5kaW5nU2VnbWVudF8saT10LnNlZ21lbnQ7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHBbImRlZmF1bHQiXS5XZWJWVFQmJnRoaXMuc3VidGl0bGVzVHJhY2tfJiZ0aGlzLnN1YnRpdGxlc1RyYWNrXy50ZWNoXyl7dmFyIG49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2UuaGFuZGxlU2VnbWVudF8oKX07cmV0dXJuIGUuc3RhdGU9IldBSVRJTkdfT05fVlRUSlMiLGUuc3VidGl0bGVzVHJhY2tfLnRlY2hfLm9uZSgidnR0anNsb2FkZWQiLHQpLGUuc3VidGl0bGVzVHJhY2tfLnRlY2hfLm9uZSgidnR0anNlcnJvciIsZnVuY3Rpb24oKXtlLnN1YnRpdGxlc1RyYWNrXy50ZWNoXy5vZmYoInZ0dGpzbG9hZGVkIix0KSxlLmVycm9yKHttZXNzYWdlOiJFcnJvciBsb2FkaW5nIHZ0dC5qcyJ9KSxlLnN0YXRlPSJSRUFEWSIsZS5wYXVzZSgpLGUudHJpZ2dlcigiZXJyb3IiKX0pLHt2OnVuZGVmaW5lZH19KCk7aWYoIm9iamVjdCI9PXR5cGVvZiBuKXJldHVybiBuLnZ9aS5yZXF1ZXN0ZWQ9ITA7dHJ5e3RoaXMucGFyc2VWVFRDdWVzXyh0KX1jYXRjaChyKXtyZXR1cm4gdGhpcy5lcnJvcih7bWVzc2FnZTpyLm1lc3NhZ2V9KSx0aGlzLnN0YXRlPSJSRUFEWSIsdGhpcy5wYXVzZSgpLHRoaXMudHJpZ2dlcigiZXJyb3IiKX1pZih0aGlzLnVwZGF0ZVRpbWVNYXBwaW5nXyh0LHRoaXMuc3luY0NvbnRyb2xsZXJfLnRpbWVsaW5lc1t0LnRpbWVsaW5lXSx0aGlzLnBsYXlsaXN0XyksdC5pc1N5bmNSZXF1ZXN0KXJldHVybiB0aGlzLnRyaWdnZXIoInN5bmNpbmZvdXBkYXRlIiksdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx2b2lkKHRoaXMuc3RhdGU9IlJFQURZIik7dC5ieXRlTGVuZ3RoPXQuYnl0ZXMuYnl0ZUxlbmd0aCx0aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9aS5kdXJhdGlvbix0LmN1ZXMubGVuZ3RoJiZ0aGlzLnJlbW92ZSh0LmN1ZXNbMF0uZW5kVGltZSx0LmN1ZXNbdC5jdWVzLmxlbmd0aC0xXS5lbmRUaW1lKSx0LmN1ZXMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnN1YnRpdGxlc1RyYWNrXy5hZGRDdWUodCl9KSx0aGlzLmhhbmRsZVVwZGF0ZUVuZF8oKX19LHtrZXk6InBhcnNlVlRUQ3Vlc18iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXVuZGVmaW5lZCxpPSExOyJmdW5jdGlvbiI9PXR5cGVvZiBwWyJkZWZhdWx0Il0uVGV4dERlY29kZXI/dD1uZXcgcFsiZGVmYXVsdCJdLlRleHREZWNvZGVyKCJ1dGY4Iik6KHQ9cFsiZGVmYXVsdCJdLldlYlZUVC5TdHJpbmdEZWNvZGVyKCksaT0hMCk7dmFyIG49bmV3IHBbImRlZmF1bHQiXS5XZWJWVFQuUGFyc2VyKHBbImRlZmF1bHQiXSxwWyJkZWZhdWx0Il0udnR0anMsdCk7aWYoZS5jdWVzPVtdLGUudGltZXN0YW1wbWFwPXtNUEVHVFM6MCxMT0NBTDowfSxuLm9uY3VlPWUuY3Vlcy5wdXNoLmJpbmQoZS5jdWVzKSxuLm9udGltZXN0YW1wbWFwPWZ1bmN0aW9uKHQpe3JldHVybiBlLnRpbWVzdGFtcG1hcD10fSxuLm9ucGFyc2luZ2Vycm9yPWZ1bmN0aW9uKGUpe2NbImRlZmF1bHQiXS5sb2cud2FybigiRXJyb3IgZW5jb3VudGVyZWQgd2hlbiBwYXJzaW5nIGN1ZXM6ICIrZS5tZXNzYWdlKX0sZS5zZWdtZW50Lm1hcCl7dmFyIHI9ZS5zZWdtZW50Lm1hcC5ieXRlcztpJiYocj12KHIpKSxuLnBhcnNlKHIpfXZhciBhPWUuYnl0ZXM7aSYmKGE9dihhKSksbi5wYXJzZShhKSxuLmZsdXNoKCl9fSx7a2V5OiJ1cGRhdGVUaW1lTWFwcGluZ18iLHZhbHVlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1lLnNlZ21lbnQ7aWYodCl7aWYoIWUuY3Vlcy5sZW5ndGgpcmV0dXJuIHZvaWQobi5lbXB0eT0hMCk7dmFyIHI9ZS50aW1lc3RhbXBtYXAsYT1yLk1QRUdUUy85ZTQtci5MT0NBTCt0Lm1hcHBpbmc7aWYoZS5jdWVzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWUrPWEsZS5lbmRUaW1lKz1hfSksIWkuc3luY0luZm8pe3ZhciBzPWUuY3Vlc1swXS5zdGFydFRpbWUsbz1lLmN1ZXNbZS5jdWVzLmxlbmd0aC0xXS5zdGFydFRpbWU7aS5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTppLm1lZGlhU2VxdWVuY2UrZS5tZWRpYUluZGV4LHRpbWU6TWF0aC5taW4ocyxvLW4uZHVyYXRpb24pfX19fX1dKSx0fShsWyJkZWZhdWx0Il0pO2lbImRlZmF1bHQiXT1iLHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwyMTpbZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PWU/ZS52aWRlb2pzOm51bGwscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX0obiksYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQsaSl7dD0oMCxuLm1lcmdlT3B0aW9ucykoe3RpbWVvdXQ6NDVlM30sdCk7dmFyIGE9ZS5iZWZvcmVSZXF1ZXN0fHxyWyJkZWZhdWx0Il0uSGxzLnhoci5iZWZvcmVSZXF1ZXN0O2lmKGEmJiJmdW5jdGlvbiI9PXR5cGVvZiBhKXt2YXIgcz1hKHQpO3MmJih0PXMpfXZhciBvPSgwLG4ueGhyKSh0LGZ1bmN0aW9uKGUsdCl7dmFyIG49by5yZXNwb25zZTshZSYmbiYmKG8ucmVzcG9uc2VUaW1lPURhdGUubm93KCksby5yb3VuZFRyaXBUaW1lPW8ucmVzcG9uc2VUaW1lLW8ucmVxdWVzdFRpbWUsby5ieXRlc1JlY2VpdmVkPW4uYnl0ZUxlbmd0aHx8bi5sZW5ndGgsby5iYW5kd2lkdGh8fChvLmJhbmR3aWR0aD1NYXRoLmZsb29yKG8uYnl0ZXNSZWNlaXZlZC9vLnJvdW5kVHJpcFRpbWUqOCoxZTMpKSksZSYmIkVUSU1FRE9VVCI9PT1lLmNvZGUmJihvLnRpbWVkb3V0PSEwKSxlfHxvLmFib3J0ZWR8fDIwMD09PXQuc3RhdHVzQ29kZXx8MjA2PT09dC5zdGF0dXNDb2RlfHwwPT09dC5zdGF0dXNDb2RlfHwoZT1uZXcgRXJyb3IoIlhIUiBGYWlsZWQgd2l0aCBhIHJlc3BvbnNlIG9mOiAiKyhvJiYobnx8by5yZXNwb25zZVRleHQpKSkpLGkoZSxvKX0pLHU9by5hYm9ydDtyZXR1cm4gby5hYm9ydD1mdW5jdGlvbigpe3JldHVybiBvLmFib3J0ZWQ9ITAsdS5hcHBseShvLGFyZ3VtZW50cyl9LG8udXJpPXQudXJpLG8ucmVxdWVzdFRpbWU9RGF0ZS5ub3coKSxvfX07aVsiZGVmYXVsdCJdPWEsdC5leHBvcnRzPWlbImRlZmF1bHQiXX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDIyOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksYT1mdW5jdGlvbigpe3ZhciBlPVtbW10sW10sW10sW10sW11dLFtbXSxbXSxbXSxbXSxbXV1dLHQ9ZVswXSxpPWVbMV0sbj10WzRdLHI9aVs0XSxhPXVuZGVmaW5lZCxzPXVuZGVmaW5lZCxvPXVuZGVmaW5lZCx1PVtdLGQ9W10sbD11bmRlZmluZWQsZj11bmRlZmluZWQsYz11bmRlZmluZWQsaD11bmRlZmluZWQscD11bmRlZmluZWQsbT11bmRlZmluZWQ7Zm9yKGE9MDthPDI1NjthKyspZFsodVthXT1hPDwxXjI4MyooYT4+NykpXmFdPWE7Zm9yKHM9bz0wOyFuW3NdO3NePWx8fDEsbz1kW29dfHwxKWZvcihoPW9ebzw8MV5vPDwyXm88PDNebzw8NCxoPWg+PjheMjU1JmheOTksbltzXT1oLHJbaF09cyxjPXVbZj11W2w9dVtzXV1dLG09MTY4NDMwMDkqY142NTUzNypmXjI1NypsXjE2ODQzMDA4KnMscD0yNTcqdVtoXV4xNjg0MzAwOCpoLGE9MDthPDQ7YSsrKXRbYV1bc109cD1wPDwyNF5wPj4+OCxpW2FdW2hdPW09bTw8MjRebT4+Pjg7Zm9yKGE9MDthPDU7YSsrKXRbYV09dFthXS5zbGljZSgwKSxpW2FdPWlbYV0uc2xpY2UoMCk7cmV0dXJuIGV9LHM9bnVsbCxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtuKHRoaXMsZSksc3x8KHM9YSgpKSx0aGlzLl90YWJsZXM9W1tzWzBdWzBdLnNsaWNlKCksc1swXVsxXS5zbGljZSgpLHNbMF1bMl0uc2xpY2UoKSxzWzBdWzNdLnNsaWNlKCksc1swXVs0XS5zbGljZSgpXSxbc1sxXVswXS5zbGljZSgpLHNbMV1bMV0uc2xpY2UoKSxzWzFdWzJdLnNsaWNlKCksc1sxXVszXS5zbGljZSgpLHNbMV1bNF0uc2xpY2UoKV1dO3ZhciBpPXVuZGVmaW5lZCxyPXVuZGVmaW5lZCxvPXVuZGVmaW5lZCx1PXVuZGVmaW5lZCxkPXVuZGVmaW5lZCxsPXRoaXMuX3RhYmxlc1swXVs0XSxmPXRoaXMuX3RhYmxlc1sxXSxjPXQubGVuZ3RoLGg9MTtpZig0IT09YyYmNiE9PWMmJjghPT1jKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBhZXMga2V5IHNpemUiKTtmb3IodT10LnNsaWNlKDApLGQ9W10sdGhpcy5fa2V5PVt1LGRdLGk9YztpPDQqYysyODtpKyspbz11W2ktMV0sKGklYz09MHx8OD09PWMmJmklYz09NCkmJihvPWxbbz4+PjI0XTw8MjRebFtvPj4xNiYyNTVdPDwxNl5sW28+PjgmMjU1XTw8OF5sWzI1NSZvXSxpJWM9PTAmJihvPW88PDhebz4+PjI0Xmg8PDI0LGg9aDw8MV4yODMqKGg+PjcpKSksdVtpXT11W2ktY11ebztmb3Iocj0wO2k7cisrLGktLSlvPXVbMyZyP2k6aS00XSxkW3JdPWk8PTR8fHI8ND9vOmZbMF1bbFtvPj4+MjRdXV5mWzFdW2xbbz4+MTYmMjU1XV1eZlsyXVtsW28+PjgmMjU1XV1eZlszXVtsWzI1NSZvXV19cmV0dXJuIHIoZSxbe2tleToiZGVjcnlwdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGksbixyLGEpe3ZhciBzPXRoaXMuX2tleVsxXSxvPWVec1swXSx1PW5ec1sxXSxkPWlec1syXSxsPXRec1szXSxmPXVuZGVmaW5lZCxjPXVuZGVmaW5lZCxoPXVuZGVmaW5lZCxwPXMubGVuZ3RoLzQtMixtPXVuZGVmaW5lZCxnPTQseT10aGlzLl90YWJsZXNbMV0sXz15WzBdLHY9eVsxXSxiPXlbMl0sVD15WzNdLFM9eVs0XTtmb3IobT0wO208cDttKyspZj1fW28+Pj4yNF1edlt1Pj4xNiYyNTVdXmJbZD4+OCYyNTVdXlRbMjU1JmxdXnNbZ10sYz1fW3U+Pj4yNF1edltkPj4xNiYyNTVdXmJbbD4+OCYyNTVdXlRbMjU1Jm9dXnNbZysxXSxoPV9bZD4+PjI0XV52W2w+PjE2JjI1NV1eYltvPj44JjI1NV1eVFsyNTUmdV1ec1tnKzJdLGw9X1tsPj4+MjRdXnZbbz4+MTYmMjU1XV5iW3U+PjgmMjU1XV5UWzI1NSZkXV5zW2crM10sZys9NCxvPWYsdT1jLGQ9aDtmb3IobT0wO208NDttKyspclsoMyYtbSkrYV09U1tvPj4+MjRdPDwyNF5TW3U+PjE2JjI1NV08PDE2XlNbZD4+OCYyNTVdPDw4XlNbMjU1JmxdXnNbZysrXSxmPW8sbz11LHU9ZCxkPWwsbD1mfX1dKSxlfSgpO2lbImRlZmF1bHQiXT1vLHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gcihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGksbil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksbiYmZSh0LG4pLHR9fSgpLHM9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj0hMDtuOyl7dmFyIHI9ZSxhPXQscz1pO249ITEsbnVsbD09PXImJihyPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGEpO2lmKG8hPT11bmRlZmluZWQpe2lmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciB1PW8uZ2V0O3JldHVybiB1PT09dW5kZWZpbmVkP3VuZGVmaW5lZDp1LmNhbGwocyl9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpO2lmKG51bGw9PT1kKXJldHVybiB1bmRlZmluZWQ7ZT1kLHQ9YSxpPXMsbj0hMCxvPWQ9dW5kZWZpbmVkfX0sbz1lKDI2KSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fShvKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCkscyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLHVbImRlZmF1bHQiXSksdGhpcy5qb2JzPVtdLHRoaXMuZGVsYXk9MSx0aGlzLnRpbWVvdXRfPW51bGx9cmV0dXJuIHIodCxlKSxhKHQsW3trZXk6InByb2Nlc3NKb2JfIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuam9icy5zaGlmdCgpKCksdGhpcy5qb2JzLmxlbmd0aD90aGlzLnRpbWVvdXRfPXNldFRpbWVvdXQodGhpcy5wcm9jZXNzSm9iXy5iaW5kKHRoaXMpLHRoaXMuZGVsYXkpOnRoaXMudGltZW91dF89bnVsbH19LHtrZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuam9icy5wdXNoKGUpLHRoaXMudGltZW91dF98fCh0aGlzLnRpbWVvdXRfPXNldFRpbWVvdXQodGhpcy5wcm9jZXNzSm9iXy5iaW5kKHRoaXMpLHRoaXMuZGVsYXkpKX19XSksdH0odVsiZGVmYXVsdCJdKTtpWyJkZWZhdWx0Il09ZCx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sMjQ6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldCjtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxzPWUoMjIpLG89bihzKSx1PWUoMjMpLGQ9bih1KSxsPWUoMjgpLGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PDI0fCg2NTI4MCZlKTw8OHwoMTY3MTE2ODAmZSk+Pjh8ZT4+PjI0fSxjPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoPj4yKSxyPW5ldyBvWyJkZWZhdWx0Il0oQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpLGE9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKSxzPW5ldyBJbnQzMkFycmF5KGEuYnVmZmVyKSx1PXVuZGVmaW5lZCxkPXVuZGVmaW5lZCxsPXVuZGVmaW5lZCxjPXVuZGVmaW5lZCxoPXVuZGVmaW5lZCxwPXVuZGVmaW5lZCxtPXVuZGVmaW5lZCxnPXVuZGVmaW5lZCx5PXVuZGVmaW5lZDtmb3IodT1pWzBdLGQ9aVsxXSxsPWlbMl0sYz1pWzNdLHk9MDt5PG4ubGVuZ3RoO3krPTQpaD1mKG5beV0pLHA9ZihuW3krMV0pLG09ZihuW3krMl0pLGc9ZihuW3krM10pLHIuZGVjcnlwdChoLHAsbSxnLHMseSksc1t5XT1mKHNbeV1edSksc1t5KzFdPWYoc1t5KzFdXmQpLHNbeSsyXT1mKHNbeSsyXV5sKSxzW3krM109ZihzW3krM11eYyksdT1oLGQ9cCxsPW0sYz1nO3JldHVybiBhfTtpLmRlY3J5cHQ9Yzt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxpLG4sYSl7cih0aGlzLGUpO3ZhciBzPWUuU1RFUCxvPW5ldyBJbnQzMkFycmF5KHQuYnVmZmVyKSx1PW5ldyBVaW50OEFycmF5KHQuYnl0ZUxlbmd0aCksYz0wO2Zvcih0aGlzLmFzeW5jU3RyZWFtXz1uZXcgZFsiZGVmYXVsdCJdLHRoaXMuYXN5bmNTdHJlYW1fLnB1c2godGhpcy5kZWNyeXB0Q2h1bmtfKG8uc3ViYXJyYXkoYyxjK3MpLGksbix1KSksYz1zO2M8by5sZW5ndGg7Yys9cyluPW5ldyBVaW50MzJBcnJheShbZihvW2MtNF0pLGYob1tjLTNdKSxmKG9bYy0yXSksZihvW2MtMV0pXSksdGhpcy5hc3luY1N0cmVhbV8ucHVzaCh0aGlzLmRlY3J5cHRDaHVua18oby5zdWJhcnJheShjLGMrcyksaSxuLHUpKTt0aGlzLmFzeW5jU3RyZWFtXy5wdXNoKGZ1bmN0aW9uKCl7YShudWxsLCgwLGwudW5wYWQpKHUpKX0pfXJldHVybiBhKGUsW3trZXk6ImRlY3J5cHRDaHVua18iLHZhbHVlOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciByPWMoZSx0LGkpO24uc2V0KHIsZS5ieXRlT2Zmc2V0KX19fV0sW3trZXk6IlNURVAiLGdldDpmdW5jdGlvbigpe3JldHVybiAzMmUzfX1dKSxlfSgpO2kuRGVjcnlwdGVyPWgsaVsiZGVmYXVsdCJdPXtEZWNyeXB0ZXI6aCxkZWNyeXB0OmN9fSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWUoMjQpLHI9ZSgyMyksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX0ocik7aVsiZGVmYXVsdCJdPXtkZWNyeXB0Om4uZGVjcnlwdCxEZWNyeXB0ZXI6bi5EZWNyeXB0ZXIsQXN5bmNTdHJlYW06YVsiZGVmYXVsdCJdfSx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKSx0aGlzLmxpc3RlbmVycz17fX1yZXR1cm4gcihlLFt7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmxpc3RlbmVyc1tlXXx8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXVuZGVmaW5lZDtyZXR1cm4hIXRoaXMubGlzdGVuZXJzW2VdJiYoaT10aGlzLmxpc3RlbmVyc1tlXS5pbmRleE9mKHQpLHRoaXMubGlzdGVuZXJzW2VdLnNwbGljZShpLDEpLGk+LTEpfX0se2tleToidHJpZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dW5kZWZpbmVkLGk9dW5kZWZpbmVkLG49dW5kZWZpbmVkLHI9dW5kZWZpbmVkO2lmKHQ9dGhpcy5saXN0ZW5lcnNbZV0paWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKG49dC5sZW5ndGgsaT0wO2k8bjsrK2kpdFtpXS5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTtlbHNlIGZvcihyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPXQubGVuZ3RoLGk9MDtpPG47KytpKXRbaV0uYXBwbHkodGhpcyxyKX19LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lcnM9e319fSx7a2V5OiJwaXBlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9uKCJkYXRhIixmdW5jdGlvbih0KXtlLnB1c2godCl9KX19XSksZX0oKTtpWyJkZWZhdWx0Il09YSx0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW5bZS5ieXRlTGVuZ3RoJTE2fHwwXSxpPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCt0Lmxlbmd0aCk7cmV0dXJuIGkuc2V0KGUpLGkuc2V0KHQsZS5ieXRlTGVuZ3RoKSxpfSxuPVtbMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTZdLFsxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNSwxNV0sWzE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0LDE0XSxbMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTMsMTNdLFsxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMl0sWzExLDExLDExLDExLDExLDExLDExLDExLDExLDExLDExXSxbMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTAsMTBdLFs5LDksOSw5LDksOSw5LDksOV0sWzgsOCw4LDgsOCw4LDgsOF0sWzcsNyw3LDcsNyw3LDddLFs2LDYsNiw2LDYsNl0sWzUsNSw1LDUsNV0sWzQsNCw0LDRdLFszLDMsM10sWzIsMl0sWzFdXX0se31dLDI4OltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2kucGFkPWUoMjcpLGkudW5wYWQ9ZSgyOSl9LHt9XSwyOTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ViYXJyYXkoMCxlLmJ5dGVMZW5ndGgtZVtlLmJ5dGVMZW5ndGgtMV0pfX0se31dLDMwOltmdW5jdGlvbihlLHQsaSl7fSx7fV0sMzE6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oaSl7dmFyIG4scj12b2lkIDAhPT1pP2k6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGE9ZSgzMCk7InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9uPWRvY3VtZW50OihuPXJbIl9fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDQiXSl8fChuPXJbIl9fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDQiXT1hKSx0LmV4cG9ydHM9bn0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDMyOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGUpe3ZhciBpO2k9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PWU/ZToidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSx0LmV4cG9ydHM9aX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDMzOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19dmFyIHI9ZSgzNCksYT1uKHIpLHM9ZSgzNSksbz1uKHMpLHU9ZSgzNiksZD1uKHUpO3QuZXhwb3J0cz17TGluZVN0cmVhbTphWyJkZWZhdWx0Il0sUGFyc2VTdHJlYW06b1siZGVmYXVsdCJdLFBhcnNlcjpkWyJkZWZhdWx0Il19fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBhKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksbz1lKDM3KSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fShvKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS5idWZmZXI9IiIsZX1yZXR1cm4gYSh0LGUpLHModCxbe2tleToicHVzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO2Zvcih0aGlzLmJ1ZmZlcis9ZSx0PXRoaXMuYnVmZmVyLmluZGV4T2YoIlxuIik7dD4tMTt0PXRoaXMuYnVmZmVyLmluZGV4T2YoIlxuIikpdGhpcy50cmlnZ2VyKCJkYXRhIix0aGlzLmJ1ZmZlci5zdWJzdHJpbmcoMCx0KSksdGhpcy5idWZmZXI9dGhpcy5idWZmZXIuc3Vic3RyaW5nKHQrMSl9fV0pLHR9KHVbImRlZmF1bHQiXSk7aVsiZGVmYXVsdCJdPWR9LHt9XSwzNTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgaT1bXSxuPSEwLHI9ITEsYT11bmRlZmluZWQ7dHJ5e2Zvcih2YXIgcyxvPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0ocz1vLm5leHQoKSkuZG9uZSkmJihpLnB1c2gocy52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7bj0hMCk7fWNhdGNoKHUpe3I9ITAsYT11fWZpbmFsbHl7dHJ5eyFuJiZvWyJyZXR1cm4iXSYmb1sicmV0dXJuIl0oKX1maW5hbGx5e2lmKHIpdGhyb3cgYX19cmV0dXJuIGl9cmV0dXJuIGZ1bmN0aW9uKHQsaSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBlKHQsaSk7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGksbil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksbiYmZSh0LG4pLHR9fSgpLHU9ZSgzNyksZD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX0odSksbD1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKCcoPzpefCwpKCg/OltePV0qKT0oPzoiW14iXSoifFteLF0qKSknKX0sZj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zcGxpdChsKCkpLGk9e30sbj10Lmxlbmd0aCxyPXZvaWQgMDtuLS07KSIiIT09dFtuXSYmKHI9LyhbXj1dKik9KC4qKS8uZXhlYyh0W25dKS5zbGljZSgxKSxyWzBdPXJbMF0ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLHJbMV09clsxXS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIiksclsxXT1yWzFdLnJlcGxhY2UoL15bJyJdKC4qKVsnIl0kL2csIiQxIiksaVtyWzBdXT1yWzFdKTtyZXR1cm4gaX0sYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG4odGhpcyx0KSxyKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpfXJldHVybiBhKHQsZSksbyh0LFt7a2V5OiJwdXNoIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAsaT12b2lkIDA7aWYoZT1lLnJlcGxhY2UoL15bXHUwMDAwXHNdK3xbXHUwMDAwXHNdKyQvZywiIiksMCE9PWUubGVuZ3RoKXtpZigiIyIhPT1lWzBdKXJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIse3R5cGU6InVyaSIsdXJpOmV9KTtpZigwIT09ZS5pbmRleE9mKCIjRVhUIikpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIix7dHlwZToiY29tbWVudCIsdGV4dDplLnNsaWNlKDEpfSk7aWYoZT1lLnJlcGxhY2UoIlxyIiwiIiksdD0vXiNFWFRNM1UvLmV4ZWMoZSkpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIix7dHlwZToidGFnIix0YWdUeXBlOiJtM3UifSk7aWYodD0vXiNFWFRJTkY6PyhbMC05XC5dKik/LD8oLiopPyQvLmV4ZWMoZSkpcmV0dXJuIGk9e3R5cGU6InRhZyIsdGFnVHlwZToiaW5mIn0sdFsxXSYmKGkuZHVyYXRpb249cGFyc2VGbG9hdCh0WzFdKSksdFsyXSYmKGkudGl0bGU9dFsyXSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jRVhULVgtVEFSR0VURFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGk9e3R5cGU6InRhZyIsdGFnVHlwZToidGFyZ2V0ZHVyYXRpb24ifSx0WzFdJiYoaS5kdXJhdGlvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jWkVOLVRPVEFMLURVUkFUSU9OOj8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InRvdGFsZHVyYXRpb24ifSx0WzFdJiYoaS5kdXJhdGlvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jRVhULVgtVkVSU0lPTjo/KFswLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gaT17dHlwZToidGFnIix0YWdUeXBlOiJ2ZXJzaW9uIn0sdFsxXSYmKGkudmVyc2lvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jRVhULVgtTUVESUEtU0VRVUVOQ0U6PyhcLT9bMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGk9e3R5cGU6InRhZyIsdGFnVHlwZToibWVkaWEtc2VxdWVuY2UifSx0WzFdJiYoaS5udW1iZXI9cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIixpKTtpZih0PS9eI0VYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0U6PyhcLT9bMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIGk9e3R5cGU6InRhZyIsdGFnVHlwZToiZGlzY29udGludWl0eS1zZXF1ZW5jZSJ9LHRbMV0mJihpLm51bWJlcj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jRVhULVgtUExBWUxJU1QtVFlQRTo/KC4qKT8kLy5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InBsYXlsaXN0LXR5cGUifSx0WzFdJiYoaS5wbGF5bGlzdFR5cGU9dFsxXSksdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpO2lmKHQ9L14jRVhULVgtQllURVJBTkdFOj8oWzAtOS5dKik/QD8oWzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImJ5dGVyYW5nZSJ9LHRbMV0mJihpLmxlbmd0aD1wYXJzZUludCh0WzFdLDEwKSksdFsyXSYmKGkub2Zmc2V0PXBhcnNlSW50KHRbMl0sMTApKSx2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1BTExPVy1DQUNIRTo/KFlFU3xOTyk/Ly5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImFsbG93LWNhY2hlIn0sdFsxXSYmKGkuYWxsb3dlZD0hL05PLy50ZXN0KHRbMV0pKSx2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1NQVA6PyguKikkLy5leGVjKGUpKXtpZihpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6Im1hcCJ9LHRbMV0pe3ZhciBuPWYodFsxXSk7aWYobi5VUkkmJihpLnVyaT1uLlVSSSksbi5CWVRFUkFOR0Upe3ZhciByPW4uQllURVJBTkdFLnNwbGl0KCJAIiksYT1zKHIsMiksbz1hWzBdLHU9YVsxXTtpLmJ5dGVyYW5nZT17fSxvJiYoaS5ieXRlcmFuZ2UubGVuZ3RoPXBhcnNlSW50KG8sMTApKSx1JiYoaS5ieXRlcmFuZ2Uub2Zmc2V0PXBhcnNlSW50KHUsMTApKX19cmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIixpKX1pZih0PS9eI0VYVC1YLVNUUkVBTS1JTkY6PyguKikkLy5leGVjKGUpKXtpZihpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InN0cmVhbS1pbmYifSx0WzFdKXtpZihpLmF0dHJpYnV0ZXM9Zih0WzFdKSxpLmF0dHJpYnV0ZXMuUkVTT0xVVElPTil7dmFyIGQ9aS5hdHRyaWJ1dGVzLlJFU09MVVRJT04uc3BsaXQoIngiKSxsPXt9O2RbMF0mJihsLndpZHRoPXBhcnNlSW50KGRbMF0sMTApKSxkWzFdJiYobC5oZWlnaHQ9cGFyc2VJbnQoZFsxXSwxMCkpLGkuYXR0cmlidXRlcy5SRVNPTFVUSU9OPWx9aS5hdHRyaWJ1dGVzLkJBTkRXSURUSCYmKGkuYXR0cmlidXRlcy5CQU5EV0lEVEg9cGFyc2VJbnQoaS5hdHRyaWJ1dGVzLkJBTkRXSURUSCwxMCkpLGkuYXR0cmlidXRlc1siUFJPR1JBTS1JRCJdJiYoaS5hdHRyaWJ1dGVzWyJQUk9HUkFNLUlEIl09cGFyc2VJbnQoaS5hdHRyaWJ1dGVzWyJQUk9HUkFNLUlEIl0sMTApKX1yZXR1cm4gdm9pZCB0aGlzLnRyaWdnZXIoImRhdGEiLGkpfWlmKHQ9L14jRVhULVgtTUVESUE6PyguKikkLy5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6Im1lZGlhIn0sdFsxXSYmKGkuYXR0cmlidXRlcz1mKHRbMV0pKSx2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1FTkRMSVNULy5leGVjKGUpKXJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIse3R5cGU6InRhZyIsdGFnVHlwZToiZW5kbGlzdCJ9KTtpZih0PS9eI0VYVC1YLURJU0NPTlRJTlVJVFkvLmV4ZWMoZSkpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIix7dHlwZToidGFnIix0YWdUeXBlOiJkaXNjb250aW51aXR5In0pO2lmKHQ9L14jRVhULVgtUFJPR1JBTS1EQVRFLVRJTUU6PyguKikkLy5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6InByb2dyYW0tZGF0ZS10aW1lIn0sdFsxXSYmKGkuZGF0ZVRpbWVTdHJpbmc9dFsxXSxpLmRhdGVUaW1lT2JqZWN0PW5ldyBEYXRlKHRbMV0pKSx2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1LRVk6PyguKikkLy5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImtleSJ9LHRbMV0mJihpLmF0dHJpYnV0ZXM9Zih0WzFdKSxpLmF0dHJpYnV0ZXMuSVYmJigiMHgiPT09aS5hdHRyaWJ1dGVzLklWLnN1YnN0cmluZygwLDIpLnRvTG93ZXJDYXNlKCkmJihpLmF0dHJpYnV0ZXMuSVY9aS5hdHRyaWJ1dGVzLklWLnN1YnN0cmluZygyKSksaS5hdHRyaWJ1dGVzLklWPWkuYXR0cmlidXRlcy5JVi5tYXRjaCgvLns4fS9nKSxpLmF0dHJpYnV0ZXMuSVZbMF09cGFyc2VJbnQoaS5hdHRyaWJ1dGVzLklWWzBdLDE2KSxpLmF0dHJpYnV0ZXMuSVZbMV09cGFyc2VJbnQoaS5hdHRyaWJ1dGVzLklWWzFdLDE2KSxpLmF0dHJpYnV0ZXMuSVZbMl09cGFyc2VJbnQoaS5hdHRyaWJ1dGVzLklWWzJdLDE2KSxpLmF0dHJpYnV0ZXMuSVZbM109cGFyc2VJbnQoaS5hdHRyaWJ1dGVzLklWWzNdLDE2KSxpLmF0dHJpYnV0ZXMuSVY9bmV3IFVpbnQzMkFycmF5KGkuYXR0cmlidXRlcy5JVikpKSx2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1DVUUtT1VULUNPTlQ6PyguKik/JC8uZXhlYyhlKSlyZXR1cm4gaT17dHlwZToidGFnIix0YWdUeXBlOiJjdWUtb3V0LWNvbnQifSx0WzFdP2kuZGF0YT10WzFdOmkuZGF0YT0iIix2b2lkIHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7aWYodD0vXiNFWFQtWC1DVUUtT1VUOj8oLiopPyQvLmV4ZWMoZSkpcmV0dXJuIGk9e3R5cGU6InRhZyIsdGFnVHlwZToiY3VlLW91dCJ9LHRbMV0/aS5kYXRhPXRbMV06aS5kYXRhPSIiLHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIixpKTtpZih0PS9eI0VYVC1YLUNVRS1JTjo/KC4qKT8kLy5leGVjKGUpKXJldHVybiBpPXt0eXBlOiJ0YWciLHRhZ1R5cGU6ImN1ZS1pbiJ9LHRbMV0/aS5kYXRhPXRbMV06aS5kYXRhPSIiLHZvaWQgdGhpcy50cmlnZ2VyKCJkYXRhIixpKTt0aGlzLnRyaWdnZXIoImRhdGEiLHt0eXBlOiJ0YWciLGRhdGE6ZS5zbGljZSg0KX0pfX19XSksdH0oZFsiZGVmYXVsdCJdKTtpWyJkZWZhdWx0Il09Y30se31dLDM2OltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYoZVtuXT1pW25dKX1yZXR1cm4gZX0sdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxkPWUoMzcpLGw9bihkKSxmPWUoMzQpLGM9bihmKSxoPWUoMzUpLHA9bihoKSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyKHRoaXMsdCk7dmFyIGU9YSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtlLmxpbmVTdHJlYW09bmV3IGNbImRlZmF1bHQiXSxlLnBhcnNlU3RyZWFtPW5ldyBwWyJkZWZhdWx0Il0sZS5saW5lU3RyZWFtLnBpcGUoZS5wYXJzZVN0cmVhbSk7dmFyIGk9ZSxuPVtdLHM9e30sdT12b2lkIDAsZD12b2lkIDAsbD1mdW5jdGlvbigpe30sZj17QVVESU86e30sVklERU86e30sIkNMT1NFRC1DQVBUSU9OUyI6e30sU1VCVElUTEVTOnt9fSxoPTA7cmV0dXJuIGUubWFuaWZlc3Q9e2FsbG93Q2FjaGU6ITAsZGlzY29udGludWl0eVN0YXJ0czpbXSxzZWdtZW50czpbXX0sZS5wYXJzZVN0cmVhbS5vbigiZGF0YSIsZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwLHI9dm9pZCAwOyh7dGFnOmZ1bmN0aW9uKCl7KCh7ImFsbG93LWNhY2hlIjpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuYWxsb3dDYWNoZT1lLmFsbG93ZWQsImFsbG93ZWQiaW4gZXx8KHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6ImRlZmF1bHRpbmcgYWxsb3dDYWNoZSB0byBZRVMifSksdGhpcy5tYW5pZmVzdC5hbGxvd0NhY2hlPSEwKX0sYnl0ZXJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9e307Imxlbmd0aCJpbiBlJiYocy5ieXRlcmFuZ2U9dCx0Lmxlbmd0aD1lLmxlbmd0aCwib2Zmc2V0ImluIGV8fCh0aGlzLnRyaWdnZXIoImluZm8iLHttZXNzYWdlOiJkZWZhdWx0aW5nIG9mZnNldCB0byB6ZXJvIn0pLGUub2Zmc2V0PTApKSwib2Zmc2V0ImluIGUmJihzLmJ5dGVyYW5nZT10LHQub2Zmc2V0PWUub2Zmc2V0KX0sZW5kbGlzdDpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuZW5kTGlzdD0hMH0saW5mOmZ1bmN0aW9uKCl7Im1lZGlhU2VxdWVuY2UiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT0wLHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6ImRlZmF1bHRpbmcgbWVkaWEgc2VxdWVuY2UgdG8gemVybyJ9KSksImRpc2NvbnRpbnVpdHlTZXF1ZW5jZSJpbiB0aGlzLm1hbmlmZXN0fHwodGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9MCx0aGlzLnRyaWdnZXIoImluZm8iLHttZXNzYWdlOiJkZWZhdWx0aW5nIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdG8gemVybyJ9KSksZS5kdXJhdGlvbj4wJiYocy5kdXJhdGlvbj1lLmR1cmF0aW9uKSwwPT09ZS5kdXJhdGlvbiYmKHMuZHVyYXRpb249LjAxLHRoaXMudHJpZ2dlcigiaW5mbyIse21lc3NhZ2U6InVwZGF0aW5nIHplcm8gc2VnbWVudCBkdXJhdGlvbiB0byBhIHNtYWxsIHZhbHVlIn0pKSx0aGlzLm1hbmlmZXN0LnNlZ21lbnRzPW59LGtleTpmdW5jdGlvbigpe3JldHVybiBlLmF0dHJpYnV0ZXM/Ik5PTkUiPT09ZS5hdHRyaWJ1dGVzLk1FVEhPRD92b2lkKGQ9bnVsbCk6ZS5hdHRyaWJ1dGVzLlVSST8oZS5hdHRyaWJ1dGVzLk1FVEhPRHx8dGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiZGVmYXVsdGluZyBrZXkgbWV0aG9kIHRvIEFFUy0xMjgifSksZD17bWV0aG9kOmUuYXR0cmlidXRlcy5NRVRIT0R8fCJBRVMtMTI4Iix1cmk6ZS5hdHRyaWJ1dGVzLlVSSX0sdm9pZCgidW5kZWZpbmVkIiE9dHlwZW9mIGUuYXR0cmlidXRlcy5JViYmKGQuaXY9ZS5hdHRyaWJ1dGVzLklWKSkpOnZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3Jpbmcga2V5IGRlY2xhcmF0aW9uIHdpdGhvdXQgVVJJIn0pOnZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3Jpbmcga2V5IGRlY2xhcmF0aW9uIHdpdGhvdXQgYXR0cmlidXRlIGxpc3QifSl9LCJtZWRpYS1zZXF1ZW5jZSI6ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoZS5udW1iZXIpKXJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIGludmFsaWQgbWVkaWEgc2VxdWVuY2U6ICIrZS5udW1iZXJ9KTt0aGlzLm1hbmlmZXN0Lm1lZGlhU2VxdWVuY2U9ZS5udW1iZXJ9LCJkaXNjb250aW51aXR5LXNlcXVlbmNlIjpmdW5jdGlvbigpe2lmKCFpc0Zpbml0ZShlLm51bWJlcikpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3JpbmcgaW52YWxpZCBkaXNjb250aW51aXR5IHNlcXVlbmNlOiAiK2UubnVtYmVyfSk7dGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9ZS5udW1iZXIsaD1lLm51bWJlcn0sInBsYXlsaXN0LXR5cGUiOmZ1bmN0aW9uKCl7aWYoIS9WT0R8RVZFTlQvLnRlc3QoZS5wbGF5bGlzdFR5cGUpKXJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIHVua25vd24gcGxheWxpc3QgdHlwZTogIitlLnBsYXlsaXN0fSk7dGhpcy5tYW5pZmVzdC5wbGF5bGlzdFR5cGU9ZS5wbGF5bGlzdFR5cGV9LG1hcDpmdW5jdGlvbigpe3U9e30sZS51cmkmJih1LnVyaT1lLnVyaSksZS5ieXRlcmFuZ2UmJih1LmJ5dGVyYW5nZT1lLmJ5dGVyYW5nZSl9LCJzdHJlYW0taW5mIjpmdW5jdGlvbigpe2lmKHRoaXMubWFuaWZlc3QucGxheWxpc3RzPW4sdGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwcz10aGlzLm1hbmlmZXN0Lm1lZGlhR3JvdXBzfHxmLCFlLmF0dHJpYnV0ZXMpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3JpbmcgZW1wdHkgc3RyZWFtLWluZiBhdHRyaWJ1dGVzIn0pO3MuYXR0cmlidXRlc3x8KHMuYXR0cmlidXRlcz17fSksbyhzLmF0dHJpYnV0ZXMsZS5hdHRyaWJ1dGVzKX0sbWVkaWE6ZnVuY3Rpb24oKXtpZih0aGlzLm1hbmlmZXN0Lm1lZGlhR3JvdXBzPXRoaXMubWFuaWZlc3QubWVkaWFHcm91cHN8fGYsIShlLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5UWVBFJiZlLmF0dHJpYnV0ZXNbIkdST1VQLUlEIl0mJmUuYXR0cmlidXRlcy5OQU1FKSlyZXR1cm4gdm9pZCB0aGlzLnRyaWdnZXIoIndhcm4iLHttZXNzYWdlOiJpZ25vcmluZyBpbmNvbXBsZXRlIG9yIG1pc3NpbmcgbWVkaWEgZ3JvdXAifSk7dmFyIGk9dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwc1tlLmF0dHJpYnV0ZXMuVFlQRV07aVtlLmF0dHJpYnV0ZXNbIkdST1VQLUlEIl1dPWlbZS5hdHRyaWJ1dGVzWyJHUk9VUC1JRCJdXXx8e30sdD1pW2UuYXR0cmlidXRlc1siR1JPVVAtSUQiXV0scj17ImRlZmF1bHQiOi95ZXMvaS50ZXN0KGUuYXR0cmlidXRlcy5ERUZBVUxUKX0sclsiZGVmYXVsdCJdP3IuYXV0b3NlbGVjdD0hMDpyLmF1dG9zZWxlY3Q9L3llcy9pLnRlc3QoZS5hdHRyaWJ1dGVzLkFVVE9TRUxFQ1QpLGUuYXR0cmlidXRlcy5MQU5HVUFHRSYmKHIubGFuZ3VhZ2U9ZS5hdHRyaWJ1dGVzLkxBTkdVQUdFKSxlLmF0dHJpYnV0ZXMuVVJJJiYoci51cmk9ZS5hdHRyaWJ1dGVzLlVSSSksZS5hdHRyaWJ1dGVzWyJJTlNUUkVBTS1JRCJdJiYoci5pbnN0cmVhbUlkPWUuYXR0cmlidXRlc1siSU5TVFJFQU0tSUQiXSksZS5hdHRyaWJ1dGVzLkNIQVJBQ1RFUklTVElDUyYmKHIuY2hhcmFjdGVyaXN0aWNzPWUuYXR0cmlidXRlcy5DSEFSQUNURVJJU1RJQ1MpLGUuYXR0cmlidXRlcy5GT1JDRUQmJihyLmZvcmNlZD0veWVzL2kudGVzdChlLmF0dHJpYnV0ZXMuRk9SQ0VEKSksdFtlLmF0dHJpYnV0ZXMuTkFNRV09cn0sZGlzY29udGludWl0eTpmdW5jdGlvbigpe2grPTEscy5kaXNjb250aW51aXR5PSEwLHRoaXMubWFuaWZlc3QuZGlzY29udGludWl0eVN0YXJ0cy5wdXNoKG4ubGVuZ3RoKX0sInByb2dyYW0tZGF0ZS10aW1lIjpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuZGF0ZVRpbWVTdHJpbmc9ZS5kYXRlVGltZVN0cmluZyx0aGlzLm1hbmlmZXN0LmRhdGVUaW1lT2JqZWN0PWUuZGF0ZVRpbWVPYmplY3R9LHRhcmdldGR1cmF0aW9uOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKGUuZHVyYXRpb24pfHxlLmR1cmF0aW9uPDApcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiaWdub3JpbmcgaW52YWxpZCB0YXJnZXQgZHVyYXRpb246ICIrZS5kdXJhdGlvbn0pO3RoaXMubWFuaWZlc3QudGFyZ2V0RHVyYXRpb249ZS5kdXJhdGlvbn0sdG90YWxkdXJhdGlvbjpmdW5jdGlvbigpe2lmKCFpc0Zpbml0ZShlLmR1cmF0aW9uKXx8ZS5kdXJhdGlvbjwwKXJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigid2FybiIse21lc3NhZ2U6Imlnbm9yaW5nIGludmFsaWQgdG90YWwgZHVyYXRpb246ICIrZS5kdXJhdGlvbn0pO3RoaXMubWFuaWZlc3QudG90YWxEdXJhdGlvbj1lLmR1cmF0aW9ufSwiY3VlLW91dCI6ZnVuY3Rpb24oKXtzLmN1ZU91dD1lLmRhdGF9LCJjdWUtb3V0LWNvbnQiOmZ1bmN0aW9uKCl7cy5jdWVPdXRDb250PWUuZGF0YX0sImN1ZS1pbiI6ZnVuY3Rpb24oKXtzLmN1ZUluPWUuZGF0YX19KVtlLnRhZ1R5cGVdfHxsKS5jYWxsKGkpfSx1cmk6ZnVuY3Rpb24oKXtzLnVyaT1lLnVyaSxuLnB1c2gocyksIXRoaXMubWFuaWZlc3QudGFyZ2V0RHVyYXRpb258fCJkdXJhdGlvbiJpbiBzfHwodGhpcy50cmlnZ2VyKCJ3YXJuIix7bWVzc2FnZToiZGVmYXVsdGluZyBzZWdtZW50IGR1cmF0aW9uIHRvIHRoZSB0YXJnZXQgZHVyYXRpb24ifSkscy5kdXJhdGlvbj10aGlzLm1hbmlmZXN0LnRhcmdldER1cmF0aW9uKSxkJiYocy5rZXk9ZCkscy50aW1lbGluZT1oLHUmJihzLm1hcD11KSxzPXt9fSxjb21tZW50OmZ1bmN0aW9uKCl7fX0pW2UudHlwZV0uY2FsbChpKX0pLGV9cmV0dXJuIHModCxlKSx1KHQsW3trZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubGluZVN0cmVhbS5wdXNoKGUpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubGluZVN0cmVhbS5wdXNoKCJcbiIpfX1dKSx0fShsWyJkZWZhdWx0Il0pO2lbImRlZmF1bHQiXT1tfSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKSx0aGlzLmxpc3RlbmVycz17fX1yZXR1cm4gcihlLFt7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmxpc3RlbmVyc1tlXXx8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmxpc3RlbmVyc1tlXSlyZXR1cm4hMTt2YXIgaT10aGlzLmxpc3RlbmVyc1tlXS5pbmRleE9mKHQpO3JldHVybiB0aGlzLmxpc3RlbmVyc1tlXS5zcGxpY2UoaSwxKSxpPi0xfX0se2tleToidHJpZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5saXN0ZW5lcnNbZV0saT12b2lkIDAsbj12b2lkIDAscj12b2lkIDA7aWYodClpZigyPT09YXJndW1lbnRzLmxlbmd0aClmb3Iobj10Lmxlbmd0aCxpPTA7aTxuOysraSl0W2ldLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2Vsc2UgZm9yKHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49dC5sZW5ndGgsaT0wO2k8bjsrK2kpdFtpXS5hcHBseSh0aGlzLHIpfX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVycz17fX19LHtrZXk6InBpcGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMub24oImRhdGEiLGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pfX1dKSxlfSgpO2lbImRlZmF1bHQiXT1hfSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG4scj1lKDYyKTtuPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXksdD0wO24ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnNldFRpbWVzdGFtcD1mdW5jdGlvbihlKXt0PWV9LHRoaXMucGFyc2VJZDNUYWdTaXplPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0KzZdPDwyMXxlW3QrN108PDE0fGVbdCs4XTw8N3xlW3QrOV07cmV0dXJuKDE2JmVbdCs1XSk+PjQ/aSsyMDppKzEwfSx0aGlzLnBhcnNlQWR0c1NpemU9ZnVuY3Rpb24oZSx0KXt2YXIgaT0oMjI0JmVbdCs1XSk+PjUsbj1lW3QrNF08PDM7cmV0dXJuIDYxNDQmZVt0KzNdfG58aX0sdGhpcy5wdXNoPWZ1bmN0aW9uKGkpe3ZhciBuLHIsYSxzLG89MCx1PTA7Zm9yKGUubGVuZ3RoPyhzPWUubGVuZ3RoLGU9bmV3IFVpbnQ4QXJyYXkoaS5ieXRlTGVuZ3RoK3MpLGUuc2V0KGUuc3ViYXJyYXkoMCxzKSksZS5zZXQoaSxzKSk6ZT1pO2UubGVuZ3RoLXU+PTM7KWlmKGVbdV0hPT0iSSIuY2hhckNvZGVBdCgwKXx8ZVt1KzFdIT09IkQiLmNoYXJDb2RlQXQoMCl8fGVbdSsyXSE9PSIzIi5jaGFyQ29kZUF0KDApKWlmKCEwJmVbdV0mJjI0MD09KDI0MCZlW3UrMV0pKXtpZihlLmxlbmd0aC11PDcpYnJlYWs7aWYoKG89dGhpcy5wYXJzZUFkdHNTaXplKGUsdSkpPmUubGVuZ3RoKWJyZWFrO2E9e3R5cGU6ImF1ZGlvIixkYXRhOmUuc3ViYXJyYXkodSx1K28pLHB0czp0LGR0czp0fSx0aGlzLnRyaWdnZXIoImRhdGEiLGEpLHUrPW99ZWxzZSB1Kys7ZWxzZXtpZihlLmxlbmd0aC11PDEwKWJyZWFrO2lmKChvPXRoaXMucGFyc2VJZDNUYWdTaXplKGUsdSkpPmUubGVuZ3RoKWJyZWFrO3I9e3R5cGU6InRpbWVkLW1ldGFkYXRhIixkYXRhOmUuc3ViYXJyYXkodSx1K28pfSx0aGlzLnRyaWdnZXIoImRhdGEiLHIpLHUrPW99bj1lLmxlbmd0aC11LGU9bj4wP2Uuc3ViYXJyYXkodSk6bmV3IFVpbnQ4QXJyYXl9fSxuLnByb3RvdHlwZT1uZXcgcix0LmV4cG9ydHM9bn0se31dLDM5OltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuPVs5NmUzLDg4MjAwLDY0ZTMsNDhlMyw0NDEwMCwzMmUzLDI0ZTMsMjIwNTAsMTZlMywxMmUzLDExMDI1LDhlMyw3MzUwXSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPDwyMXxlWzFdPDwxNHxlWzJdPDw3fGVbM119LGE9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI9IiI7Zm9yKG49dDtuPGk7bisrKXIrPSIlIisoIjAwIitlW25dLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVybiByfSxzPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdW5lc2NhcGUoYShlLHQsaSkpfSxvPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0KzZdPDwyMXxlW3QrN108PDE0fGVbdCs4XTw8N3xlW3QrOV07cmV0dXJuKDE2JmVbdCs1XSk+PjQ/aSsyMDppKzEwfSx1PWZ1bmN0aW9uKGUsdCl7dmFyIGk9KDIyNCZlW3QrNV0pPj41LG49ZVt0KzRdPDwzO3JldHVybiA2MTQ0JmVbdCszXXxufGl9LGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT09PSJJIi5jaGFyQ29kZUF0KDApJiZlW3QrMV09PT0iRCIuY2hhckNvZGVBdCgwKSYmZVt0KzJdPT09IjMiLmNoYXJDb2RlQXQoMCk/InRpbWVkLW1ldGFkYXRhIjohMCZlW3RdJiYyNDA9PSgyNDAmZVt0KzFdKT8iYXVkaW8iOm51bGx9LGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dCs1PGUubGVuZ3RoOyl7aWYoMjU1PT09ZVt0XSYmMjQwPT0oMjQ2JmVbdCsxXSkpcmV0dXJuIG5bKDYwJmVbdCsyXSk+Pj4yXTt0Kyt9cmV0dXJuIG51bGx9LGY9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuO3Q9MTAsNjQmZVs1XSYmKHQrPTQsdCs9cihlLnN1YmFycmF5KDEwLDE0KSkpO2Rve2lmKChpPXIoZS5zdWJhcnJheSh0KzQsdCs4KSkpPDEpcmV0dXJuIG51bGw7aWYoIlBSSVYiPT09U3RyaW5nLmZyb21DaGFyQ29kZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKSl7bj1lLnN1YmFycmF5KHQrMTAsdCtpKzEwKTtmb3IodmFyIGE9MDthPG4uYnl0ZUxlbmd0aDthKyspaWYoMD09PW5bYV0pe3ZhciBvPXMobiwwLGEpO2lmKCJjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCI9PT1vKXt2YXIgdT1uLnN1YmFycmF5KGErMSksZD0oMSZ1WzNdKTw8MzB8dVs0XTw8MjJ8dVs1XTw8MTR8dVs2XTw8Nnx1WzddPj4+MjtyZXR1cm4gZCo9NCxkKz0zJnVbN119YnJlYWt9fXQrPTEwLHQrPWl9d2hpbGUodDxlLmJ5dGVMZW5ndGgpO3JldHVybiBudWxsfTt0LmV4cG9ydHM9e3BhcnNlSWQzVGFnU2l6ZTpvLHBhcnNlQWR0c1NpemU6dSxwYXJzZVR5cGU6ZCxwYXJzZVNhbXBsZVJhdGU6bCxwYXJzZUFhY1RpbWVzdGFtcDpmfX0se31dLDQwOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuLHI9ZSg2MiksYT1bOTZlMyw4ODIwMCw2NGUzLDQ4ZTMsNDQxMDAsMzJlMywyNGUzLDIyMDUwLDE2ZTMsMTJlMywxMTAyNSw4ZTMsNzM1MF07bj1mdW5jdGlvbigpe3ZhciBlO24ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24odCl7dmFyIGksbixyLHMsbyx1LGQ9MCxsPTA7aWYoImF1ZGlvIj09PXQudHlwZSlmb3IoZT8ocz1lLGU9bmV3IFVpbnQ4QXJyYXkocy5ieXRlTGVuZ3RoK3QuZGF0YS5ieXRlTGVuZ3RoKSxlLnNldChzKSxlLnNldCh0LmRhdGEscy5ieXRlTGVuZ3RoKSk6ZT10LmRhdGE7ZCs1PGUubGVuZ3RoOylpZigyNTU9PT1lW2RdJiYyNDA9PSgyNDYmZVtkKzFdKSl7aWYobj0yKigxJn5lW2QrMV0pLGk9KDMmZVtkKzNdKTw8MTF8ZVtkKzRdPDwzfCgyMjQmZVtkKzVdKT4+NSxvPTEwMjQqKDErKDMmZVtkKzZdKSksdT05ZTQqby9hWyg2MCZlW2QrMl0pPj4+Ml0scj1kK2ksZS5ieXRlTGVuZ3RoPHIpcmV0dXJuO2lmKHRoaXMudHJpZ2dlcigiZGF0YSIse3B0czp0LnB0cytsKnUsZHRzOnQuZHRzK2wqdSxzYW1wbGVDb3VudDpvLGF1ZGlvb2JqZWN0dHlwZToxKyhlW2QrMl0+Pj42JjMpLGNoYW5uZWxjb3VudDooMSZlW2QrMl0pPDwyfCgxOTImZVtkKzNdKT4+PjYsc2FtcGxlcmF0ZTphWyg2MCZlW2QrMl0pPj4+Ml0sc2FtcGxpbmdmcmVxdWVuY3lpbmRleDooNjAmZVtkKzJdKT4+PjIsc2FtcGxlc2l6ZToxNixkYXRhOmUuc3ViYXJyYXkoZCs3K24scil9KSxlLmJ5dGVMZW5ndGg9PT1yKXJldHVybiB2b2lkKGU9dW5kZWZpbmVkKTtsKyssZT1lLnN1YmFycmF5KHIpfWVsc2UgZCsrfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJkb25lIil9fSxuLnByb3RvdHlwZT1uZXcgcix0LmV4cG9ydHM9bn0se31dLDQxOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuLHIsYSxzPWUoNjIpLG89ZSg2MSk7cj1mdW5jdGlvbigpe3ZhciBlLHQsaT0wO3IucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24obil7dmFyIHI7Zm9yKHQ/KHI9bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoK24uZGF0YS5ieXRlTGVuZ3RoKSxyLnNldCh0KSxyLnNldChuLmRhdGEsdC5ieXRlTGVuZ3RoKSx0PXIpOnQ9bi5kYXRhO2k8dC5ieXRlTGVuZ3RoLTM7aSsrKWlmKDE9PT10W2krMl0pe2U9aSs1O2JyZWFrfWZvcig7ZTx0LmJ5dGVMZW5ndGg7KXN3aXRjaCh0W2VdKXtjYXNlIDA6aWYoMCE9PXRbZS0xXSl7ZSs9MjticmVha31pZigwIT09dFtlLTJdKXtlKys7YnJlYWt9aSszIT09ZS0yJiZ0aGlzLnRyaWdnZXIoImRhdGEiLHQuc3ViYXJyYXkoaSszLGUtMikpO2Rve2UrK313aGlsZSgxIT09dFtlXSYmZTx0Lmxlbmd0aCk7aT1lLTIsZSs9MzticmVhaztjYXNlIDE6aWYoMCE9PXRbZS0xXXx8MCE9PXRbZS0yXSl7ZSs9MzticmVha310aGlzLnRyaWdnZXIoImRhdGEiLHQuc3ViYXJyYXkoaSszLGUtMikpLGk9ZS0yLGUrPTM7YnJlYWs7ZGVmYXVsdDplKz0zfXQ9dC5zdWJhcnJheShpKSxlLT1pLGk9MH0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe3QmJnQuYnl0ZUxlbmd0aD4zJiZ0aGlzLnRyaWdnZXIoImRhdGEiLHQuc3ViYXJyYXkoaSszKSksdD1udWxsLGk9MCx0aGlzLnRyaWdnZXIoImRvbmUiKX19LHIucHJvdG90eXBlPW5ldyBzLGE9ezEwMDohMCwxMTA6ITAsMTIyOiEwLDI0NDohMCw0NDohMCw4MzohMCw4NjohMCwxMTg6ITAsMTI4OiEwLDEzODohMCwxMzk6ITAsMTM0OiEwfSxuPWZ1bmN0aW9uKCl7dmFyIGUsdCxpLHMsdSxkLGwsZj1uZXcgcjtuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksZT10aGlzLHRoaXMucHVzaD1mdW5jdGlvbihlKXsidmlkZW8iPT09ZS50eXBlJiYodD1lLnRyYWNrSWQsaT1lLnB0cyxzPWUuZHRzLGYucHVzaChlKSl9LGYub24oImRhdGEiLGZ1bmN0aW9uKG4pe3ZhciByPXt0cmFja0lkOnQscHRzOmksZHRzOnMsZGF0YTpufTtzd2l0Y2goMzEmblswXSl7Y2FzZSA1OnIubmFsVW5pdFR5cGU9InNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyIjticmVhaztjYXNlIDY6ci5uYWxVbml0VHlwZT0ic2VpX3Jic3AiLHIuZXNjYXBlZFJCU1A9dShuLnN1YmFycmF5KDEpKTticmVhaztjYXNlIDc6ci5uYWxVbml0VHlwZT0ic2VxX3BhcmFtZXRlcl9zZXRfcmJzcCIsci5lc2NhcGVkUkJTUD11KG4uc3ViYXJyYXkoMSkpLHIuY29uZmlnPWQoci5lc2NhcGVkUkJTUCk7YnJlYWs7Y2FzZSA4OnIubmFsVW5pdFR5cGU9InBpY19wYXJhbWV0ZXJfc2V0X3Jic3AiO2JyZWFrO2Nhc2UgOTpyLm5hbFVuaXRUeXBlPSJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCJ9ZS50cmlnZ2VyKCJkYXRhIixyKX0pLGYub24oImRvbmUiLGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCJkb25lIil9KSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7Zi5mbHVzaCgpfSxsPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyPTgsYT04O2ZvcihpPTA7aTxlO2krKykwIT09YSYmKG49dC5yZWFkRXhwR29sb21iKCksYT0ocituKzI1NiklMjU2KSxyPTA9PT1hP3I6YX0sdT1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxuPWUuYnl0ZUxlbmd0aCxyPVtdLGE9MTthPG4tMjspMD09PWVbYV0mJjA9PT1lW2ErMV0mJjM9PT1lW2ErMl0/KHIucHVzaChhKzIpLGErPTIpOmErKztpZigwPT09ci5sZW5ndGgpcmV0dXJuIGU7dD1uLXIubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkodCk7dmFyIHM9MDtmb3IoYT0wO2E8dDtzKyssYSsrKXM9PT1yWzBdJiYocysrLHIuc2hpZnQoKSksaVthXT1lW3NdO3JldHVybiBpfSxkPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLHMsdSxkLGYsYyxoLHAsbSxnLHk9MCxfPTAsdj0wLGI9MCxUPTE7aWYodD1uZXcgbyhlKSxpPXQucmVhZFVuc2lnbmVkQnl0ZSgpLHI9dC5yZWFkVW5zaWduZWRCeXRlKCksbj10LnJlYWRVbnNpZ25lZEJ5dGUoKSx0LnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLGFbaV0mJihzPXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksMz09PXMmJnQuc2tpcEJpdHMoMSksdC5za2lwVW5zaWduZWRFeHBHb2xvbWIoKSx0LnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLHQuc2tpcEJpdHMoMSksdC5yZWFkQm9vbGVhbigpKSlmb3IocD0zIT09cz84OjEyLGc9MDtnPHA7ZysrKXQucmVhZEJvb2xlYW4oKSYmKGc8Nj9sKDE2LHQpOmwoNjQsdCkpO2lmKHQuc2tpcFVuc2lnbmVkRXhwR29sb21iKCksMD09PSh1PXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCkpKXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCk7ZWxzZSBpZigxPT09dSlmb3IodC5za2lwQml0cygxKSx0LnNraXBFeHBHb2xvbWIoKSx0LnNraXBFeHBHb2xvbWIoKSxkPXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksZz0wO2c8ZDtnKyspdC5za2lwRXhwR29sb21iKCk7aWYodC5za2lwVW5zaWduZWRFeHBHb2xvbWIoKSx0LnNraXBCaXRzKDEpLGY9dC5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSxjPXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksaD10LnJlYWRCaXRzKDEpLDA9PT1oJiZ0LnNraXBCaXRzKDEpLHQuc2tpcEJpdHMoMSksdC5yZWFkQm9vbGVhbigpJiYoeT10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLF89dC5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSx2PXQucmVhZFVuc2lnbmVkRXhwR29sb21iKCksYj10LnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpKSx0LnJlYWRCb29sZWFuKCkmJnQucmVhZEJvb2xlYW4oKSl7c3dpdGNoKHQucmVhZFVuc2lnbmVkQnl0ZSgpKXtjYXNlIDE6bT1bMSwxXTticmVhaztjYXNlIDI6bT1bMTIsMTFdO2JyZWFrO2Nhc2UgMzptPVsxMCwxMV07YnJlYWs7Y2FzZSA0Om09WzE2LDExXTticmVhaztjYXNlIDU6bT1bNDAsMzNdO2JyZWFrO2Nhc2UgNjptPVsyNCwxMV07YnJlYWs7Y2FzZSA3Om09WzIwLDExXTticmVhaztjYXNlIDg6bT1bMzIsMTFdO2JyZWFrO2Nhc2UgOTptPVs4MCwzM107YnJlYWs7Y2FzZSAxMDptPVsxOCwxMV07YnJlYWs7Y2FzZSAxMTptPVsxNSwxMV07YnJlYWs7Y2FzZSAxMjptPVs2NCwzM107YnJlYWs7Y2FzZSAxMzptPVsxNjAsOTldO2JyZWFrO2Nhc2UgMTQ6bT1bNCwzXTticmVhaztjYXNlIDE1Om09WzMsMl07YnJlYWs7Y2FzZSAxNjptPVsyLDFdO2JyZWFrO2Nhc2UgMjU1Om09W3QucmVhZFVuc2lnbmVkQnl0ZSgpPDw4fHQucmVhZFVuc2lnbmVkQnl0ZSgpLHQucmVhZFVuc2lnbmVkQnl0ZSgpPDw4fHQucmVhZFVuc2lnbmVkQnl0ZSgpXX1tJiYoVD1tWzBdL21bMV0pfXJldHVybntwcm9maWxlSWRjOmksbGV2ZWxJZGM6bixwcm9maWxlQ29tcGF0aWJpbGl0eTpyLHdpZHRoOk1hdGguY2VpbCgoMTYqKGYrMSktMip5LTIqXykqVCksaGVpZ2h0OigyLWgpKihjKzEpKjE2LTIqdi0yKmJ9fX0sbi5wcm90b3R5cGU9bmV3IHMsdC5leHBvcnRzPXtIMjY0U3RyZWFtOm4sTmFsQnl0ZVN0cmVhbTpyfX0se31dLDQyOltmdW5jdGlvbihlLHQsaSl7dmFyIG49WzMzLDE2LDUsMzIsMTY0LDI3XSxyPVszMyw2NSwxMDgsODQsMSwyLDQsOCwxNjgsMiw0LDgsMTcsMTkxLDI1Ml0sYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W107ZS0tOyl0LnB1c2goMCk7cmV0dXJuIHR9LHM9ezk2ZTM6W24sWzIyNyw2NF0sYSgxNTQpLFs1Nl1dLDg4MjAwOltuLFsyMzFdLGEoMTcwKSxbNTZdXSw2NGUzOltuLFsyNDgsMTkyXSxhKDI0MCksWzU2XV0sNDhlMzpbbixbMjU1LDE5Ml0sYSgyNjgpLFs1NSwxNDgsMTI4XSxhKDU0KSxbMTEyXV0sNDQxMDA6W24sWzI1NSwxOTJdLGEoMjY4KSxbNTUsMTYzLDEyOF0sYSg4NCksWzExMl1dLDMyZTM6W24sWzI1NSwxOTJdLGEoMjY4KSxbNTUsMjM0XSxhKDIyNiksWzExMl1dLDI0ZTM6W24sWzI1NSwxOTJdLGEoMjY4KSxbNTUsMjU1LDEyOF0sYSgyNjgpLFsxMTEsMTEyXSxhKDEyNiksWzIyNF1dLDE2ZTM6W24sWzI1NSwxOTJdLGEoMjY4KSxbNTUsMjU1LDEyOF0sYSgyNjgpLFsxMTEsMjU1XSxhKDI2OSksWzIyMywxMDhdLGEoMTk1KSxbMSwxOTJdXSwxMmUzOltyLGEoMjY4KSxbMywxMjcsMjQ4XSxhKDI2OCksWzYsMjU1LDI0MF0sYSgyNjgpLFsxMywyNTUsMjI0XSxhKDI2OCksWzI3LDI1MywxMjhdLGEoMjU5KSxbNTZdXSwxMTAyNTpbcixhKDI2OCksWzMsMTI3LDI0OF0sYSgyNjgpLFs2LDI1NSwyNDBdLGEoMjY4KSxbMTMsMjU1LDIyNF0sYSgyNjgpLFsyNywyNTUsMTkyXSxhKDI2OCksWzU1LDE3NSwxMjhdLGEoMTA4KSxbMTEyXV0sOGUzOltyLGEoMjY4KSxbMywxMjEsMTZdLGEoNDcpLFs3XV19O3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbaV09bmV3IFVpbnQ4QXJyYXkoZVtpXS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9LFtdKSksdH0se30pfShzKX0se31dLDQzOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuPWUoNjIpLHI9ZnVuY3Rpb24oZSl7dGhpcy5udW1iZXJPZlRyYWNrcz0wLHRoaXMubWV0YWRhdGFTdHJlYW09ZS5tZXRhZGF0YVN0cmVhbSx0aGlzLnZpZGVvVGFncz1bXSx0aGlzLmF1ZGlvVGFncz1bXSx0aGlzLnZpZGVvVHJhY2s9bnVsbCx0aGlzLmF1ZGlvVHJhY2s9bnVsbCx0aGlzLnBlbmRpbmdDYXB0aW9ucz1bXSx0aGlzLnBlbmRpbmdNZXRhZGF0YT1bXSx0aGlzLnBlbmRpbmdUcmFja3M9MCx0aGlzLnByb2Nlc3NlZFRyYWNrcz0wLHIucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dD90aGlzLnBlbmRpbmdDYXB0aW9ucy5wdXNoKGUpOmUuZnJhbWVzP3RoaXMucGVuZGluZ01ldGFkYXRhLnB1c2goZSk6KCJ2aWRlbyI9PT1lLnRyYWNrLnR5cGUmJih0aGlzLnZpZGVvVHJhY2s9ZS50cmFjayx0aGlzLnZpZGVvVGFncz1lLnRhZ3MsdGhpcy5wZW5kaW5nVHJhY2tzKyspLHZvaWQoImF1ZGlvIj09PWUudHJhY2sudHlwZSYmKHRoaXMuYXVkaW9UcmFjaz1lLnRyYWNrLHRoaXMuYXVkaW9UYWdzPWUudGFncyx0aGlzLnBlbmRpbmdUcmFja3MrKykpKX19O3IucHJvdG90eXBlPW5ldyBuLHIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGE9e3RhZ3M6e30sY2FwdGlvbnM6W10sY2FwdGlvblN0cmVhbXM6e30sbWV0YWRhdGE6W119O2lmKHRoaXMucGVuZGluZ1RyYWNrczx0aGlzLm51bWJlck9mVHJhY2tzKXtpZigiVmlkZW9TZWdtZW50U3RyZWFtIiE9PWUmJiJBdWRpb1NlZ21lbnRTdHJlYW0iIT09ZSlyZXR1cm47aWYoMD09PXRoaXMucGVuZGluZ1RyYWNrcyYmKyt0aGlzLnByb2Nlc3NlZFRyYWNrczx0aGlzLm51bWJlck9mVHJhY2tzKXJldHVybn1pZih0aGlzLnByb2Nlc3NlZFRyYWNrcys9dGhpcy5wZW5kaW5nVHJhY2tzLHRoaXMucGVuZGluZ1RyYWNrcz0wLCEodGhpcy5wcm9jZXNzZWRUcmFja3M8dGhpcy5udW1iZXJPZlRyYWNrcykpe2Zvcih0aGlzLnZpZGVvVHJhY2s/cj10aGlzLnZpZGVvVHJhY2sudGltZWxpbmVTdGFydEluZm8ucHRzOnRoaXMuYXVkaW9UcmFjayYmKHI9dGhpcy5hdWRpb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLnB0cyksYS50YWdzLnZpZGVvVGFncz10aGlzLnZpZGVvVGFncyxhLnRhZ3MuYXVkaW9UYWdzPXRoaXMuYXVkaW9UYWdzLG49MDtuPHRoaXMucGVuZGluZ0NhcHRpb25zLmxlbmd0aDtuKyspaT10aGlzLnBlbmRpbmdDYXB0aW9uc1tuXSxpLnN0YXJ0VGltZT1pLnN0YXJ0UHRzLXIsaS5zdGFydFRpbWUvPTllNCxpLmVuZFRpbWU9aS5lbmRQdHMtcixpLmVuZFRpbWUvPTllNCxhLmNhcHRpb25TdHJlYW1zW2kuc3RyZWFtXT0hMCxhLmNhcHRpb25zLnB1c2goaSk7Zm9yKG49MDtuPHRoaXMucGVuZGluZ01ldGFkYXRhLmxlbmd0aDtuKyspdD10aGlzLnBlbmRpbmdNZXRhZGF0YVtuXSx0LmN1ZVRpbWU9dC5wdHMtcix0LmN1ZVRpbWUvPTllNCxhLm1ldGFkYXRhLnB1c2godCk7YS5tZXRhZGF0YS5kaXNwYXRjaFR5cGU9dGhpcy5tZXRhZGF0YVN0cmVhbS5kaXNwYXRjaFR5cGUsdGhpcy52aWRlb1RyYWNrPW51bGwsdGhpcy5hdWRpb1RyYWNrPW51bGwsdGhpcy52aWRlb1RhZ3M9W10sdGhpcy5hdWRpb1RhZ3M9W10sdGhpcy5wZW5kaW5nQ2FwdGlvbnMubGVuZ3RoPTAsdGhpcy5wZW5kaW5nTWV0YWRhdGEubGVuZ3RoPTAsdGhpcy5wZW5kaW5nVHJhY2tzPTAsdGhpcy5wcm9jZXNzZWRUcmFja3M9MCx0aGlzLnRyaWdnZXIoImRhdGEiLGEpLHRoaXMudHJpZ2dlcigiZG9uZSIpfX0sdC5leHBvcnRzPXJ9LHt9XSw0NDpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKDQ1KSxyPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcixhLHMsbz1uZXcgVWludDhBcnJheSg5KSx1PW5ldyBEYXRhVmlldyhvLmJ1ZmZlcik7cmV0dXJuIGU9ZXx8MCx0PXQ9PT11bmRlZmluZWR8fHQsaT1pPT09dW5kZWZpbmVkfHxpLHUuc2V0VWludDgoMCw3MCksdS5zZXRVaW50OCgxLDc2KSx1LnNldFVpbnQ4KDIsODYpLHUuc2V0VWludDgoMywxKSx1LnNldFVpbnQ4KDQsKHQ/NDowKXwoaT8xOjApKSx1LnNldFVpbnQzMig1LG8uYnl0ZUxlbmd0aCksZTw9MD8oYT1uZXcgVWludDhBcnJheShvLmJ5dGVMZW5ndGgrNCksYS5zZXQobyksYS5zZXQoWzAsMCwwLDBdLG8uYnl0ZUxlbmd0aCksYSk6KHI9bmV3IG4obi5NRVRBREFUQV9UQUcpLHIucHRzPXIuZHRzPTAsci53cml0ZU1ldGFEYXRhRG91YmxlKCJkdXJhdGlvbiIsZSkscz1yLmZpbmFsaXplKCkubGVuZ3RoLGE9bmV3IFVpbnQ4QXJyYXkoby5ieXRlTGVuZ3RoK3MpLGEuc2V0KG8pLGEuc2V0KHUuYnl0ZUxlbmd0aCxzKSxhKX07dC5leHBvcnRzPXJ9LHt9XSw0NTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbjtuPWZ1bmN0aW9uKGUsdCl7dmFyIGkscj0wLGE9MTYzODQscz1mdW5jdGlvbihlLHQpe3ZhciBpLG49ZS5wb3NpdGlvbit0O248ZS5ieXRlcy5ieXRlTGVuZ3RofHwoaT1uZXcgVWludDhBcnJheSgyKm4pLGkuc2V0KGUuYnl0ZXMuc3ViYXJyYXkoMCxlLnBvc2l0aW9uKSwwKSxlLmJ5dGVzPWksZS52aWV3PW5ldyBEYXRhVmlldyhlLmJ5dGVzLmJ1ZmZlcikpfSxvPW4ud2lkdGhCeXRlc3x8bmV3IFVpbnQ4QXJyYXkoIndpZHRoIi5sZW5ndGgpLHU9bi5oZWlnaHRCeXRlc3x8bmV3IFVpbnQ4QXJyYXkoImhlaWdodCIubGVuZ3RoKSxkPW4udmlkZW9jb2RlY2lkQnl0ZXN8fG5ldyBVaW50OEFycmF5KCJ2aWRlb2NvZGVjaWQiLmxlbmd0aCk7aWYoIW4ud2lkdGhCeXRlcyl7Zm9yKGk9MDtpPCJ3aWR0aCIubGVuZ3RoO2krKylvW2ldPSJ3aWR0aCIuY2hhckNvZGVBdChpKTtmb3IoaT0wO2k8ImhlaWdodCIubGVuZ3RoO2krKyl1W2ldPSJoZWlnaHQiLmNoYXJDb2RlQXQoaSk7Zm9yKGk9MDtpPCJ2aWRlb2NvZGVjaWQiLmxlbmd0aDtpKyspZFtpXT0idmlkZW9jb2RlY2lkIi5jaGFyQ29kZUF0KGkpO24ud2lkdGhCeXRlcz1vLG4uaGVpZ2h0Qnl0ZXM9dSxuLnZpZGVvY29kZWNpZEJ5dGVzPWR9c3dpdGNoKHRoaXMua2V5RnJhbWU9ITEsZSl7Y2FzZSBuLlZJREVPX1RBRzp0aGlzLmxlbmd0aD0xNixhKj02O2JyZWFrO2Nhc2Ugbi5BVURJT19UQUc6dGhpcy5sZW5ndGg9MTMsdGhpcy5rZXlGcmFtZT0hMDticmVhaztjYXNlIG4uTUVUQURBVEFfVEFHOnRoaXMubGVuZ3RoPTI5LHRoaXMua2V5RnJhbWU9ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gRkxWIHRhZyB0eXBlIil9dGhpcy5ieXRlcz1uZXcgVWludDhBcnJheShhKSx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KHRoaXMuYnl0ZXMuYnVmZmVyKSx0aGlzLmJ5dGVzWzBdPWUsdGhpcy5wb3NpdGlvbj10aGlzLmxlbmd0aCx0aGlzLmtleUZyYW1lPXQsdGhpcy5wdHM9MCx0aGlzLmR0cz0wLHRoaXMud3JpdGVCeXRlcz1mdW5jdGlvbihlLHQsaSl7dmFyIG4scj10fHwwO2k9aXx8ZS5ieXRlTGVuZ3RoLG49citpLHModGhpcyxpKSx0aGlzLmJ5dGVzLnNldChlLnN1YmFycmF5KHIsbiksdGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbis9aSx0aGlzLmxlbmd0aD1NYXRoLm1heCh0aGlzLmxlbmd0aCx0aGlzLnBvc2l0aW9uKX0sdGhpcy53cml0ZUJ5dGU9ZnVuY3Rpb24oZSl7cyh0aGlzLDEpLHRoaXMuYnl0ZXNbdGhpcy5wb3NpdGlvbl09ZSx0aGlzLnBvc2l0aW9uKyssdGhpcy5sZW5ndGg9TWF0aC5tYXgodGhpcy5sZW5ndGgsdGhpcy5wb3NpdGlvbil9LHRoaXMud3JpdGVTaG9ydD1mdW5jdGlvbihlKXtzKHRoaXMsMiksdGhpcy52aWV3LnNldFVpbnQxNih0aGlzLnBvc2l0aW9uLGUpLHRoaXMucG9zaXRpb24rPTIsdGhpcy5sZW5ndGg9TWF0aC5tYXgodGhpcy5sZW5ndGgsdGhpcy5wb3NpdGlvbil9LHRoaXMubmVnSW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYnl0ZXNbdGhpcy5sZW5ndGgtZV19LHRoaXMubmFsVW5pdFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXI/MDp0aGlzLmxlbmd0aC0ocis0KX0sdGhpcy5zdGFydE5hbFVuaXQ9ZnVuY3Rpb24oKXtpZihyPjApdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY3JlYXRlIG5ldyBOQUwgd2lob3V0IGNsb3NpbmcgdGhlIG9sZCBvbmUiKTtyPXRoaXMubGVuZ3RoLHRoaXMubGVuZ3RoKz00LHRoaXMucG9zaXRpb249dGhpcy5sZW5ndGh9LHRoaXMuZW5kTmFsVW5pdD1mdW5jdGlvbihlKXt2YXIgdCxpO3RoaXMubGVuZ3RoPT09cis0P3RoaXMubGVuZ3RoLT00OnI+MCYmKHQ9cis0LGk9dGhpcy5sZW5ndGgtdCx0aGlzLnBvc2l0aW9uPXIsdGhpcy52aWV3LnNldFVpbnQzMih0aGlzLnBvc2l0aW9uLGkpLHRoaXMucG9zaXRpb249dGhpcy5sZW5ndGgsZSYmZS5wdXNoKHRoaXMuYnl0ZXMuc3ViYXJyYXkodCx0K2kpKSkscj0wfSx0aGlzLndyaXRlTWV0YURhdGFEb3VibGU9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpZihzKHRoaXMsMitlLmxlbmd0aCs5KSx0aGlzLnZpZXcuc2V0VWludDE2KHRoaXMucG9zaXRpb24sZS5sZW5ndGgpLHRoaXMucG9zaXRpb24rPTIsIndpZHRoIj09PWUpdGhpcy5ieXRlcy5zZXQobyx0aGlzLnBvc2l0aW9uKSx0aGlzLnBvc2l0aW9uKz01O2Vsc2UgaWYoImhlaWdodCI9PT1lKXRoaXMuYnl0ZXMuc2V0KHUsdGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbis9NjtlbHNlIGlmKCJ2aWRlb2NvZGVjaWQiPT09ZSl0aGlzLmJ5dGVzLnNldChkLHRoaXMucG9zaXRpb24pLHRoaXMucG9zaXRpb24rPTEyO2Vsc2UgZm9yKGk9MDtpPGUubGVuZ3RoO2krKyl0aGlzLmJ5dGVzW3RoaXMucG9zaXRpb25dPWUuY2hhckNvZGVBdChpKSx0aGlzLnBvc2l0aW9uKys7dGhpcy5wb3NpdGlvbisrLHRoaXMudmlldy5zZXRGbG9hdDY0KHRoaXMucG9zaXRpb24sdCksdGhpcy5wb3NpdGlvbis9OCx0aGlzLmxlbmd0aD1NYXRoLm1heCh0aGlzLmxlbmd0aCx0aGlzLnBvc2l0aW9uKSwrK3J9LHRoaXMud3JpdGVNZXRhRGF0YUJvb2xlYW49ZnVuY3Rpb24oZSx0KXt2YXIgaTtmb3Iocyh0aGlzLDIpLHRoaXMudmlldy5zZXRVaW50MTYodGhpcy5wb3NpdGlvbixlLmxlbmd0aCksdGhpcy5wb3NpdGlvbis9MixpPTA7aTxlLmxlbmd0aDtpKyspcyh0aGlzLDEpLHRoaXMuYnl0ZXNbdGhpcy5wb3NpdGlvbl09ZS5jaGFyQ29kZUF0KGkpLHRoaXMucG9zaXRpb24rKztzKHRoaXMsMiksdGhpcy52aWV3LnNldFVpbnQ4KHRoaXMucG9zaXRpb24sMSksCnRoaXMucG9zaXRpb24rKyx0aGlzLnZpZXcuc2V0VWludDgodGhpcy5wb3NpdGlvbix0PzE6MCksdGhpcy5wb3NpdGlvbisrLHRoaXMubGVuZ3RoPU1hdGgubWF4KHRoaXMubGVuZ3RoLHRoaXMucG9zaXRpb24pLCsrcn0sdGhpcy5maW5hbGl6ZT1mdW5jdGlvbigpe3ZhciBlLGk7c3dpdGNoKHRoaXMuYnl0ZXNbMF0pe2Nhc2Ugbi5WSURFT19UQUc6dGhpcy5ieXRlc1sxMV09N3wodGhpcy5rZXlGcmFtZXx8dD8xNjozMiksdGhpcy5ieXRlc1sxMl09dD8wOjEsZT10aGlzLnB0cy10aGlzLmR0cyx0aGlzLmJ5dGVzWzEzXT0oMTY3MTE2ODAmZSk+Pj4xNix0aGlzLmJ5dGVzWzE0XT0oNjUyODAmZSk+Pj44LHRoaXMuYnl0ZXNbMTVdPSgyNTUmZSk+Pj4wO2JyZWFrO2Nhc2Ugbi5BVURJT19UQUc6dGhpcy5ieXRlc1sxMV09MTc1LHRoaXMuYnl0ZXNbMTJdPXQ/MDoxO2JyZWFrO2Nhc2Ugbi5NRVRBREFUQV9UQUc6dGhpcy5wb3NpdGlvbj0xMSx0aGlzLnZpZXcuc2V0VWludDgodGhpcy5wb3NpdGlvbiwyKSx0aGlzLnBvc2l0aW9uKyssdGhpcy52aWV3LnNldFVpbnQxNih0aGlzLnBvc2l0aW9uLDEwKSx0aGlzLnBvc2l0aW9uKz0yLHRoaXMuYnl0ZXMuc2V0KFsxMTEsMTEwLDc3LDEwMSwxMTYsOTcsNjgsOTcsMTE2LDk3XSx0aGlzLnBvc2l0aW9uKSx0aGlzLnBvc2l0aW9uKz0xMCx0aGlzLmJ5dGVzW3RoaXMucG9zaXRpb25dPTgsdGhpcy5wb3NpdGlvbisrLHRoaXMudmlldy5zZXRVaW50MzIodGhpcy5wb3NpdGlvbixyKSx0aGlzLnBvc2l0aW9uPXRoaXMubGVuZ3RoLHRoaXMuYnl0ZXMuc2V0KFswLDAsOV0sdGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbis9Myx0aGlzLmxlbmd0aD10aGlzLnBvc2l0aW9ufXJldHVybiBpPXRoaXMubGVuZ3RoLTExLHRoaXMuYnl0ZXNbMV09KDE2NzExNjgwJmkpPj4+MTYsdGhpcy5ieXRlc1syXT0oNjUyODAmaSk+Pj44LHRoaXMuYnl0ZXNbM109KDI1NSZpKT4+PjAsdGhpcy5ieXRlc1s0XT0oMTY3MTE2ODAmdGhpcy5kdHMpPj4+MTYsdGhpcy5ieXRlc1s1XT0oNjUyODAmdGhpcy5kdHMpPj4+OCx0aGlzLmJ5dGVzWzZdPSgyNTUmdGhpcy5kdHMpPj4+MCx0aGlzLmJ5dGVzWzddPSg0Mjc4MTkwMDgwJnRoaXMuZHRzKT4+PjI0LHRoaXMuYnl0ZXNbOF09MCx0aGlzLmJ5dGVzWzldPTAsdGhpcy5ieXRlc1sxMF09MCxzKHRoaXMsNCksdGhpcy52aWV3LnNldFVpbnQzMih0aGlzLmxlbmd0aCx0aGlzLmxlbmd0aCksdGhpcy5sZW5ndGgrPTQsdGhpcy5wb3NpdGlvbis9NCx0aGlzLmJ5dGVzPXRoaXMuYnl0ZXMuc3ViYXJyYXkoMCx0aGlzLmxlbmd0aCksdGhpcy5mcmFtZVRpbWU9bi5mcmFtZVRpbWUodGhpcy5ieXRlcyksdGhpc319LG4uQVVESU9fVEFHPTgsbi5WSURFT19UQUc9OSxuLk1FVEFEQVRBX1RBRz0xOCxuLmlzQXVkaW9GcmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gbi5BVURJT19UQUc9PT1lWzBdfSxuLmlzVmlkZW9GcmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gbi5WSURFT19UQUc9PT1lWzBdfSxuLmlzTWV0YURhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uTUVUQURBVEFfVEFHPT09ZVswXX0sbi5pc0tleUZyYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBuLmlzVmlkZW9GcmFtZShlKT8yMz09PWVbMTFdOiEhbi5pc0F1ZGlvRnJhbWUoZSl8fCEhbi5pc01ldGFEYXRhKGUpfSxuLmZyYW1lVGltZT1mdW5jdGlvbihlKXt2YXIgdD1lWzRdPDwxNjtyZXR1cm4gdHw9ZVs1XTw8OCx0fD1lWzZdPDwwLHR8PWVbN108PDI0fSx0LmV4cG9ydHM9bn0se31dLDQ2OltmdW5jdGlvbihlLHQsaSl7dC5leHBvcnRzPXt0YWc6ZSg0NSksVHJhbnNtdXhlcjplKDQ4KSxnZXRGbHZIZWFkZXI6ZSg0NCl9fSx7fV0sNDc6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubGlzdD1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5saXN0LnB1c2goe2J5dGVzOmUuYnl0ZXMsZHRzOmUuZHRzLHB0czplLnB0cyxrZXlGcmFtZTplLmtleUZyYW1lLG1ldGFEYXRhVGFnOmUubWV0YURhdGFUYWd9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLmxpc3QubGVuZ3RofX0pfTt0LmV4cG9ydHM9bn0se31dLDQ4OltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuLHIsYSxzLG8sdSxkPWUoNjIpLGw9ZSg0NSksZj1lKDUwKSxjPWUoNDApLGg9ZSg0MSkuSDI2NFN0cmVhbSxwPWUoNDMpLG09ZSg0Nyk7cz1mdW5jdGlvbihlLHQpeyJudW1iZXIiPT10eXBlb2YgdC5wdHMmJihlLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz09PXVuZGVmaW5lZD9lLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz10LnB0czplLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz1NYXRoLm1pbihlLnRpbWVsaW5lU3RhcnRJbmZvLnB0cyx0LnB0cykpLCJudW1iZXIiPT10eXBlb2YgdC5kdHMmJihlLnRpbWVsaW5lU3RhcnRJbmZvLmR0cz09PXVuZGVmaW5lZD9lLnRpbWVsaW5lU3RhcnRJbmZvLmR0cz10LmR0czplLnRpbWVsaW5lU3RhcnRJbmZvLmR0cz1NYXRoLm1pbihlLnRpbWVsaW5lU3RhcnRJbmZvLmR0cyx0LmR0cykpfSxvPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IGwobC5NRVRBREFUQV9UQUcpO3JldHVybiBpLmR0cz10LGkucHRzPXQsaS53cml0ZU1ldGFEYXRhRG91YmxlKCJ2aWRlb2NvZGVjaWQiLDcpLGkud3JpdGVNZXRhRGF0YURvdWJsZSgid2lkdGgiLGUud2lkdGgpLGkud3JpdGVNZXRhRGF0YURvdWJsZSgiaGVpZ2h0IixlLmhlaWdodCksaX0sdT1mdW5jdGlvbihlLHQpe3ZhciBpLG49bmV3IGwobC5WSURFT19UQUcsITApO2ZvcihuLmR0cz10LG4ucHRzPXQsbi53cml0ZUJ5dGUoMSksbi53cml0ZUJ5dGUoZS5wcm9maWxlSWRjKSxuLndyaXRlQnl0ZShlLnByb2ZpbGVDb21wYXRpYmlsaXR5KSxuLndyaXRlQnl0ZShlLmxldmVsSWRjKSxuLndyaXRlQnl0ZSgyNTUpLG4ud3JpdGVCeXRlKDIyNSksbi53cml0ZVNob3J0KGUuc3BzWzBdLmxlbmd0aCksbi53cml0ZUJ5dGVzKGUuc3BzWzBdKSxuLndyaXRlQnl0ZShlLnBwcy5sZW5ndGgpLGk9MDtpPGUucHBzLmxlbmd0aDsrK2kpbi53cml0ZVNob3J0KGUucHBzW2ldLmxlbmd0aCksbi53cml0ZUJ5dGVzKGUucHBzW2ldKTtyZXR1cm4gbn0sYT1mdW5jdGlvbihlKXt2YXIgdCxpPVtdLG49W107YS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbih0KXtzKGUsdCksZSYmKGUuYXVkaW9vYmplY3R0eXBlPXQuYXVkaW9vYmplY3R0eXBlLGUuY2hhbm5lbGNvdW50PXQuY2hhbm5lbGNvdW50LGUuc2FtcGxlcmF0ZT10LnNhbXBsZXJhdGUsZS5zYW1wbGluZ2ZyZXF1ZW5jeWluZGV4PXQuc2FtcGxpbmdmcmVxdWVuY3lpbmRleCxlLnNhbXBsZXNpemU9dC5zYW1wbGVzaXplLGUuZXh0cmFEYXRhPWUuYXVkaW9vYmplY3R0eXBlPDwxMXxlLnNhbXBsaW5nZnJlcXVlbmN5aW5kZXg8PDd8ZS5jaGFubmVsY291bnQ8PDMpLHQucHRzPU1hdGgucm91bmQodC5wdHMvOTApLHQuZHRzPU1hdGgucm91bmQodC5kdHMvOTApLGkucHVzaCh0KX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe3ZhciByLGEscyxvPW5ldyBtO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnRyaWdnZXIoImRvbmUiLCJBdWRpb1NlZ21lbnRTdHJlYW0iKTtmb3Iocz0tSW5maW5pdHk7aS5sZW5ndGg7KXI9aS5zaGlmdCgpLG4ubGVuZ3RoJiZyLnB0cz49blswXSYmKHM9bi5zaGlmdCgpLHRoaXMud3JpdGVNZXRhRGF0YVRhZ3MobyxzKSksKGUuZXh0cmFEYXRhIT09dHx8ci5wdHMtcz49MWUzKSYmKHRoaXMud3JpdGVNZXRhRGF0YVRhZ3MobyxyLnB0cyksdD1lLmV4dHJhRGF0YSxzPXIucHRzKSxhPW5ldyBsKGwuQVVESU9fVEFHKSxhLnB0cz1yLnB0cyxhLmR0cz1yLmR0cyxhLndyaXRlQnl0ZXMoci5kYXRhKSxvLnB1c2goYS5maW5hbGl6ZSgpKTtuLmxlbmd0aD0wLHQ9bnVsbCx0aGlzLnRyaWdnZXIoImRhdGEiLHt0cmFjazplLHRhZ3M6by5saXN0fSksdGhpcy50cmlnZ2VyKCJkb25lIiwiQXVkaW9TZWdtZW50U3RyZWFtIil9LHRoaXMud3JpdGVNZXRhRGF0YVRhZ3M9ZnVuY3Rpb24odCxpKXt2YXIgbjtuPW5ldyBsKGwuTUVUQURBVEFfVEFHKSxuLnB0cz1pLG4uZHRzPWksbi53cml0ZU1ldGFEYXRhRG91YmxlKCJhdWRpb2NvZGVjaWQiLDEwKSxuLndyaXRlTWV0YURhdGFCb29sZWFuKCJzdGVyZW8iLDI9PT1lLmNoYW5uZWxjb3VudCksbi53cml0ZU1ldGFEYXRhRG91YmxlKCJhdWRpb3NhbXBsZXJhdGUiLGUuc2FtcGxlcmF0ZSksbi53cml0ZU1ldGFEYXRhRG91YmxlKCJhdWRpb3NhbXBsZXNpemUiLDE2KSx0LnB1c2gobi5maW5hbGl6ZSgpKSxuPW5ldyBsKGwuQVVESU9fVEFHLCEwKSxuLnB0cz1pLG4uZHRzPWksbi52aWV3LnNldFVpbnQxNihuLnBvc2l0aW9uLGUuZXh0cmFEYXRhKSxuLnBvc2l0aW9uKz0yLG4ubGVuZ3RoPU1hdGgubWF4KG4ubGVuZ3RoLG4ucG9zaXRpb24pLHQucHVzaChuLmZpbmFsaXplKCkpfSx0aGlzLm9uVmlkZW9LZXlGcmFtZT1mdW5jdGlvbihlKXtuLnB1c2goZSl9fSxhLnByb3RvdHlwZT1uZXcgZCxyPWZ1bmN0aW9uKGUpe3ZhciB0LGksbj1bXTtyLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5maW5pc2hGcmFtZT1mdW5jdGlvbihuLHIpe2lmKHIpe2lmKHQmJmUmJmUubmV3TWV0YWRhdGEmJihyLmtleUZyYW1lfHwwPT09bi5sZW5ndGgpKXt2YXIgYT1vKHQsci5kdHMpLmZpbmFsaXplKCkscz11KGUsci5kdHMpLmZpbmFsaXplKCk7YS5tZXRhRGF0YVRhZz1zLm1ldGFEYXRhVGFnPSEwLG4ucHVzaChhKSxuLnB1c2gocyksZS5uZXdNZXRhZGF0YT0hMSx0aGlzLnRyaWdnZXIoImtleWZyYW1lIixyLmR0cyl9ci5lbmROYWxVbml0KCksbi5wdXNoKHIuZmluYWxpemUoKSksaT1udWxsfX0sdGhpcy5wdXNoPWZ1bmN0aW9uKHQpe3MoZSx0KSx0LnB0cz1NYXRoLnJvdW5kKHQucHRzLzkwKSx0LmR0cz1NYXRoLnJvdW5kKHQuZHRzLzkwKSxuLnB1c2godCl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHIsYT1uZXcgbTtuLmxlbmd0aCYmImFjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwIiE9PW5bMF0ubmFsVW5pdFR5cGU7KW4uc2hpZnQoKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy50cmlnZ2VyKCJkb25lIiwiVmlkZW9TZWdtZW50U3RyZWFtIik7Zm9yKDtuLmxlbmd0aDspcj1uLnNoaWZ0KCksInNlcV9wYXJhbWV0ZXJfc2V0X3Jic3AiPT09ci5uYWxVbml0VHlwZT8oZS5uZXdNZXRhZGF0YT0hMCx0PXIuY29uZmlnLGUud2lkdGg9dC53aWR0aCxlLmhlaWdodD10LmhlaWdodCxlLnNwcz1bci5kYXRhXSxlLnByb2ZpbGVJZGM9dC5wcm9maWxlSWRjLGUubGV2ZWxJZGM9dC5sZXZlbElkYyxlLnByb2ZpbGVDb21wYXRpYmlsaXR5PXQucHJvZmlsZUNvbXBhdGliaWxpdHksaS5lbmROYWxVbml0KCkpOiJwaWNfcGFyYW1ldGVyX3NldF9yYnNwIj09PXIubmFsVW5pdFR5cGU/KGUubmV3TWV0YWRhdGE9ITAsZS5wcHM9W3IuZGF0YV0saS5lbmROYWxVbml0KCkpOiJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCI9PT1yLm5hbFVuaXRUeXBlPyhpJiZ0aGlzLmZpbmlzaEZyYW1lKGEsaSksaT1uZXcgbChsLlZJREVPX1RBRyksaS5wdHM9ci5wdHMsaS5kdHM9ci5kdHMpOigic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHIiPT09ci5uYWxVbml0VHlwZSYmKGkua2V5RnJhbWU9ITApLGkuZW5kTmFsVW5pdCgpKSxpLnN0YXJ0TmFsVW5pdCgpLGkud3JpdGVCeXRlcyhyLmRhdGEpO2kmJnRoaXMuZmluaXNoRnJhbWUoYSxpKSx0aGlzLnRyaWdnZXIoImRhdGEiLHt0cmFjazplLHRhZ3M6YS5saXN0fSksdGhpcy50cmlnZ2VyKCJkb25lIiwiVmlkZW9TZWdtZW50U3RyZWFtIil9fSxyLnByb3RvdHlwZT1uZXcgZCxuPWZ1bmN0aW9uKGUpe3ZhciB0LGkscyxvLHUsZCxsLG0sZyx5LF8sdixiPXRoaXM7bi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLGU9ZXx8e30sdGhpcy5tZXRhZGF0YVN0cmVhbT1uZXcgZi5NZXRhZGF0YVN0cmVhbSxlLm1ldGFkYXRhU3RyZWFtPXRoaXMubWV0YWRhdGFTdHJlYW0sdD1uZXcgZi5UcmFuc3BvcnRQYWNrZXRTdHJlYW0saT1uZXcgZi5UcmFuc3BvcnRQYXJzZVN0cmVhbSxzPW5ldyBmLkVsZW1lbnRhcnlTdHJlYW0sbz1uZXcgZi5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSgidmlkZW8iKSx1PW5ldyBmLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKCJhdWRpbyIpLGQ9bmV3IGYuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oInRpbWVkLW1ldGFkYXRhIiksbD1uZXcgYyxtPW5ldyBoLHY9bmV3IHAoZSksdC5waXBlKGkpLnBpcGUocykscy5waXBlKG8pLnBpcGUobSkscy5waXBlKHUpLnBpcGUobCkscy5waXBlKGQpLnBpcGUodGhpcy5tZXRhZGF0YVN0cmVhbSkucGlwZSh2KSxfPW5ldyBmLkNhcHRpb25TdHJlYW0sbS5waXBlKF8pLnBpcGUodikscy5vbigiZGF0YSIsZnVuY3Rpb24oZSl7dmFyIHQsaSxuO2lmKCJtZXRhZGF0YSI9PT1lLnR5cGUpe2Zvcih0PWUudHJhY2tzLmxlbmd0aDt0LS07KSJ2aWRlbyI9PT1lLnRyYWNrc1t0XS50eXBlP2k9ZS50cmFja3NbdF06ImF1ZGlvIj09PWUudHJhY2tzW3RdLnR5cGUmJihuPWUudHJhY2tzW3RdKTtpJiYhZyYmKHYubnVtYmVyT2ZUcmFja3MrKyxnPW5ldyByKGkpLG0ucGlwZShnKS5waXBlKHYpKSxuJiYheSYmKHYubnVtYmVyT2ZUcmFja3MrKyx5PW5ldyBhKG4pLGwucGlwZSh5KS5waXBlKHYpLGcmJmcub24oImtleWZyYW1lIix5Lm9uVmlkZW9LZXlGcmFtZSkpfX0pLHRoaXMucHVzaD1mdW5jdGlvbihlKXt0LnB1c2goZSl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXt0LmZsdXNoKCl9LHRoaXMucmVzZXRDYXB0aW9ucz1mdW5jdGlvbigpe18ucmVzZXQoKX0sdi5vbigiZGF0YSIsZnVuY3Rpb24oZSl7Yi50cmlnZ2VyKCJkYXRhIixlKX0pLHYub24oImRvbmUiLGZ1bmN0aW9uKCl7Yi50cmlnZ2VyKCJkb25lIil9KX0sbi5wcm90b3R5cGU9bmV3IGQsdC5leHBvcnRzPW59LHt9XSw0OTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKDYyKSxyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9e3BheWxvYWRUeXBlOi0xLHBheWxvYWRTaXplOjB9LG49MCxyPTA7dDxlLmJ5dGVMZW5ndGgmJjEyOCE9PWVbdF07KXtmb3IoOzI1NT09PWVbdF07KW4rPTI1NSx0Kys7Zm9yKG4rPWVbdCsrXTsyNTU9PT1lW3RdOylyKz0yNTUsdCsrO2lmKHIrPWVbdCsrXSwhaS5wYXlsb2FkJiY0PT09bil7aS5wYXlsb2FkVHlwZT1uLGkucGF5bG9hZFNpemU9cixpLnBheWxvYWQ9ZS5zdWJhcnJheSh0LHQrcik7YnJlYWt9dCs9cixuPTAscj0wfXJldHVybiBpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiAxODEhPT1lLnBheWxvYWRbMF0/bnVsbDo0OSE9KGUucGF5bG9hZFsxXTw8OHxlLnBheWxvYWRbMl0pP251bGw6IkdBOTQiIT09U3RyaW5nLmZyb21DaGFyQ29kZShlLnBheWxvYWRbM10sZS5wYXlsb2FkWzRdLGUucGF5bG9hZFs1XSxlLnBheWxvYWRbNl0pP251bGw6MyE9PWUucGF5bG9hZFs3XT9udWxsOmUucGF5bG9hZC5zdWJhcnJheSg4LGUucGF5bG9hZC5sZW5ndGgtMSl9LHM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIsYSxzPVtdO2lmKCEoNjQmdFswXSkpcmV0dXJuIHM7Zm9yKG49MzEmdFswXSxpPTA7aTxuO2krKylyPTMqaSxhPXt0eXBlOjMmdFtyKzJdLHB0czplfSw0JnRbcisyXSYmKGEuY2NEYXRhPXRbciszXTw8OHx0W3IrNF0scy5wdXNoKGEpKTtyZXR1cm4gc30sbz1mdW5jdGlvbigpe28ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmNhcHRpb25QYWNrZXRzXz1bXSx0aGlzLmNjU3RyZWFtc189W25ldyBjKDAsMCksbmV3IGMoMCwxKSxuZXcgYygxLDApLG5ldyBjKDEsMSldLHRoaXMucmVzZXQoKSx0aGlzLmNjU3RyZWFtc18uZm9yRWFjaChmdW5jdGlvbihlKXtlLm9uKCJkYXRhIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCJkYXRhIikpLGUub24oImRvbmUiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRvbmUiKSl9LHRoaXMpfTtvLnByb3RvdHlwZT1uZXcgbixvLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoInNlaV9yYnNwIj09PWUubmFsVW5pdFR5cGUmJih0PXIoZS5lc2NhcGVkUkJTUCksND09PXQucGF5bG9hZFR5cGUmJihpPWEodCkpKSl7aWYoZS5kdHM8dGhpcy5sYXRlc3REdHNfKXJldHVybiB2b2lkKHRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXz0hMCk7aWYoZS5kdHM9PT10aGlzLmxhdGVzdER0c18mJnRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXylyZXR1cm4gdm9pZCh0aGlzLmlnbm9yZU5leHRFcXVhbER0c189ITEpO3RoaXMuY2FwdGlvblBhY2tldHNfPXRoaXMuY2FwdGlvblBhY2tldHNfLmNvbmNhdChzKGUucHRzLGkpKSx0aGlzLmxhdGVzdER0c189ZS5kdHN9fSxvLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKCF0aGlzLmNhcHRpb25QYWNrZXRzXy5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5mbHVzaCgpfSx0aGlzKTt0aGlzLmNhcHRpb25QYWNrZXRzXy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5wcmVzb3J0SW5kZXg9dH0pLHRoaXMuY2FwdGlvblBhY2tldHNfLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wdHM9PT10LnB0cz9lLnByZXNvcnRJbmRleC10LnByZXNvcnRJbmRleDplLnB0cy10LnB0c30pLHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50eXBlPDImJnRoaXMuZGlzcGF0Y2hDZWE2MDhQYWNrZXQoZSl9LHRoaXMpLHRoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aD0wLHRoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZmx1c2goKX0sdGhpcyl9LG8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXRlc3REdHNfPW51bGwsdGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSExLHRoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF89W251bGwsbnVsbF0sdGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZXNldCgpfSl9LG8ucHJvdG90eXBlLmRpc3BhdGNoQ2VhNjA4UGFja2V0PWZ1bmN0aW9uKGUpe3RoaXMuc2V0c0NoYW5uZWwxQWN0aXZlKGUpP3RoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXT0wOnRoaXMuc2V0c0NoYW5uZWwyQWN0aXZlKGUpJiYodGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPTEpLG51bGwhPT10aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV0mJnRoaXMuY2NTdHJlYW1zX1soZS50eXBlPDwxKSt0aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV1dLnB1c2goZSl9LG8ucHJvdG90eXBlLnNldHNDaGFubmVsMUFjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gNDA5Nj09KDMwNzIwJmUuY2NEYXRhKX0sby5wcm90b3R5cGUuc2V0c0NoYW5uZWwyQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiA2MTQ0PT0oMzA3MjAmZS5jY0RhdGEpfTt2YXIgdT17NDI6MjI1LDkyOjIzMyw5NDoyMzcsOTU6MjQzLDk2OjI1MCwxMjM6MjMxLDEyNDoyNDcsMTI1OjIwOSwxMjY6MjQxLDEyNzo5NjA4LDMwNDoxNzQsMzA1OjE3NiwzMDY6MTg5LDMwNzoxOTEsMzA4Ojg0ODIsMzA5OjE2MiwzMTA6MTYzLDMxMTo5ODM0LDMxMjoyMjQsMzEzOjE2MCwzMTQ6MjMyLDMxNToyMjYsMzE2OjIzNCwzMTc6MjM4LDMxODoyNDQsMzE5OjI1MSw1NDQ6MTkzLDU0NToyMDEsNTQ2OjIxMSw1NDc6MjE4LDU0ODoyMjAsNTQ5OjI1Miw1NTA6ODIxNiw1NTE6MTYxLDU1Mjo0Miw1NTM6MzksNTU0OjgyMTIsNTU1OjE2OSw1NTY6ODQ4MCw1NTc6ODIyNiw1NTg6ODIyMCw1NTk6ODIyMSw1NjA6MTkyLDU2MToxOTQsNTYyOjE5OSw1NjM6MjAwLDU2NDoyMDIsNTY1OjIwMyw1NjY6MjM1LDU2NzoyMDYsNTY4OjIwNyw1Njk6MjM5LDU3MDoyMTIsNTcxOjIxNyw1NzI6MjQ5LDU3MzoyMTksNTc0OjE3MSw1NzU6MTg3LDgwMDoxOTUsODAxOjIyNyw4MDI6MjA1LDgwMzoyMDQsODA0OjIzNiw4MDU6MjEwLDgwNjoyNDIsODA3OjIxMyw4MDg6MjQ1LDgwOToxMjMsODEwOjEyNSw4MTE6OTIsODEyOjk0LDgxMzo5NSw4MTQ6MTI0LDgxNToxMjYsODE2OjE5Niw4MTc6MjI4LDgxODoyMTQsODE5OjI0Niw4MjA6MjIzLDgyMToxNjUsODIyOjE2NCw4MjM6OTQ3NCw4MjQ6MTk3LDgyNToyMjksODI2OjIxNiw4Mjc6MjQ4LDgyODo5NDg0LDgyOTo5NDg4LDgzMDo5NDkyLDgzMTo5NDk2fSxkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZT8iIjooZT11W2VdfHxlLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpfSxsPVs0MzUyLDQzODQsNDYwOCw0NjQwLDUzNzYsNTQwOCw1NjMyLDU2NjQsNTg4OCw1OTIwLDQwOTYsNDg2NCw0ODk2LDUxMjAsNTE1Ml0sZj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTE1O3QtLTspZS5wdXNoKCIiKTtyZXR1cm4gZX0sYz1mdW5jdGlvbihlLHQpe2MucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLmZpZWxkXz1lfHwwLHRoaXMuZGF0YUNoYW5uZWxfPXR8fDAsdGhpcy5uYW1lXz0iQ0MiKygxKyh0aGlzLmZpZWxkXzw8MXx0aGlzLmRhdGFDaGFubmVsXykpLHRoaXMuc2V0Q29uc3RhbnRzKCksdGhpcy5yZXNldCgpLHRoaXMucHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhO2lmKCh0PTMyNjM5JmUuY2NEYXRhKT09PXRoaXMubGFzdENvbnRyb2xDb2RlXylyZXR1cm4gdm9pZCh0aGlzLmxhc3RDb250cm9sQ29kZV89bnVsbCk7aWYoNDA5Nj09KDYxNDQwJnQpP3RoaXMubGFzdENvbnRyb2xDb2RlXz10OnQhPT10aGlzLlBBRERJTkdfJiYodGhpcy5sYXN0Q29udHJvbENvZGVfPW51bGwpLG49dD4+Pjgscj0yNTUmdCx0IT09dGhpcy5QQURESU5HXylpZih0PT09dGhpcy5SRVNVTUVfQ0FQVElPTl9MT0FESU5HXyl0aGlzLm1vZGVfPSJwb3BPbiI7ZWxzZSBpZih0PT09dGhpcy5FTkRfT0ZfQ0FQVElPTl8pdGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZS5wdHMpLGk9dGhpcy5kaXNwbGF5ZWRfLHRoaXMuZGlzcGxheWVkXz10aGlzLm5vbkRpc3BsYXllZF8sdGhpcy5ub25EaXNwbGF5ZWRfPWksdGhpcy5zdGFydFB0c189ZS5wdHM7ZWxzZSBpZih0PT09dGhpcy5ST0xMX1VQXzJfUk9XU18pdGhpcy50b3BSb3dfPTEzLHRoaXMubW9kZV89InJvbGxVcCI7ZWxzZSBpZih0PT09dGhpcy5ST0xMX1VQXzNfUk9XU18pdGhpcy50b3BSb3dfPTEyLHRoaXMubW9kZV89InJvbGxVcCI7ZWxzZSBpZih0PT09dGhpcy5ST0xMX1VQXzRfUk9XU18pdGhpcy50b3BSb3dfPTExLHRoaXMubW9kZV89InJvbGxVcCI7ZWxzZSBpZih0PT09dGhpcy5DQVJSSUFHRV9SRVRVUk5fKXRoaXMuY2xlYXJGb3JtYXR0aW5nKGUucHRzKSx0aGlzLmZsdXNoRGlzcGxheWVkKGUucHRzKSx0aGlzLnNoaWZ0Um93c1VwXygpLHRoaXMuc3RhcnRQdHNfPWUucHRzO2Vsc2UgaWYodD09PXRoaXMuQkFDS1NQQUNFXykicG9wT24iPT09dGhpcy5tb2RlXz90aGlzLm5vbkRpc3BsYXllZF9bMTRdPXRoaXMubm9uRGlzcGxheWVkX1sxNF0uc2xpY2UoMCwtMSk6dGhpcy5kaXNwbGF5ZWRfWzE0XT10aGlzLmRpc3BsYXllZF9bMTRdLnNsaWNlKDAsLTEpO2Vsc2UgaWYodD09PXRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV8pdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksdGhpcy5kaXNwbGF5ZWRfPWYoKTtlbHNlIGlmKHQ9PT10aGlzLkVSQVNFX05PTl9ESVNQTEFZRURfTUVNT1JZXyl0aGlzLm5vbkRpc3BsYXllZF89ZigpO2Vsc2UgaWYodD09PXRoaXMuUkVTVU1FX0RJUkVDVF9DQVBUSU9OSU5HXyl0aGlzLm1vZGVfPSJwYWludE9uIjtlbHNlIGlmKHRoaXMuaXNTcGVjaWFsQ2hhcmFjdGVyKG4scikpbj0oMyZuKTw8OCxhPWQobnxyKSx0aGlzW3RoaXMubW9kZV9dKGUucHRzLGEpLHRoaXMuY29sdW1uXysrO2Vsc2UgaWYodGhpcy5pc0V4dENoYXJhY3RlcihuLHIpKSJwb3BPbiI9PT10aGlzLm1vZGVfP3RoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpOnRoaXMuZGlzcGxheWVkX1sxNF09dGhpcy5kaXNwbGF5ZWRfWzE0XS5zbGljZSgwLC0xKSxuPSgzJm4pPDw4LGE9ZChufHIpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMsYSksdGhpcy5jb2x1bW5fKys7ZWxzZSBpZih0aGlzLmlzTWlkUm93Q29kZShuLHIpKXRoaXMuY2xlYXJGb3JtYXR0aW5nKGUucHRzKSx0aGlzW3RoaXMubW9kZV9dKGUucHRzLCIgIiksdGhpcy5jb2x1bW5fKyssMTQ9PSgxNCZyKSYmdGhpcy5hZGRGb3JtYXR0aW5nKGUucHRzLFsiaSJdKSwxPT0oMSZyKSYmdGhpcy5hZGRGb3JtYXR0aW5nKGUucHRzLFsidSJdKTtlbHNlIGlmKHRoaXMuaXNPZmZzZXRDb250cm9sQ29kZShuLHIpKXRoaXMuY29sdW1uXys9MyZyO2Vsc2UgaWYodGhpcy5pc1BBQyhuLHIpKXt2YXIgcz1sLmluZGV4T2YoNzk2OCZ0KTtzIT09dGhpcy5yb3dfJiYodGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMucm93Xz1zKSwxJnImJi0xPT09dGhpcy5mb3JtYXR0aW5nXy5pbmRleE9mKCJ1IikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbInUiXSksMTY9PSgxNiZ0KSYmKHRoaXMuY29sdW1uXz00KigoMTQmdCk+PjEpKSx0aGlzLmlzQ29sb3JQQUMocikmJjE0PT0oMTQmcikmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbImkiXSl9ZWxzZSB0aGlzLmlzTm9ybWFsQ2hhcihuKSYmKDA9PT1yJiYocj1udWxsKSxhPWQobiksYSs9ZChyKSx0aGlzW3RoaXMubW9kZV9dKGUucHRzLGEpLHRoaXMuY29sdW1uXys9YS5sZW5ndGgpfX07Yy5wcm90b3R5cGU9bmV3IG4sYy5wcm90b3R5cGUuZmx1c2hEaXNwbGF5ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kaXNwbGF5ZWRfLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KS5qb2luKCJcbiIpLnJlcGxhY2UoL15cbit8XG4rJC9nLCIiKTt0Lmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJkYXRhIix7c3RhcnRQdHM6dGhpcy5zdGFydFB0c18sZW5kUHRzOmUsdGV4dDp0LHN0cmVhbTp0aGlzLm5hbWVffSl9LGMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5tb2RlXz0icG9wT24iLHRoaXMudG9wUm93Xz0wLHRoaXMuc3RhcnRQdHNfPTAsdGhpcy5kaXNwbGF5ZWRfPWYoKSx0aGlzLm5vbkRpc3BsYXllZF89ZigpLHRoaXMubGFzdENvbnRyb2xDb2RlXz1udWxsLHRoaXMuY29sdW1uXz0wLHRoaXMucm93Xz0xNCx0aGlzLmZvcm1hdHRpbmdfPVtdfSxjLnByb3RvdHlwZS5zZXRDb25zdGFudHM9ZnVuY3Rpb24oKXswPT09dGhpcy5kYXRhQ2hhbm5lbF8/KHRoaXMuQkFTRV89MTYsdGhpcy5FWFRfPTE3LHRoaXMuQ09OVFJPTF89KDIwfHRoaXMuZmllbGRfKTw8OCx0aGlzLk9GRlNFVF89MjMpOjE9PT10aGlzLmRhdGFDaGFubmVsXyYmKHRoaXMuQkFTRV89MjQsdGhpcy5FWFRfPTI1LHRoaXMuQ09OVFJPTF89KDI4fHRoaXMuZmllbGRfKTw8OCx0aGlzLk9GRlNFVF89MzEpLHRoaXMuUEFERElOR189MCx0aGlzLlJFU1VNRV9DQVBUSU9OX0xPQURJTkdfPTMyfHRoaXMuQ09OVFJPTF8sdGhpcy5FTkRfT0ZfQ0FQVElPTl89NDd8dGhpcy5DT05UUk9MXyx0aGlzLlJPTExfVVBfMl9ST1dTXz0zN3x0aGlzLkNPTlRST0xfLHRoaXMuUk9MTF9VUF8zX1JPV1NfPTM4fHRoaXMuQ09OVFJPTF8sdGhpcy5ST0xMX1VQXzRfUk9XU189Mzl8dGhpcy5DT05UUk9MXyx0aGlzLkNBUlJJQUdFX1JFVFVSTl89NDV8dGhpcy5DT05UUk9MXyx0aGlzLlJFU1VNRV9ESVJFQ1RfQ0FQVElPTklOR189NDF8dGhpcy5DT05UUk9MXyx0aGlzLkJBQ0tTUEFDRV89MzN8dGhpcy5DT05UUk9MXyx0aGlzLkVSQVNFX0RJU1BMQVlFRF9NRU1PUllfPTQ0fHRoaXMuQ09OVFJPTF8sdGhpcy5FUkFTRV9OT05fRElTUExBWUVEX01FTU9SWV89NDZ8dGhpcy5DT05UUk9MX30sYy5wcm90b3R5cGUuaXNTcGVjaWFsQ2hhcmFjdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10aGlzLkVYVF8mJnQ+PTQ4JiZ0PD02M30sYy5wcm90b3R5cGUuaXNFeHRDaGFyYWN0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT09PXRoaXMuRVhUXysxfHxlPT09dGhpcy5FWFRfKzIpJiZ0Pj0zMiYmdDw9NjN9LGMucHJvdG90eXBlLmlzTWlkUm93Q29kZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dGhpcy5FWFRfJiZ0Pj0zMiYmdDw9NDd9LGMucHJvdG90eXBlLmlzT2Zmc2V0Q29udHJvbENvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXRoaXMuT0ZGU0VUXyYmdD49MzMmJnQ8PTM1fSxjLnByb3RvdHlwZS5pc1BBQz1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10aGlzLkJBU0VfJiZlPHRoaXMuQkFTRV8rOCYmdD49NjQmJnQ8PTEyN30sYy5wcm90b3R5cGUuaXNDb2xvclBBQz1mdW5jdGlvbihlKXtyZXR1cm4gZT49NjQmJmU8PTc5fHxlPj05NiYmZTw9MTI3fSxjLnByb3RvdHlwZS5pc05vcm1hbENoYXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTMyJiZlPD0xMjd9LGMucHJvdG90eXBlLmFkZEZvcm1hdHRpbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLmZvcm1hdHRpbmdfPXRoaXMuZm9ybWF0dGluZ18uY29uY2F0KHQpO3ZhciBpPXQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIjwiK3QrIj4ifSwiIik7dGhpc1t0aGlzLm1vZGVfXShlLGkpfSxjLnByb3RvdHlwZS5jbGVhckZvcm1hdHRpbmc9ZnVuY3Rpb24oZSl7aWYodGhpcy5mb3JtYXR0aW5nXy5sZW5ndGgpe3ZhciB0PXRoaXMuZm9ybWF0dGluZ18ucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlKyI8LyIrdCsiPiJ9LCIiKTt0aGlzLmZvcm1hdHRpbmdfPVtdLHRoaXNbdGhpcy5tb2RlX10oZSx0KX19LGMucHJvdG90eXBlLnBvcE9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5ub25EaXNwbGF5ZWRfW3RoaXMucm93X107aSs9dCx0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXT1pfSxjLnByb3RvdHlwZS5yb2xsVXA9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmRpc3BsYXllZF9bMTRdO2krPXQsdGhpcy5kaXNwbGF5ZWRfWzE0XT1pfSxjLnByb3RvdHlwZS5zaGlmdFJvd3NVcF89ZnVuY3Rpb24oKXt2YXIgZTtmb3IoZT0wO2U8dGhpcy50b3BSb3dfO2UrKyl0aGlzLmRpc3BsYXllZF9bZV09IiI7Zm9yKGU9dGhpcy50b3BSb3dfO2U8MTQ7ZSsrKXRoaXMuZGlzcGxheWVkX1tlXT10aGlzLmRpc3BsYXllZF9bZSsxXTt0aGlzLmRpc3BsYXllZF9bMTRdPSIifSxjLnByb3RvdHlwZS5wYWludE9uPWZ1bmN0aW9uKCl7fSx0LmV4cG9ydHM9e0NhcHRpb25TdHJlYW06byxDZWE2MDhTdHJlYW06Y319LHt9XSw1MDpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixyLGEscz1lKDYyKSxvPWUoNDkpLHU9ZSg1MyksZD1lKDU0KS5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSxsPWUoNTMpO249ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVWludDhBcnJheSgxODgpLHQ9MDtuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKGkpe3ZhciBuLHI9MCxhPTE4ODtmb3IodD8obj1uZXcgVWludDhBcnJheShpLmJ5dGVMZW5ndGgrdCksbi5zZXQoZS5zdWJhcnJheSgwLHQpKSxuLnNldChpLHQpLHQ9MCk6bj1pO2E8bi5ieXRlTGVuZ3RoOyk3MSE9PW5bcl18fDcxIT09blthXT8ocisrLGErKyk6KHRoaXMudHJpZ2dlcigiZGF0YSIsbi5zdWJhcnJheShyLGEpKSxyKz0xODgsYSs9MTg4KTtyPG4uYnl0ZUxlbmd0aCYmKGUuc2V0KG4uc3ViYXJyYXkociksMCksdD1uLmJ5dGVMZW5ndGgtcil9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXsxODg9PT10JiY3MT09PWVbMF0mJih0aGlzLnRyaWdnZXIoImRhdGEiLGUpLHQ9MCksdGhpcy50cmlnZ2VyKCJkb25lIil9fSxuLnByb3RvdHlwZT1uZXcgcyxyPWZ1bmN0aW9uKCl7dmFyIGUsdCxpLG47ci5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLG49dGhpcyx0aGlzLnBhY2tldHNXYWl0aW5nRm9yUG10PVtdLHRoaXMucHJvZ3JhbU1hcFRhYmxlPXVuZGVmaW5lZCxlPWZ1bmN0aW9uKGUsbil7dmFyIHI9MDtuLnBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3ImJihyKz1lW3JdKzEpLCJwYXQiPT09bi50eXBlP3QoZS5zdWJhcnJheShyKSxuKTppKGUuc3ViYXJyYXkociksbil9LHQ9ZnVuY3Rpb24oZSx0KXt0LnNlY3Rpb25fbnVtYmVyPWVbN10sdC5sYXN0X3NlY3Rpb25fbnVtYmVyPWVbOF0sbi5wbXRQaWQ9KDMxJmVbMTBdKTw8OHxlWzExXSx0LnBtdFBpZD1uLnBtdFBpZH0saT1mdW5jdGlvbihlLHQpe3ZhciBpLHIsYSxzO2lmKDEmZVs1XSl7Zm9yKG4ucHJvZ3JhbU1hcFRhYmxlPXt2aWRlbzpudWxsLGF1ZGlvOm51bGwsInRpbWVkLW1ldGFkYXRhIjp7fX0saT0oMTUmZVsxXSk8PDh8ZVsyXSxyPTMraS00LGE9KDE1JmVbMTBdKTw8OHxlWzExXSxzPTEyK2E7czxyOyl7dmFyIG89ZVtzXSxkPSgzMSZlW3MrMV0pPDw4fGVbcysyXTtvPT09dS5IMjY0X1NUUkVBTV9UWVBFJiZudWxsPT09bi5wcm9ncmFtTWFwVGFibGUudmlkZW8/bi5wcm9ncmFtTWFwVGFibGUudmlkZW89ZDpvPT09dS5BRFRTX1NUUkVBTV9UWVBFJiZudWxsPT09bi5wcm9ncmFtTWFwVGFibGUuYXVkaW8/bi5wcm9ncmFtTWFwVGFibGUuYXVkaW89ZDpvPT09dS5NRVRBREFUQV9TVFJFQU1fVFlQRSYmKG4ucHJvZ3JhbU1hcFRhYmxlWyJ0aW1lZC1tZXRhZGF0YSJdW2RdPW8pLHMrPTUrKCgxNSZlW3MrM10pPDw4fGVbcys0XSl9dC5wcm9ncmFtTWFwVGFibGU9bi5wcm9ncmFtTWFwVGFibGV9fSx0aGlzLnB1c2g9ZnVuY3Rpb24odCl7dmFyIGk9e30sbj00O2lmKGkucGF5bG9hZFVuaXRTdGFydEluZGljYXRvcj0hISg2NCZ0WzFdKSxpLnBpZD0zMSZ0WzFdLGkucGlkPDw9OCxpLnBpZHw9dFsyXSwoNDgmdFszXSk+Pj40PjEmJihuKz10W25dKzEpLDA9PT1pLnBpZClpLnR5cGU9InBhdCIsZSh0LnN1YmFycmF5KG4pLGkpLHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7ZWxzZSBpZihpLnBpZD09PXRoaXMucG10UGlkKWZvcihpLnR5cGU9InBtdCIsZSh0LnN1YmFycmF5KG4pLGkpLHRoaXMudHJpZ2dlcigiZGF0YSIsaSk7dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5sZW5ndGg7KXRoaXMucHJvY2Vzc1Blc18uYXBwbHkodGhpcyx0aGlzLnBhY2tldHNXYWl0aW5nRm9yUG10LnNoaWZ0KCkpO2Vsc2UgdGhpcy5wcm9ncmFtTWFwVGFibGU9PT11bmRlZmluZWQ/dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5wdXNoKFt0LG4saV0pOnRoaXMucHJvY2Vzc1Blc18odCxuLGkpfSx0aGlzLnByb2Nlc3NQZXNfPWZ1bmN0aW9uKGUsdCxpKXtpLnBpZD09PXRoaXMucHJvZ3JhbU1hcFRhYmxlLnZpZGVvP2kuc3RyZWFtVHlwZT11LkgyNjRfU1RSRUFNX1RZUEU6aS5waWQ9PT10aGlzLnByb2dyYW1NYXBUYWJsZS5hdWRpbz9pLnN0cmVhbVR5cGU9dS5BRFRTX1NUUkVBTV9UWVBFOmkuc3RyZWFtVHlwZT10aGlzLnByb2dyYW1NYXBUYWJsZVsidGltZWQtbWV0YWRhdGEiXVtpLnBpZF0saS50eXBlPSJwZXMiLGkuZGF0YT1lLnN1YmFycmF5KHQpLHRoaXMudHJpZ2dlcigiZGF0YSIsaSl9fSxyLnByb3RvdHlwZT1uZXcgcyxyLlNUUkVBTV9UWVBFUz17aDI2NDoyNyxhZHRzOjE1fSxhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXtkYXRhOltdLHNpemU6MH0saT17ZGF0YTpbXSxzaXplOjB9LG49e2RhdGE6W10sc2l6ZTowfSxyPWZ1bmN0aW9uKGUsdCl7dmFyIGk7dC5wYWNrZXRMZW5ndGg9NisoZVs0XTw8OHxlWzVdKSx0LmRhdGFBbGlnbm1lbnRJbmRpY2F0b3I9MCE9KDQmZVs2XSksaT1lWzddLDE5MiZpJiYodC5wdHM9KDE0JmVbOV0pPDwyN3woMjU1JmVbMTBdKTw8MjB8KDI1NCZlWzExXSk8PDEyfCgyNTUmZVsxMl0pPDw1fCgyNTQmZVsxM10pPj4+Myx0LnB0cyo9NCx0LnB0cys9KDYmZVsxM10pPj4+MSx0LmR0cz10LnB0cyw2NCZpJiYodC5kdHM9KDE0JmVbMTRdKTw8Mjd8KDI1NSZlWzE1XSk8PDIwfCgyNTQmZVsxNl0pPDwxMnwoMjU1JmVbMTddKTw8NXwoMjU0JmVbMThdKT4+PjMsdC5kdHMqPTQsdC5kdHMrPSg2JmVbMThdKT4+PjEpKSx0LmRhdGE9ZS5zdWJhcnJheSg5K2VbOF0pfSxzPWZ1bmN0aW9uKHQsaSxuKXt2YXIgYSxzPW5ldyBVaW50OEFycmF5KHQuc2l6ZSksbz17dHlwZTppfSx1PTAsZD0wLGw9ITE7aWYodC5kYXRhLmxlbmd0aCYmISh0LnNpemU8OSkpe2ZvcihvLnRyYWNrSWQ9dC5kYXRhWzBdLnBpZCx1PTA7dTx0LmRhdGEubGVuZ3RoO3UrKylhPXQuZGF0YVt1XSxzLnNldChhLmRhdGEsZCksZCs9YS5kYXRhLmJ5dGVMZW5ndGg7cihzLG8pLGw9InZpZGVvIj09PWl8fG8ucGFja2V0TGVuZ3RoPD10LnNpemUsKG58fGwpJiYodC5zaXplPTAsdC5kYXRhLmxlbmd0aD0wKSxsJiZlLnRyaWdnZXIoImRhdGEiLG8pfX07YS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihyKXsoe3BhdDpmdW5jdGlvbigpe30scGVzOmZ1bmN0aW9uKCl7dmFyIGUsYTtzd2l0Y2goci5zdHJlYW1UeXBlKXtjYXNlIHUuSDI2NF9TVFJFQU1fVFlQRTpjYXNlIGwuSDI2NF9TVFJFQU1fVFlQRTplPXQsYT0idmlkZW8iO2JyZWFrO2Nhc2UgdS5BRFRTX1NUUkVBTV9UWVBFOmU9aSxhPSJhdWRpbyI7YnJlYWs7Y2FzZSB1Lk1FVEFEQVRBX1NUUkVBTV9UWVBFOmU9bixhPSJ0aW1lZC1tZXRhZGF0YSI7YnJlYWs7ZGVmYXVsdDpyZXR1cm59ci5wYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yJiZzKGUsYSwhMCksZS5kYXRhLnB1c2gociksZS5zaXplKz1yLmRhdGEuYnl0ZUxlbmd0aH0scG10OmZ1bmN0aW9uKCl7dmFyIHQ9e3R5cGU6Im1ldGFkYXRhIix0cmFja3M6W119LGk9ci5wcm9ncmFtTWFwVGFibGU7bnVsbCE9PWkudmlkZW8mJnQudHJhY2tzLnB1c2goe3RpbWVsaW5lU3RhcnRJbmZvOntiYXNlTWVkaWFEZWNvZGVUaW1lOjB9LGlkOitpLnZpZGVvLGNvZGVjOiJhdmMiLHR5cGU6InZpZGVvIn0pLG51bGwhPT1pLmF1ZGlvJiZ0LnRyYWNrcy5wdXNoKHt0aW1lbGluZVN0YXJ0SW5mbzp7YmFzZU1lZGlhRGVjb2RlVGltZTowfSxpZDoraS5hdWRpbyxjb2RlYzoiYWR0cyIsdHlwZToiYXVkaW8ifSksZS50cmlnZ2VyKCJkYXRhIix0KX19KVtyLnR5cGVdKCl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtzKHQsInZpZGVvIikscyhpLCJhdWRpbyIpLHMobiwidGltZWQtbWV0YWRhdGEiKSx0aGlzLnRyaWdnZXIoImRvbmUiKX19LGEucHJvdG90eXBlPW5ldyBzO3ZhciBmPXtQQVRfUElEOjAsTVAyVF9QQUNLRVRfTEVOR1RIOjE4OCxUcmFuc3BvcnRQYWNrZXRTdHJlYW06bixUcmFuc3BvcnRQYXJzZVN0cmVhbTpyLEVsZW1lbnRhcnlTdHJlYW06YSxUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbTpkLENhcHRpb25TdHJlYW06by5DYXB0aW9uU3RyZWFtLENlYTYwOFN0cmVhbTpvLkNlYTYwOFN0cmVhbSxNZXRhZGF0YVN0cmVhbTplKDUxKX07Zm9yKHZhciBjIGluIHUpdS5oYXNPd25Qcm9wZXJ0eShjKSYmKGZbY109dVtjXSk7dC5leHBvcnRzPWZ9LHt9XSw1MTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixyPWUoNjIpLGE9ZSg1Mykscz1mdW5jdGlvbihlLHQsaSl7dmFyIG4scj0iIjtmb3Iobj10O248aTtuKyspcis9IiUiKygiMDAiK2Vbbl0udG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIHJ9LG89ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQocyhlLHQsaSkpfSx1PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdW5lc2NhcGUocyhlLHQsaSkpfSxkPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPDwyMXxlWzFdPDwxNHxlWzJdPDw3fGVbM119LGw9e1RYWFg6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoMz09PWUuZGF0YVswXSl7Zm9yKHQ9MTt0PGUuZGF0YS5sZW5ndGg7dCsrKWlmKDA9PT1lLmRhdGFbdF0pe2UuZGVzY3JpcHRpb249byhlLmRhdGEsMSx0KSxlLnZhbHVlPW8oZS5kYXRhLHQrMSxlLmRhdGEubGVuZ3RoKS5yZXBsYWNlKC9cMCokLywiIik7YnJlYWt9ZS5kYXRhPWUudmFsdWV9fSxXWFhYOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKDM9PT1lLmRhdGFbMF0pZm9yKHQ9MTt0PGUuZGF0YS5sZW5ndGg7dCsrKWlmKDA9PT1lLmRhdGFbdF0pe2UuZGVzY3JpcHRpb249byhlLmRhdGEsMSx0KSxlLnVybD1vKGUuZGF0YSx0KzEsZS5kYXRhLmxlbmd0aCk7YnJlYWt9fSxQUklWOmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PTA7dDxlLmRhdGEubGVuZ3RoO3QrKylpZigwPT09ZS5kYXRhW3RdKXtlLm93bmVyPXUoZS5kYXRhLDAsdCk7YnJlYWt9ZS5wcml2YXRlRGF0YT1lLmRhdGEuc3ViYXJyYXkodCsxKSxlLmRhdGE9ZS5wcml2YXRlRGF0YX19O249ZnVuY3Rpb24oZSl7dmFyIHQsaT17ZGVidWc6ISghZXx8IWUuZGVidWcpLGRlc2NyaXB0b3I6ZSYmZS5kZXNjcmlwdG9yfSxyPTAscz1bXSxvPTA7aWYobi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZGlzcGF0Y2hUeXBlPWEuTUVUQURBVEFfU1RSRUFNX1RZUEUudG9TdHJpbmcoMTYpLGkuZGVzY3JpcHRvcilmb3IodD0wO3Q8aS5kZXNjcmlwdG9yLmxlbmd0aDt0KyspdGhpcy5kaXNwYXRjaFR5cGUrPSgiMDAiK2kuZGVzY3JpcHRvclt0XS50b1N0cmluZygxNikpLnNsaWNlKC0yKTt0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsbixhLHUsZixjO2lmKCJ0aW1lZC1tZXRhZGF0YSI9PT1lLnR5cGUpe2lmKGUuZGF0YUFsaWdubWVudEluZGljYXRvciYmKG89MCxzLmxlbmd0aD0wKSwwPT09cy5sZW5ndGgmJihlLmRhdGEubGVuZ3RoPDEwfHxlLmRhdGFbMF0hPT0iSSIuY2hhckNvZGVBdCgwKXx8ZS5kYXRhWzFdIT09IkQiLmNoYXJDb2RlQXQoMCl8fGUuZGF0YVsyXSE9PSIzIi5jaGFyQ29kZUF0KDApKSlyZXR1cm4gdm9pZChpLmRlYnVnJiZjb25zb2xlLmxvZygiU2tpcHBpbmcgdW5yZWNvZ25pemVkIG1ldGFkYXRhIHBhY2tldCIpKTtpZihzLnB1c2goZSksbys9ZS5kYXRhLmJ5dGVMZW5ndGgsMT09PXMubGVuZ3RoJiYocj1kKGUuZGF0YS5zdWJhcnJheSg2LDEwKSkscis9MTApLCEobzxyKSl7Zm9yKHQ9e2RhdGE6bmV3IFVpbnQ4QXJyYXkociksZnJhbWVzOltdLHB0czpzWzBdLnB0cyxkdHM6c1swXS5kdHN9LGY9MDtmPHI7KXQuZGF0YS5zZXQoc1swXS5kYXRhLnN1YmFycmF5KDAsci1mKSxmKSxmKz1zWzBdLmRhdGEuYnl0ZUxlbmd0aCxvLT1zWzBdLmRhdGEuYnl0ZUxlbmd0aCxzLnNoaWZ0KCk7bj0xMCw2NCZ0LmRhdGFbNV0mJihuKz00LG4rPWQodC5kYXRhLnN1YmFycmF5KDEwLDE0KSksci09ZCh0LmRhdGEuc3ViYXJyYXkoMTYsMjApKSk7ZG97aWYoKGE9ZCh0LmRhdGEuc3ViYXJyYXkobis0LG4rOCkpKTwxKXJldHVybiBjb25zb2xlLmxvZygiTWFsZm9ybWVkIElEMyBmcmFtZSBlbmNvdW50ZXJlZC4gU2tpcHBpbmcgbWV0YWRhdGEgcGFyc2luZy4iKTtpZihjPVN0cmluZy5mcm9tQ2hhckNvZGUodC5kYXRhW25dLHQuZGF0YVtuKzFdLHQuZGF0YVtuKzJdLHQuZGF0YVtuKzNdKSx1PXtpZDpjLGRhdGE6dC5kYXRhLnN1YmFycmF5KG4rMTAsbithKzEwKX0sdS5rZXk9dS5pZCxsW3UuaWRdJiYobFt1LmlkXSh1KSwiY29tLmFwcGxlLnN0cmVhbWluZy50cmFuc3BvcnRTdHJlYW1UaW1lc3RhbXAiPT09dS5vd25lcikpe3ZhciBoPXUuZGF0YSxwPSgxJmhbM10pPDwzMHxoWzRdPDwyMnxoWzVdPDwxNHxoWzZdPDw2fGhbN10+Pj4yO3AqPTQscCs9MyZoWzddLHUudGltZVN0YW1wPXAsdC5wdHM9PT11bmRlZmluZWQmJnQuZHRzPT09dW5kZWZpbmVkJiYodC5wdHM9dS50aW1lU3RhbXAsdC5kdHM9dS50aW1lU3RhbXApLHRoaXMudHJpZ2dlcigidGltZXN0YW1wIix1KX10LmZyYW1lcy5wdXNoKHUpLG4rPTEwLG4rPWF9d2hpbGUobjxyKTt0aGlzLnRyaWdnZXIoImRhdGEiLHQpfX19fSxuLnByb3RvdHlwZT1uZXcgcix0LmV4cG9ydHM9bn0se31dLDUyOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO3ZhciBuPWUoNTMpLHI9ZnVuY3Rpb24oZSl7dmFyIHQ9MzEmZVsxXTtyZXR1cm4gdDw8PTgsdHw9ZVsyXX0sYT1mdW5jdGlvbihlKXtyZXR1cm4hISg2NCZlWzFdKX0scz1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybig0OCZlWzNdKT4+PjQ+MSYmKHQrPWVbNF0rMSksdH0sbz1mdW5jdGlvbihlLHQpe3ZhciBpPXIoZSk7cmV0dXJuIDA9PT1pPyJwYXQiOmk9PT10PyJwbXQiOnQ/InBlcyI6bnVsbH0sdT1mdW5jdGlvbihlKXt2YXIgdD1hKGUpLGk9NCtzKGUpO3JldHVybiB0JiYoaSs9ZVtpXSsxKSwoMzEmZVtpKzEwXSk8PDh8ZVtpKzExXX0sZD1mdW5jdGlvbihlKXt2YXIgdD17fSxpPWEoZSksbj00K3MoZSk7aWYoaSYmKG4rPWVbbl0rMSksMSZlW24rNV0pe3ZhciByLG8sdTtyPSgxNSZlW24rMV0pPDw4fGVbbisyXSxvPTMrci00LHU9KDE1JmVbbisxMF0pPDw4fGVbbisxMV07Zm9yKHZhciBkPTEyK3U7ZDxvOyl7dmFyIGw9bitkO3RbKDMxJmVbbCsxXSk8PDh8ZVtsKzJdXT1lW2xdLGQrPTUrKCgxNSZlW2wrM10pPDw4fGVbbCs0XSl9cmV0dXJuIHR9fSxsPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHRbcihlKV0pe2Nhc2Ugbi5IMjY0X1NUUkVBTV9UWVBFOnJldHVybiJ2aWRlbyI7Y2FzZSBuLkFEVFNfU1RSRUFNX1RZUEU6cmV0dXJuImF1ZGlvIjtjYXNlIG4uTUVUQURBVEFfU1RSRUFNX1RZUEU6cmV0dXJuInRpbWVkLW1ldGFkYXRhIjtkZWZhdWx0OnJldHVybiBudWxsfX0sZj1mdW5jdGlvbihlKXtpZighYShlKSlyZXR1cm4gbnVsbDt2YXIgdD00K3MoZSk7aWYodD49ZS5ieXRlTGVuZ3RoKXJldHVybiBudWxsO3ZhciBpLG49bnVsbDtyZXR1cm4gaT1lW3QrN10sMTkyJmkmJihuPXt9LG4ucHRzPSgxNCZlW3QrOV0pPDwyN3woMjU1JmVbdCsxMF0pPDwyMHwoMjU0JmVbdCsxMV0pPDwxMnwoMjU1JmVbdCsxMl0pPDw1fCgyNTQmZVt0KzEzXSk+Pj4zLG4ucHRzKj00LG4ucHRzKz0oNiZlW3QrMTNdKT4+PjEsbi5kdHM9bi5wdHMsNjQmaSYmKG4uZHRzPSgxNCZlW3QrMTRdKTw8Mjd8KDI1NSZlW3QrMTVdKTw8MjB8KDI1NCZlW3QrMTZdKTw8MTJ8KDI1NSZlW3QrMTddKTw8NXwoMjU0JmVbdCsxOF0pPj4+MyxuLmR0cyo9NCxuLmR0cys9KDYmZVt0KzE4XSk+Pj4xKSksbn0sYz1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSA1OnJldHVybiJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkciI7Y2FzZSA2OnJldHVybiJzZWlfcmJzcCI7Y2FzZSA3OnJldHVybiJzZXFfcGFyYW1ldGVyX3NldF9yYnNwIjtjYXNlIDg6cmV0dXJuInBpY19wYXJhbWV0ZXJfc2V0X3Jic3AiO2Nhc2UgOTpyZXR1cm4iYWNjZXNzX3VuaXRfZGVsaW1pdGVyX3Jic3AiO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTQrcyhlKSxuPWUuc3ViYXJyYXkoaSkscj0wLGE9MCxvPSExO2E8bi5ieXRlTGVuZ3RoLTM7YSsrKWlmKDE9PT1uW2ErMl0pe3I9YSs1O2JyZWFrfWZvcig7cjxuLmJ5dGVMZW5ndGg7KXN3aXRjaChuW3JdKXtjYXNlIDA6aWYoMCE9PW5bci0xXSl7cis9MjticmVha31pZigwIT09bltyLTJdKXtyKys7YnJlYWt9YSszIT09ci0yJiYic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHIiPT09KHQ9YygzMSZuW2ErM10pKSYmKG89ITApO2Rve3IrK313aGlsZSgxIT09bltyXSYmcjxuLmxlbmd0aCk7YT1yLTIscis9MzticmVhaztjYXNlIDE6aWYoMCE9PW5bci0xXXx8MCE9PW5bci0yXSl7cis9MzticmVha310PWMoMzEmblthKzNdKSwic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHIiPT09dCYmKG89ITApLGE9ci0yLHIrPTM7YnJlYWs7ZGVmYXVsdDpyKz0zfXJldHVybiBuPW4uc3ViYXJyYXkoYSksci09YSxhPTAsbiYmbi5ieXRlTGVuZ3RoPjMmJiJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkciI9PT0odD1jKDMxJm5bYSszXSkpJiYobz0hMCksb307dC5leHBvcnRzPXtwYXJzZVR5cGU6byxwYXJzZVBhdDp1LHBhcnNlUG10OmQscGFyc2VQYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yOmEscGFyc2VQZXNUeXBlOmwscGFyc2VQZXNUaW1lOmYsdmlkZW9QYWNrZXRDb250YWluc0tleUZyYW1lOmh9fSx7fV0sNTM6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dC5leHBvcnRzPXtIMjY0X1NUUkVBTV9UWVBFOjI3LEFEVFNfU1RSRUFNX1RZUEU6MTUsTUVUQURBVEFfU1RSRUFNX1RZUEU6MjF9fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG49ZSg2Mikscj1mdW5jdGlvbihlLHQpe3ZhciBpPTE7Zm9yKGU+dCYmKGk9LTEpO01hdGguYWJzKHQtZSk+NDI5NDk2NzI5NjspZSs9ODU4OTkzNDU5MippO3JldHVybiBlfSxhPWZ1bmN0aW9uKGUpe3ZhciB0LGk7YS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMudHlwZV89ZSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7ZS50eXBlPT09dGhpcy50eXBlXyYmKGk9PT11bmRlZmluZWQmJihpPWUuZHRzKSxlLmR0cz1yKGUuZHRzLGkpLGUucHRzPXIoZS5wdHMsaSksdD1lLmR0cyx0aGlzLnRyaWdnZXIoImRhdGEiLGUpKX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe2k9dCx0aGlzLnRyaWdnZXIoImRvbmUiKX0sdGhpcy5kaXNjb250aW51aXR5PWZ1bmN0aW9uKCl7aT12b2lkIDAsdD12b2lkIDB9fTthLnByb3RvdHlwZT1uZXcgbix0LmV4cG9ydHM9e1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtOmEsaGFuZGxlUm9sbG92ZXI6cn19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LGkpe3QuZXhwb3J0cz17Z2VuZXJhdG9yOmUoNTYpLFRyYW5zbXV4ZXI6ZSg1OCkuVHJhbnNtdXhlcixBdWRpb1NlZ21lbnRTdHJlYW06ZSg1OCkuQXVkaW9TZWdtZW50U3RyZWFtLFZpZGVvU2VnbWVudFN0cmVhbTplKDU4KS5WaWRlb1NlZ21lbnRTdHJlYW19fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG4scixhLHMsbyx1LGQsbCxmLGMsaCxwLG0sZyx5LF8sdixiLFQsUyx3LGssTyxFLEEsTCxQLEksQyxVLE0sRCxSLHgsQixqLE49TWF0aC5wb3coMiwzMiktMTshZnVuY3Rpb24oKXt2YXIgZTtpZihPPXthdmMxOltdLGF2Y0M6W10sYnRydDpbXSxkaW5mOltdLGRyZWY6W10sZXNkczpbXSxmdHlwOltdLGhkbHI6W10sbWRhdDpbXSxtZGhkOltdLG1kaWE6W10sbWZoZDpbXSxtaW5mOltdLG1vb2Y6W10sbW9vdjpbXSxtcDRhOltdLG12ZXg6W10sbXZoZDpbXSxzZHRwOltdLHNtaGQ6W10sc3RibDpbXSxzdGNvOltdLHN0c2M6W10sc3RzZDpbXSxzdHN6OltdLHN0dHM6W10sc3R5cDpbXSx0ZmR0OltdLHRmaGQ6W10sdHJhZjpbXSx0cmFrOltdLHRydW46W10sdHJleDpbXSx0a2hkOltdLHZtaGQ6W119LCJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheSl7Zm9yKGUgaW4gTylPLmhhc093blByb3BlcnR5KGUpJiYoT1tlXT1bZS5jaGFyQ29kZUF0KDApLGUuY2hhckNvZGVBdCgxKSxlLmNoYXJDb2RlQXQoMiksZS5jaGFyQ29kZUF0KDMpXSk7RT1uZXcgVWludDhBcnJheShbImkiLmNoYXJDb2RlQXQoMCksInMiLmNoYXJDb2RlQXQoMCksIm8iLmNoYXJDb2RlQXQoMCksIm0iLmNoYXJDb2RlQXQoMCldKSxMPW5ldyBVaW50OEFycmF5KFsiYSIuY2hhckNvZGVBdCgwKSwidiIuY2hhckNvZGVBdCgwKSwiYyIuY2hhckNvZGVBdCgwKSwiMSIuY2hhckNvZGVBdCgwKV0pLEE9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDFdKSxQPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE4LDEwNSwxMDAsMTAxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDg2LDEwNSwxMDAsMTAxLDExMSw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKSxJPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE1LDExMSwxMTcsMTEwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDgzLDExMSwxMTcsMTEwLDEwMCw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKSxDPXt2aWRlbzpQLGF1ZGlvOkl9LEQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwxMiwxMTcsMTE0LDEwOCwzMiwwLDAsMCwxXSksTT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSksUj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSkseD1SLEI9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSksaj1SLFU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwXSl9fSgpLG49ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHI9W10sYT0wO2Zvcih0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylyLnB1c2goYXJndW1lbnRzW3RdKTtmb3IodD1yLmxlbmd0aDt0LS07KWErPXJbdF0uYnl0ZUxlbmd0aDtmb3IoaT1uZXcgVWludDhBcnJheShhKzgpLG49bmV3IERhdGFWaWV3KGkuYnVmZmVyLGkuYnl0ZU9mZnNldCxpLmJ5dGVMZW5ndGgpLG4uc2V0VWludDMyKDAsaS5ieXRlTGVuZ3RoKSxpLnNldChlLDQpLHQ9MCxhPTg7dDxyLmxlbmd0aDt0KyspaS5zZXQoclt0XSxhKSxhKz1yW3RdLmJ5dGVMZW5ndGg7cmV0dXJuIGl9LHI9ZnVuY3Rpb24oKXtyZXR1cm4gbihPLmRpbmYsbihPLmRyZWYsRCkpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiBuKE8uZXNkcyxuZXcgVWludDhBcnJheShbMCwwLDAsMCwzLDI1LDAsMCwwLDQsMTcsNjQsMjEsMCw2LDAsMCwwLDIxOCwxOTIsMCwwLDIxOCwxOTIsNSwyLGUuYXVkaW9vYmplY3R0eXBlPDwzfGUuc2FtcGxpbmdmcmVxdWVuY3lpbmRleD4+PjEsZS5zYW1wbGluZ2ZyZXF1ZW5jeWluZGV4PDw3fGUuY2hhbm5lbGNvdW50PDwzLDYsMSwyXSkpfSxzPWZ1bmN0aW9uKCl7cmV0dXJuIG4oTy5mdHlwLEUsQSxFLEwpfSxfPWZ1bmN0aW9uKGUpe3JldHVybiBuKE8uaGRscixDW2VdKX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gbihPLm1kYXQsZSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMiwwLDAsMCwzLDAsMSw5NSwxNDQsZS5kdXJhdGlvbj4+PjI0JjI1NSxlLmR1cmF0aW9uPj4+MTYmMjU1LGUuZHVyYXRpb24+Pj44JjI1NSwyNTUmZS5kdXJhdGlvbiw4NSwxOTYsMCwwXSk7cmV0dXJuIGUuc2FtcGxlcmF0ZSYmKHRbMTJdPWUuc2FtcGxlcmF0ZT4+PjI0JjI1NSx0WzEzXT1lLnNhbXBsZXJhdGU+Pj4xNiYyNTUsdFsxNF09ZS5zYW1wbGVyYXRlPj4+OCYyNTUsdFsxNV09MjU1JmUuc2FtcGxlcmF0ZSksbihPLm1kaGQsdCl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oTy5tZGlhLHkoZSksXyhlLnR5cGUpLGQoZSkpfSx1PWZ1bmN0aW9uKGUpe3JldHVybiBuKE8ubWZoZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwoNDI3ODE5MDA4MCZlKT4+MjQsKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmVdKSl9LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oTy5taW5mLCJ2aWRlbyI9PT1lLnR5cGU/bihPLnZtaGQsVSk6bihPLnNtaGQsTSkscigpLGIoZSkpfSxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHI9dC5sZW5ndGg7ci0tOylpW3JdPVModFtyXSk7cmV0dXJuIG4uYXBwbHkobnVsbCxbTy5tb29mLHUoZSldLmNvbmNhdChpKSl9LGY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W107dC0tOylpW3RdPXAoZVt0XSk7cmV0dXJuIG4uYXBwbHkobnVsbCxbTy5tb292LGgoNDI5NDk2NzI5NSldLmNvbmNhdChpKS5jb25jYXQoYyhlKSkpfSxjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxpPVtdO3QtLTspaVt0XT13KGVbdF0pO3JldHVybiBuLmFwcGx5KG51bGwsW08ubXZleF0uY29uY2F0KGkpKX0saD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDIsMCwxLDk1LDE0NCwoNDI3ODE5MDA4MCZlKT4+MjQsKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmUsMCwxLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNjQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjU1LDI1NSwyNTUsMjU1XSk7cmV0dXJuIG4oTy5tdmhkLHQpfSx2PWZ1bmN0aW9uKGUpe3ZhciB0LGkscj1lLnNhbXBsZXN8fFtdLGE9bmV3IFVpbnQ4QXJyYXkoNCtyLmxlbmd0aCk7Zm9yKGk9MDtpPHIubGVuZ3RoO2krKyl0PXJbaV0uZmxhZ3MsYVtpKzRdPXQuZGVwZW5kc09uPDw0fHQuaXNEZXBlbmRlZE9uPDwyfHQuaGFzUmVkdW5kYW5jeTtyZXR1cm4gbihPLnNkdHAsYSl9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oTy5zdGJsLFQoZSksbihPLnN0dHMsaiksbihPLnN0c2MseCksbihPLnN0c3osQiksbihPLnN0Y28sUikpfSxmdW5jdGlvbigpe3ZhciBlLHQ7VD1mdW5jdGlvbihpKXtyZXR1cm4gbihPLnN0c2QsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMV0pLCJ2aWRlbyI9PT1pLnR5cGU/ZShpKTp0KGkpKX0sZT1mdW5jdGlvbihlKXt2YXIgdCxpPWUuc3BzfHxbXSxyPWUucHBzfHxbXSxhPVtdLHM9W107Zm9yKHQ9MDt0PGkubGVuZ3RoO3QrKylhLnB1c2goKDY1MjgwJmlbdF0uYnl0ZUxlbmd0aCk+Pj44KSxhLnB1c2goMjU1JmlbdF0uYnl0ZUxlbmd0aCksYT1hLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpW3RdKSk7Zm9yKHQ9MDt0PHIubGVuZ3RoO3QrKylzLnB1c2goKDY1MjgwJnJbdF0uYnl0ZUxlbmd0aCk+Pj44KSxzLnB1c2goMjU1JnJbdF0uYnl0ZUxlbmd0aCkscz1zLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyW3RdKSk7cmV0dXJuIG4oTy5hdmMxLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwoNjUyODAmZS53aWR0aCk+PjgsMjU1JmUud2lkdGgsKDY1MjgwJmUuaGVpZ2h0KT4+OCwyNTUmZS5oZWlnaHQsMCw3MiwwLDAsMCw3MiwwLDAsMCwwLDAsMCwwLDEsMTksMTE4LDEwNSwxMDAsMTAxLDExMSwxMDYsMTE1LDQ1LDk5LDExMSwxMTAsMTE2LDExNCwxMDUsOTgsNDUsMTA0LDEwOCwxMTUsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNCwxNywxN10pLG4oTy5hdmNDLG5ldyBVaW50OEFycmF5KFsxLGUucHJvZmlsZUlkYyxlLnByb2ZpbGVDb21wYXRpYmlsaXR5LGUubGV2ZWxJZGMsMjU1XS5jb25jYXQoW2kubGVuZ3RoXSkuY29uY2F0KGEpLmNvbmNhdChbci5sZW5ndGhdKS5jb25jYXQocykpKSxuKE8uYnRydCxuZXcgVWludDhBcnJheShbMCwyOCwxNTYsMTI4LDAsNDUsMTk4LDE5MiwwLDQ1LDE5OCwxOTJdKSkpfSx0PWZ1bmN0aW9uKGUpe3JldHVybiBuKE8ubXA0YSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwoNjUyODAmZS5jaGFubmVsY291bnQpPj44LDI1NSZlLmNoYW5uZWxjb3VudCwoNjUyODAmZS5zYW1wbGVzaXplKT4+OCwyNTUmZS5zYW1wbGVzaXplLDAsMCwwLDAsKDY1MjgwJmUuc2FtcGxlcmF0ZSk+PjgsMjU1JmUuc2FtcGxlcmF0ZSwwLDBdKSxhKGUpKX19KCksbT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShbMCwwLDAsNywwLDAsMCwwLDAsMCwwLDAsKDQyNzgxOTAwODAmZS5pZCk+PjI0LCgxNjcxMTY4MCZlLmlkKT4+MTYsKDY1MjgwJmUuaWQpPj44LDI1NSZlLmlkLDAsMCwwLDAsKDQyNzgxOTAwODAmZS5kdXJhdGlvbik+PjI0LCgxNjcxMTY4MCZlLmR1cmF0aW9uKT4+MTYsKDY1MjgwJmUuZHVyYXRpb24pPj44LDI1NSZlLmR1cmF0aW9uLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDY0LDAsMCwwLCg2NTI4MCZlLndpZHRoKT4+OCwyNTUmZS53aWR0aCwwLDAsKDY1MjgwJmUuaGVpZ2h0KT4+OCwyNTUmZS5oZWlnaHQsMCwwXSk7cmV0dXJuIG4oTy50a2hkLHQpfSxTPWZ1bmN0aW9uKGUpe3ZhciB0LGkscixhLHMsbyx1O3JldHVybiB0PW4oTy50ZmhkLG5ldyBVaW50OEFycmF5KFswLDAsMCw1OCwoNDI3ODE5MDA4MCZlLmlkKT4+MjQsKDE2NzExNjgwJmUuaWQpPj4xNiwoNjUyODAmZS5pZCk+PjgsMjU1JmUuaWQsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pKSxvPU1hdGguZmxvb3IoZS5iYXNlTWVkaWFEZWNvZGVUaW1lLyhOKzEpKSx1PU1hdGguZmxvb3IoZS5iYXNlTWVkaWFEZWNvZGVUaW1lJShOKzEpKSxpPW4oTy50ZmR0LG5ldyBVaW50OEFycmF5KFsxLDAsMCwwLG8+Pj4yNCYyNTUsbz4+PjE2JjI1NSxvPj4+OCYyNTUsMjU1Jm8sdT4+PjI0JjI1NSx1Pj4+MTYmMjU1LHU+Pj44JjI1NSwyNTUmdV0pKSxzPTkyLCJhdWRpbyI9PT1lLnR5cGU/KHI9ayhlLHMpLG4oTy50cmFmLHQsaSxyKSk6KGE9dihlKSxyPWsoZSxhLmxlbmd0aCtzKSxuKE8udHJhZix0LGkscixhKSl9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZHVyYXRpb249ZS5kdXJhdGlvbnx8NDI5NDk2NzI5NSxuKE8udHJhayxtKGUpLGcoZSkpfSx3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KFswLDAsMCwwLCg0Mjc4MTkwMDgwJmUuaWQpPj4yNCwoMTY3MTE2ODAmZS5pZCk+PjE2LCg2NTI4MCZlLmlkKT4+OCwyNTUmZS5pZCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwxXSk7cmV0dXJuInZpZGVvIiE9PWUudHlwZSYmKHRbdC5sZW5ndGgtMV09MCksbihPLnRyZXgsdCl9LGZ1bmN0aW9uKCl7dmFyIGUsdCxpO2k9ZnVuY3Rpb24oZSx0KXt2YXIgaT0wLG49MCxyPTAsYT0wO3JldHVybiBlLmxlbmd0aCYmKGVbMF0uZHVyYXRpb24hPT11bmRlZmluZWQmJihpPTEpLGVbMF0uc2l6ZSE9PXVuZGVmaW5lZCYmKG49MiksZVswXS5mbGFncyE9PXVuZGVmaW5lZCYmKHI9NCksZVswXS5jb21wb3NpdGlvblRpbWVPZmZzZXQhPT11bmRlZmluZWQmJihhPTgpKSxbMCwwLGl8bnxyfGEsMSwoNDI3ODE5MDA4MCZlLmxlbmd0aCk+Pj4yNCwoMTY3MTE2ODAmZS5sZW5ndGgpPj4+MTYsKDY1MjgwJmUubGVuZ3RoKT4+PjgsMjU1JmUubGVuZ3RoLCg0Mjc4MTkwMDgwJnQpPj4+MjQsKDE2NzExNjgwJnQpPj4+MTYsKDY1MjgwJnQpPj4+OCwyNTUmdF19LHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixhLHMsbztmb3IoYT1lLnNhbXBsZXN8fFtdLHQrPTIwKzE2KmEubGVuZ3RoLHI9aShhLHQpLG89MDtvPGEubGVuZ3RoO28rKylzPWFbb10scj1yLmNvbmNhdChbKDQyNzgxOTAwODAmcy5kdXJhdGlvbik+Pj4yNCwoMTY3MTE2ODAmcy5kdXJhdGlvbik+Pj4xNiwoNjUyODAmcy5kdXJhdGlvbik+Pj44LDI1NSZzLmR1cmF0aW9uLCg0Mjc4MTkwMDgwJnMuc2l6ZSk+Pj4yNCwoMTY3MTE2ODAmcy5zaXplKT4+PjE2LCg2NTI4MCZzLnNpemUpPj4+OCwyNTUmcy5zaXplLHMuZmxhZ3MuaXNMZWFkaW5nPDwyfHMuZmxhZ3MuZGVwZW5kc09uLHMuZmxhZ3MuaXNEZXBlbmRlZE9uPDw2fHMuZmxhZ3MuaGFzUmVkdW5kYW5jeTw8NHxzLmZsYWdzLnBhZGRpbmdWYWx1ZTw8MXxzLmZsYWdzLmlzTm9uU3luY1NhbXBsZSw2MTQ0MCZzLmZsYWdzLmRlZ3JhZGF0aW9uUHJpb3JpdHksMTUmcy5mbGFncy5kZWdyYWRhdGlvblByaW9yaXR5LCg0Mjc4MTkwMDgwJnMuY29tcG9zaXRpb25UaW1lT2Zmc2V0KT4+PjI0LCgxNjcxMTY4MCZzLmNvbXBvc2l0aW9uVGltZU9mZnNldCk+Pj4xNiwoNjUyODAmcy5jb21wb3NpdGlvblRpbWVPZmZzZXQpPj4+OCwyNTUmcy5jb21wb3NpdGlvblRpbWVPZmZzZXRdKTtyZXR1cm4gbihPLnRydW4sbmV3IFVpbnQ4QXJyYXkocikpfSxlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYSxzLG87Zm9yKGE9ZS5zYW1wbGVzfHxbXSx0Kz0yMCs4KmEubGVuZ3RoLHI9aShhLHQpLG89MDtvPGEubGVuZ3RoO28rKylzPWFbb10scj1yLmNvbmNhdChbKDQyNzgxOTAwODAmcy5kdXJhdGlvbik+Pj4yNCwoMTY3MTE2ODAmcy5kdXJhdGlvbik+Pj4xNiwoNjUyODAmcy5kdXJhdGlvbik+Pj44LDI1NSZzLmR1cmF0aW9uLCg0Mjc4MTkwMDgwJnMuc2l6ZSk+Pj4yNCwoMTY3MTE2ODAmcy5zaXplKT4+PjE2LCg2NTI4MCZzLnNpemUpPj4+OCwyNTUmcy5zaXplXSk7cmV0dXJuIG4oTy50cnVuLG5ldyBVaW50OEFycmF5KHIpKX0saz1mdW5jdGlvbihpLG4pe3JldHVybiJhdWRpbyI9PT1pLnR5cGU/ZShpLG4pOnQoaSxuKX19KCksdC5leHBvcnRzPXtmdHlwOnMsbWRhdDpvLG1vb2Y6bCxtb292OmYsaW5pdFNlZ21lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsaT1zKCksbj1mKGUpO3JldHVybiB0PW5ldyBVaW50OEFycmF5KGkuYnl0ZUxlbmd0aCtuLmJ5dGVMZW5ndGgpLHQuc2V0KGkpLHQuc2V0KG4saS5ieXRlTGVuZ3RoKSx0fX19LHt9XSw1NzpbZnVuY3Rpb24oZSx0LGkpewoidXNlIHN0cmljdCI7dmFyIG4scixhLHM7bj1mdW5jdGlvbihlLHQpe3ZhciBpLGEscyxvLHUsZD1bXTtpZighdC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGk9MDtpPGUuYnl0ZUxlbmd0aDspYT1lW2ldPDwyNCxhfD1lW2krMV08PDE2LGF8PWVbaSsyXTw8OCxhfD1lW2krM10scz1yKGUuc3ViYXJyYXkoaSs0LGkrOCkpLG89YT4xP2krYTplLmJ5dGVMZW5ndGgscz09PXRbMF0mJigxPT09dC5sZW5ndGg/ZC5wdXNoKGUuc3ViYXJyYXkoaSs4LG8pKToodT1uKGUuc3ViYXJyYXkoaSs4LG8pLHQuc2xpY2UoMSkpLHUubGVuZ3RoJiYoZD1kLmNvbmNhdCh1KSkpKSxpPW87cmV0dXJuIGR9LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVswXSksdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlWzFdKSx0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbMl0pLHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVszXSl9LGE9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIG4oZSxbIm1vb3YiLCJ0cmFrIl0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpLHIsYSxzLG87cmV0dXJuKGk9bih0LFsidGtoZCJdKVswXSk/KHI9aVswXSxhPTA9PT1yPzEyOjIwLHM9aVthXTw8MjR8aVthKzFdPDwxNnxpW2ErMl08PDh8aVthKzNdLChvPW4odCxbIm1kaWEiLCJtZGhkIl0pWzBdKT8ocj1vWzBdLGE9MD09PXI/MTI6MjAsZVtzXT1vW2FdPDwyNHxvW2ErMV08PDE2fG9bYSsyXTw8OHxvW2ErM10sZSk6bnVsbCk6bnVsbH0sdCl9LHM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxyLGE7cmV0dXJuIGk9bih0LFsibW9vZiIsInRyYWYiXSkscj1bXS5jb25jYXQuYXBwbHkoW10saS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4odCxbInRmaGQiXSkubWFwKGZ1bmN0aW9uKGkpe3ZhciByLGEscztyZXR1cm4gcj1pWzRdPDwyNHxpWzVdPDwxNnxpWzZdPDw4fGlbN10sYT1lW3JdfHw5ZTQscz1uKHQsWyJ0ZmR0Il0pLm1hcChmdW5jdGlvbihlKXt2YXIgdCxpO3JldHVybiB0PWVbMF0saT1lWzRdPDwyNHxlWzVdPDwxNnxlWzZdPDw4fGVbN10sMT09PXQmJihpKj1NYXRoLnBvdygyLDMyKSxpKz1lWzhdPDwyNHxlWzldPDwxNnxlWzEwXTw8OHxlWzExXSksaX0pWzBdLChzPXN8fEluZmluaXR5KS9hfSl9KSksYT1NYXRoLm1pbi5hcHBseShudWxsLHIpLGlzRmluaXRlKGEpP2E6MH0sdC5leHBvcnRzPXtwYXJzZVR5cGU6cix0aW1lc2NhbGU6YSxzdGFydFRpbWU6c319LHt9XSw1ODpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixyLGEscyxvLHUsZCxsLGYsYyxoLHA9ZSg2MiksbT1lKDU2KSxnPWUoNTApLHk9ZSg0MCksXz1lKDQxKS5IMjY0U3RyZWFtLHY9ZSgzOCksYj1lKDQyKSxUPWUoNjApLFM9WyJhdWRpb29iamVjdHR5cGUiLCJjaGFubmVsY291bnQiLCJzYW1wbGVyYXRlIiwic2FtcGxpbmdmcmVxdWVuY3lpbmRleCIsInNhbXBsZXNpemUiXSx3PVsid2lkdGgiLCJoZWlnaHQiLCJwcm9maWxlSWRjIiwibGV2ZWxJZGMiLCJwcm9maWxlQ29tcGF0aWJpbGl0eSJdO289ZnVuY3Rpb24oKXtyZXR1cm57c2l6ZTowLGZsYWdzOntpc0xlYWRpbmc6MCxkZXBlbmRzT246MSxpc0RlcGVuZGVkT246MCxoYXNSZWR1bmRhbmN5OjAsZGVncmFkYXRpb25Qcmlvcml0eTowfX19LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT0iSSIuY2hhckNvZGVBdCgwKSYmZVsxXT09PSJEIi5jaGFyQ29kZUF0KDApJiZlWzJdPT09IjMiLmNoYXJDb2RlQXQoMCl9LGM9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXSE9PXRbaV0pcmV0dXJuITE7cmV0dXJuITB9LGg9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylpPWVbdF0sbis9aS5kYXRhLmJ5dGVMZW5ndGg7cmV0dXJuIG59LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9W10saT0wLG49MCxhPTAscz1JbmZpbml0eTtyLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKGkpe2QoZSxpKSxlJiZTLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1pW3RdfSksdC5wdXNoKGkpfSx0aGlzLnNldEVhcmxpZXN0RHRzPWZ1bmN0aW9uKHQpe249dC1lLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWV9LHRoaXMuc2V0VmlkZW9CYXNlTWVkaWFEZWNvZGVUaW1lPWZ1bmN0aW9uKGUpe3M9ZX0sdGhpcy5zZXRBdWRpb0FwcGVuZFN0YXJ0PWZ1bmN0aW9uKGUpe2E9ZX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe3ZhciBuLHIsYSxzO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnRyaWdnZXIoImRvbmUiLCJBdWRpb1NlZ21lbnRTdHJlYW0iKTtuPXRoaXMudHJpbUFkdHNGcmFtZXNCeUVhcmxpZXN0RHRzXyh0KSxlLmJhc2VNZWRpYURlY29kZVRpbWU9ZihlKSx0aGlzLnByZWZpeFdpdGhTaWxlbmNlXyhlLG4pLGUuc2FtcGxlcz10aGlzLmdlbmVyYXRlU2FtcGxlVGFibGVfKG4pLGE9bS5tZGF0KHRoaXMuY29uY2F0ZW5hdGVGcmFtZURhdGFfKG4pKSx0PVtdLHI9bS5tb29mKGksW2VdKSxzPW5ldyBVaW50OEFycmF5KHIuYnl0ZUxlbmd0aCthLmJ5dGVMZW5ndGgpLGkrKyxzLnNldChyKSxzLnNldChhLHIuYnl0ZUxlbmd0aCksbChlKSx0aGlzLnRyaWdnZXIoImRhdGEiLHt0cmFjazplLGJveGVzOnN9KSx0aGlzLnRyaWdnZXIoImRvbmUiLCJBdWRpb1NlZ21lbnRTdHJlYW0iKX0sdGhpcy5wcmVmaXhXaXRoU2lsZW5jZV89ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIsbz0wLHU9MCxkPTAsbD0wO2lmKHQubGVuZ3RoJiYoaT1ULmF1ZGlvVHNUb1ZpZGVvVHMoZS5iYXNlTWVkaWFEZWNvZGVUaW1lLGUuc2FtcGxlcmF0ZSksbz1NYXRoLmNlaWwoOWU0LyhlLnNhbXBsZXJhdGUvMTAyNCkpLGEmJnMmJih1PWktTWF0aC5tYXgoYSxzKSxkPU1hdGguZmxvb3IodS9vKSxsPWQqbyksIShkPDF8fGw+NDVlMykpKXtmb3Iobj1iW2Uuc2FtcGxlcmF0ZV0sbnx8KG49dFswXS5kYXRhKSxyPTA7cjxkO3IrKyl0LnNwbGljZShyLDAse2RhdGE6bn0pO2UuYmFzZU1lZGlhRGVjb2RlVGltZS09TWF0aC5mbG9vcihULnZpZGVvVHNUb0F1ZGlvVHMobCxlLnNhbXBsZXJhdGUpKX19LHRoaXMudHJpbUFkdHNGcmFtZXNCeUVhcmxpZXN0RHRzXz1mdW5jdGlvbih0KXtyZXR1cm4gZS5taW5TZWdtZW50RHRzPj1uP3Q6KGUubWluU2VnbWVudER0cz1JbmZpbml0eSx0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5kdHM+PW4mJihlLm1pblNlZ21lbnREdHM9TWF0aC5taW4oZS5taW5TZWdtZW50RHRzLHQuZHRzKSxlLm1pblNlZ21lbnRQdHM9ZS5taW5TZWdtZW50RHRzLCEwKX0pKX0sdGhpcy5nZW5lcmF0ZVNhbXBsZVRhYmxlXz1mdW5jdGlvbihlKXt2YXIgdCxpLG49W107Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylpPWVbdF0sbi5wdXNoKHtzaXplOmkuZGF0YS5ieXRlTGVuZ3RoLGR1cmF0aW9uOjEwMjR9KTtyZXR1cm4gbn0sdGhpcy5jb25jYXRlbmF0ZUZyYW1lRGF0YV89ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPTAscj1uZXcgVWludDhBcnJheShoKGUpKTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWk9ZVt0XSxyLnNldChpLmRhdGEsbiksbis9aS5kYXRhLmJ5dGVMZW5ndGg7cmV0dXJuIHJ9fSxyLnByb3RvdHlwZT1uZXcgcCxuPWZ1bmN0aW9uKGUsdCl7dmFyIGkscixhPTAscz1bXSx1PVtdO3Q9dHx8e30sbi5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLGRlbGV0ZSBlLm1pblBUUyx0aGlzLmdvcENhY2hlXz1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24odCl7ZChlLHQpLCJzZXFfcGFyYW1ldGVyX3NldF9yYnNwIiE9PXQubmFsVW5pdFR5cGV8fGl8fChpPXQuY29uZmlnLGUuc3BzPVt0LmRhdGFdLHcuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPWlbdF19LHRoaXMpKSwicGljX3BhcmFtZXRlcl9zZXRfcmJzcCIhPT10Lm5hbFVuaXRUeXBlfHxyfHwocj10LmRhdGEsZS5wcHM9W3QuZGF0YV0pLHMucHVzaCh0KX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgaSxuLHIsbyxjLGg7cy5sZW5ndGgmJiJhY2Nlc3NfdW5pdF9kZWxpbWl0ZXJfcmJzcCIhPT1zWzBdLm5hbFVuaXRUeXBlOylzLnNoaWZ0KCk7aWYoMD09PXMubGVuZ3RoKXJldHVybiB0aGlzLnJlc2V0U3RyZWFtXygpLHZvaWQgdGhpcy50cmlnZ2VyKCJkb25lIiwiVmlkZW9TZWdtZW50U3RyZWFtIik7aWYoaT10aGlzLmdyb3VwTmFsc0ludG9GcmFtZXNfKHMpLHI9dGhpcy5ncm91cEZyYW1lc0ludG9Hb3BzXyhpKSxyWzBdWzBdLmtleUZyYW1lfHwobj10aGlzLmdldEdvcEZvckZ1c2lvbl8oc1swXSxlKSxuPyhyLnVuc2hpZnQobiksci5ieXRlTGVuZ3RoKz1uLmJ5dGVMZW5ndGgsci5uYWxDb3VudCs9bi5uYWxDb3VudCxyLnB0cz1uLnB0cyxyLmR0cz1uLmR0cyxyLmR1cmF0aW9uKz1uLmR1cmF0aW9uKTpyPXRoaXMuZXh0ZW5kRmlyc3RLZXlGcmFtZV8ocikpLHUubGVuZ3RoKXt2YXIgcDtpZighKHA9dC5hbGlnbkdvcHNBdEVuZD90aGlzLmFsaWduR29wc0F0RW5kXyhyKTp0aGlzLmFsaWduR29wc0F0U3RhcnRfKHIpKSlyZXR1cm4gdGhpcy5nb3BDYWNoZV8udW5zaGlmdCh7Z29wOnIucG9wKCkscHBzOmUucHBzLHNwczplLnNwc30pLHRoaXMuZ29wQ2FjaGVfLmxlbmd0aD1NYXRoLm1pbig2LHRoaXMuZ29wQ2FjaGVfLmxlbmd0aCkscz1bXSx0aGlzLnJlc2V0U3RyZWFtXygpLHZvaWQgdGhpcy50cmlnZ2VyKCJkb25lIiwiVmlkZW9TZWdtZW50U3RyZWFtIik7bChlKSxyPXB9ZChlLHIpLGUuc2FtcGxlcz10aGlzLmdlbmVyYXRlU2FtcGxlVGFibGVfKHIpLGM9bS5tZGF0KHRoaXMuY29uY2F0ZW5hdGVOYWxEYXRhXyhyKSksZS5iYXNlTWVkaWFEZWNvZGVUaW1lPWYoZSksdGhpcy50cmlnZ2VyKCJwcm9jZXNzZWRHb3BzSW5mbyIsci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3B0czplLnB0cyxkdHM6ZS5kdHMsYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGh9fSkpLHRoaXMuZ29wQ2FjaGVfLnVuc2hpZnQoe2dvcDpyLnBvcCgpLHBwczplLnBwcyxzcHM6ZS5zcHN9KSx0aGlzLmdvcENhY2hlXy5sZW5ndGg9TWF0aC5taW4oNix0aGlzLmdvcENhY2hlXy5sZW5ndGgpLHM9W10sdGhpcy50cmlnZ2VyKCJiYXNlTWVkaWFEZWNvZGVUaW1lIixlLmJhc2VNZWRpYURlY29kZVRpbWUpLHRoaXMudHJpZ2dlcigidGltZWxpbmVTdGFydEluZm8iLGUudGltZWxpbmVTdGFydEluZm8pLG89bS5tb29mKGEsW2VdKSxoPW5ldyBVaW50OEFycmF5KG8uYnl0ZUxlbmd0aCtjLmJ5dGVMZW5ndGgpLGErKyxoLnNldChvKSxoLnNldChjLG8uYnl0ZUxlbmd0aCksdGhpcy50cmlnZ2VyKCJkYXRhIix7dHJhY2s6ZSxib3hlczpofSksdGhpcy5yZXNldFN0cmVhbV8oKSx0aGlzLnRyaWdnZXIoImRvbmUiLCJWaWRlb1NlZ21lbnRTdHJlYW0iKX0sdGhpcy5yZXNldFN0cmVhbV89ZnVuY3Rpb24oKXtsKGUpLGk9dW5kZWZpbmVkLHI9dW5kZWZpbmVkfSx0aGlzLmdldEdvcEZvckZ1c2lvbl89ZnVuY3Rpb24odCl7dmFyIGksbixyLGEscyxvPUluZmluaXR5O2ZvcihzPTA7czx0aGlzLmdvcENhY2hlXy5sZW5ndGg7cysrKWE9dGhpcy5nb3BDYWNoZV9bc10scj1hLmdvcCxlLnBwcyYmYyhlLnBwc1swXSxhLnBwc1swXSkmJmUuc3BzJiZjKGUuc3BzWzBdLGEuc3BzWzBdKSYmKHIuZHRzPGUudGltZWxpbmVTdGFydEluZm8uZHRzfHwoaT10LmR0cy1yLmR0cy1yLmR1cmF0aW9uKT49LTFlNCYmaTw9NDVlMyYmKCFufHxvPmkpJiYobj1hLG89aSkpO3JldHVybiBuP24uZ29wOm51bGx9LHRoaXMuZXh0ZW5kRmlyc3RLZXlGcmFtZV89ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIWVbMF1bMF0ua2V5RnJhbWUmJmUubGVuZ3RoPjEmJih0PWUuc2hpZnQoKSxlLmJ5dGVMZW5ndGgtPXQuYnl0ZUxlbmd0aCxlLm5hbENvdW50LT10Lm5hbENvdW50LGVbMF1bMF0uZHRzPXQuZHRzLGVbMF1bMF0ucHRzPXQucHRzLGVbMF1bMF0uZHVyYXRpb24rPXQuZHVyYXRpb24pLGV9LHRoaXMuZ3JvdXBOYWxzSW50b0ZyYW1lc189ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPVtdLHI9W107Zm9yKG4uYnl0ZUxlbmd0aD0wLHQ9MDt0PGUubGVuZ3RoO3QrKylpPWVbdF0sImFjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwIj09PWkubmFsVW5pdFR5cGU/KG4ubGVuZ3RoJiYobi5kdXJhdGlvbj1pLmR0cy1uLmR0cyxyLnB1c2gobikpLG49W2ldLG4uYnl0ZUxlbmd0aD1pLmRhdGEuYnl0ZUxlbmd0aCxuLnB0cz1pLnB0cyxuLmR0cz1pLmR0cyk6KCJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkciI9PT1pLm5hbFVuaXRUeXBlJiYobi5rZXlGcmFtZT0hMCksbi5kdXJhdGlvbj1pLmR0cy1uLmR0cyxuLmJ5dGVMZW5ndGgrPWkuZGF0YS5ieXRlTGVuZ3RoLG4ucHVzaChpKSk7cmV0dXJuIHIubGVuZ3RoJiYoIW4uZHVyYXRpb258fG4uZHVyYXRpb248PTApJiYobi5kdXJhdGlvbj1yW3IubGVuZ3RoLTFdLmR1cmF0aW9uKSxyLnB1c2gobikscn0sdGhpcy5ncm91cEZyYW1lc0ludG9Hb3BzXz1mdW5jdGlvbihlKXt2YXIgdCxpLG49W10scj1bXTtmb3Iobi5ieXRlTGVuZ3RoPTAsbi5uYWxDb3VudD0wLG4uZHVyYXRpb249MCxuLnB0cz1lWzBdLnB0cyxuLmR0cz1lWzBdLmR0cyxyLmJ5dGVMZW5ndGg9MCxyLm5hbENvdW50PTAsci5kdXJhdGlvbj0wLHIucHRzPWVbMF0ucHRzLHIuZHRzPWVbMF0uZHRzLHQ9MDt0PGUubGVuZ3RoO3QrKylpPWVbdF0saS5rZXlGcmFtZT8obi5sZW5ndGgmJihyLnB1c2gobiksci5ieXRlTGVuZ3RoKz1uLmJ5dGVMZW5ndGgsci5uYWxDb3VudCs9bi5uYWxDb3VudCxyLmR1cmF0aW9uKz1uLmR1cmF0aW9uKSxuPVtpXSxuLm5hbENvdW50PWkubGVuZ3RoLG4uYnl0ZUxlbmd0aD1pLmJ5dGVMZW5ndGgsbi5wdHM9aS5wdHMsbi5kdHM9aS5kdHMsbi5kdXJhdGlvbj1pLmR1cmF0aW9uKToobi5kdXJhdGlvbis9aS5kdXJhdGlvbixuLm5hbENvdW50Kz1pLmxlbmd0aCxuLmJ5dGVMZW5ndGgrPWkuYnl0ZUxlbmd0aCxuLnB1c2goaSkpO3JldHVybiByLmxlbmd0aCYmbi5kdXJhdGlvbjw9MCYmKG4uZHVyYXRpb249cltyLmxlbmd0aC0xXS5kdXJhdGlvbiksci5ieXRlTGVuZ3RoKz1uLmJ5dGVMZW5ndGgsci5uYWxDb3VudCs9bi5uYWxDb3VudCxyLmR1cmF0aW9uKz1uLmR1cmF0aW9uLHIucHVzaChuKSxyfSx0aGlzLmdlbmVyYXRlU2FtcGxlVGFibGVfPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLGEscyx1PXR8fDAsZD1bXTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWZvcihhPWVbaV0sbj0wO248YS5sZW5ndGg7bisrKXM9YVtuXSxyPW8oKSxyLmRhdGFPZmZzZXQ9dSxyLmNvbXBvc2l0aW9uVGltZU9mZnNldD1zLnB0cy1zLmR0cyxyLmR1cmF0aW9uPXMuZHVyYXRpb24sci5zaXplPTQqcy5sZW5ndGgsci5zaXplKz1zLmJ5dGVMZW5ndGgscy5rZXlGcmFtZSYmKHIuZmxhZ3MuZGVwZW5kc09uPTIpLHUrPXIuc2l6ZSxkLnB1c2gocik7cmV0dXJuIGR9LHRoaXMuY29uY2F0ZW5hdGVOYWxEYXRhXz1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhLHMsbz0wLHU9ZS5ieXRlTGVuZ3RoLGQ9ZS5uYWxDb3VudCxsPXUrNCpkLGY9bmV3IFVpbnQ4QXJyYXkobCksYz1uZXcgRGF0YVZpZXcoZi5idWZmZXIpO2Zvcih0PTA7dDxlLmxlbmd0aDt0KyspZm9yKHI9ZVt0XSxpPTA7aTxyLmxlbmd0aDtpKyspZm9yKGE9cltpXSxuPTA7bjxhLmxlbmd0aDtuKyspcz1hW25dLGMuc2V0VWludDMyKG8scy5kYXRhLmJ5dGVMZW5ndGgpLG8rPTQsZi5zZXQocy5kYXRhLG8pLG8rPXMuZGF0YS5ieXRlTGVuZ3RoO3JldHVybiBmfSx0aGlzLmFsaWduR29wc0F0U3RhcnRfPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyLGEscyxvLGQ7Zm9yKGE9ZS5ieXRlTGVuZ3RoLHM9ZS5uYWxDb3VudCxvPWUuZHVyYXRpb24sdD1pPTA7dDx1Lmxlbmd0aCYmaTxlLmxlbmd0aCYmKG49dVt0XSxyPWVbaV0sbi5wdHMhPT1yLnB0cyk7KXIucHRzPm4ucHRzP3QrKzooaSsrLGEtPXIuYnl0ZUxlbmd0aCxzLT1yLm5hbENvdW50LG8tPXIuZHVyYXRpb24pO3JldHVybiAwPT09aT9lOmk9PT1lLmxlbmd0aD9udWxsOihkPWUuc2xpY2UoaSksZC5ieXRlTGVuZ3RoPWEsZC5kdXJhdGlvbj1vLGQubmFsQ291bnQ9cyxkLnB0cz1kWzBdLnB0cyxkLmR0cz1kWzBdLmR0cyxkKX0sdGhpcy5hbGlnbkdvcHNBdEVuZF89ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIsYSxzO2Zvcih0PXUubGVuZ3RoLTEsaT1lLmxlbmd0aC0xLGE9bnVsbCxzPSExO3Q+PTAmJmk+PTA7KXtpZihuPXVbdF0scj1lW2ldLG4ucHRzPT09ci5wdHMpe3M9ITA7YnJlYWt9bi5wdHM+ci5wdHM/dC0tOih0PT09dS5sZW5ndGgtMSYmKGE9aSksaS0tKX1pZighcyYmbnVsbD09PWEpcmV0dXJuIG51bGw7dmFyIG87aWYoMD09PShvPXM/aTphKSlyZXR1cm4gZTt2YXIgZD1lLnNsaWNlKG8pLGw9ZC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ieXRlTGVuZ3RoKz10LmJ5dGVMZW5ndGgsZS5kdXJhdGlvbis9dC5kdXJhdGlvbixlLm5hbENvdW50Kz10Lm5hbENvdW50LGV9LHtieXRlTGVuZ3RoOjAsZHVyYXRpb246MCxuYWxDb3VudDowfSk7cmV0dXJuIGQuYnl0ZUxlbmd0aD1sLmJ5dGVMZW5ndGgsZC5kdXJhdGlvbj1sLmR1cmF0aW9uLGQubmFsQ291bnQ9bC5uYWxDb3VudCxkLnB0cz1kWzBdLnB0cyxkLmR0cz1kWzBdLmR0cyxkfSx0aGlzLmFsaWduR29wc1dpdGg9ZnVuY3Rpb24oZSl7dT1lfX0sbi5wcm90b3R5cGU9bmV3IHAsZD1mdW5jdGlvbihlLHQpeyJudW1iZXIiPT10eXBlb2YgdC5wdHMmJihlLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz09PXVuZGVmaW5lZCYmKGUudGltZWxpbmVTdGFydEluZm8ucHRzPXQucHRzKSxlLm1pblNlZ21lbnRQdHM9PT11bmRlZmluZWQ/ZS5taW5TZWdtZW50UHRzPXQucHRzOmUubWluU2VnbWVudFB0cz1NYXRoLm1pbihlLm1pblNlZ21lbnRQdHMsdC5wdHMpLGUubWF4U2VnbWVudFB0cz09PXVuZGVmaW5lZD9lLm1heFNlZ21lbnRQdHM9dC5wdHM6ZS5tYXhTZWdtZW50UHRzPU1hdGgubWF4KGUubWF4U2VnbWVudFB0cyx0LnB0cykpLCJudW1iZXIiPT10eXBlb2YgdC5kdHMmJihlLnRpbWVsaW5lU3RhcnRJbmZvLmR0cz09PXVuZGVmaW5lZCYmKGUudGltZWxpbmVTdGFydEluZm8uZHRzPXQuZHRzKSxlLm1pblNlZ21lbnREdHM9PT11bmRlZmluZWQ/ZS5taW5TZWdtZW50RHRzPXQuZHRzOmUubWluU2VnbWVudER0cz1NYXRoLm1pbihlLm1pblNlZ21lbnREdHMsdC5kdHMpLGUubWF4U2VnbWVudER0cz09PXVuZGVmaW5lZD9lLm1heFNlZ21lbnREdHM9dC5kdHM6ZS5tYXhTZWdtZW50RHRzPU1hdGgubWF4KGUubWF4U2VnbWVudER0cyx0LmR0cykpfSxsPWZ1bmN0aW9uKGUpe2RlbGV0ZSBlLm1pblNlZ21lbnREdHMsZGVsZXRlIGUubWF4U2VnbWVudER0cyxkZWxldGUgZS5taW5TZWdtZW50UHRzLGRlbGV0ZSBlLm1heFNlZ21lbnRQdHN9LGY9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPWUubWluU2VnbWVudER0cy1lLnRpbWVsaW5lU3RhcnRJbmZvLmR0cztyZXR1cm4gdD1lLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWUsdCs9bix0PU1hdGgubWF4KDAsdCksImF1ZGlvIj09PWUudHlwZSYmKGk9ZS5zYW1wbGVyYXRlLzllNCx0Kj1pLHQ9TWF0aC5mbG9vcih0KSksdH0scz1mdW5jdGlvbihlLHQpe3RoaXMubnVtYmVyT2ZUcmFja3M9MCx0aGlzLm1ldGFkYXRhU3RyZWFtPXQsInVuZGVmaW5lZCIhPXR5cGVvZiBlLnJlbXV4P3RoaXMucmVtdXhUcmFja3M9ISFlLnJlbXV4OnRoaXMucmVtdXhUcmFja3M9ITAsdGhpcy5wZW5kaW5nVHJhY2tzPVtdLHRoaXMudmlkZW9UcmFjaz1udWxsLHRoaXMucGVuZGluZ0JveGVzPVtdLHRoaXMucGVuZGluZ0NhcHRpb25zPVtdLHRoaXMucGVuZGluZ01ldGFkYXRhPVtdLHRoaXMucGVuZGluZ0J5dGVzPTAsdGhpcy5lbWl0dGVkVHJhY2tzPTAscy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0P3RoaXMucGVuZGluZ0NhcHRpb25zLnB1c2goZSk6ZS5mcmFtZXM/dGhpcy5wZW5kaW5nTWV0YWRhdGEucHVzaChlKToodGhpcy5wZW5kaW5nVHJhY2tzLnB1c2goZS50cmFjayksdGhpcy5wZW5kaW5nQm94ZXMucHVzaChlLmJveGVzKSx0aGlzLnBlbmRpbmdCeXRlcys9ZS5ib3hlcy5ieXRlTGVuZ3RoLCJ2aWRlbyI9PT1lLnRyYWNrLnR5cGUmJih0aGlzLnZpZGVvVHJhY2s9ZS50cmFjayksdm9pZCgiYXVkaW8iPT09ZS50cmFjay50eXBlJiYodGhpcy5hdWRpb1RyYWNrPWUudHJhY2spKSl9fSxzLnByb3RvdHlwZT1uZXcgcCxzLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixhPTAscz17Y2FwdGlvbnM6W10sY2FwdGlvblN0cmVhbXM6e30sbWV0YWRhdGE6W10saW5mbzp7fX0sbz0wO2lmKHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg8dGhpcy5udW1iZXJPZlRyYWNrcyl7aWYoIlZpZGVvU2VnbWVudFN0cmVhbSIhPT1lJiYiQXVkaW9TZWdtZW50U3RyZWFtIiE9PWUpcmV0dXJuO2lmKHRoaXMucmVtdXhUcmFja3MpcmV0dXJuO2lmKDA9PT10aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoKXJldHVybiB2b2lkKCsrdGhpcy5lbWl0dGVkVHJhY2tzPj10aGlzLm51bWJlck9mVHJhY2tzJiYodGhpcy50cmlnZ2VyKCJkb25lIiksdGhpcy5lbWl0dGVkVHJhY2tzPTApKX1mb3IodGhpcy52aWRlb1RyYWNrPyhvPXRoaXMudmlkZW9UcmFjay50aW1lbGluZVN0YXJ0SW5mby5wdHMsdy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MuaW5mb1tlXT10aGlzLnZpZGVvVHJhY2tbZV19LHRoaXMpKTp0aGlzLmF1ZGlvVHJhY2smJihvPXRoaXMuYXVkaW9UcmFjay50aW1lbGluZVN0YXJ0SW5mby5wdHMsUy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MuaW5mb1tlXT10aGlzLmF1ZGlvVHJhY2tbZV19LHRoaXMpKSwxPT09dGhpcy5wZW5kaW5nVHJhY2tzLmxlbmd0aD9zLnR5cGU9dGhpcy5wZW5kaW5nVHJhY2tzWzBdLnR5cGU6cy50eXBlPSJjb21iaW5lZCIsdGhpcy5lbWl0dGVkVHJhY2tzKz10aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoLG49bS5pbml0U2VnbWVudCh0aGlzLnBlbmRpbmdUcmFja3MpLHMuaW5pdFNlZ21lbnQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKSxzLmluaXRTZWdtZW50LnNldChuKSxzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5wZW5kaW5nQnl0ZXMpLHI9MDtyPHRoaXMucGVuZGluZ0JveGVzLmxlbmd0aDtyKyspcy5kYXRhLnNldCh0aGlzLnBlbmRpbmdCb3hlc1tyXSxhKSxhKz10aGlzLnBlbmRpbmdCb3hlc1tyXS5ieXRlTGVuZ3RoO2ZvcihyPTA7cjx0aGlzLnBlbmRpbmdDYXB0aW9ucy5sZW5ndGg7cisrKXQ9dGhpcy5wZW5kaW5nQ2FwdGlvbnNbcl0sdC5zdGFydFRpbWU9dC5zdGFydFB0cy1vLHQuc3RhcnRUaW1lLz05ZTQsdC5lbmRUaW1lPXQuZW5kUHRzLW8sdC5lbmRUaW1lLz05ZTQscy5jYXB0aW9uU3RyZWFtc1t0LnN0cmVhbV09ITAscy5jYXB0aW9ucy5wdXNoKHQpO2ZvcihyPTA7cjx0aGlzLnBlbmRpbmdNZXRhZGF0YS5sZW5ndGg7cisrKWk9dGhpcy5wZW5kaW5nTWV0YWRhdGFbcl0saS5jdWVUaW1lPWkucHRzLW8saS5jdWVUaW1lLz05ZTQscy5tZXRhZGF0YS5wdXNoKGkpO3MubWV0YWRhdGEuZGlzcGF0Y2hUeXBlPXRoaXMubWV0YWRhdGFTdHJlYW0uZGlzcGF0Y2hUeXBlLHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg9MCx0aGlzLnZpZGVvVHJhY2s9bnVsbCx0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdDYXB0aW9ucy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdCeXRlcz0wLHRoaXMucGVuZGluZ01ldGFkYXRhLmxlbmd0aD0wLHRoaXMudHJpZ2dlcigiZGF0YSIscyksdGhpcy5lbWl0dGVkVHJhY2tzPj10aGlzLm51bWJlck9mVHJhY2tzJiYodGhpcy50cmlnZ2VyKCJkb25lIiksdGhpcy5lbWl0dGVkVHJhY2tzPTApfSxhPWZ1bmN0aW9uKGUpe3ZhciB0LGksbz10aGlzLGQ9ITA7YS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLGU9ZXx8e30sdGhpcy5iYXNlTWVkaWFEZWNvZGVUaW1lPWUuYmFzZU1lZGlhRGVjb2RlVGltZXx8MCx0aGlzLnRyYW5zbXV4UGlwZWxpbmVfPXt9LHRoaXMuc2V0dXBBYWNQaXBlbGluZT1mdW5jdGlvbigpe3ZhciB0PXt9O3RoaXMudHJhbnNtdXhQaXBlbGluZV89dCx0LnR5cGU9ImFhYyIsdC5tZXRhZGF0YVN0cmVhbT1uZXcgZy5NZXRhZGF0YVN0cmVhbSx0LmFhY1N0cmVhbT1uZXcgdix0LmF1ZGlvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW09bmV3IGcuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oImF1ZGlvIiksdC50aW1lZE1ldGFkYXRhVGltZXN0YW1wUm9sbG92ZXJTdHJlYW09bmV3IGcuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oInRpbWVkLW1ldGFkYXRhIiksdC5hZHRzU3RyZWFtPW5ldyB5LHQuY29hbGVzY2VTdHJlYW09bmV3IHMoZSx0Lm1ldGFkYXRhU3RyZWFtKSx0LmhlYWRPZlBpcGVsaW5lPXQuYWFjU3RyZWFtLHQuYWFjU3RyZWFtLnBpcGUodC5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKS5waXBlKHQuYWR0c1N0cmVhbSksdC5hYWNTdHJlYW0ucGlwZSh0LnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZSh0Lm1ldGFkYXRhU3RyZWFtKS5waXBlKHQuY29hbGVzY2VTdHJlYW0pLHQubWV0YWRhdGFTdHJlYW0ub24oInRpbWVzdGFtcCIsZnVuY3Rpb24oZSl7dC5hYWNTdHJlYW0uc2V0VGltZXN0YW1wKGUudGltZVN0YW1wKX0pLHQuYWFjU3RyZWFtLm9uKCJkYXRhIixmdW5jdGlvbihlKXsidGltZWQtbWV0YWRhdGEiIT09ZS50eXBlfHx0LmF1ZGlvU2VnbWVudFN0cmVhbXx8KGk9aXx8e3RpbWVsaW5lU3RhcnRJbmZvOntiYXNlTWVkaWFEZWNvZGVUaW1lOm8uYmFzZU1lZGlhRGVjb2RlVGltZX0sY29kZWM6ImFkdHMiLHR5cGU6ImF1ZGlvIn0sdC5jb2FsZXNjZVN0cmVhbS5udW1iZXJPZlRyYWNrcysrLHQuYXVkaW9TZWdtZW50U3RyZWFtPW5ldyByKGkpLHQuYWR0c1N0cmVhbS5waXBlKHQuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKHQuY29hbGVzY2VTdHJlYW0pKX0pLHQuY29hbGVzY2VTdHJlYW0ub24oImRhdGEiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRhdGEiKSksdC5jb2FsZXNjZVN0cmVhbS5vbigiZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZG9uZSIpKX0sdGhpcy5zZXR1cFRzUGlwZWxpbmU9ZnVuY3Rpb24oKXt2YXIgYT17fTt0aGlzLnRyYW5zbXV4UGlwZWxpbmVfPWEsYS50eXBlPSJ0cyIsYS5tZXRhZGF0YVN0cmVhbT1uZXcgZy5NZXRhZGF0YVN0cmVhbSxhLnBhY2tldFN0cmVhbT1uZXcgZy5UcmFuc3BvcnRQYWNrZXRTdHJlYW0sYS5wYXJzZVN0cmVhbT1uZXcgZy5UcmFuc3BvcnRQYXJzZVN0cmVhbSxhLmVsZW1lbnRhcnlTdHJlYW09bmV3IGcuRWxlbWVudGFyeVN0cmVhbSxhLnZpZGVvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW09bmV3IGcuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0oInZpZGVvIiksYS5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtPW5ldyBnLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKCJhdWRpbyIpLGEudGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtPW5ldyBnLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKCJ0aW1lZC1tZXRhZGF0YSIpLGEuYWR0c1N0cmVhbT1uZXcgeSxhLmgyNjRTdHJlYW09bmV3IF8sYS5jYXB0aW9uU3RyZWFtPW5ldyBnLkNhcHRpb25TdHJlYW0sYS5jb2FsZXNjZVN0cmVhbT1uZXcgcyhlLGEubWV0YWRhdGFTdHJlYW0pLGEuaGVhZE9mUGlwZWxpbmU9YS5wYWNrZXRTdHJlYW0sYS5wYWNrZXRTdHJlYW0ucGlwZShhLnBhcnNlU3RyZWFtKS5waXBlKGEuZWxlbWVudGFyeVN0cmVhbSksYS5lbGVtZW50YXJ5U3RyZWFtLnBpcGUoYS52aWRlb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKS5waXBlKGEuaDI2NFN0cmVhbSksYS5lbGVtZW50YXJ5U3RyZWFtLnBpcGUoYS5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKS5waXBlKGEuYWR0c1N0cmVhbSksYS5lbGVtZW50YXJ5U3RyZWFtLnBpcGUoYS50aW1lZE1ldGFkYXRhVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0pLnBpcGUoYS5tZXRhZGF0YVN0cmVhbSkucGlwZShhLmNvYWxlc2NlU3RyZWFtKSxhLmgyNjRTdHJlYW0ucGlwZShhLmNhcHRpb25TdHJlYW0pLnBpcGUoYS5jb2FsZXNjZVN0cmVhbSksYS5lbGVtZW50YXJ5U3RyZWFtLm9uKCJkYXRhIixmdW5jdGlvbihzKXt2YXIgdTtpZigibWV0YWRhdGEiPT09cy50eXBlKXtmb3IodT1zLnRyYWNrcy5sZW5ndGg7dS0tOyl0fHwidmlkZW8iIT09cy50cmFja3NbdV0udHlwZT9pfHwiYXVkaW8iIT09cy50cmFja3NbdV0udHlwZXx8KGk9cy50cmFja3NbdV0saS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lPW8uYmFzZU1lZGlhRGVjb2RlVGltZSk6KHQ9cy50cmFja3NbdV0sdC50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lPW8uYmFzZU1lZGlhRGVjb2RlVGltZSk7dCYmIWEudmlkZW9TZWdtZW50U3RyZWFtJiYoYS5jb2FsZXNjZVN0cmVhbS5udW1iZXJPZlRyYWNrcysrLGEudmlkZW9TZWdtZW50U3RyZWFtPW5ldyBuKHQsZSksYS52aWRlb1NlZ21lbnRTdHJlYW0ub24oInRpbWVsaW5lU3RhcnRJbmZvIixmdW5jdGlvbihlKXtpJiYoaS50aW1lbGluZVN0YXJ0SW5mbz1lLGEuYXVkaW9TZWdtZW50U3RyZWFtLnNldEVhcmxpZXN0RHRzKGUuZHRzKSl9KSxhLnZpZGVvU2VnbWVudFN0cmVhbS5vbigicHJvY2Vzc2VkR29wc0luZm8iLG8udHJpZ2dlci5iaW5kKG8sImdvcEluZm8iKSksYS52aWRlb1NlZ21lbnRTdHJlYW0ub24oImJhc2VNZWRpYURlY29kZVRpbWUiLGZ1bmN0aW9uKGUpe2kmJmEuYXVkaW9TZWdtZW50U3RyZWFtLnNldFZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZShlKX0pLGEuaDI2NFN0cmVhbS5waXBlKGEudmlkZW9TZWdtZW50U3RyZWFtKS5waXBlKGEuY29hbGVzY2VTdHJlYW0pKSxpJiYhYS5hdWRpb1NlZ21lbnRTdHJlYW0mJihhLmNvYWxlc2NlU3RyZWFtLm51bWJlck9mVHJhY2tzKyssYS5hdWRpb1NlZ21lbnRTdHJlYW09bmV3IHIoaSksYS5hZHRzU3RyZWFtLnBpcGUoYS5hdWRpb1NlZ21lbnRTdHJlYW0pLnBpcGUoYS5jb2FsZXNjZVN0cmVhbSkpfX0pLGEuY29hbGVzY2VTdHJlYW0ub24oImRhdGEiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsImRhdGEiKSksYS5jb2FsZXNjZVN0cmVhbS5vbigiZG9uZSIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcywiZG9uZSIpKX0sdGhpcy5zZXRCYXNlTWVkaWFEZWNvZGVUaW1lPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMudHJhbnNtdXhQaXBlbGluZV87dGhpcy5iYXNlTWVkaWFEZWNvZGVUaW1lPWUsaSYmKGkudGltZWxpbmVTdGFydEluZm8uZHRzPXVuZGVmaW5lZCxpLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz11bmRlZmluZWQsbChpKSxpLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWU9ZSxuLmF1ZGlvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0mJm4uYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5kaXNjb250aW51aXR5KCkpLHQmJihuLnZpZGVvU2VnbWVudFN0cmVhbSYmKG4udmlkZW9TZWdtZW50U3RyZWFtLmdvcENhY2hlXz1bXSxuLnZpZGVvVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0uZGlzY29udGludWl0eSgpKSx0LnRpbWVsaW5lU3RhcnRJbmZvLmR0cz11bmRlZmluZWQsdC50aW1lbGluZVN0YXJ0SW5mby5wdHM9dW5kZWZpbmVkLGwodCksbi5jYXB0aW9uU3RyZWFtLnJlc2V0KCksdC50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lPWUpLG4udGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtJiZuLnRpbWVkTWV0YWRhdGFUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5kaXNjb250aW51aXR5KCl9LHRoaXMuc2V0QXVkaW9BcHBlbmRTdGFydD1mdW5jdGlvbihlKXtpJiZ0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmF1ZGlvU2VnbWVudFN0cmVhbS5zZXRBdWRpb0FwcGVuZFN0YXJ0KGUpfSx0aGlzLmFsaWduR29wc1dpdGg9ZnVuY3Rpb24oZSl7dCYmdGhpcy50cmFuc211eFBpcGVsaW5lXy52aWRlb1NlZ21lbnRTdHJlYW0mJnRoaXMudHJhbnNtdXhQaXBlbGluZV8udmlkZW9TZWdtZW50U3RyZWFtLmFsaWduR29wc1dpdGgoZSl9LHRoaXMucHVzaD1mdW5jdGlvbihlKXtpZihkKXt2YXIgdD11KGUpO3QmJiJhYWMiIT09dGhpcy50cmFuc211eFBpcGVsaW5lXy50eXBlP3RoaXMuc2V0dXBBYWNQaXBlbGluZSgpOnR8fCJ0cyI9PT10aGlzLnRyYW5zbXV4UGlwZWxpbmVfLnR5cGV8fHRoaXMuc2V0dXBUc1BpcGVsaW5lKCksZD0hMX10aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLnB1c2goZSl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtkPSEwLHRoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUuZmx1c2goKX0sdGhpcy5yZXNldENhcHRpb25zPWZ1bmN0aW9uKCl7dGhpcy50cmFuc211eFBpcGVsaW5lXy5jYXB0aW9uU3RyZWFtJiZ0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmNhcHRpb25TdHJlYW0ucmVzZXQoKX19LGEucHJvdG90eXBlPW5ldyBwLHQuZXhwb3J0cz17VHJhbnNtdXhlcjphLFZpZGVvU2VnbWVudFN0cmVhbTpuLEF1ZGlvU2VnbWVudFN0cmVhbTpyLEFVRElPX1BST1BFUlRJRVM6UyxWSURFT19QUk9QRVJUSUVTOnd9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG49ZSg1Mykscj1lKDU0KS5oYW5kbGVSb2xsb3ZlcixhPXt9O2EudHM9ZSg1MiksYS5hYWM9ZSgzOSk7dmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09PT0iSSIuY2hhckNvZGVBdCgwKSYmZVsxXT09PSJEIi5jaGFyQ29kZUF0KDApJiZlWzJdPT09IjMiLmNoYXJDb2RlQXQoMCl9LG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGksbj0wLHI9MTg4O3I8ZS5ieXRlTGVuZ3RoOylpZig3MSE9PWVbbl18fDcxIT09ZVtyXSluKysscisrO2Vsc2V7c3dpdGNoKGk9ZS5zdWJhcnJheShuLHIpLGEudHMucGFyc2VUeXBlKGksdC5waWQpKXtjYXNlInBhdCI6dC5waWR8fCh0LnBpZD1hLnRzLnBhcnNlUGF0KGkpKTticmVhaztjYXNlInBtdCI6dC50YWJsZXx8KHQudGFibGU9YS50cy5wYXJzZVBtdChpKSl9aWYodC5waWQmJnQudGFibGUpcmV0dXJuO24rPTE4OCxyKz0xODh9fSx1PWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG4scixzLG8sdT0wLGQ9MTg4LGw9ITE7ZDxlLmJ5dGVMZW5ndGg7KWlmKDcxIT09ZVt1XXx8NzEhPT1lW2RdKXUrKyxkKys7ZWxzZXtzd2l0Y2gobj1lLnN1YmFycmF5KHUsZCksYS50cy5wYXJzZVR5cGUobix0LnBpZCkpe2Nhc2UicGVzIjpyPWEudHMucGFyc2VQZXNUeXBlKG4sdC50YWJsZSkscz1hLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihuKSwiYXVkaW8iPT09ciYmcyYmKG89YS50cy5wYXJzZVBlc1RpbWUobikpJiYoby50eXBlPSJhdWRpbyIsaS5hdWRpby5wdXNoKG8pLGw9ITApfWlmKGwpYnJlYWs7dSs9MTg4LGQrPTE4OH1mb3IoZD1lLmJ5dGVMZW5ndGgsdT1kLTE4OCxsPSExO3U+PTA7KWlmKDcxIT09ZVt1XXx8NzEhPT1lW2RdKXUtLSxkLS07ZWxzZXtzd2l0Y2gobj1lLnN1YmFycmF5KHUsZCksYS50cy5wYXJzZVR5cGUobix0LnBpZCkpe2Nhc2UicGVzIjpyPWEudHMucGFyc2VQZXNUeXBlKG4sdC50YWJsZSkscz1hLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihuKSwiYXVkaW8iPT09ciYmcyYmKG89YS50cy5wYXJzZVBlc1RpbWUobikpJiYoby50eXBlPSJhdWRpbyIsaS5hdWRpby5wdXNoKG8pLGw9ITApfWlmKGwpYnJlYWs7dS09MTg4LGQtPTE4OH19LGQ9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbixyLHMsbyx1LGQsbCxmPTAsYz0xODgsaD0hMSxwPXtkYXRhOltdLHNpemU6MH07YzxlLmJ5dGVMZW5ndGg7KWlmKDcxIT09ZVtmXXx8NzEhPT1lW2NdKWYrKyxjKys7ZWxzZXtzd2l0Y2gobj1lLnN1YmFycmF5KGYsYyksYS50cy5wYXJzZVR5cGUobix0LnBpZCkpe2Nhc2UicGVzIjppZihyPWEudHMucGFyc2VQZXNUeXBlKG4sdC50YWJsZSkscz1hLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihuKSwidmlkZW8iPT09ciYmKHMmJiFoJiYobz1hLnRzLnBhcnNlUGVzVGltZShuKSkmJihvLnR5cGU9InZpZGVvIixpLnZpZGVvLnB1c2gobyksaD0hMCksIWkuZmlyc3RLZXlGcmFtZSkpe2lmKHMmJjAhPT1wLnNpemUpe2Zvcih1PW5ldyBVaW50OEFycmF5KHAuc2l6ZSksZD0wO3AuZGF0YS5sZW5ndGg7KWw9cC5kYXRhLnNoaWZ0KCksdS5zZXQobCxkKSxkKz1sLmJ5dGVMZW5ndGg7YS50cy52aWRlb1BhY2tldENvbnRhaW5zS2V5RnJhbWUodSkmJihpLmZpcnN0S2V5RnJhbWU9YS50cy5wYXJzZVBlc1RpbWUodSksaS5maXJzdEtleUZyYW1lLnR5cGU9InZpZGVvIikscC5zaXplPTB9cC5kYXRhLnB1c2gobikscC5zaXplKz1uLmJ5dGVMZW5ndGh9fWlmKGgmJmkuZmlyc3RLZXlGcmFtZSlicmVhaztmKz0xODgsYys9MTg4fWZvcihjPWUuYnl0ZUxlbmd0aCxmPWMtMTg4LGg9ITE7Zj49MDspaWYoNzEhPT1lW2ZdfHw3MSE9PWVbY10pZi0tLGMtLTtlbHNle3N3aXRjaChuPWUuc3ViYXJyYXkoZixjKSxhLnRzLnBhcnNlVHlwZShuLHQucGlkKSl7Y2FzZSJwZXMiOnI9YS50cy5wYXJzZVBlc1R5cGUobix0LnRhYmxlKSxzPWEudHMucGFyc2VQYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yKG4pLCJ2aWRlbyI9PT1yJiZzJiYobz1hLnRzLnBhcnNlUGVzVGltZShuKSkmJihvLnR5cGU9InZpZGVvIixpLnZpZGVvLnB1c2gobyksaD0hMCl9aWYoaClicmVhaztmLT0xODgsYy09MTg4fX0sbD1mdW5jdGlvbihlLHQpe2lmKGUuYXVkaW8mJmUuYXVkaW8ubGVuZ3RoKXt2YXIgaT10O3ZvaWQgMD09PWkmJihpPWUuYXVkaW9bMF0uZHRzKSxlLmF1ZGlvLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kdHM9cihlLmR0cyxpKSxlLnB0cz1yKGUucHRzLGkpLGUuZHRzVGltZT1lLmR0cy85ZTQsZS5wdHNUaW1lPWUucHRzLzllNH0pfWlmKGUudmlkZW8mJmUudmlkZW8ubGVuZ3RoKXt2YXIgbj10O2lmKHZvaWQgMD09PW4mJihuPWUudmlkZW9bMF0uZHRzKSxlLnZpZGVvLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kdHM9cihlLmR0cyxuKSxlLnB0cz1yKGUucHRzLG4pLGUuZHRzVGltZT1lLmR0cy85ZTQsZS5wdHNUaW1lPWUucHRzLzllNH0pLGUuZmlyc3RLZXlGcmFtZSl7dmFyIGE9ZS5maXJzdEtleUZyYW1lO2EuZHRzPXIoYS5kdHMsbiksYS5wdHM9cihhLnB0cyxuKSxhLmR0c1RpbWU9YS5kdHMvOWU0LGEucHRzVGltZT1hLmR0cy85ZTR9fX0sZj1mdW5jdGlvbihlKXtmb3IodmFyIHQsaT0hMSxuPTAscj1udWxsLHM9bnVsbCxvPTAsdT0wO2UubGVuZ3RoLXU+PTM7KXtzd2l0Y2goYS5hYWMucGFyc2VUeXBlKGUsdSkpe2Nhc2UidGltZWQtbWV0YWRhdGEiOmlmKGUubGVuZ3RoLXU8MTApe2k9ITA7YnJlYWt9aWYoKG89YS5hYWMucGFyc2VJZDNUYWdTaXplKGUsdSkpPmUubGVuZ3RoKXtpPSEwO2JyZWFrfW51bGw9PT1zJiYodD1lLnN1YmFycmF5KHUsdStvKSxzPWEuYWFjLnBhcnNlQWFjVGltZXN0YW1wKHQpKSx1Kz1vO2JyZWFrO2Nhc2UiYXVkaW8iOmlmKGUubGVuZ3RoLXU8Nyl7aT0hMDticmVha31pZigobz1hLmFhYy5wYXJzZUFkdHNTaXplKGUsdSkpPmUubGVuZ3RoKXtpPSEwO2JyZWFrfW51bGw9PT1yJiYodD1lLnN1YmFycmF5KHUsdStvKSxyPWEuYWFjLnBhcnNlU2FtcGxlUmF0ZSh0KSksbisrLHUrPW87YnJlYWs7ZGVmYXVsdDp1Kyt9aWYoaSlyZXR1cm4gbnVsbH1pZihudWxsPT09cnx8bnVsbD09PXMpcmV0dXJuIG51bGw7dmFyIGQ9OWU0L3I7cmV0dXJue2F1ZGlvOlt7dHlwZToiYXVkaW8iLGR0czpzLHB0czpzfSx7dHlwZToiYXVkaW8iLGR0czpzKzEwMjQqbipkLHB0czpzKzEwMjQqbipkfV19fSxjPWZ1bmN0aW9uKGUpe3ZhciB0PXtwaWQ6bnVsbCx0YWJsZTpudWxsfSxpPXt9O28oZSx0KTtmb3IodmFyIHIgaW4gdC50YWJsZSlpZih0LnRhYmxlLmhhc093blByb3BlcnR5KHIpKXt2YXIgYT10LnRhYmxlW3JdO3N3aXRjaChhKXtjYXNlIG4uSDI2NF9TVFJFQU1fVFlQRTppLnZpZGVvPVtdLGQoZSx0LGkpLDA9PT1pLnZpZGVvLmxlbmd0aCYmZGVsZXRlIGkudmlkZW87YnJlYWs7Y2FzZSBuLkFEVFNfU1RSRUFNX1RZUEU6aS5hdWRpbz1bXSx1KGUsdCxpKSwwPT09aS5hdWRpby5sZW5ndGgmJmRlbGV0ZSBpLmF1ZGlvfX1yZXR1cm4gaX0saD1mdW5jdGlvbihlLHQpe3ZhciBpLG49cyhlKTtyZXR1cm4oaT1uP2YoZSk6YyhlKSkmJihpLmF1ZGlvfHxpLnZpZGVvKT8obChpLHQpLGkpOm51bGx9O3QuZXhwb3J0cz17aW5zcGVjdDpofX0se31dLDYwOltmdW5jdGlvbihlLHQsaSl7dmFyIG4scixhLHMsbyx1O249ZnVuY3Rpb24oZSl7cmV0dXJuIDllNCplfSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUqdH0sYT1mdW5jdGlvbihlKXtyZXR1cm4gZS85ZTR9LHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS90fSxvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ocyhlLHQpKX0sdT1mdW5jdGlvbihlLHQpe3JldHVybiByKGEoZSksdCl9LHQuZXhwb3J0cz17c2Vjb25kc1RvVmlkZW9UczpuLHNlY29uZHNUb0F1ZGlvVHM6cix2aWRlb1RzVG9TZWNvbmRzOmEsYXVkaW9Uc1RvU2Vjb25kczpzLGF1ZGlvVHNUb1ZpZGVvVHM6byx2aWRlb1RzVG9BdWRpb1RzOnV9fSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7dmFyIG47bj1mdW5jdGlvbihlKXt2YXIgdD1lLmJ5dGVMZW5ndGgsaT0wLG49MDt0aGlzLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiA4KnR9LHRoaXMuYml0c0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiA4KnQrbn0sdGhpcy5sb2FkV29yZD1mdW5jdGlvbigpe3ZhciByPWUuYnl0ZUxlbmd0aC10LGE9bmV3IFVpbnQ4QXJyYXkoNCkscz1NYXRoLm1pbig0LHQpO2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcigibm8gYnl0ZXMgYXZhaWxhYmxlIik7YS5zZXQoZS5zdWJhcnJheShyLHIrcykpLGk9bmV3IERhdGFWaWV3KGEuYnVmZmVyKS5nZXRVaW50MzIoMCksbj04KnMsdC09c30sdGhpcy5za2lwQml0cz1mdW5jdGlvbihlKXt2YXIgcjtuPmU/KGk8PD1lLG4tPWUpOihlLT1uLHI9TWF0aC5mbG9vcihlLzgpLGUtPTgqcix0LT1yLHRoaXMubG9hZFdvcmQoKSxpPDw9ZSxuLT1lKX0sdGhpcy5yZWFkQml0cz1mdW5jdGlvbihlKXt2YXIgcj1NYXRoLm1pbihuLGUpLGE9aT4+PjMyLXI7cmV0dXJuIG4tPXIsbj4wP2k8PD1yOnQ+MCYmdGhpcy5sb2FkV29yZCgpLHI9ZS1yLHI+MD9hPDxyfHRoaXMucmVhZEJpdHMocik6YX0sdGhpcy5za2lwTGVhZGluZ1plcm9zPWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9MDtlPG47KytlKWlmKDAhPShpJjIxNDc0ODM2NDg+Pj5lKSlyZXR1cm4gaTw8PWUsbi09ZSxlO3JldHVybiB0aGlzLmxvYWRXb3JkKCksZSt0aGlzLnNraXBMZWFkaW5nWmVyb3MoKX0sdGhpcy5za2lwVW5zaWduZWRFeHBHb2xvbWI9ZnVuY3Rpb24oKXt0aGlzLnNraXBCaXRzKDErdGhpcy5za2lwTGVhZGluZ1plcm9zKCkpfSx0aGlzLnNraXBFeHBHb2xvbWI9ZnVuY3Rpb24oKXt0aGlzLnNraXBCaXRzKDErdGhpcy5za2lwTGVhZGluZ1plcm9zKCkpfSx0aGlzLnJlYWRVbnNpZ25lZEV4cEdvbG9tYj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2tpcExlYWRpbmdaZXJvcygpO3JldHVybiB0aGlzLnJlYWRCaXRzKGUrMSktMX0sdGhpcy5yZWFkRXhwR29sb21iPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtyZXR1cm4gMSZlPzErZT4+PjE6LTEqKGU+Pj4xKX0sdGhpcy5yZWFkQm9vbGVhbj1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5yZWFkQml0cygxKX0sdGhpcy5yZWFkVW5zaWduZWRCeXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJpdHMoOCl9LHRoaXMubG9hZFdvcmQoKX0sdC5leHBvcnRzPW59LHt9XSw2MjpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1mdW5jdGlvbigpe3RoaXMuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXt9O3RoaXMub249ZnVuY3Rpb24odCxpKXtlW3RdfHwoZVt0XT1bXSksZVt0XT1lW3RdLmNvbmNhdChpKX0sdGhpcy5vZmY9ZnVuY3Rpb24odCxpKXt2YXIgbjtyZXR1cm4hIWVbdF0mJihuPWVbdF0uaW5kZXhPZihpKSxlW3RdPWVbdF0uc2xpY2UoKSxlW3RdLnNwbGljZShuLDEpLG4+LTEpfSx0aGlzLnRyaWdnZXI9ZnVuY3Rpb24odCl7dmFyIGksbixyLGE7aWYoaT1lW3RdKWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcihyPWkubGVuZ3RoLG49MDtuPHI7KytuKWlbbl0uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7ZWxzZXtmb3IoYT1bXSxuPWFyZ3VtZW50cy5sZW5ndGgsbj0xO248YXJndW1lbnRzLmxlbmd0aDsrK24pYS5wdXNoKGFyZ3VtZW50c1tuXSk7Zm9yKHI9aS5sZW5ndGgsbj0wO248cjsrK24paVtuXS5hcHBseSh0aGlzLGEpfX0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7ZT17fX19fTtuLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKCJkYXRhIixmdW5jdGlvbih0KXtlLnB1c2godCl9KSx0aGlzLm9uKCJkb25lIixmdW5jdGlvbih0KXtlLmZsdXNoKHQpfSksZX0sbi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoImRhdGEiLGUpfSxuLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoImRvbmUiLGUpfSx0LmV4cG9ydHM9bn0se31dLDYzOltmdW5jdGlvbihlLHQsaSl7IWZ1bmN0aW9uKGUpe3ZhciBuPS9eKCg/OlthLXpBLVowLTkrXC0uXSs6KT8pKFwvXC9bXlwvXDs/I10qKT8oLio/KT8/KDsuKj8pPyhcPy4qPyk/KCMuKj8pPyQvLHI9L14oW15cLzs/I10qKSguKikkLyxhPS8oPzpcL3xeKVwuKD89XC8pL2cscz0vKD86XC98XilcLlwuXC8oPyFcLlwuXC8pLio/KD89XC8pL2csbz17YnVpbGRBYnNvbHV0ZVVSTDpmdW5jdGlvbihlLHQsaSl7aWYoaT1pfHx7fSxlPWUudHJpbSgpLCEodD10LnRyaW0oKSkpe2lmKCFpLmFsd2F5c05vcm1hbGl6ZSlyZXR1cm4gZTt2YXIgbj10aGlzLnBhcnNlVVJMKGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLiIpO3JldHVybiBuLnBhdGg9by5ub3JtYWxpemVQYXRoKG4ucGF0aCksby5idWlsZFVSTEZyb21QYXJ0cyhuKX12YXIgYT10aGlzLnBhcnNlVVJMKHQpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIHJlbGF0aXZlIFVSTC4iKTtpZihhLnNjaGVtZSlyZXR1cm4gaS5hbHdheXNOb3JtYWxpemU/KGEucGF0aD1vLm5vcm1hbGl6ZVBhdGgoYS5wYXRoKSxvLmJ1aWxkVVJMRnJvbVBhcnRzKGEpKTp0O3ZhciBzPXRoaXMucGFyc2VVUkwoZSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgYmFzZSBVUkwuIik7aWYoIXMubmV0TG9jJiZzLnBhdGgmJiIvIiE9PXMucGF0aFswXSl7dmFyIHU9ci5leGVjKHMucGF0aCk7cy5uZXRMb2M9dVsxXSxzLnBhdGg9dVsyXX1zLm5ldExvYyYmIXMucGF0aCYmKHMucGF0aD0iLyIpO3ZhciBkPXtzY2hlbWU6cy5zY2hlbWUsbmV0TG9jOmEubmV0TG9jLHBhdGg6bnVsbCxwYXJhbXM6YS5wYXJhbXMscXVlcnk6YS5xdWVyeSxmcmFnbWVudDphLmZyYWdtZW50fTtpZighYS5uZXRMb2MmJihkLm5ldExvYz1zLm5ldExvYywiLyIhPT1hLnBhdGhbMF0pKWlmKGEucGF0aCl7dmFyIGw9cy5wYXRoLGY9bC5zdWJzdHJpbmcoMCxsLmxhc3RJbmRleE9mKCIvIikrMSkrYS5wYXRoO2QucGF0aD1vLm5vcm1hbGl6ZVBhdGgoZil9ZWxzZSBkLnBhdGg9cy5wYXRoLGEucGFyYW1zfHwoZC5wYXJhbXM9cy5wYXJhbXMsYS5xdWVyeXx8KGQucXVlcnk9cy5xdWVyeSkpO3JldHVybiBudWxsPT09ZC5wYXRoJiYoZC5wYXRoPWkuYWx3YXlzTm9ybWFsaXplP28ubm9ybWFsaXplUGF0aChhLnBhdGgpOmEucGF0aCksby5idWlsZFVSTEZyb21QYXJ0cyhkKX0scGFyc2VVUkw6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5leGVjKGUpO3JldHVybiB0P3tzY2hlbWU6dFsxXXx8IiIsbmV0TG9jOnRbMl18fCIiLHBhdGg6dFszXXx8IiIscGFyYW1zOnRbNF18fCIiLHF1ZXJ5OnRbNV18fCIiLGZyYWdtZW50OnRbNl18fCIifTpudWxsfSxub3JtYWxpemVQYXRoOmZ1bmN0aW9uKGUpe2ZvcihlPWUuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKS5yZXBsYWNlKGEsIiIpO2UubGVuZ3RoIT09KGU9ZS5yZXBsYWNlKHMsIiIpKS5sZW5ndGg7KTtyZXR1cm4gZS5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfSxidWlsZFVSTEZyb21QYXJ0czpmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hlbWUrZS5uZXRMb2MrZS5wYXRoK2UucGFyYW1zK2UucXVlcnkrZS5mcmFnbWVudH19OyJvYmplY3QiPT10eXBlb2YgaSYmIm9iamVjdCI9PXR5cGVvZiB0P3QuZXhwb3J0cz1vOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG99KToib2JqZWN0Ij09dHlwZW9mIGk/aS5VUkxUb29sa2l0PW86ZS5VUkxUb29sa2l0PW99KHRoaXMpfSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPWUoMzIpLHM9cihhKSxvPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PW4/bi52aWRlb2pzOm51bGwsdT1yKG8pLGQ9ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5mcmFtZSx7aWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB1WyJkZWZhdWx0Il0ubG9nLndhcm4oImN1ZS5mcmFtZS5pZCBpcyBkZXByZWNhdGVkLiBVc2UgY3VlLnZhbHVlLmtleSBpbnN0ZWFkLiIpLGUudmFsdWUua2V5fX0sdmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiB1WyJkZWZhdWx0Il0ubG9nLndhcm4oImN1ZS5mcmFtZS52YWx1ZSBpcyBkZXByZWNhdGVkLiBVc2UgY3VlLnZhbHVlLmRhdGEgaW5zdGVhZC4iKSxlLnZhbHVlLmRhdGF9fSxwcml2YXRlRGF0YTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVbImRlZmF1bHQiXS5sb2cud2FybigiY3VlLmZyYW1lLnByaXZhdGVEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUuZGF0YSBpbnN0ZWFkLiIpLGUudmFsdWUuZGF0YX19fSl9LGw9ZnVuY3Rpb24oZSl7dW5kZWZpbmVkO3JldHVybiBpc05hTihlKXx8TWF0aC5hYnMoZSk9PT1JbmZpbml0eT9OdW1iZXIuTUFYX1ZBTFVFOmV9LGY9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXNbImRlZmF1bHQiXS5XZWJLaXREYXRhQ3VlfHxzWyJkZWZhdWx0Il0uVlRUQ3VlO3QmJnQuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnN0cmVhbTt0aGlzLmluYmFuZFRleHRUcmFja3NfW3RdLmFkZEN1ZShuZXcgbihlLnN0YXJ0VGltZSt0aGlzLnRpbWVzdGFtcE9mZnNldCxlLmVuZFRpbWUrdGhpcy50aW1lc3RhbXBPZmZzZXQsZS50ZXh0KSl9LGUpLGkmJmZ1bmN0aW9uKCl7dmFyIHQ9bChlLm1lZGlhU291cmNlXy5kdXJhdGlvbik7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VlVGltZSt0aGlzLnRpbWVzdGFtcE9mZnNldDtlLmZyYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBuKHQsdCxlLnZhbHVlfHxlLnVybHx8ZS5kYXRhfHwiIik7aS5mcmFtZT1lLGkudmFsdWU9ZSxkKGkpLHRoaXMubWV0YWRhdGFUcmFja18uYWRkQ3VlKGkpfSx0aGlzKX0sZSksZS5tZXRhZGF0YVRyYWNrXyYmZS5tZXRhZGF0YVRyYWNrXy5jdWVzJiZlLm1ldGFkYXRhVHJhY2tfLmN1ZXMubGVuZ3RoJiZmdW5jdGlvbigpe2Zvcih2YXIgaT1lLm1ldGFkYXRhVHJhY2tfLmN1ZXMsbj1bXSxyPTA7cjxpLmxlbmd0aDtyKyspaVtyXSYmbi5wdXNoKGlbcl0pO3ZhciBhPW4ucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0LnN0YXJ0VGltZV18fFtdO3JldHVybiBpLnB1c2godCksZVt0LnN0YXJ0VGltZV09aSxlfSx7fSkscz1PYmplY3Qua2V5cyhhKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE51bWJlcihlKS1OdW1iZXIodCl9KTtzLmZvckVhY2goZnVuY3Rpb24oZSxpKXt2YXIgbj1hW2VdLHI9TnVtYmVyKHNbaSsxXSl8fHQ7bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZW5kVGltZT1yfSl9KX0oKX0oKX07aVsiZGVmYXVsdCJdPXthZGRUZXh0VHJhY2tEYXRhOmYsZHVyYXRpb25PZlZpZGVvOmx9LHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw2NTpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuL21wNGFcLlxkKy5cZCsvaS50ZXN0KGUpfSxyPWZ1bmN0aW9uKGUpe3JldHVybi9hdmMxXC5bXGRhLWZdKy9pLnRlc3QoZSl9LGE9ZnVuY3Rpb24oZSl7dmFyIHQ9e3R5cGU6IiIscGFyYW1ldGVyczp7fX0saT1lLnRyaW0oKS5zcGxpdCgiOyIpO3JldHVybiB0LnR5cGU9aS5zaGlmdCgpLnRyaW0oKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9ZS50cmltKCkuc3BsaXQoIj0iKTtpZihpLmxlbmd0aD4xKXt2YXIgbj1pWzBdLnJlcGxhY2UoLyIvZywiIikudHJpbSgpLHI9aVsxXS5yZXBsYWNlKC8iL2csIiIpLnRyaW0oKTt0LnBhcmFtZXRlcnNbbl09cn19KSx0fSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9hdmMxXC4oXGQrKVwuKFxkKykvaSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuImF2YzEuIisoIjAwIitOdW1iZXIodCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikrIjAwIisoIjAwIitOdW1iZXIoaSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KX0pfTtpWyJkZWZhdWx0Il09e2lzQXVkaW9Db2RlYzpuLHBhcnNlQ29udGVudFR5cGU6YSxpc1ZpZGVvQ29kZWM6cix0cmFuc2xhdGVMZWdhY3lDb2RlY3M6c30sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDY2OltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlLHQsaSl7dmFyIG49dC5wbGF5ZXJfO2lmKGkuY2FwdGlvbnMmJmkuY2FwdGlvbnMubGVuZ3RoKXtlLmluYmFuZFRleHRUcmFja3NffHwoZS5pbmJhbmRUZXh0VHJhY2tzXz17fSk7Zm9yKHZhciByIGluIGkuY2FwdGlvblN0cmVhbXMpaWYoIWUuaW5iYW5kVGV4dFRyYWNrc19bcl0pe24udGVjaF8udHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy02MDgifSk7dmFyIGE9bi50ZXh0VHJhY2tzKCkuZ2V0VHJhY2tCeUlkKHIpO2UuaW5iYW5kVGV4dFRyYWNrc19bcl09YXx8bi5hZGRSZW1vdGVUZXh0VHJhY2soe2tpbmQ6ImNhcHRpb25zIixpZDpyLGxhYmVsOnJ9LCExKS50cmFja319aS5tZXRhZGF0YSYmaS5tZXRhZGF0YS5sZW5ndGgmJiFlLm1ldGFkYXRhVHJhY2tfJiYoZS5tZXRhZGF0YVRyYWNrXz1uLmFkZFJlbW90ZVRleHRUcmFjayh7a2luZDoibWV0YWRhdGEiLGxhYmVsOiJUaW1lZCBNZXRhZGF0YSJ9LCExKS50cmFjayxlLm1ldGFkYXRhVHJhY2tfLmluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGU9aS5tZXRhZGF0YS5kaXNwYXRjaFR5cGUpfTtpWyJkZWZhdWx0Il09bix0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sNjc6W2Z1bmN0aW9uKGUsdCxpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXtUSU1FX0JFVFdFRU5fQ0hVTktTOjEsQllURVNfUEVSX0NIVU5LOjMyNzY4fTtpWyJkZWZhdWx0Il09bix0LmV4cG9ydHM9aVsiZGVmYXVsdCJdfSx7fV0sNjg6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHMoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxpLG4pe3JldHVybiBpJiZlKHQucHJvdG90eXBlLGkpLG4mJmUodCxuKSx0fX0oKSx1PWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUsYT10LHM9aTtuPSExLG51bGw9PT1yJiYocj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixhKTtpZihvIT09dW5kZWZpbmVkKXtpZigidmFsdWUiaW4gbylyZXR1cm4gby52YWx1ZTt2YXIgdT1vLmdldDtyZXR1cm4gdT09PXVuZGVmaW5lZD91bmRlZmluZWQ6dS5jYWxsKHMpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtpZihudWxsPT09ZClyZXR1cm4gdW5kZWZpbmVkO2U9ZCx0PWEsaT1zLG49ITAsbz1kPXVuZGVmaW5lZH19LGQ9ZSgzMSksbD1yKGQpLGY9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LnZpZGVvanM6dm9pZCAwIT09bj9uLnZpZGVvanM6bnVsbCxjPXIoZiksaD1lKDY5KSxwPXIoaCksbT1lKDY3KSxnPXIobSkseT1lKDY1KSxfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT10aGlzO2EodGhpcyx0KSx1KE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc291cmNlQnVmZmVycz1bXSx0aGlzLnJlYWR5U3RhdGU9ImNsb3NlZCIsdGhpcy5vbihbInNvdXJjZW9wZW4iLCJ3ZWJraXRzb3VyY2VvcGVuIl0sZnVuY3Rpb24odCl7ZS5zd2ZPYmo9bFsiZGVmYXVsdCJdLmdldEVsZW1lbnRCeUlkKHQuc3dmSWQpLGUucGxheWVyXz0oMCxjWyJkZWZhdWx0Il0pKGUuc3dmT2JqLnBhcmVudE5vZGUpLGUudGVjaF89ZS5zd2ZPYmoudGVjaCxlLnJlYWR5U3RhdGU9Im9wZW4iLGUudGVjaF8ub24oInNlZWtpbmciLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWUuc291cmNlQnVmZmVycy5sZW5ndGg7dC0tOyllLnNvdXJjZUJ1ZmZlcnNbdF0uYWJvcnQoKX0pLGUuc3dmT2JqJiZlLnN3Zk9iai52anNfbG9hZCgpfSl9cmV0dXJuIHModCxlKSxvKHQsW3trZXk6ImFkZFNlZWthYmxlUmFuZ2VfIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImFkZFNvdXJjZUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAseS5wYXJzZUNvbnRlbnRUeXBlKShlKSxpPXVuZGVmaW5lZDtpZigidmlkZW8vbXAydCIhPT10LnR5cGUmJiJhdWRpby9tcDJ0IiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIChWaWRlby5qcykiKTtyZXR1cm4gaT1uZXcgcFsiZGVmYXVsdCJdKHRoaXMpLHRoaXMuc291cmNlQnVmZmVycy5wdXNoKGkpLGl9fSx7a2V5OiJlbmRPZlN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7Im5ldHdvcmsiPT09ZT90aGlzLnRlY2hfLmVycm9yKDIpOiJkZWNvZGUiPT09ZSYmdGhpcy50ZWNoXy5lcnJvcigzKSwiZW5kZWQiIT09dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5yZWFkeVN0YXRlPSJlbmRlZCIsdGhpcy5zd2ZPYmoudmpzX2VuZE9mU3RyZWFtKCkpfX1dKSx0fShjWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpO2lbImRlZmF1bHQiXT1fO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsImR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3dmT2JqP3RoaXMuc3dmT2JqLnZqc19nZXRQcm9wZXJ0eSgiZHVyYXRpb24iKTpOYU59LHNldDpmdW5jdGlvbihlKXt2YXIgdD11bmRlZmluZWQsaT10aGlzLnN3Zk9iai52anNfZ2V0UHJvcGVydHkoImR1cmF0aW9uIik7aWYodGhpcy5zd2ZPYmoudmpzX3NldFByb3BlcnR5KCJkdXJhdGlvbiIsZSksZTxpKWZvcih0PTA7dDx0aGlzLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoO3QrKyl0aGlzLnNvdXJjZUJ1ZmZlcnNbdF0ucmVtb3ZlKGUsaSk7cmV0dXJuIGV9fSl9Y2F0Y2goYil7Xy5wcm90b3R5cGUuZHVyYXRpb249TmFOfWZvcih2YXIgdiBpbiBnWyJkZWZhdWx0Il0pX1t2XT1nWyJkZWZhdWx0Il1bdl07dC5leHBvcnRzPWlbImRlZmF1bHQiXX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDY5OltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIGEoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBzKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPSEwO247KXt2YXIgcj1lLGE9dCxzPWk7bj0hMSxudWxsPT09ciYmKHI9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsYSk7aWYobyE9PXVuZGVmaW5lZCl7aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHU9by5nZXQ7cmV0dXJuIHU9PT11bmRlZmluZWQ/dW5kZWZpbmVkOnUuY2FsbChzKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7aWYobnVsbD09PWQpcmV0dXJuIHVuZGVmaW5lZDtlPWQsdD1hLGk9cyxuPSEwLG89ZD11bmRlZmluZWR9fSxkPWUoMzIpLGw9cihkKSxmPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PW4/bi52aWRlb2pzOm51bGwsYz1yKGYpLGg9ZSg0NikscD1yKGgpLG09ZSg3MiksZz1yKG0pLHk9ZSg2NiksXz1yKHkpLHY9ZSg2NCksYj1lKDcwKSxUPXIoYiksUz1lKDc2KSx3PXIoUyksaz1lKDY3KSxPPXIoayksRT1mdW5jdGlvbigpe3ZhciB0PXVuZGVmaW5lZAo7dHJ5e3Q9ZS5yZXNvbHZlKCIuL2ZsYXNoLXRyYW5zbXV4ZXItd29ya2VyIil9Y2F0Y2goaSl7fXJldHVybiB0fSxBPWZ1bmN0aW9uKGUpe2xbImRlZmF1bHQiXS5zZXRUaW1lb3V0KGUsT1siZGVmYXVsdCJdLlRJTUVfQkVUV0VFTl9DSFVOS1MpfSxMPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsOCl9LFA9ZnVuY3Rpb24oZSx0KXsoIm51bWJlciIhPXR5cGVvZiB0fHx0PDApJiYodD0wKTt2YXIgaT1NYXRoLnBvdygxMCx0KTtyZXR1cm4gTWF0aC5yb3VuZChlKmkpL2l9LEk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgaT10aGlzO2EodGhpcyx0KSx1KE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBuPXVuZGVmaW5lZDt0aGlzLmNodW5rU2l6ZV89T1siZGVmYXVsdCJdLkJZVEVTX1BFUl9DSFVOSyx0aGlzLmJ1ZmZlcl89W10sdGhpcy5idWZmZXJTaXplXz0wLHRoaXMuYmFzZVB0c09mZnNldF89TmFOLHRoaXMubWVkaWFTb3VyY2VfPWUsdGhpcy5hdWRpb0J1ZmZlckVuZF89TmFOLHRoaXMudmlkZW9CdWZmZXJFbmRfPU5hTix0aGlzLnVwZGF0aW5nPSExLHRoaXMudGltZXN0YW1wT2Zmc2V0Xz0wLG49bFsiZGVmYXVsdCJdLmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHBbImRlZmF1bHQiXS5nZXRGbHZIZWFkZXIoKSkpKTt2YXIgcj10aGlzLm1lZGlhU291cmNlXy5wbGF5ZXJfLmlkKCkucmVwbGFjZSgvW15hLXpBLVowLTldL2csIl8iKTt0aGlzLmZsYXNoRW5jb2RlZEhlYWRlck5hbWVfPSJ2anNfZmxhc2hFbmNvZGVkSGVhZGVyXyIrcitMKCksdGhpcy5mbGFzaEVuY29kZWREYXRhTmFtZV89InZqc19mbGFzaEVuY29kZWREYXRhXyIrcitMKCksbFsiZGVmYXVsdCJdW3RoaXMuZmxhc2hFbmNvZGVkSGVhZGVyTmFtZV9dPWZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSBsWyJkZWZhdWx0Il1baS5mbGFzaEVuY29kZWRIZWFkZXJOYW1lX10sbn0sdGhpcy5tZWRpYVNvdXJjZV8uc3dmT2JqLnZqc19hcHBlbmRDaHVua1JlYWR5KHRoaXMuZmxhc2hFbmNvZGVkSGVhZGVyTmFtZV8pLHRoaXMudHJhbnNtdXhlcl89KDAsd1siZGVmYXVsdCJdKShUWyJkZWZhdWx0Il0sRSgpKSx0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXQiLG9wdGlvbnM6e319KSx0aGlzLnRyYW5zbXV4ZXJfLm9ubWVzc2FnZT1mdW5jdGlvbihlKXsiZGF0YSI9PT1lLmRhdGEuYWN0aW9uJiZpLnJlY2VpdmVCdWZmZXJfKGUuZGF0YS5zZWdtZW50KX0sdGhpcy5vbmUoInVwZGF0ZWVuZCIsZnVuY3Rpb24oKXtpLm1lZGlhU291cmNlXy50ZWNoXy50cmlnZ2VyKCJsb2FkZWRtZXRhZGF0YSIpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInRpbWVzdGFtcE9mZnNldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVzdGFtcE9mZnNldF99LHNldDpmdW5jdGlvbihlKXsibnVtYmVyIj09dHlwZW9mIGUmJmU+PTAmJih0aGlzLnRpbWVzdGFtcE9mZnNldF89ZSx0aGlzLm1lZGlhU291cmNlXy5zd2ZPYmoudmpzX2Rpc2NvbnRpbnVpdHkoKSx0aGlzLmJhc2VQdHNPZmZzZXRfPU5hTix0aGlzLmF1ZGlvQnVmZmVyRW5kXz1OYU4sdGhpcy52aWRlb0J1ZmZlckVuZF89TmFOLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicmVzZXQifSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJidWZmZXJlZCIse2dldDpmdW5jdGlvbigpe2lmKCEodGhpcy5tZWRpYVNvdXJjZV8mJnRoaXMubWVkaWFTb3VyY2VfLnN3Zk9iaiYmInZqc19nZXRQcm9wZXJ0eSJpbiB0aGlzLm1lZGlhU291cmNlXy5zd2ZPYmopKXJldHVybiBjWyJkZWZhdWx0Il0uY3JlYXRlVGltZVJhbmdlKCk7dmFyIGU9dGhpcy5tZWRpYVNvdXJjZV8uc3dmT2JqLnZqc19nZXRQcm9wZXJ0eSgiYnVmZmVyZWQiKTtyZXR1cm4gZSYmZS5sZW5ndGgmJihlWzBdWzBdPVAoZVswXVswXSwzKSxlWzBdWzFdPVAoZVswXVsxXSwzKSksY1siZGVmYXVsdCJdLmNyZWF0ZVRpbWVSYW5nZXMoZSl9fSksdGhpcy5tZWRpYVNvdXJjZV8ucGxheWVyXy5vbigic2Vla2VkIixmdW5jdGlvbigpe2lmKCgwLGdbImRlZmF1bHQiXSkoMCxJbmZpbml0eSxpLm1ldGFkYXRhVHJhY2tfKSxpLmluYmFuZFRleHRUcmFja3NfKWZvcih2YXIgZSBpbiBpLmluYmFuZFRleHRUcmFja3NfKSgwLGdbImRlZmF1bHQiXSkoMCxJbmZpbml0eSxpLmluYmFuZFRleHRUcmFja3NfW2VdKX0pO3ZhciBzPXRoaXMub25IbHNSZXNldF8uYmluZCh0aGlzKTt0aGlzLm1lZGlhU291cmNlXy5wbGF5ZXJfLnRlY2hfLm9uKCJobHMtcmVzZXQiLHMpLHRoaXMubWVkaWFTb3VyY2VfLnBsYXllcl8udGVjaF8uaGxzLm9uKCJkaXNwb3NlIixmdW5jdGlvbigpe2kudHJhbnNtdXhlcl8udGVybWluYXRlKCksaS5tZWRpYVNvdXJjZV8ucGxheWVyXy50ZWNoXy5vZmYoImhscy1yZXNldCIscyl9KX1yZXR1cm4gcyh0LGUpLG8odCxbe2tleToiYXBwZW5kQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD11bmRlZmluZWQ7aWYodGhpcy51cGRhdGluZyl0aHJvdyB0PW5ldyBFcnJvcigiU291cmNlQnVmZmVyLmFwcGVuZCgpIGNhbm5vdCBiZSBjYWxsZWQgd2hpbGUgYW4gdXBkYXRlIGlzIGluIHByb2dyZXNzIiksdC5uYW1lPSJJbnZhbGlkU3RhdGVFcnJvciIsdC5jb2RlPTExLHQ7dGhpcy51cGRhdGluZz0hMCx0aGlzLm1lZGlhU291cmNlXy5yZWFkeVN0YXRlPSJvcGVuIix0aGlzLnRyaWdnZXIoe3R5cGU6InVwZGF0ZSJ9KSx0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InB1c2giLGRhdGE6ZS5idWZmZXIsYnl0ZU9mZnNldDplLmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGh9LFtlLmJ1ZmZlcl0pLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZmx1c2gifSl9fSx7a2V5OiJhYm9ydCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlcl89W10sdGhpcy5idWZmZXJTaXplXz0wLHRoaXMubWVkaWFTb3VyY2VfLnN3Zk9iai52anNfYWJvcnQoKSx0aGlzLnVwZGF0aW5nJiYodGhpcy51cGRhdGluZz0hMSx0aGlzLnRyaWdnZXIoe3R5cGU6InVwZGF0ZWVuZCJ9KSl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoKDAsZ1siZGVmYXVsdCJdKShlLHQsdGhpcy5tZXRhZGF0YVRyYWNrXyksdGhpcy5pbmJhbmRUZXh0VHJhY2tzXylmb3IodmFyIGkgaW4gdGhpcy5pbmJhbmRUZXh0VHJhY2tzXykoMCxnWyJkZWZhdWx0Il0pKGUsdCx0aGlzLmluYmFuZFRleHRUcmFja3NfW2ldKTt0aGlzLnRyaWdnZXIoe3R5cGU6InVwZGF0ZSJ9KSx0aGlzLnRyaWdnZXIoe3R5cGU6InVwZGF0ZWVuZCJ9KX19LHtrZXk6InJlY2VpdmVCdWZmZXJfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOygwLF9bImRlZmF1bHQiXSkodGhpcyx0aGlzLm1lZGlhU291cmNlXyxlKSwoMCx2LmFkZFRleHRUcmFja0RhdGEpKHRoaXMsZS5jYXB0aW9ucyxlLm1ldGFkYXRhKSxBKGZ1bmN0aW9uKCl7dmFyIGk9dC5jb252ZXJ0VGFnc1RvRGF0YV8oZSk7MD09PXQuYnVmZmVyXy5sZW5ndGgmJkEodC5wcm9jZXNzQnVmZmVyXy5iaW5kKHQpKSxpJiYodC5idWZmZXJfLnB1c2goaSksdC5idWZmZXJTaXplXys9aS5ieXRlTGVuZ3RoKX0pfX0se2tleToicHJvY2Vzc0J1ZmZlcl8iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9bImRlZmF1bHQiXS5CWVRFU19QRVJfQ0hVTks7aWYoIXRoaXMuYnVmZmVyXy5sZW5ndGgpcmV0dXJuIHZvaWQoITEhPT10aGlzLnVwZGF0aW5nJiYodGhpcy51cGRhdGluZz0hMSx0aGlzLnRyaWdnZXIoe3R5cGU6InVwZGF0ZWVuZCJ9KSkpO3ZhciBpPXRoaXMuYnVmZmVyX1swXS5zdWJhcnJheSgwLHQpO2kuYnl0ZUxlbmd0aDx0fHx0aGlzLmJ1ZmZlcl9bMF0uYnl0ZUxlbmd0aD09PXQ/dGhpcy5idWZmZXJfLnNoaWZ0KCk6dGhpcy5idWZmZXJfWzBdPXRoaXMuYnVmZmVyX1swXS5zdWJhcnJheSh0KSx0aGlzLmJ1ZmZlclNpemVfLT1pLmJ5dGVMZW5ndGg7Zm9yKHZhciBuPVtdLHI9aS5ieXRlTGVuZ3RoLGE9MDthPHI7YSsrKW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlbYV0pKTt2YXIgcz1sWyJkZWZhdWx0Il0uYnRvYShuLmpvaW4oIiIpKTtsWyJkZWZhdWx0Il1bdGhpcy5mbGFzaEVuY29kZWREYXRhTmFtZV9dPWZ1bmN0aW9uKCl7cmV0dXJuIEEoZS5wcm9jZXNzQnVmZmVyXy5iaW5kKGUpKSxkZWxldGUgbFsiZGVmYXVsdCJdW2UuZmxhc2hFbmNvZGVkRGF0YU5hbWVfXSxzfSx0aGlzLm1lZGlhU291cmNlXy5zd2ZPYmoudmpzX2FwcGVuZENodW5rUmVhZHkodGhpcy5mbGFzaEVuY29kZWREYXRhTmFtZV8pfX0se2tleToiY29udmVydFRhZ3NUb0RhdGFfIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0wLGk9dGhpcy5tZWRpYVNvdXJjZV8udGVjaF8sbj0wLHI9dW5kZWZpbmVkLGE9ZS50YWdzLnZpZGVvVGFncyxzPWUudGFncy5hdWRpb1RhZ3M7aWYoaXNOYU4odGhpcy5iYXNlUHRzT2Zmc2V0XykmJihhLmxlbmd0aHx8cy5sZW5ndGgpKXt2YXIgbz1hWzBdfHx7cHRzOkluZmluaXR5fSx1PXNbMF18fHtwdHM6SW5maW5pdHl9O3RoaXMuYmFzZVB0c09mZnNldF89TWF0aC5taW4odS5wdHMsby5wdHMpfWkuc2Vla2luZygpJiYodGhpcy52aWRlb0J1ZmZlckVuZF89TmFOLHRoaXMuYXVkaW9CdWZmZXJFbmRfPU5hTiksaXNOYU4odGhpcy52aWRlb0J1ZmZlckVuZF8pPyhpLmJ1ZmZlcmVkKCkubGVuZ3RoJiYobj1pLmJ1ZmZlcmVkKCkuZW5kKDApLXRoaXMudGltZXN0YW1wT2Zmc2V0KSxpLnNlZWtpbmcoKSYmKG49TWF0aC5tYXgobixpLmN1cnJlbnRUaW1lKCktdGhpcy50aW1lc3RhbXBPZmZzZXQpKSxuKj0xZTMsbis9dGhpcy5iYXNlUHRzT2Zmc2V0Xyk6bj10aGlzLnZpZGVvQnVmZmVyRW5kXysuMTt2YXIgZD1hLmxlbmd0aDtpZihkJiZhW2QtMV0ucHRzPj1uKXtmb3IoOy0tZDspe3ZhciBsPWFbZF07aWYoIShsLnB0cz5uKSYmKGwua2V5RnJhbWV8fGwubWV0YURhdGFUYWcpKWJyZWFrfWZvcig7ZDspe2lmKCFhW2QtMV0ubWV0YURhdGFUYWcpYnJlYWs7ZC0tfX12YXIgZj1hLnNsaWNlKGQpLGM9dW5kZWZpbmVkO2ZvcihjPWlzTmFOKHRoaXMuYXVkaW9CdWZmZXJFbmRfKT9uOnRoaXMuYXVkaW9CdWZmZXJFbmRfKy4xLGYubGVuZ3RoJiYoYz1NYXRoLm1pbihjLGZbMF0ucHRzKSksZD0wO2Q8cy5sZW5ndGgmJiEoc1tkXS5wdHM+PWMpOylkKys7dmFyIGg9cy5zbGljZShkKTtoLmxlbmd0aCYmKHRoaXMuYXVkaW9CdWZmZXJFbmRfPWhbaC5sZW5ndGgtMV0ucHRzKSxmLmxlbmd0aCYmKHRoaXMudmlkZW9CdWZmZXJFbmRfPWZbZi5sZW5ndGgtMV0ucHRzKTt2YXIgcD10aGlzLmdldE9yZGVyZWRUYWdzXyhmLGgpO2lmKDAhPT1wLmxlbmd0aCl7aWYocFswXS5wdHM8biYmaS5zZWVraW5nKCkpe3ZhciBtPWkuY3VycmVudFRpbWUoKSxnPShuLXBbMF0ucHRzKS8xZTMseT1tLWc7eTwxLzMwJiYoeT0wKTt0cnl7dGhpcy5tZWRpYVNvdXJjZV8uc3dmT2JqLnZqc19hZGp1c3RDdXJyZW50VGltZSh5KX1jYXRjaChiKXt9fWZvcih2YXIgXz0wO188cC5sZW5ndGg7XysrKXQrPXBbX10uYnl0ZXMuYnl0ZUxlbmd0aDtyPW5ldyBVaW50OEFycmF5KHQpO2Zvcih2YXIgXz0wLHY9MDtfPHAubGVuZ3RoO18rKylyLnNldChwW19dLmJ5dGVzLHYpLHYrPXBbX10uYnl0ZXMuYnl0ZUxlbmd0aDtyZXR1cm4gcn19fSx7a2V5OiJnZXRPcmRlcmVkVGFnc18iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPXVuZGVmaW5lZCxuPVtdO2UubGVuZ3RofHx0Lmxlbmd0aDspaT1lLmxlbmd0aD90Lmxlbmd0aCYmdFswXS5kdHM8ZVswXS5kdHM/dC5zaGlmdCgpOmUuc2hpZnQoKTp0LnNoaWZ0KCksbi5wdXNoKGkpO3JldHVybiBufX0se2tleToib25IbHNSZXNldF8iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXNldENhcHRpb25zIn0pfX1dKSx0fShjWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpO2lbImRlZmF1bHQiXT1JLHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3MDpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCkscz1lKDMyKSxvPW4ocyksdT1lKDQ2KSxkPW4odSksbD1mdW5jdGlvbihlKXtlLm9uKCJkYXRhIixmdW5jdGlvbihlKXtvWyJkZWZhdWx0Il0ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZGF0YSIsc2VnbWVudDplfSl9KSxlLm9uKCJkb25lIixmdW5jdGlvbihlKXtvWyJkZWZhdWx0Il0ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiZG9uZSJ9KX0pfSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtyKHRoaXMsZSksdGhpcy5vcHRpb25zPXR8fHt9LHRoaXMuaW5pdCgpfXJldHVybiBhKGUsW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc211eGVyJiZ0aGlzLnRyYW5zbXV4ZXIuZGlzcG9zZSgpLHRoaXMudHJhbnNtdXhlcj1uZXcgZFsiZGVmYXVsdCJdLlRyYW5zbXV4ZXIodGhpcy5vcHRpb25zKSxsKHRoaXMudHJhbnNtdXhlcil9fSx7a2V5OiJwdXNoIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1uZXcgVWludDhBcnJheShlLmRhdGEsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7dGhpcy50cmFuc211eGVyLnB1c2godCl9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmluaXQoKX19LHtrZXk6ImZsdXNoIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudHJhbnNtdXhlci5mbHVzaCgpfX0se2tleToicmVzZXRDYXB0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbXV4ZXIucmVzZXRDYXB0aW9ucygpfX1dKSxlfSgpLGM9ZnVuY3Rpb24oZSl7ZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoImluaXQiPT09ZS5kYXRhLmFjdGlvbiYmZS5kYXRhLm9wdGlvbnMpcmV0dXJuIHZvaWQodGhpcy5tZXNzYWdlSGFuZGxlcnM9bmV3IGYoZS5kYXRhLm9wdGlvbnMpKTt0aGlzLm1lc3NhZ2VIYW5kbGVyc3x8KHRoaXMubWVzc2FnZUhhbmRsZXJzPW5ldyBmKSxlLmRhdGEmJmUuZGF0YS5hY3Rpb24mJiJpbml0IiE9PWUuZGF0YS5hY3Rpb24mJnRoaXMubWVzc2FnZUhhbmRsZXJzW2UuZGF0YS5hY3Rpb25dJiZ0aGlzLm1lc3NhZ2VIYW5kbGVyc1tlLmRhdGEuYWN0aW9uXShlLmRhdGEpfX07aVsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYyhlKX0sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDcxOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIGEoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBzKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPSEwO247KXt2YXIgcj1lLGE9dCxzPWk7bj0hMSxudWxsPT09ciYmKHI9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsYSk7aWYobyE9PXVuZGVmaW5lZCl7aWYoInZhbHVlImluIG8pcmV0dXJuIG8udmFsdWU7dmFyIHU9by5nZXQ7cmV0dXJuIHU9PT11bmRlZmluZWQ/dW5kZWZpbmVkOnUuY2FsbChzKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7aWYobnVsbD09PWQpcmV0dXJuIHVuZGVmaW5lZDtlPWQsdD1hLGk9cyxuPSEwLG89ZD11bmRlZmluZWR9fSxkPWUoMzIpLGw9cihkKSxmPWUoMzEpLGM9cihmKSxoPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PW4/bi52aWRlb2pzOm51bGwscD1yKGgpLG09ZSg3NSksZz1yKG0pLHk9ZSg2NCksXz1lKDY1KSx2PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT10aGlzO2EodGhpcyx0KSx1KE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBpPXVuZGVmaW5lZDt0aGlzLm5hdGl2ZU1lZGlhU291cmNlXz1uZXcgbFsiZGVmYXVsdCJdLk1lZGlhU291cmNlO2ZvcihpIGluIHRoaXMubmF0aXZlTWVkaWFTb3VyY2VfKWkgaW4gdC5wcm90b3R5cGV8fCJmdW5jdGlvbiIhPXR5cGVvZiB0aGlzLm5hdGl2ZU1lZGlhU291cmNlX1tpXXx8KHRoaXNbaV09dGhpcy5uYXRpdmVNZWRpYVNvdXJjZV9baV0uYmluZCh0aGlzLm5hdGl2ZU1lZGlhU291cmNlXykpO3RoaXMuZHVyYXRpb25fPU5hTixPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiZHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbl89PT1JbmZpbml0eT90aGlzLmR1cmF0aW9uXzp0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuZHVyYXRpb25fPWUsZSE9PUluZmluaXR5KXJldHVybiB2b2lkKHRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmR1cmF0aW9uPWUpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzZWVrYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR1cmF0aW9uXz09PUluZmluaXR5P3BbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKFtbMCx0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbl1dKTp0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5zZWVrYWJsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywicmVhZHlTdGF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5yZWFkeVN0YXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJhY3RpdmVTb3VyY2VCdWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlU291cmNlQnVmZmVyc199fSksdGhpcy5zb3VyY2VCdWZmZXJzPVtdLHRoaXMuYWN0aXZlU291cmNlQnVmZmVyc189W10sdGhpcy51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXz1mdW5jdGlvbigpe2lmKGUuYWN0aXZlU291cmNlQnVmZmVyc18ubGVuZ3RoPTAsMT09PWUuc291cmNlQnVmZmVycy5sZW5ndGgpe3ZhciB0PWUuc291cmNlQnVmZmVyc1swXTtyZXR1cm4gdC5hcHBlbmRBdWRpb0luaXRTZWdtZW50Xz0hMCx0LmF1ZGlvRGlzYWJsZWRfPSF0LmF1ZGlvQ29kZWNfLHZvaWQgZS5hY3RpdmVTb3VyY2VCdWZmZXJzXy5wdXNoKHQpfWZvcih2YXIgaT0hMSxuPSEwLHI9MDtyPGUucGxheWVyXy5hdWRpb1RyYWNrcygpLmxlbmd0aDtyKyspe3ZhciBhPWUucGxheWVyXy5hdWRpb1RyYWNrcygpW3JdO2lmKGEuZW5hYmxlZCYmIm1haW4iIT09YS5raW5kKXtpPSEwLG49ITE7YnJlYWt9fWUuc291cmNlQnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF89ITAsdC52aWRlb0NvZGVjXyYmdC5hdWRpb0NvZGVjXyl0LmF1ZGlvRGlzYWJsZWRfPWk7ZWxzZSBpZih0LnZpZGVvQ29kZWNfJiYhdC5hdWRpb0NvZGVjXyl0LmF1ZGlvRGlzYWJsZWRfPSEwLG49ITE7ZWxzZSBpZighdC52aWRlb0NvZGVjXyYmdC5hdWRpb0NvZGVjXyYmKHQuYXVkaW9EaXNhYmxlZF89bixuKSlyZXR1cm47ZS5hY3RpdmVTb3VyY2VCdWZmZXJzXy5wdXNoKHQpfSl9LHRoaXMub25QbGF5ZXJNZWRpYWNoYW5nZV89ZnVuY3Rpb24oKXtlLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmFwcGVuZEF1ZGlvSW5pdFNlZ21lbnRfPSEwfSl9LHRoaXMub25IbHNSZXNldF89ZnVuY3Rpb24oKXtlLnNvdXJjZUJ1ZmZlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRyYW5zbXV4ZXJfJiZlLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc2V0Q2FwdGlvbnMifSl9KX0sdGhpcy5vbkhsc1NlZ21lbnRUaW1lTWFwcGluZ189ZnVuY3Rpb24odCl7ZS5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZU1hcHBpbmdfPXQubWFwcGluZ30pfSxbInNvdXJjZW9wZW4iLCJzb3VyY2VjbG9zZSIsInNvdXJjZWVuZGVkIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5hZGRFdmVudExpc3RlbmVyKGUsdGhpcy50cmlnZ2VyLmJpbmQodGhpcykpfSx0aGlzKSx0aGlzLm9uKCJzb3VyY2VvcGVuIixmdW5jdGlvbih0KXt2YXIgaT1jWyJkZWZhdWx0Il0ucXVlcnlTZWxlY3RvcignW3NyYz0iJytlLnVybF8rJyJdJyk7aSYmKGUucGxheWVyXz0oMCxwWyJkZWZhdWx0Il0pKGkucGFyZW50Tm9kZSksZS5wbGF5ZXJfLnRlY2hfLm9uKCJobHMtcmVzZXQiLGUub25IbHNSZXNldF8pLGUucGxheWVyXy50ZWNoXy5vbigiaGxzLXNlZ21lbnQtdGltZS1tYXBwaW5nIixlLm9uSGxzU2VnbWVudFRpbWVNYXBwaW5nXyksZS5wbGF5ZXJfLmF1ZGlvVHJhY2tzJiZlLnBsYXllcl8uYXVkaW9UcmFja3MoKSYmKGUucGxheWVyXy5hdWRpb1RyYWNrcygpLm9uKCJjaGFuZ2UiLGUudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pLGUucGxheWVyXy5hdWRpb1RyYWNrcygpLm9uKCJhZGR0cmFjayIsZS51cGRhdGVBY3RpdmVTb3VyY2VCdWZmZXJzXyksZS5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub24oInJlbW92ZXRyYWNrIixlLnVwZGF0ZUFjdGl2ZVNvdXJjZUJ1ZmZlcnNfKSksZS5wbGF5ZXJfLm9uKCJtZWRpYWNoYW5nZSIsZS5vblBsYXllck1lZGlhY2hhbmdlXykpfSksdGhpcy5vbigic291cmNlZW5kZWQiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0oMCx5LmR1cmF0aW9uT2ZWaWRlbykoZS5kdXJhdGlvbiksbj0wO248ZS5zb3VyY2VCdWZmZXJzLmxlbmd0aDtuKyspe3ZhciByPWUuc291cmNlQnVmZmVyc1tuXSxhPXIubWV0YWRhdGFUcmFja18mJnIubWV0YWRhdGFUcmFja18uY3VlczthJiZhLmxlbmd0aCYmKGFbYS5sZW5ndGgtMV0uZW5kVGltZT1pKX19KSx0aGlzLm9uKCJzb3VyY2VjbG9zZSIsZnVuY3Rpb24oZSl7dGhpcy5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50cmFuc211eGVyXyYmZS50cmFuc211eGVyXy50ZXJtaW5hdGUoKX0pLHRoaXMuc291cmNlQnVmZmVycy5sZW5ndGg9MCx0aGlzLnBsYXllcl8mJih0aGlzLnBsYXllcl8uYXVkaW9UcmFja3MmJnRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpJiYodGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCkub2ZmKCJjaGFuZ2UiLHRoaXMudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pLHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9mZigiYWRkdHJhY2siLHRoaXMudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pLHRoaXMucGxheWVyXy5hdWRpb1RyYWNrcygpLm9mZigicmVtb3ZldHJhY2siLHRoaXMudXBkYXRlQWN0aXZlU291cmNlQnVmZmVyc18pKSx0aGlzLnBsYXllcl8uZWxfJiYodGhpcy5wbGF5ZXJfLm9mZigibWVkaWFjaGFuZ2UiLHRoaXMub25QbGF5ZXJNZWRpYWNoYW5nZV8pLHRoaXMucGxheWVyXy50ZWNoXy5vZmYoImhscy1yZXNldCIsdGhpcy5vbkhsc1Jlc2V0XyksdGhpcy5wbGF5ZXJfLnRlY2hfLm9mZigiaGxzLXNlZ21lbnQtdGltZS1tYXBwaW5nIix0aGlzLm9uSGxzU2VnbWVudFRpbWVNYXBwaW5nXykpKX0pfXJldHVybiBzKHQsZSksbyh0LFt7a2V5OiJhZGRTZWVrYWJsZVJhbmdlXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT11bmRlZmluZWQ7aWYodGhpcy5kdXJhdGlvbiE9PUluZmluaXR5KXRocm93IGk9bmV3IEVycm9yKCJNZWRpYVNvdXJjZS5hZGRTZWVrYWJsZVJhbmdlKCkgY2FuIG9ubHkgYmUgaW52b2tlZCB3aGVuIHRoZSBkdXJhdGlvbiBpcyBJbmZpbml0eSIpLGkubmFtZT0iSW52YWxpZFN0YXRlRXJyb3IiLGkuY29kZT0xMSxpOyh0PnRoaXMubmF0aXZlTWVkaWFTb3VyY2VfLmR1cmF0aW9ufHxpc05hTih0aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5kdXJhdGlvbikpJiYodGhpcy5uYXRpdmVNZWRpYVNvdXJjZV8uZHVyYXRpb249dCl9fSx7a2V5OiJhZGRTb3VyY2VCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXVuZGVmaW5lZCxpPSgwLF8ucGFyc2VDb250ZW50VHlwZSkoZSk7aWYoL14odmlkZW98YXVkaW8pXC9tcDJ0JC9pLnRlc3QoaS50eXBlKSl7dmFyIG49W107aS5wYXJhbWV0ZXJzJiZpLnBhcmFtZXRlcnMuY29kZWNzJiYobj1pLnBhcmFtZXRlcnMuY29kZWNzLnNwbGl0KCIsIiksbj0oMCxfLnRyYW5zbGF0ZUxlZ2FjeUNvZGVjcykobiksbj1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4oMCxfLmlzQXVkaW9Db2RlYykoZSl8fCgwLF8uaXNWaWRlb0NvZGVjKShlKX0pKSwwPT09bi5sZW5ndGgmJihuPVsiYXZjMS40ZDQwMGQiLCJtcDRhLjQwLjIiXSksdD1uZXcgZ1siZGVmYXVsdCJdKHRoaXMsbiksMCE9PXRoaXMuc291cmNlQnVmZmVycy5sZW5ndGgmJih0aGlzLnNvdXJjZUJ1ZmZlcnNbMF0uY3JlYXRlUmVhbFNvdXJjZUJ1ZmZlcnNfKCksdC5jcmVhdGVSZWFsU291cmNlQnVmZmVyc18oKSx0aGlzLnNvdXJjZUJ1ZmZlcnNbMF0uYXVkaW9EaXNhYmxlZF89ITApfWVsc2UgdD10aGlzLm5hdGl2ZU1lZGlhU291cmNlXy5hZGRTb3VyY2VCdWZmZXIoZSk7cmV0dXJuIHRoaXMuc291cmNlQnVmZmVycy5wdXNoKHQpLHR9fV0pLHR9KHBbImRlZmF1bHQiXS5FdmVudFRhcmdldCk7aVsiZGVmYXVsdCJdPXYsdC5leHBvcnRzPWlbImRlZmF1bHQiXX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDcyOltmdW5jdGlvbihlLHQsaSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlLHQsaSl7dmFyIG49dW5kZWZpbmVkLHI9dW5kZWZpbmVkO2lmKGkmJmkuY3Vlcylmb3Iobj1pLmN1ZXMubGVuZ3RoO24tLTspcj1pLmN1ZXNbbl0sci5zdGFydFRpbWU8PXQmJnIuZW5kVGltZT49ZSYmaS5yZW1vdmVDdWUocil9O2lbImRlZmF1bHQiXT1uLHQuZXhwb3J0cz1pWyJkZWZhdWx0Il19LHt9XSw3MzpbZnVuY3Rpb24oZSx0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCkscz1lKDMyKSxvPW4ocyksdT1lKDU1KSxkPW4odSksbD1mdW5jdGlvbihlKXtlLm9uKCJkYXRhIixmdW5jdGlvbihlKXt2YXIgdD1lLmluaXRTZWdtZW50O2UuaW5pdFNlZ21lbnQ9e2RhdGE6dC5idWZmZXIsYnl0ZU9mZnNldDp0LmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDp0LmJ5dGVMZW5ndGh9O3ZhciBpPWUuZGF0YTtlLmRhdGE9aS5idWZmZXIsb1siZGVmYXVsdCJdLnBvc3RNZXNzYWdlKHthY3Rpb246ImRhdGEiLHNlZ21lbnQ6ZSxieXRlT2Zmc2V0OmkuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOmkuYnl0ZUxlbmd0aH0sW2UuZGF0YV0pfSksZS5jYXB0aW9uU3RyZWFtJiZlLmNhcHRpb25TdHJlYW0ub24oImRhdGEiLGZ1bmN0aW9uKGUpe29bImRlZmF1bHQiXS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJjYXB0aW9uIixkYXRhOmV9KX0pLGUub24oImRvbmUiLGZ1bmN0aW9uKGUpe29bImRlZmF1bHQiXS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkb25lIn0pfSksZS5vbigiZ29wSW5mbyIsZnVuY3Rpb24oZSl7b1siZGVmYXVsdCJdLnBvc3RNZXNzYWdlKHthY3Rpb246ImdvcEluZm8iLGdvcEluZm86ZX0pfSl9LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3IodGhpcyxlKSx0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5pbml0KCl9cmV0dXJuIGEoZSxbe2tleToiaW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbXV4ZXImJnRoaXMudHJhbnNtdXhlci5kaXNwb3NlKCksdGhpcy50cmFuc211eGVyPW5ldyBkWyJkZWZhdWx0Il0uVHJhbnNtdXhlcih0aGlzLm9wdGlvbnMpLGwodGhpcy50cmFuc211eGVyKX19LHtrZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUuZGF0YSxlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKTt0aGlzLnRyYW5zbXV4ZXIucHVzaCh0KX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5pdCgpfX0se2tleToic2V0VGltZXN0YW1wT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRpbWVzdGFtcE9mZnNldHx8MDt0aGlzLnRyYW5zbXV4ZXIuc2V0QmFzZU1lZGlhRGVjb2RlVGltZShNYXRoLnJvdW5kKDllNCp0KSl9fSx7a2V5OiJzZXRBdWRpb0FwcGVuZFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRyYW5zbXV4ZXIuc2V0QXVkaW9BcHBlbmRTdGFydChNYXRoLmNlaWwoOWU0KmUuYXBwZW5kU3RhcnQpKX19LHtrZXk6ImZsdXNoIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRyYW5zbXV4ZXIuZmx1c2goKX19LHtrZXk6InJlc2V0Q2FwdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc211eGVyLnJlc2V0Q2FwdGlvbnMoKX19LHtrZXk6ImFsaWduR29wc1dpdGgiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudHJhbnNtdXhlci5hbGlnbkdvcHNXaXRoKGUuZ29wc1RvQWxpZ25XaXRoLnNsaWNlKCkpfX1dKSxlfSgpLGM9ZnVuY3Rpb24oZSl7ZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoImluaXQiPT09ZS5kYXRhLmFjdGlvbiYmZS5kYXRhLm9wdGlvbnMpcmV0dXJuIHZvaWQodGhpcy5tZXNzYWdlSGFuZGxlcnM9bmV3IGYoZS5kYXRhLm9wdGlvbnMpKTt0aGlzLm1lc3NhZ2VIYW5kbGVyc3x8KHRoaXMubWVzc2FnZUhhbmRsZXJzPW5ldyBmKSxlLmRhdGEmJmUuZGF0YS5hY3Rpb24mJiJpbml0IiE9PWUuZGF0YS5hY3Rpb24mJnRoaXMubWVzc2FnZUhhbmRsZXJzW2UuZGF0YS5hY3Rpb25dJiZ0aGlzLm1lc3NhZ2VIYW5kbGVyc1tlLmRhdGEuYWN0aW9uXShlLmRhdGEpfX07aVsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYyhlKX0sdC5leHBvcnRzPWlbImRlZmF1bHQiXX0se31dLDc0OltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1lKDMyKSxhPW4ocikscz1lKDY4KSxvPW4ocyksdT1lKDcxKSxkPW4odSksbD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cudmlkZW9qczp2b2lkIDAhPT10P3QudmlkZW9qczpudWxsLGY9bihsKSxjPTAsaD17bW9kZToiYXV0byJ9O2ZbImRlZmF1bHQiXS5tZWRpYVNvdXJjZXM9e307dmFyIHA9ZnVuY3Rpb24oZSx0KXt2YXIgaT1mWyJkZWZhdWx0Il0ubWVkaWFTb3VyY2VzW2VdO2lmKCFpKXRocm93IG5ldyBFcnJvcigiTWVkaWEgU291cmNlIG5vdCBmb3VuZCAoVmlkZW8uanMpIik7aS50cmlnZ2VyKHt0eXBlOiJzb3VyY2VvcGVuIixzd2ZJZDp0fSl9LG09ZnVuY3Rpb24oKXtyZXR1cm4hIWFbImRlZmF1bHQiXS5NZWRpYVNvdXJjZSYmISFhWyJkZWZhdWx0Il0uTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkJiZhWyJkZWZhdWx0Il0uTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7Y29kZWNzPSJhdmMxLjRkNDAwZCxtcDRhLjQwLjIiJyl9LGc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZlsiZGVmYXVsdCJdLm1lcmdlT3B0aW9ucyhoLGUpO2lmKHRoaXMuTWVkaWFTb3VyY2U9e29wZW46cCxzdXBwb3J0c05hdGl2ZU1lZGlhU291cmNlczptfSwiaHRtbDUiPT09dC5tb2RlfHwiYXV0byI9PT10Lm1vZGUmJm0oKSlyZXR1cm4gbmV3IGRbImRlZmF1bHQiXTtpZihmWyJkZWZhdWx0Il0uZ2V0VGVjaCgiRmxhc2giKSlyZXR1cm4gbmV3IG9bImRlZmF1bHQiXTt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCB1c2UgRmxhc2ggb3IgSHRtbDUgdG8gY3JlYXRlIGEgTWVkaWFTb3VyY2UgZm9yIHRoaXMgdmlkZW8iKX07aS5NZWRpYVNvdXJjZT1nLGcub3Blbj1wLGcuc3VwcG9ydHNOYXRpdmVNZWRpYVNvdXJjZXM9bTt2YXIgeT17Y3JlYXRlT2JqZWN0VVJMOmZ1bmN0aW9uKGUpe3ZhciB0PXVuZGVmaW5lZDtyZXR1cm4gZSBpbnN0YW5jZW9mIGRbImRlZmF1bHQiXT8odD1hWyJkZWZhdWx0Il0uVVJMLmNyZWF0ZU9iamVjdFVSTChlLm5hdGl2ZU1lZGlhU291cmNlXyksZS51cmxfPXQsdCk6ZSBpbnN0YW5jZW9mIG9bImRlZmF1bHQiXT8odD0iYmxvYjp2anMtbWVkaWEtc291cmNlLyIrYyxjKyssZlsiZGVmYXVsdCJdLm1lZGlhU291cmNlc1t0XT1lLHQpOih0PWFbImRlZmF1bHQiXS5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLGUudXJsXz10LHQpfX07aS5VUkw9eSxmWyJkZWZhdWx0Il0uTWVkaWFTb3VyY2U9ZyxmWyJkZWZhdWx0Il0uVVJMPXl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3NTpbZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gYShlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGksbil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksbiYmZSh0LG4pLHR9fSgpLG89ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj0hMDtuOyl7dmFyIHI9ZSxhPXQscz1pO249ITEsbnVsbD09PXImJihyPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGEpO2lmKG8hPT11bmRlZmluZWQpe2lmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciB1PW8uZ2V0O3JldHVybiB1PT09dW5kZWZpbmVkP3VuZGVmaW5lZDp1LmNhbGwocyl9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpO2lmKG51bGw9PT1kKXJldHVybiB1bmRlZmluZWQ7ZT1kLHQ9YSxpPXMsbj0hMCxvPWQ9dW5kZWZpbmVkfX0sdT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cudmlkZW9qczp2b2lkIDAhPT10P3QudmlkZW9qczpudWxsLGQ9bih1KSxsPWUoNjYpLGY9bihsKSxjPWUoNzIpLGg9bihjKSxwPWUoNjQpLG09ZSg3NiksZz1uKG0pLHk9ZSg3MyksXz1uKHkpLHY9ZSg2NSksYj1mdW5jdGlvbigpe3ZhciB0PXVuZGVmaW5lZDt0cnl7dD1lLnJlc29sdmUoIi4vdHJhbnNtdXhlci13b3JrZXIiKX1jYXRjaChpKXt9cmV0dXJuIHR9LFQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmFkZFNvdXJjZUJ1ZmZlcih0KSxuPU9iamVjdC5jcmVhdGUobnVsbCk7bi51cGRhdGluZz0hMSxuLnJlYWxCdWZmZXJfPWk7Zm9yKHZhciByIGluIGkpIWZ1bmN0aW9uKGUpeyJmdW5jdGlvbiI9PXR5cGVvZiBpW2VdP25bZV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtlXS5hcHBseShpLGFyZ3VtZW50cyl9OiJ1bmRlZmluZWQiPT10eXBlb2YgbltlXSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sZSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlbZV19LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gaVtlXT10fX0pfShyKTtyZXR1cm4gbn0sUz1mdW5jdGlvbihlLHQsaSl7aWYoIXR8fCFlLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1NYXRoLmNlaWwoOWU0Kih0LmN1cnJlbnRUaW1lKCktaSszKSkscj11bmRlZmluZWQ7Zm9yKHI9MDtyPGUubGVuZ3RoJiYhKGVbcl0ucHRzPm4pO3IrKyk7cmV0dXJuIGUuc2xpY2Uocil9O2kuZ29wc1NhZmVUb0FsaWduV2l0aD1TO3ZhciB3PWZ1bmN0aW9uKGUsdCxpKXtpZighdC5sZW5ndGgpcmV0dXJuIGU7aWYoaSlyZXR1cm4gdC5zbGljZSgpO3ZhciBuPXRbMF0ucHRzLHI9MDtmb3IocjtyPGUubGVuZ3RoJiYhKGVbcl0ucHRzPj1uKTtyKyspO3JldHVybiBlLnNsaWNlKDAscikuY29uY2F0KHQpfTtpLnVwZGF0ZUdvcEJ1ZmZlcj13O3ZhciBrPWZ1bmN0aW9uKGUsdCxpLG4pe2Zvcih2YXIgcj1NYXRoLmNlaWwoOWU0Kih0LW4pKSxhPU1hdGguY2VpbCg5ZTQqKGktbikpLHM9ZS5zbGljZSgpLG89ZS5sZW5ndGg7by0tJiYhKGVbb10ucHRzPD1hKTspO2lmKC0xPT09bylyZXR1cm4gcztmb3IodmFyIHU9bysxO3UtLSYmIShlW3VdLnB0czw9cik7KTtyZXR1cm4gdT1NYXRoLm1heCh1LDApLHMuc3BsaWNlKHUsby11KzEpLHN9O2kucmVtb3ZlR29wQnVmZmVyPWs7dmFyIE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLGkpe3ZhciBuPXRoaXM7cih0aGlzLHQpLG8oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxkWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpLHRoaXMudGltZXN0YW1wT2Zmc2V0Xz0wLHRoaXMucGVuZGluZ0J1ZmZlcnNfPVtdLHRoaXMuYnVmZmVyVXBkYXRpbmdfPSExLHRoaXMubWVkaWFTb3VyY2VfPWUsdGhpcy5jb2RlY3NfPWksdGhpcy5hdWRpb0NvZGVjXz1udWxsLHRoaXMudmlkZW9Db2RlY189bnVsbCx0aGlzLmF1ZGlvRGlzYWJsZWRfPSExLHRoaXMuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF89ITAsdGhpcy5nb3BCdWZmZXJfPVtdLHRoaXMudGltZU1hcHBpbmdfPTAsdGhpcy5zYWZlQXBwZW5kXz1kWyJkZWZhdWx0Il0uYnJvd3Nlci5JRV9WRVJTSU9OPj0xMTt2YXIgYT17cmVtdXg6ITEsYWxpZ25Hb3BzQXRFbmQ6dGhpcy5zYWZlQXBwZW5kX307dGhpcy5jb2RlY3NfLmZvckVhY2goZnVuY3Rpb24oZSl7KDAsdi5pc0F1ZGlvQ29kZWMpKGUpP24uYXVkaW9Db2RlY189ZTooMCx2LmlzVmlkZW9Db2RlYykoZSkmJihuLnZpZGVvQ29kZWNfPWUpfSksdGhpcy50cmFuc211eGVyXz0oMCxnWyJkZWZhdWx0Il0pKF9bImRlZmF1bHQiXSxiKCkpLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdCIsb3B0aW9uczphfSksdGhpcy50cmFuc211eGVyXy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiPT09ZS5kYXRhLmFjdGlvbj9uLmRhdGFfKGUpOiJkb25lIj09PWUuZGF0YS5hY3Rpb24/bi5kb25lXyhlKToiZ29wSW5mbyI9PT1lLmRhdGEuYWN0aW9uP24uYXBwZW5kR29wSW5mb18oZSk6dm9pZCAwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywidGltZXN0YW1wT2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZXN0YW1wT2Zmc2V0X30sc2V0OmZ1bmN0aW9uKGUpeyJudW1iZXIiPT10eXBlb2YgZSYmZT49MCYmKHRoaXMudGltZXN0YW1wT2Zmc2V0Xz1lLHRoaXMuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF89ITAsdGhpcy5nb3BCdWZmZXJfLmxlbmd0aD0wLHRoaXMudGltZU1hcHBpbmdfPTAsdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzZXRUaW1lc3RhbXBPZmZzZXQiLHRpbWVzdGFtcE9mZnNldDplfSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJhcHBlbmRXaW5kb3dTdGFydCIse2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLnZpZGVvQnVmZmVyX3x8dGhpcy5hdWRpb0J1ZmZlcl8pLmFwcGVuZFdpbmRvd1N0YXJ0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy52aWRlb0J1ZmZlcl8mJih0aGlzLnZpZGVvQnVmZmVyXy5hcHBlbmRXaW5kb3dTdGFydD1lKSx0aGlzLmF1ZGlvQnVmZmVyXyYmKHRoaXMuYXVkaW9CdWZmZXJfLmFwcGVuZFdpbmRvd1N0YXJ0PWUpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJ1cGRhdGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiEhKHRoaXMuYnVmZmVyVXBkYXRpbmdffHwhdGhpcy5hdWRpb0Rpc2FibGVkXyYmdGhpcy5hdWRpb0J1ZmZlcl8mJnRoaXMuYXVkaW9CdWZmZXJfLnVwZGF0aW5nfHx0aGlzLnZpZGVvQnVmZmVyXyYmdGhpcy52aWRlb0J1ZmZlcl8udXBkYXRpbmcpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJidWZmZXJlZCIse2dldDpmdW5jdGlvbigpe3ZhciBlPW51bGwsdD1udWxsLGk9MCxuPVtdLHI9W107aWYoIXRoaXMudmlkZW9CdWZmZXJfJiYhdGhpcy5hdWRpb0J1ZmZlcl8pcmV0dXJuIGRbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2UoKTtpZighdGhpcy52aWRlb0J1ZmZlcl8pcmV0dXJuIHRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkO2lmKCF0aGlzLmF1ZGlvQnVmZmVyXylyZXR1cm4gdGhpcy52aWRlb0J1ZmZlcl8uYnVmZmVyZWQ7aWYodGhpcy5hdWRpb0Rpc2FibGVkXylyZXR1cm4gdGhpcy52aWRlb0J1ZmZlcl8uYnVmZmVyZWQ7aWYoMD09PXRoaXMudmlkZW9CdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aCYmMD09PXRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aClyZXR1cm4gZFsiZGVmYXVsdCJdLmNyZWF0ZVRpbWVSYW5nZSgpO2Zvcih2YXIgYT10aGlzLnZpZGVvQnVmZmVyXy5idWZmZXJlZCxzPXRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkLG89YS5sZW5ndGg7by0tOyluLnB1c2goe3RpbWU6YS5zdGFydChvKSx0eXBlOiJzdGFydCJ9KSxuLnB1c2goe3RpbWU6YS5lbmQobyksdHlwZToiZW5kIn0pO2ZvcihvPXMubGVuZ3RoO28tLTspbi5wdXNoKHt0aW1lOnMuc3RhcnQobyksdHlwZToic3RhcnQifSksbi5wdXNoKHt0aW1lOnMuZW5kKG8pLHR5cGU6ImVuZCJ9KTtmb3Iobi5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGltZS10LnRpbWV9KSxvPTA7bzxuLmxlbmd0aDtvKyspInN0YXJ0Ij09PW5bb10udHlwZT8yPT09KytpJiYoZT1uW29dLnRpbWUpOiJlbmQiPT09bltvXS50eXBlJiYxPT09LS1pJiYodD1uW29dLnRpbWUpLG51bGwhPT1lJiZudWxsIT09dCYmKHIucHVzaChbZSx0XSksZT1udWxsLHQ9bnVsbCk7cmV0dXJuIGRbImRlZmF1bHQiXS5jcmVhdGVUaW1lUmFuZ2VzKHIpfX0pfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OiJkYXRhXyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLnNlZ21lbnQ7dC5kYXRhPW5ldyBVaW50OEFycmF5KHQuZGF0YSxlLmRhdGEuYnl0ZU9mZnNldCxlLmRhdGEuYnl0ZUxlbmd0aCksdC5pbml0U2VnbWVudD1uZXcgVWludDhBcnJheSh0LmluaXRTZWdtZW50LmRhdGEsdC5pbml0U2VnbWVudC5ieXRlT2Zmc2V0LHQuaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCksKDAsZlsiZGVmYXVsdCJdKSh0aGlzLHRoaXMubWVkaWFTb3VyY2VfLHQpLHRoaXMucGVuZGluZ0J1ZmZlcnNfLnB1c2godCl9fSx7a2V5OiJkb25lXyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoImNsb3NlZCI9PT10aGlzLm1lZGlhU291cmNlXy5yZWFkeVN0YXRlKXJldHVybiB2b2lkKHRoaXMucGVuZGluZ0J1ZmZlcnNfLmxlbmd0aD0wKTt0aGlzLnByb2Nlc3NQZW5kaW5nU2VnbWVudHNfKCl9fSx7a2V5OiJjcmVhdGVSZWFsU291cmNlQnVmZmVyc18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVsiYXVkaW8iLCJ2aWRlbyJdO3QuZm9yRWFjaChmdW5jdGlvbihpKXtpZihlW2krIkNvZGVjXyJdJiYhZVtpKyJCdWZmZXJfIl0pe3ZhciBuPW51bGw7aWYoZS5tZWRpYVNvdXJjZV9baSsiQnVmZmVyXyJdKW49ZS5tZWRpYVNvdXJjZV9baSsiQnVmZmVyXyJdLG4udXBkYXRpbmc9ITE7ZWxzZXt2YXIgcj1pKyJDb2RlY18iLGE9aSsnL21wNDtjb2RlY3M9IicrZVtyXSsnIic7bj1UKGUubWVkaWFTb3VyY2VfLm5hdGl2ZU1lZGlhU291cmNlXyxhKSxlLm1lZGlhU291cmNlX1tpKyJCdWZmZXJfIl09bn1lW2krIkJ1ZmZlcl8iXT1uLFsidXBkYXRlIiwidXBkYXRlc3RhcnQiLCJ1cGRhdGVlbmQiXS5mb3JFYWNoKGZ1bmN0aW9uKHIpe24uYWRkRXZlbnRMaXN0ZW5lcihyLGZ1bmN0aW9uKCl7aWYoImF1ZGlvIiE9PWl8fCFlLmF1ZGlvRGlzYWJsZWRfKXsidXBkYXRlZW5kIj09PXImJihlW2krIkJ1ZmZlcl8iXS51cGRhdGluZz0hMSk7cmV0dXJuIHQuZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuISgiYXVkaW8iIT09dHx8IWUuYXVkaW9EaXNhYmxlZF8pfHwoaT09PXR8fCFlW3QrIkJ1ZmZlcl8iXXx8IWVbdCsiQnVmZmVyXyJdLnVwZGF0aW5nKX0pP2UudHJpZ2dlcihyKTp2b2lkIDB9fSl9KX19KX19LHtrZXk6ImFwcGVuZEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5idWZmZXJVcGRhdGluZ189ITAsdGhpcy5hdWRpb0J1ZmZlcl8mJnRoaXMuYXVkaW9CdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aCl7dmFyIHQ9dGhpcy5hdWRpb0J1ZmZlcl8uYnVmZmVyZWQ7dGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzZXRBdWRpb0FwcGVuZFN0YXJ0IixhcHBlbmRTdGFydDp0LmVuZCh0Lmxlbmd0aC0xKX0pfXRoaXMudmlkZW9CdWZmZXJfJiZ0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246ImFsaWduR29wc1dpdGgiLGdvcHNUb0FsaWduV2l0aDpTKHRoaXMuZ29wQnVmZmVyXyx0aGlzLm1lZGlhU291cmNlXy5wbGF5ZXJfLHRoaXMudGltZU1hcHBpbmdfKX0pLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicHVzaCIsZGF0YTplLmJ1ZmZlcixieXRlT2Zmc2V0OmUuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOmUuYnl0ZUxlbmd0aH0sW2UuYnVmZmVyXSksdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOiJmbHVzaCJ9KX19LHtrZXk6ImFwcGVuZEdvcEluZm9fIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdvcEJ1ZmZlcl89dyh0aGlzLmdvcEJ1ZmZlcl8sZS5kYXRhLmdvcEluZm8sdGhpcy5zYWZlQXBwZW5kXyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy52aWRlb0J1ZmZlcl8mJih0aGlzLnZpZGVvQnVmZmVyXy51cGRhdGluZz0hMCx0aGlzLnZpZGVvQnVmZmVyXy5yZW1vdmUoZSx0KSx0aGlzLmdvcEJ1ZmZlcl89ayh0aGlzLmdvcEJ1ZmZlcl8sZSx0LHRoaXMudGltZU1hcHBpbmdfKSksIXRoaXMuYXVkaW9EaXNhYmxlZF8mJnRoaXMuYXVkaW9CdWZmZXJfJiYodGhpcy5hdWRpb0J1ZmZlcl8udXBkYXRpbmc9ITAsdGhpcy5hdWRpb0J1ZmZlcl8ucmVtb3ZlKGUsdCkpLCgwLGhbImRlZmF1bHQiXSkoZSx0LHRoaXMubWV0YWRhdGFUcmFja18pLHRoaXMuaW5iYW5kVGV4dFRyYWNrc18pZm9yKHZhciBpIGluIHRoaXMuaW5iYW5kVGV4dFRyYWNrc18pKDAsaFsiZGVmYXVsdCJdKShlLHQsdGhpcy5pbmJhbmRUZXh0VHJhY2tzX1tpXSl9fSx7a2V5OiJwcm9jZXNzUGVuZGluZ1NlZ21lbnRzXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17dmlkZW86e3NlZ21lbnRzOltdLGJ5dGVzOjB9LGF1ZGlvOntzZWdtZW50czpbXSxieXRlczowfSxjYXB0aW9uczpbXSxtZXRhZGF0YTpbXX07ZT10aGlzLnBlbmRpbmdCdWZmZXJzXy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgaT10LnR5cGUsbj10LmRhdGEscj10LmluaXRTZWdtZW50O3JldHVybiBlW2ldLnNlZ21lbnRzLnB1c2gobiksZVtpXS5ieXRlcys9bi5ieXRlTGVuZ3RoLGVbaV0uaW5pdFNlZ21lbnQ9cix0LmNhcHRpb25zJiYoZS5jYXB0aW9ucz1lLmNhcHRpb25zLmNvbmNhdCh0LmNhcHRpb25zKSksdC5pbmZvJiYoZVtpXS5pbmZvPXQuaW5mbyksdC5tZXRhZGF0YSYmKGUubWV0YWRhdGE9ZS5tZXRhZGF0YS5jb25jYXQodC5tZXRhZGF0YSkpLGV9LGUpLHRoaXMudmlkZW9CdWZmZXJffHx0aGlzLmF1ZGlvQnVmZmVyX3x8KDA9PT1lLnZpZGVvLmJ5dGVzJiYodGhpcy52aWRlb0NvZGVjXz1udWxsKSwwPT09ZS5hdWRpby5ieXRlcyYmKHRoaXMuYXVkaW9Db2RlY189bnVsbCksdGhpcy5jcmVhdGVSZWFsU291cmNlQnVmZmVyc18oKSksZS5hdWRpby5pbmZvJiZ0aGlzLm1lZGlhU291cmNlXy50cmlnZ2VyKHt0eXBlOiJhdWRpb2luZm8iLGluZm86ZS5hdWRpby5pbmZvfSksZS52aWRlby5pbmZvJiZ0aGlzLm1lZGlhU291cmNlXy50cmlnZ2VyKHt0eXBlOiJ2aWRlb2luZm8iLGluZm86ZS52aWRlby5pbmZvfSksdGhpcy5hcHBlbmRBdWRpb0luaXRTZWdtZW50XyYmKCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmKGUuYXVkaW8uc2VnbWVudHMudW5zaGlmdChlLmF1ZGlvLmluaXRTZWdtZW50KSxlLmF1ZGlvLmJ5dGVzKz1lLmF1ZGlvLmluaXRTZWdtZW50LmJ5dGVMZW5ndGgpLHRoaXMuYXBwZW5kQXVkaW9Jbml0U2VnbWVudF89ITEpO3ZhciB0PSExO3RoaXMudmlkZW9CdWZmZXJfJiZlLnZpZGVvLmJ5dGVzPyhlLnZpZGVvLnNlZ21lbnRzLnVuc2hpZnQoZS52aWRlby5pbml0U2VnbWVudCksZS52aWRlby5ieXRlcys9ZS52aWRlby5pbml0U2VnbWVudC5ieXRlTGVuZ3RoLHRoaXMuY29uY2F0QW5kQXBwZW5kU2VnbWVudHNfKGUudmlkZW8sdGhpcy52aWRlb0J1ZmZlcl8pLCgwLHAuYWRkVGV4dFRyYWNrRGF0YSkodGhpcyxlLmNhcHRpb25zLGUubWV0YWRhdGEpKTohdGhpcy52aWRlb0J1ZmZlcl98fCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyX3x8KHQ9ITApLCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmdGhpcy5jb25jYXRBbmRBcHBlbmRTZWdtZW50c18oZS5hdWRpbyx0aGlzLmF1ZGlvQnVmZmVyXyksdGhpcy5wZW5kaW5nQnVmZmVyc18ubGVuZ3RoPTAsdCYmdGhpcy50cmlnZ2VyKCJ1cGRhdGVlbmQiKSx0aGlzLmJ1ZmZlclVwZGF0aW5nXz0hMX19LHtrZXk6ImNvbmNhdEFuZEFwcGVuZFNlZ21lbnRzXyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT0wLG49dW5kZWZpbmVkO2lmKGUuYnl0ZXMpe249bmV3IFVpbnQ4QXJyYXkoZS5ieXRlcyksZS5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc2V0KGUsaSksaSs9ZS5ieXRlTGVuZ3RofSk7dHJ5e3QudXBkYXRpbmc9ITAsdC5hcHBlbmRCdWZmZXIobil9Y2F0Y2gocil7dGhpcy5tZWRpYVNvdXJjZV8ucGxheWVyXyYmdGhpcy5tZWRpYVNvdXJjZV8ucGxheWVyXy5lcnJvcih7Y29kZTotMyx0eXBlOiJBUFBFTkRfQlVGRkVSX0VSUiIsbWVzc2FnZTpyLm1lc3NhZ2Usb3JpZ2luYWxFcnJvcjpyfSl9fX19LHtrZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlkZW9CdWZmZXJfJiZ0aGlzLnZpZGVvQnVmZmVyXy5hYm9ydCgpLCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZ0aGlzLmF1ZGlvQnVmZmVyXyYmdGhpcy5hdWRpb0J1ZmZlcl8uYWJvcnQoKSx0aGlzLnRyYW5zbXV4ZXJfJiZ0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc2V0In0pLHRoaXMucGVuZGluZ0J1ZmZlcnNfLmxlbmd0aD0wLHRoaXMuYnVmZmVyVXBkYXRpbmdfPSExfX1dKSx0fShkWyJkZWZhdWx0Il0uRXZlbnRUYXJnZXQpO2lbImRlZmF1bHQiXT1PfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNzY6W2Z1bmN0aW9uKGUsdCxpKXt2YXIgbj1hcmd1bWVudHNbM10scj1hcmd1bWVudHNbNF0sYT1hcmd1bWVudHNbNV0scz1KU09OLnN0cmluZ2lmeSxvPSExLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXtpZihpW25dKXJldHVybiBpW25dLmV4cG9ydHM7dmFyIHI9aVtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsdCksci5sPSEwLHIuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gdC5tPWUsdC5jPWksdC5kPWZ1bmN0aW9uKGUsaSxuKXt0Lm8oZSxpKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBpPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlWyJkZWZhdWx0Il19OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQoaSwiYSIsaSksaX0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9IiIsdCh0LnM9ZW50cnlNb2R1bGUpfTt2b2lkIDA9PT1uJiYobz0hMCxuPXUscj1fX3dlYnBhY2tfbW9kdWxlc19fKTt2YXIgZD1mdW5jdGlvbihlKXtmb3IodmFyIHQsaT1PYmplY3Qua2V5cyhhKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciB1PWlbb10sZD1hW3VdLmV4cG9ydHM7aWYoZD09PWV8fGQmJmRbImRlZmF1bHQiXT09PWUpe3Q9dTticmVha319aWYoIXQpe3Q9TWF0aC5mbG9vcihNYXRoLnBvdygxNiw4KSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7Zm9yKHZhciBsPXt9LG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHU9aVtvXTtsW3VdPXV9clt0XT1bImZ1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpeyIrZSsiKHNlbGYpOyB9IixsXX12YXIgZj1NYXRoLmZsb29yKE1hdGgucG93KDE2LDgpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDE2KSxjPXt9O3JldHVybiBjW3RdPXQscltmXT1bImZ1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe3ZhciBmID0gcmVxdWlyZSgiK3ModCkrIik7KGYuZGVmYXVsdCA/IGYuZGVmYXVsdCA6IGYpKHNlbGYpO30iLGNdLCIoIituKyIpKHsiK09iamVjdC5rZXlzKHIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKSsiOlsiK3JbZV1bMF0rIiwiK3MocltlXVsxXSkrIl0ifSkuam9pbigiLCIpKyJ9LHt9LFsiK3MoZikrIl0pIn0sbD1mdW5jdGlvbihlLHQpe3ZhciBpLGE9InN0cmluZyI9PXR5cGVvZiB0O2k9YT97fTpbXSxPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZV0mJihpW2VdPXJbZV0udG9TdHJpbmcoKSl9KTt2YXIgbz1fX3dlYnBhY2tfcmVxdWlyZV9fKHQpO2lmKCFvfHxvIT09ZSYmb1siZGVmYXVsdCJdIT09ZSl7dmFyIHU9aVt0XTtpW3RdPXUuc3Vic3RyaW5nKDAsdS5sZW5ndGgtMSkrIlxuIitlLm5hbWUrIigpO1xufSJ9dmFyIGQ7aWYoYSl7dD1zKHQpO2Q9InsiK09iamVjdC5rZXlzKGkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcyhlKSsiOiIraVtlXX0pLmpvaW4oIiwiKSsifSJ9ZWxzZSBkPSJbIitpLmpvaW4oIiwiKSsiXSI7cmV0dXJuInZhciBmbiA9ICgiK24udG9TdHJpbmcoKS5yZXBsYWNlKCJlbnRyeU1vZHVsZSIsdCkrIikoIitkKycpO1xuKHR5cGVvZiBmbiA9PT0gImZ1bmN0aW9uIikgJiYgZm4oc2VsZik7J307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIGk7aT1vP2woZSx0KTpkKGUpO3ZhciBuPW5ldyBCbG9iKFtpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pLHI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTHx8d2luZG93Lm1velVSTHx8d2luZG93Lm1zVVJMLGE9ci5jcmVhdGVPYmplY3RVUkwobikscz1uZXcgV29ya2VyKGEpO3JldHVybiBzLm9iamVjdFVSTD1hLHN9fSx7fV0sNzc6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGksbil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksbiYmZSh0LG4pLHR9fSgpLG89ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj0hMDtuOyl7dmFyIHI9ZSxhPXQscz1pO249ITEsbnVsbD09PXImJihyPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGEpO2lmKG8hPT11bmRlZmluZWQpe2lmKCJ2YWx1ZSJpbiBvKXJldHVybiBvLnZhbHVlO3ZhciB1PW8uZ2V0O3JldHVybiB1PT09dW5kZWZpbmVkP3VuZGVmaW5lZDp1LmNhbGwocyl9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpO2lmKG51bGw9PT1kKXJldHVybiB1bmRlZmluZWQ7ZT1kLHQ9YSxpPXMsbj0hMCxvPWQ9dW5kZWZpbmVkfX0sdT1lKDMxKSxkPW4odSksbD1lKDkpLGY9bihsKSxjPWUoMTEpLGg9bihjKSxwPWUoMjEpLG09bihwKSxnPWUoMjUpLHk9ZSgyKSxfPW4oeSksdj1lKDc0KSxiPWUoMzMpLFQ9bihiKSxTPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdy52aWRlb2pzOnZvaWQgMCE9PWk/aS52aWRlb2pzOm51bGwsdz1uKFMpLGs9ZSg1KSxPPWUoMyksRT1uKE8pLEE9ZSgxNCksTD1uKEEpLFA9ZSgzMiksST1uKFApLEM9ZSg4KSxVPW4oQyksTT1lKDEzKSxEPW4oTSksUj1lKDEwKSx4PXtQbGF5bGlzdExvYWRlcjpmWyJkZWZhdWx0Il0sUGxheWxpc3Q6aFsiZGVmYXVsdCJdLERlY3J5cHRlcjpnLkRlY3J5cHRlcixBc3luY1N0cmVhbTpnLkFzeW5jU3RyZWFtLGRlY3J5cHQ6Zy5kZWNyeXB0LHV0aWxzOl9bImRlZmF1bHQiXSxTVEFOREFSRF9QTEFZTElTVF9TRUxFQ1RPUjpSLmxhc3RCYW5kd2lkdGhTZWxlY3RvcixJTklUSUFMX1BMQVlMSVNUX1NFTEVDVE9SOlIubG93ZXN0Qml0cmF0ZUNvbXBhdGlibGVWYXJpYW50U2VsZWN0b3IsY29tcGFyZVBsYXlsaXN0QmFuZHdpZHRoOlIuY29tcGFyZVBsYXlsaXN0QmFuZHdpZHRoLGNvbXBhcmVQbGF5bGlzdFJlc29sdXRpb246Ui5jb21wYXJlUGxheWxpc3RSZXNvbHV0aW9uLHhocjooMCxtWyJkZWZhdWx0Il0pKCl9O1siR09BTF9CVUZGRVJfTEVOR1RIIiwiTUFYX0dPQUxfQlVGRkVSX0xFTkdUSCIsIkdPQUxfQlVGRkVSX0xFTkdUSF9SQVRFIiwiQlVGRkVSX0xPV19XQVRFUl9MSU5FIiwiTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORSIsIkJVRkZFUl9MT1dfV0FURVJfTElORV9SQVRFIiwiQkFORFdJRFRIX1ZBUklBTkNFIl0uZm9yRWFjaChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoeCxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd1siZGVmYXVsdCJdLmxvZy53YXJuKCJ1c2luZyBIbHMuIitlKyIgaXMgVU5TQUZFIGJlIHN1cmUgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nIiksRVsiZGVmYXVsdCJdW2VdfSxzZXQ6ZnVuY3Rpb24odCl7aWYod1siZGVmYXVsdCJdLmxvZy53YXJuKCJ1c2luZyBIbHMuIitlKyIgaXMgVU5TQUZFIGJlIHN1cmUgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nIiksIm51bWJlciIhPXR5cGVvZiB0fHx0PDApcmV0dXJuIHZvaWQgd1siZGVmYXVsdCJdLmxvZy53YXJuKCJ2YWx1ZSBvZiBIbHMuIitlKyIgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCIpO0VbImRlZmF1bHQiXVtlXT10fX0pfSk7dmFyIEI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9dC5tZWRpYSgpLG49LTEscj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaWQ9PT1pLnVyaSl7bj1yO2JyZWFrfWUuc2VsZWN0ZWRJbmRleF89bixlLnRyaWdnZXIoe3NlbGVjdGVkSW5kZXg6bix0eXBlOiJjaGFuZ2UifSl9LGo9ZnVuY3Rpb24oZSx0KXt0LnJlcHJlc2VudGF0aW9ucygpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5hZGRRdWFsaXR5TGV2ZWwodCl9KSxCKGUsdC5wbGF5bGlzdHMpfTt4LmNhblBsYXlTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gd1siZGVmYXVsdCJdLmxvZy53YXJuKCJITFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tIHlvdXIgcGxheWVyJ3MgdGVjaE9yZGVyLiIpfSx4LnN1cHBvcnRzTmF0aXZlSGxzPWZ1bmN0aW9uKCl7CnZhciBlPWRbImRlZmF1bHQiXS5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpO3JldHVybiEhd1siZGVmYXVsdCJdLmdldFRlY2goIkh0bWw1IikuaXNTdXBwb3J0ZWQoKSYmWyJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIsImF1ZGlvL21wZWd1cmwiLCJhdWRpby94LW1wZWd1cmwiLCJhcHBsaWNhdGlvbi94LW1wZWd1cmwiLCJ2aWRlby94LW1wZWd1cmwiLCJ2aWRlby9tcGVndXJsIiwiYXBwbGljYXRpb24vbXBlZ3VybCJdLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuL21heWJlfHByb2JhYmx5L2kudGVzdChlLmNhblBsYXlUeXBlKHQpKX0pfSgpLHguaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gd1siZGVmYXVsdCJdLmxvZy53YXJuKCJITFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tIHlvdXIgcGxheWVyJ3MgdGVjaE9yZGVyLiIpfTt2YXIgTj13WyJkZWZhdWx0Il0uZ2V0Q29tcG9uZW50KCJDb21wb25lbnQiKSxGPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxpLG4pe3ZhciBhPXRoaXM7aWYocih0aGlzLHQpLG8oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxpLG4uaGxzKSxpLm9wdGlvbnNfJiZpLm9wdGlvbnNfLnBsYXllcklkKXt2YXIgcz0oMCx3WyJkZWZhdWx0Il0pKGkub3B0aW9uc18ucGxheWVySWQpO3MuaGFzT3duUHJvcGVydHkoImhscyIpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkocywiaGxzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdbImRlZmF1bHQiXS5sb2cud2FybigicGxheWVyLmhscyBpcyBkZXByZWNhdGVkLiBVc2UgcGxheWVyLnRlY2hfLmhscyBpbnN0ZWFkLiIpLGkudHJpZ2dlcih7dHlwZToidXNhZ2UiLG5hbWU6Imhscy1wbGF5ZXItYWNjZXNzIn0pLGF9fSl9aWYodGhpcy50ZWNoXz1pLHRoaXMuc291cmNlXz1lLHRoaXMuc3RhdHM9e30sdGhpcy5pZ25vcmVOZXh0U2Vla2luZ0V2ZW50Xz0hMSx0aGlzLnNldE9wdGlvbnNfKCksdGhpcy5vcHRpb25zXy5vdmVycmlkZU5hdGl2ZSYmKGkuZmVhdHVyZXNOYXRpdmVWaWRlb1RyYWNrc3x8aS5mZWF0dXJlc05hdGl2ZUF1ZGlvVHJhY2tzKSl0aHJvdyBuZXcgRXJyb3IoIk92ZXJyaWRpbmcgbmF0aXZlIEhMUyByZXF1aXJlcyBlbXVsYXRlZCB0cmFja3MuIFNlZSBodHRwczovL2dpdC5pby92TXBqQiIpO3RoaXMub24oZFsiZGVmYXVsdCJdLFsiZnVsbHNjcmVlbmNoYW5nZSIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJtb3pmdWxsc2NyZWVuY2hhbmdlIiwiTVNGdWxsc2NyZWVuQ2hhbmdlIl0sZnVuY3Rpb24oZSl7dmFyIHQ9ZFsiZGVmYXVsdCJdLmZ1bGxzY3JlZW5FbGVtZW50fHxkWyJkZWZhdWx0Il0ud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fGRbImRlZmF1bHQiXS5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZFsiZGVmYXVsdCJdLm1zRnVsbHNjcmVlbkVsZW1lbnQ7dCYmdC5jb250YWlucyhhLnRlY2hfLmVsKCkpJiZhLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uZmFzdFF1YWxpdHlDaGFuZ2VfKCl9KSx0aGlzLm9uKHRoaXMudGVjaF8sInNlZWtpbmciLGZ1bmN0aW9uKCl7aWYodGhpcy5pZ25vcmVOZXh0U2Vla2luZ0V2ZW50XylyZXR1cm4gdm9pZCh0aGlzLmlnbm9yZU5leHRTZWVraW5nRXZlbnRfPSExKTt0aGlzLnNldEN1cnJlbnRUaW1lKHRoaXMudGVjaF8uY3VycmVudFRpbWUoKSl9KSx0aGlzLm9uKHRoaXMudGVjaF8sImVycm9yIixmdW5jdGlvbigpe3RoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXyYmdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnBhdXNlTG9hZGluZygpfSksdGhpcy5vbih0aGlzLnRlY2hfLCJwbGF5Iix0aGlzLnBsYXkpfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OiJzZXRPcHRpb25zXyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMub3B0aW9uc18ud2l0aENyZWRlbnRpYWxzPXRoaXMub3B0aW9uc18ud2l0aENyZWRlbnRpYWxzfHwhMSwibnVtYmVyIiE9dHlwZW9mIHRoaXMub3B0aW9uc18uYmxhY2tsaXN0RHVyYXRpb24mJih0aGlzLm9wdGlvbnNfLmJsYWNrbGlzdER1cmF0aW9uPTMwMCksIm51bWJlciIhPXR5cGVvZiB0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCYmKHRoaXMub3B0aW9uc18uYmFuZHdpZHRoPTQxOTQzMDQpLHRoaXMub3B0aW9uc18uZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0PXRoaXMub3B0aW9uc18uZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0JiY0MTk0MzA0PT09dGhpcy5vcHRpb25zXy5iYW5kd2lkdGgsWyJ3aXRoQ3JlZGVudGlhbHMiLCJiYW5kd2lkdGgiLCJoYW5kbGVNYW5pZmVzdFJlZGlyZWN0cyJdLmZvckVhY2goZnVuY3Rpb24odCl7InVuZGVmaW5lZCIhPXR5cGVvZiBlLnNvdXJjZV9bdF0mJihlLm9wdGlvbnNfW3RdPWUuc291cmNlX1t0XSl9KSx0aGlzLmJhbmR3aWR0aD10aGlzLm9wdGlvbnNfLmJhbmR3aWR0aH19LHtrZXk6InNyYyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYodGhpcy5zZXRPcHRpb25zXygpLHRoaXMub3B0aW9uc18udXJsPXRoaXMuc291cmNlXy5zcmMsdGhpcy5vcHRpb25zXy50ZWNoPXRoaXMudGVjaF8sdGhpcy5vcHRpb25zXy5leHRlcm5IbHM9eCx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl89bmV3IGsuTWFzdGVyUGxheWxpc3RDb250cm9sbGVyKHRoaXMub3B0aW9uc18pLHRoaXMucGxheWJhY2tXYXRjaGVyXz1uZXcgVVsiZGVmYXVsdCJdKHdbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zXyx7c2Vla2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zZWVrYWJsZSgpfX0pKSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ub24oImVycm9yIixmdW5jdGlvbigpe3dbImRlZmF1bHQiXS5wbGF5ZXJzW3QudGVjaF8ub3B0aW9uc18ucGxheWVySWRdLmVycm9yKHQubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5lcnJvcil9KSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2VsZWN0UGxheWxpc3Q9dGhpcy5zZWxlY3RQbGF5bGlzdD90aGlzLnNlbGVjdFBsYXlsaXN0LmJpbmQodGhpcyk6eC5TVEFOREFSRF9QTEFZTElTVF9TRUxFQ1RPUi5iaW5kKHRoaXMpLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RJbml0aWFsUGxheWxpc3Q9eC5JTklUSUFMX1BMQVlMSVNUX1NFTEVDVE9SLmJpbmQodGhpcyksdGhpcy5wbGF5bGlzdHM9dGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1hc3RlclBsYXlsaXN0TG9hZGVyXyx0aGlzLm1lZGlhU291cmNlPXRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNvdXJjZSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtzZWxlY3RQbGF5bGlzdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdD1lLmJpbmQodGhpcyl9fSx0aHJvdWdocHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0LnJhdGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLnRocm91Z2hwdXQucmF0ZT1lLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dC5jb3VudD0xfX0sYmFuZHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy5iYW5kd2lkdGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLmJhbmR3aWR0aD1lLHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dD17cmF0ZTowLGNvdW50OjB9fX0sc3lzdGVtQmFuZHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZT0xLyh0aGlzLmJhbmR3aWR0aHx8MSksdD11bmRlZmluZWQ7cmV0dXJuIHQ9dGhpcy50aHJvdWdocHV0PjA/MS90aGlzLnRocm91Z2hwdXQ6MCxNYXRoLmZsb29yKDEvKGUrdCkpfSxzZXQ6ZnVuY3Rpb24oKXt3WyJkZWZhdWx0Il0ubG9nLmVycm9yKCdUaGUgInN5c3RlbUJhbmR3aWR0aCIgcHJvcGVydHkgaXMgcmVhZC1vbmx5Jyl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuc3RhdHMse2JhbmR3aWR0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuYmFuZHdpZHRofHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhUmVxdWVzdHNfKCl8fDB9LGVudW1lcmFibGU6ITB9LG1lZGlhUmVxdWVzdHNBYm9ydGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhUmVxdWVzdHNBYm9ydGVkXygpfHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzVGltZWRvdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0Lm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c1RpbWVkb3V0XygpfHwwfSxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzRXJyb3JlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVJlcXVlc3RzRXJyb3JlZF8oKXx8MH0sZW51bWVyYWJsZTohMH0sbWVkaWFUcmFuc2ZlckR1cmF0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhVHJhbnNmZXJEdXJhdGlvbl8oKXx8MH0sZW51bWVyYWJsZTohMH0sbWVkaWFCeXRlc1RyYW5zZmVycmVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZF8oKXx8MH0sZW51bWVyYWJsZTohMH0sbWVkaWFTZWNvbmRzTG9hZGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhU2Vjb25kc0xvYWRlZF8oKXx8MH0sZW51bWVyYWJsZTohMH19KSx0aGlzLnRlY2hfLm9uZSgiY2FucGxheSIsdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNldHVwRmlyc3RQbGF5LmJpbmQodGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfKSksdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm9uKCJzZWxlY3RlZGluaXRpYWxtZWRpYSIsZnVuY3Rpb24oKXsoMCxMWyJkZWZhdWx0Il0pKHQpfSksdGhpcy5vbih0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8sInByb2dyZXNzIixmdW5jdGlvbigpe3RoaXMudGVjaF8udHJpZ2dlcigicHJvZ3Jlc3MiKX0pLHRoaXMub24odGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLCJmaXJzdHBsYXkiLGZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVOZXh0U2Vla2luZ0V2ZW50Xz0hMH0pLHRoaXMudGVjaF8ucmVhZHkoZnVuY3Rpb24oKXtyZXR1cm4gdC5zZXR1cFF1YWxpdHlMZXZlbHNfKCl9KSx0aGlzLnRlY2hfLmVsKCkmJnRoaXMudGVjaF8uc3JjKHdbImRlZmF1bHQiXS5VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNvdXJjZSkpKX19LHtrZXk6InNldHVwUXVhbGl0eUxldmVsc18iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXdbImRlZmF1bHQiXS5wbGF5ZXJzW3RoaXMudGVjaF8ub3B0aW9uc18ucGxheWVySWRdO3QmJnQucXVhbGl0eUxldmVscyYmKHRoaXMucXVhbGl0eUxldmVsc189dC5xdWFsaXR5TGV2ZWxzKCksdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLm9uKCJzZWxlY3RlZGluaXRpYWxtZWRpYSIsZnVuY3Rpb24oKXtqKGUucXVhbGl0eUxldmVsc18sZSl9KSx0aGlzLnBsYXlsaXN0cy5vbigibWVkaWFjaGFuZ2UiLGZ1bmN0aW9uKCl7QihlLnF1YWxpdHlMZXZlbHNfLGUucGxheWxpc3RzKX0pKX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnBsYXkoKX19LHtrZXk6InNldEN1cnJlbnRUaW1lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8uc2V0Q3VycmVudFRpbWUoZSl9fSx7a2V5OiJkdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLmR1cmF0aW9uKCl9fSx7a2V5OiJzZWVrYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXN0ZXJQbGF5bGlzdENvbnRyb2xsZXJfLnNlZWthYmxlKCl9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxheWJhY2tXYXRjaGVyXyYmdGhpcy5wbGF5YmFja1dhdGNoZXJfLmRpc3Bvc2UoKSx0aGlzLm1hc3RlclBsYXlsaXN0Q29udHJvbGxlcl8mJnRoaXMubWFzdGVyUGxheWxpc3RDb250cm9sbGVyXy5kaXNwb3NlKCksdGhpcy5xdWFsaXR5TGV2ZWxzXyYmdGhpcy5xdWFsaXR5TGV2ZWxzXy5kaXNwb3NlKCksbyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJkaXNwb3NlIix0aGlzKS5jYWxsKHRoaXMpfX1dKSx0fShOKSxxPWZ1bmN0aW9uIEgoZSl7cmV0dXJue2NhbkhhbmRsZVNvdXJjZTpmdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPD0xfHxhcmd1bWVudHNbMV09PT11bmRlZmluZWQ/e306YXJndW1lbnRzWzFdLG49d1siZGVmYXVsdCJdLm1lcmdlT3B0aW9ucyh3WyJkZWZhdWx0Il0ub3B0aW9ucyxpKTtyZXR1cm4oIW4uaGxzfHwhbi5obHMubW9kZXx8bi5obHMubW9kZT09PWUpJiZILmNhblBsYXlUeXBlKHQudHlwZSxuKX0saGFuZGxlU291cmNlOmZ1bmN0aW9uKHQsaSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9Mnx8YXJndW1lbnRzWzJdPT09dW5kZWZpbmVkP3t9OmFyZ3VtZW50c1syXSxyPXdbImRlZmF1bHQiXS5tZXJnZU9wdGlvbnMod1siZGVmYXVsdCJdLm9wdGlvbnMsbix7aGxzOnttb2RlOmV9fSk7cmV0dXJuImZsYXNoIj09PWUmJmkuc2V0VGltZW91dChmdW5jdGlvbigpe2kudHJpZ2dlcigibG9hZHN0YXJ0Iil9LDEpLGkuaGxzPW5ldyBGKHQsaSxyKSxpLmhscy54aHI9KDAsbVsiZGVmYXVsdCJdKSgpLGkuaGxzLnNyYyh0LnNyYyksaS5obHN9LGNhblBsYXlUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTF8fGFyZ3VtZW50c1sxXT09PXVuZGVmaW5lZD97fTphcmd1bWVudHNbMV0saT13WyJkZWZhdWx0Il0ubWVyZ2VPcHRpb25zKHdbImRlZmF1bHQiXS5vcHRpb25zLHQpO3JldHVybiBILmNhblBsYXlUeXBlKGUsaSk/Im1heWJlIjoiIn19fTtxLmNhblBsYXlUeXBlPWZ1bmN0aW9uKGUsdCl7aWYod1siZGVmYXVsdCJdLmJyb3dzZXIuSUVfVkVSU0lPTiYmd1siZGVmYXVsdCJdLmJyb3dzZXIuSUVfVkVSU0lPTjw9MTApcmV0dXJuITE7dmFyIGk9L14oYXVkaW98dmlkZW98YXBwbGljYXRpb24pXC8oeC18dm5kXC5hcHBsZVwuKT9tcGVndXJsL2k7cmV0dXJuISghdC5obHMub3ZlcnJpZGVOYXRpdmUmJnguc3VwcG9ydHNOYXRpdmVIbHMpJiZpLnRlc3QoZSl9LCJ1bmRlZmluZWQiIT10eXBlb2Ygd1siZGVmYXVsdCJdLk1lZGlhU291cmNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdbImRlZmF1bHQiXS5VUkx8fCh3WyJkZWZhdWx0Il0uTWVkaWFTb3VyY2U9di5NZWRpYVNvdXJjZSx3WyJkZWZhdWx0Il0uVVJMPXYuVVJMKTt2YXIgRz13WyJkZWZhdWx0Il0uZ2V0VGVjaCgiRmxhc2giKTt2Lk1lZGlhU291cmNlLnN1cHBvcnRzTmF0aXZlTWVkaWFTb3VyY2VzKCkmJndbImRlZmF1bHQiXS5nZXRUZWNoKCJIdG1sNSIpLnJlZ2lzdGVyU291cmNlSGFuZGxlcihxKCJodG1sNSIpLDApLElbImRlZmF1bHQiXS5VaW50OEFycmF5JiZHJiZHLnJlZ2lzdGVyU291cmNlSGFuZGxlcihxKCJmbGFzaCIpKSx3WyJkZWZhdWx0Il0uSGxzSGFuZGxlcj1GLHdbImRlZmF1bHQiXS5IbHNTb3VyY2VIYW5kbGVyPXEsd1siZGVmYXVsdCJdLkhscz14LHdbImRlZmF1bHQiXS51c2V8fHdbImRlZmF1bHQiXS5yZWdpc3RlckNvbXBvbmVudCgiSGxzIix4KSx3WyJkZWZhdWx0Il0ubTN1OD1UWyJkZWZhdWx0Il0sd1siZGVmYXVsdCJdLm9wdGlvbnMuaGxzPXdbImRlZmF1bHQiXS5vcHRpb25zLmhsc3x8e30sd1siZGVmYXVsdCJdLnJlZ2lzdGVyUGx1Z2luP3dbImRlZmF1bHQiXS5yZWdpc3RlclBsdWdpbigicmVsb2FkU291cmNlT25FcnJvciIsRFsiZGVmYXVsdCJdKTp3WyJkZWZhdWx0Il0ucGx1Z2luKCJyZWxvYWRTb3VyY2VPbkVycm9yIixEWyJkZWZhdWx0Il0pLHQuZXhwb3J0cz17SGxzOngsSGxzSGFuZGxlcjpGLEhsc1NvdXJjZUhhbmRsZXI6cX19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XX0se30sWzc3XSk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="78412250" offset="0" length="299" />
        <PacketInfo time="78412265" offset="299" length="71638" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>